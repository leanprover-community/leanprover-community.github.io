---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/217875IstherecodeforX/58750addleftcancelmonoid.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/217875IstherecodeforX/index.html">Is there code for X?</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/217875IstherecodeforX/58750addleftcancelmonoid.html">add_left_cancel_monoid</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="193544782"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/add_left_cancel_monoid/near/193544782" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/217875IstherecodeforX/58750addleftcancelmonoid.html#193544782">Sebastien Gouezel (Apr 10 2020 at 07:33)</a>:</h4>
<p>I can't find the name of the structure in which addition is left-cancellative, like <code>add_left_cancel_semigroup</code>, but with a zero that plays well with the addition, like in an <code>add_monoid</code>. My natural guess would be <code>add_left_cancel_monoid</code>, but this doesn't exist. I just want to cover <code>â„•</code> and groups, in fact, so any typeclass containing the two and with the two above properties would be enough for me.</p>
<p>By the way, this kind of question would not make sense with a structure like the one for topological spaces, with a rather small spine with the main players, and mixins to add all kinds of properties. I wish the algebraic hierarchy would also be like this...</p>

<a name="193544878"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/add_left_cancel_monoid/near/193544878" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/217875IstherecodeforX/58750addleftcancelmonoid.html#193544878">Mario Carneiro (Apr 10 2020 at 07:35)</a>:</h4>
<p>Why not just define it? It's not difficult and you get all the theorems for free</p>

<a name="193544975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/add_left_cancel_monoid/near/193544975" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/217875IstherecodeforX/58750addleftcancelmonoid.html#193544975">Mario Carneiro (Apr 10 2020 at 07:36)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">class</span> <span class="n">add_left_cancel_monoid</span> <span class="n">A</span> <span class="kn">extends</span> <span class="n">add_left_cancel_semigroup</span> <span class="n">A</span><span class="o">,</span> <span class="n">add_monoid</span> <span class="n">A</span>
</pre></div>


<p>add instances for groups and nat and you are ready to go</p>

<a name="193545009"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/add_left_cancel_monoid/near/193545009" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/217875IstherecodeforX/58750addleftcancelmonoid.html#193545009">Sebastien Gouezel (Apr 10 2020 at 07:37)</a>:</h4>
<p>Sure, but then I will also need to add an instance for <code>nnreal</code>, and maybe some other guy I am not thinking of.</p>

<a name="193545013"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/add_left_cancel_monoid/near/193545013" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/217875IstherecodeforX/58750addleftcancelmonoid.html#193545013">Mario Carneiro (Apr 10 2020 at 07:37)</a>:</h4>
<p>only if you need it</p>

<a name="193545020"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/add_left_cancel_monoid/near/193545020" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/217875IstherecodeforX/58750addleftcancelmonoid.html#193545020">Sebastien Gouezel (Apr 10 2020 at 07:37)</a>:</h4>
<p>With mixins, there would be no need to define a new class.</p>

<a name="193545081"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/add_left_cancel_monoid/near/193545081" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/217875IstherecodeforX/58750addleftcancelmonoid.html#193545081">Mario Carneiro (Apr 10 2020 at 07:38)</a>:</h4>
<p>I'm not convinced that this is actually saving much in this instance</p>

<a name="193545094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/add_left_cancel_monoid/near/193545094" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/217875IstherecodeforX/58750addleftcancelmonoid.html#193545094">Mario Carneiro (Apr 10 2020 at 07:38)</a>:</h4>
<p>what I described seems pretty easy</p>

<a name="193545108"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/add_left_cancel_monoid/near/193545108" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/217875IstherecodeforX/58750addleftcancelmonoid.html#193545108">Sebastien Gouezel (Apr 10 2020 at 07:38)</a>:</h4>
<p>And the natural place for it is in core...</p>

<a name="193545115"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/add_left_cancel_monoid/near/193545115" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/217875IstherecodeforX/58750addleftcancelmonoid.html#193545115">Mario Carneiro (Apr 10 2020 at 07:39)</a>:</h4>
<p>No, you can do that anywhere</p>

<a name="193545123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/add_left_cancel_monoid/near/193545123" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/217875IstherecodeforX/58750addleftcancelmonoid.html#193545123">Mario Carneiro (Apr 10 2020 at 07:39)</a>:</h4>
<p>there is no requirement that this be in core</p>

<a name="193545150"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/add_left_cancel_monoid/near/193545150" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/217875IstherecodeforX/58750addleftcancelmonoid.html#193545150">Mario Carneiro (Apr 10 2020 at 07:39)</a>:</h4>
<p>mathlib does this in a few places, inserting new classes in the middle of the hierarchy</p>

<a name="193545216"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/add_left_cancel_monoid/near/193545216" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/217875IstherecodeforX/58750addleftcancelmonoid.html#193545216">Sebastien Gouezel (Apr 10 2020 at 07:40)</a>:</h4>
<p>Sure, I am just saying that the <em>natural</em> place is in core, in <code>init/algebra/groups.lean</code>, close to <code>add_monoid</code> and <code>add_left_cancel_semigroup</code>.</p>

<a name="193545238"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/add_left_cancel_monoid/near/193545238" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/217875IstherecodeforX/58750addleftcancelmonoid.html#193545238">Mario Carneiro (Apr 10 2020 at 07:40)</a>:</h4>
<p>maybe, but that isn't a reason to complain about it, that's an organizational decision</p>

<a name="193545254"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/add_left_cancel_monoid/near/193545254" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/217875IstherecodeforX/58750addleftcancelmonoid.html#193545254">Mario Carneiro (Apr 10 2020 at 07:41)</a>:</h4>
<p>Actually it seems that the winds are blowing to take more of the algebraic hierarchy out of core anyway</p>

<a name="193545393"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/add_left_cancel_monoid/near/193545393" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/217875IstherecodeforX/58750addleftcancelmonoid.html#193545393">Mario Carneiro (Apr 10 2020 at 07:43)</a>:</h4>
<p>I don't want to be dismissive about mixins, but it is a complicated issue that affects many things and I think that any reinvestigation should be carefully thought out; single examples aren't enough unless the difference is really stark</p>


{% endraw %}

{% include archive_update.html %}