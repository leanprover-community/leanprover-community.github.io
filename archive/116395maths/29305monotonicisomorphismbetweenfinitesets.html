---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/116395maths/29305monotonicisomorphismbetweenfinitesets.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/29305monotonicisomorphismbetweenfinitesets.html">monotonic isomorphism between finite sets</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="132370926"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/monotonic%20isomorphism%20between%20finite%20sets/near/132370926" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/29305monotonicisomorphismbetweenfinitesets.html#132370926">Chris Hughes (Aug 18 2018 at 18:32)</a>:</h4>
<p>I'm looking for a lexicographic total order on <code>fin a × fin b</code> and a proof that's it's isomorphic to the lexicographic total order on <code>fin b × fin a</code>. Is this easy in lean?</p>

<a name="132372379"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/monotonic%20isomorphism%20between%20finite%20sets/near/132372379" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/29305monotonicisomorphismbetweenfinitesets.html#132372379">Chris Hughes (Aug 18 2018 at 19:14)</a>:</h4>
<p>No longer needed</p>

<a name="132508918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/monotonic%20isomorphism%20between%20finite%20sets/near/132508918" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/29305monotonicisomorphismbetweenfinitesets.html#132508918">Chris Hughes (Aug 21 2018 at 10:01)</a>:</h4>
<p>Turns out I do need it after all. I need a linear order isomorphism between any two totally ordered types of the same size. Is that anywhere in lean? Seems like the sort of thing that might have come up doing ordinals.</p>

<a name="132509200"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/monotonic%20isomorphism%20between%20finite%20sets/near/132509200" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/29305monotonicisomorphismbetweenfinitesets.html#132509200">Johan Commelin (Aug 21 2018 at 10:09)</a>:</h4>
<p>I have no idea whether this is in Lean. Also, I'm not a master of finsets, like you are. But my initial attempt would be to prove this by induction. Construct a map to <code>fin n</code>. If the cardinality is <code>0</code>, then it's easy. If it is <code>k+1</code> construct a map to <code>fin k+1</code> by sending the largest element to <code>k</code>.</p>

<a name="132509490"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/monotonic%20isomorphism%20between%20finite%20sets/near/132509490" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/29305monotonicisomorphismbetweenfinitesets.html#132509490">Johan Commelin (Aug 21 2018 at 10:16)</a>:</h4>
<p>Do you in fact also want to prove that the linear order isom is unique?</p>

<a name="132509662"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/monotonic%20isomorphism%20between%20finite%20sets/near/132509662" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/29305monotonicisomorphismbetweenfinitesets.html#132509662">Chris Hughes (Aug 21 2018 at 10:20)</a>:</h4>
<p>I don't care if it's unique I don't think.</p>

<a name="132512403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/monotonic%20isomorphism%20between%20finite%20sets/near/132512403" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/29305monotonicisomorphismbetweenfinitesets.html#132512403">Mario Carneiro (Aug 21 2018 at 11:40)</a>:</h4>
<blockquote>
<p>I need a linear order isomorphism between any two totally ordered types of the same size</p>
</blockquote>
<p>This isn't true for all types, e.g. nat and int are not order isomorphic</p>

<a name="132512417"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/monotonic%20isomorphism%20between%20finite%20sets/near/132512417" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/29305monotonicisomorphismbetweenfinitesets.html#132512417">Mario Carneiro (Aug 21 2018 at 11:41)</a>:</h4>
<p>This fact for finite linear orders is a special case of the uniqueness of well orders in the finite case</p>

<a name="132512622"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/monotonic%20isomorphism%20between%20finite%20sets/near/132512622" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/29305monotonicisomorphismbetweenfinitesets.html#132512622">Kevin Buzzard (Aug 21 2018 at 11:47)</a>:</h4>
<p>He's only interested in finite types surely</p>

<a name="132512913"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/monotonic%20isomorphism%20between%20finite%20sets/near/132512913" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/29305monotonicisomorphismbetweenfinitesets.html#132512913">Chris Hughes (Aug 21 2018 at 11:54)</a>:</h4>
<p>I do mean finite</p>

<a name="132513119"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/monotonic%20isomorphism%20between%20finite%20sets/near/132513119" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/29305monotonicisomorphismbetweenfinitesets.html#132513119">Kevin Buzzard (Aug 21 2018 at 11:59)</a>:</h4>
<p>So the question is "is existence and uniqueness (up to permutation) of a total order on a finite type in Lean"?</p>

<a name="132513204"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/monotonic%20isomorphism%20between%20finite%20sets/near/132513204" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/29305monotonicisomorphismbetweenfinitesets.html#132513204">Mario Carneiro (Aug 21 2018 at 12:01)</a>:</h4>
<p><code>ord n</code> essentially imposes a well order on any set (or the well order theorem directly), which gives you the existence part</p>

<a name="132513255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/monotonic%20isomorphism%20between%20finite%20sets/near/132513255" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/29305monotonicisomorphismbetweenfinitesets.html#132513255">Chris Hughes (Aug 21 2018 at 12:02)</a>:</h4>
<p>The uniqueness is what I care about.</p>

<a name="132513564"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/monotonic%20isomorphism%20between%20finite%20sets/near/132513564" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/29305monotonicisomorphismbetweenfinitesets.html#132513564">Mario Carneiro (Aug 21 2018 at 12:11)</a>:</h4>
<p>A linear order of a finite set is a well order, so you get an embedding of each order into <code>ordinal</code>; the cardinals for these orders is equal so you have uniqueness by <code>ord_nat</code> and hence an order isomorphism</p>

<a name="132513571"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/monotonic%20isomorphism%20between%20finite%20sets/near/132513571" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/29305monotonicisomorphismbetweenfinitesets.html#132513571">Mario Carneiro (Aug 21 2018 at 12:11)</a>:</h4>
<p>(this is probably an excessively high powered proof)</p>

<a name="132514251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/monotonic%20isomorphism%20between%20finite%20sets/near/132514251" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/29305monotonicisomorphismbetweenfinitesets.html#132514251">Kenny Lau (Aug 21 2018 at 12:30)</a>:</h4>
<p>I'm still struggling with something like</p>
<div class="codehilite"><pre><span></span><span class="n">noncomputable</span> <span class="n">def</span> <span class="n">something</span> <span class="o">:</span> <span class="bp">@</span><span class="n">order_iso</span> <span class="o">(</span><span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">fin</span> <span class="err">$</span> <span class="n">fintype</span><span class="bp">.</span><span class="n">card</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="bp">&lt;</span><span class="o">)</span> <span class="o">(</span><span class="bp">&lt;</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">classical</span><span class="bp">.</span><span class="n">choice</span> <span class="err">$</span> <span class="n">ordinal</span><span class="bp">.</span><span class="n">type_eq</span><span class="bp">.</span><span class="mi">1</span> <span class="err">$</span> <span class="o">(</span><span class="n">ordinal</span><span class="bp">.</span><span class="n">fintype_card</span> <span class="o">(</span><span class="bp">&lt;</span><span class="o">))</span><span class="bp">.</span><span class="n">trans</span> <span class="o">(</span><span class="n">ordinal</span><span class="bp">.</span><span class="n">lift_type_fin</span> <span class="err">$</span> <span class="n">fintype</span><span class="bp">.</span><span class="n">card</span> <span class="n">α</span><span class="o">)</span><span class="bp">.</span><span class="n">symm</span>
</pre></div>

<a name="132514255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/monotonic%20isomorphism%20between%20finite%20sets/near/132514255" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/29305monotonicisomorphismbetweenfinitesets.html#132514255">Kenny Lau (Aug 21 2018 at 12:30)</a>:</h4>
<p>(I hadn't read the messages by Mario)</p>

<a name="132514599"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/monotonic%20isomorphism%20between%20finite%20sets/near/132514599" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/29305monotonicisomorphismbetweenfinitesets.html#132514599">Kenny Lau (Aug 21 2018 at 12:39)</a>:</h4>
<p>oh and my incomplete code (posting here because I don't want to work with it now):</p>

<a name="132514602"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/monotonic%20isomorphism%20between%20finite%20sets/near/132514602" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/29305monotonicisomorphismbetweenfinitesets.html#132514602">Kenny Lau (Aug 21 2018 at 12:39)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">set_theory</span><span class="bp">.</span><span class="n">ordinal</span>

<span class="n">universes</span> <span class="n">u</span> <span class="n">v</span> <span class="n">w</span>

<span class="kn">variables</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">linear_order</span> <span class="n">α</span><span class="o">]</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">)</span> <span class="o">[</span><span class="n">has_lt</span> <span class="n">β</span><span class="o">]</span> <span class="o">[</span><span class="n">is_well_order</span> <span class="n">β</span> <span class="o">(</span><span class="bp">&lt;</span><span class="o">)]</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">γ</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">w</span><span class="o">)</span>

<span class="kn">instance</span> <span class="n">is_well_order_of_fintype</span> <span class="o">:</span> <span class="n">is_well_order</span> <span class="n">α</span> <span class="o">(</span><span class="bp">&lt;</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">wf</span> <span class="o">:=</span> <span class="n">sorry</span> <span class="o">}</span>

<span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">lemma</span> <span class="n">ulift_up_eq</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">γ</span><span class="o">)</span> <span class="o">:</span> <span class="n">ulift</span><span class="bp">.</span><span class="n">up</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">ulift</span><span class="bp">.</span><span class="n">up</span> <span class="n">y</span> <span class="bp">↔</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span> <span class="o">:=</span>
<span class="bp">⟨</span><span class="n">ulift</span><span class="bp">.</span><span class="n">up</span><span class="bp">.</span><span class="n">inj</span><span class="o">,</span> <span class="n">congr_arg</span> <span class="bp">_⟩</span>

<span class="kn">instance</span> <span class="n">ulift</span><span class="bp">.</span><span class="n">is_well_order</span> <span class="o">:</span> <span class="n">is_well_order</span> <span class="o">(</span><span class="n">ulift</span><span class="bp">.</span><span class="o">{</span><span class="n">u</span> <span class="n">v</span><span class="o">}</span> <span class="n">β</span><span class="o">)</span> <span class="o">(</span><span class="n">equiv</span><span class="bp">.</span><span class="n">ulift</span><span class="bp">.</span><span class="n">to_fun</span> <span class="bp">⁻¹</span><span class="err">&#39;</span><span class="n">o</span> <span class="n">has_lt</span><span class="bp">.</span><span class="n">lt</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">trans</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="bp">⟨</span><span class="n">x</span><span class="bp">⟩</span> <span class="bp">⟨</span><span class="n">y</span><span class="bp">⟩</span> <span class="bp">⟨</span><span class="n">z</span><span class="bp">⟩</span> <span class="n">Hxy</span> <span class="n">Hyz</span><span class="o">,</span> <span class="bp">@</span><span class="n">is_trans</span><span class="bp">.</span><span class="n">trans</span> <span class="n">β</span> <span class="o">(</span><span class="bp">&lt;</span><span class="o">)</span> <span class="bp">_</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span> <span class="n">Hxy</span> <span class="n">Hyz</span><span class="o">,</span>
  <span class="n">irrefl</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="bp">⟨</span><span class="n">x</span><span class="bp">⟩</span> <span class="n">H</span><span class="o">,</span> <span class="n">is_irrefl</span><span class="bp">.</span><span class="n">irrefl</span> <span class="o">(</span><span class="bp">&lt;</span><span class="o">)</span> <span class="n">x</span> <span class="n">H</span><span class="o">,</span>
  <span class="n">trichotomous</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="bp">⟨</span><span class="n">x</span><span class="bp">⟩</span> <span class="bp">⟨</span><span class="n">y</span><span class="bp">⟩</span><span class="o">,</span> <span class="k">by</span> <span class="n">simpa</span> <span class="kn">using</span> <span class="n">is_trichotomous</span><span class="bp">.</span><span class="n">trichotomous</span> <span class="o">(</span><span class="bp">&lt;</span><span class="o">)</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span>
  <span class="n">wf</span> <span class="o">:=</span> <span class="n">inv_image</span><span class="bp">.</span><span class="n">wf</span> <span class="bp">_</span> <span class="err">$</span> <span class="n">is_well_order</span><span class="bp">.</span><span class="n">wf</span> <span class="bp">_</span> <span class="o">}</span>

<span class="n">noncomputable</span> <span class="n">def</span> <span class="n">something</span> <span class="o">:</span> <span class="bp">@</span><span class="n">order_iso</span> <span class="o">(</span><span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">fin</span> <span class="err">$</span> <span class="n">fintype</span><span class="bp">.</span><span class="n">card</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="bp">&lt;</span><span class="o">)</span> <span class="o">(</span><span class="bp">&lt;</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">classical</span><span class="bp">.</span><span class="n">choice</span> <span class="err">$</span> <span class="n">ordinal</span><span class="bp">.</span><span class="n">type_eq</span><span class="bp">.</span><span class="mi">1</span> <span class="err">$</span> <span class="o">(</span><span class="n">ordinal</span><span class="bp">.</span><span class="n">fintype_card</span> <span class="o">(</span><span class="bp">&lt;</span><span class="o">))</span><span class="bp">.</span><span class="n">trans</span> <span class="o">(</span><span class="n">ordinal</span><span class="bp">.</span><span class="n">lift_type_fin</span> <span class="err">$</span> <span class="n">fintype</span><span class="bp">.</span><span class="n">card</span> <span class="n">α</span><span class="o">)</span><span class="bp">.</span><span class="n">symm</span>
<span class="bp">#</span><span class="kn">check</span> <span class="n">cardinal</span><span class="bp">.</span><span class="n">ord_nat</span>
<span class="bp">#</span><span class="kn">check</span> <span class="n">something</span>
</pre></div>


{% endraw %}
