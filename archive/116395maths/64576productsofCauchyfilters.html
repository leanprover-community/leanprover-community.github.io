---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/116395maths/64576productsofCauchyfilters.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html">products of Cauchy filters</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="130232215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130232215" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130232215">Patrick Massot (Jul 24 2018 at 21:39)</a>:</h4>
<p>I need that a product of Cauchy filters is Cauchy. I couldn't see it in mathlib, so I wrote a couple of lines on paper and decided I should be able to brute force Lean to swallow it. The result on <a href="https://gist.github.com/PatrickMassot/aca4545c10aa9d96bf37d9231fb3470c" target="_blank" title="https://gist.github.com/PatrickMassot/aca4545c10aa9d96bf37d9231fb3470c">https://gist.github.com/PatrickMassot/aca4545c10aa9d96bf37d9231fb3470c</a> is not pretty (even if you cut in half the two redundant parts). Here brutality is to go all the way down to elements of our uniform spaces. I suspect I missed (or mathlib is missing) some support lemmas which would allow to operate at a higher level. <span class="user-mention" data-user-id="110049">@Mario Carneiro</span> and <span class="user-mention" data-user-id="110294">@Johannes Hölzl</span>, this is probably a good occasion to set a new golfing factor record.</p>

<a name="130232299"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130232299" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130232299">Patrick Massot (Jul 24 2018 at 21:41)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> if we manage to formalize perfectoid spaces, and someone asks me: "Wow, so you know about perfectoid spaces?" I'll answer "Yeah, it's all about filters...".</p>

<a name="130234862"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130234862" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130234862">Kevin Buzzard (Jul 24 2018 at 22:26)</a>:</h4>
<p>Oh we'll definitely formalise perfectoid spaces -- although perhaps not before Scholze gets his fields medal. A lot of it is about completions, for sure...</p>

<a name="130235030"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130235030" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130235030">Patrick Massot (Jul 24 2018 at 22:29)</a>:</h4>
<p>We still have one week</p>

<a name="130235068"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130235068" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130235068">Patrick Massot (Jul 24 2018 at 22:30)</a>:</h4>
<p>How far are you from perfectoid spaces if you assume topological rings have completions?</p>

<a name="130235581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130235581" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130235581">Kevin Buzzard (Jul 24 2018 at 22:36)</a>:</h4>
<p>I need quotient groups.</p>

<a name="130235768"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130235768" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130235768">Patrick Massot (Jul 24 2018 at 22:39)</a>:</h4>
<p>Don't you have quotient groups?</p>

<a name="130235778"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130235778" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130235778">Kevin Buzzard (Jul 24 2018 at 22:39)</a>:</h4>
<p>I wrote something, and then Chris wrote something else which probably contradicts it, and he PR'd his to mathlib. There are just so many stupid things which aren't there. I can't define what it means for a valuation to be continuous without quotient rings, fields of fractions etc. It might be possible to do within a week.</p>

<a name="130235798"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130235798" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130235798">Kevin Buzzard (Jul 24 2018 at 22:39)</a>:</h4>
<p>But with schemes there was a period of several months when I thought it could all be done in a week and then another hitch appeared.</p>

<a name="130235801"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130235801" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130235801">Kevin Buzzard (Jul 24 2018 at 22:39)</a>:</h4>
<p>I'll take a look now.</p>

<a name="130235900"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130235900" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130235900">Patrick Massot (Jul 24 2018 at 22:40)</a>:</h4>
<p>I hope I'll be done with completions before the end of this week (but I had the same hope one week ago)</p>

<a name="130235932"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130235932" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130235932">Patrick Massot (Jul 24 2018 at 22:41)</a>:</h4>
<p>I had to change my strategy to understand completions of products because I've been too optimistic</p>

<a name="130235942"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130235942" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130235942">Kevin Buzzard (Jul 24 2018 at 22:41)</a>:</h4>
<p>Oh I remember now -- I wrote a list of what I needed in the perfectoid thread. I need that a free group is generated by its generators. Some things are only proved for multiplicative groups and some only for additive.</p>

<a name="130236021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130236021" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130236021">Patrick Massot (Jul 24 2018 at 22:42)</a>:</h4>
<p>Maybe <span class="user-mention" data-user-id="110064">@Kenny Lau</span> can help here. He worked a lot on free groups</p>

<a name="130236195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130236195" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130236195">Kevin Buzzard (Jul 24 2018 at 22:45)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">group_theory</span><span class="bp">.</span><span class="n">coset</span>

<span class="c1">-- for images</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">set</span><span class="bp">.</span><span class="n">basic</span>

<span class="c1">-- finsupp for free abelian groups</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">finsupp</span>

<span class="n">universes</span> <span class="n">u</span> <span class="n">v</span>

<span class="kn">variables</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">)</span> <span class="o">[</span><span class="n">group</span> <span class="n">H</span><span class="o">]</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">G</span><span class="o">)</span>

<span class="c1">-- maybe use group.in_closure?</span>
<span class="kn">theorem</span> <span class="n">closure_image</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">G</span> <span class="bp">→</span> <span class="n">H</span><span class="o">)</span> <span class="o">[</span><span class="n">is_group_hom</span> <span class="n">f</span><span class="o">]</span> <span class="o">:</span>
<span class="n">f</span> <span class="err">&#39;&#39;</span> <span class="o">(</span><span class="n">group</span><span class="bp">.</span><span class="n">closure</span> <span class="o">(</span><span class="n">is_group_hom</span><span class="bp">.</span><span class="n">ker</span> <span class="n">f</span><span class="o">)</span> <span class="err">∪</span> <span class="n">S</span><span class="o">)</span> <span class="bp">=</span> <span class="n">group</span><span class="bp">.</span><span class="n">closure</span> <span class="o">(</span><span class="n">f</span> <span class="err">&#39;&#39;</span> <span class="n">S</span><span class="o">)</span> <span class="o">:=</span> <span class="n">sorry</span>

<span class="c1">-- don&#39;t know why we need decidable equality -- maybe some finsupp reason</span>
<span class="kn">example</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">decidable_eq</span> <span class="n">X</span><span class="o">]</span> <span class="o">:</span> <span class="n">add_comm_group</span> <span class="o">(</span><span class="n">X</span> <span class="bp">→</span><span class="err">₀</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">apply_instance</span>

<span class="kn">definition</span> <span class="n">group</span><span class="bp">.</span><span class="n">free_ab_gens</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">decidable_eq</span> <span class="n">X</span><span class="o">]</span> <span class="o">:</span>
<span class="n">X</span> <span class="bp">→</span> <span class="o">(</span><span class="n">X</span> <span class="bp">→</span><span class="err">₀</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">finsupp</span><span class="bp">.</span><span class="n">single</span> <span class="n">x</span> <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span>

<span class="bp">#</span><span class="kn">check</span> <span class="bp">@</span><span class="n">group</span><span class="bp">.</span><span class="n">closure</span>

<span class="c1">-- do we have to copy out all of the definitions here?</span>
<span class="kn">definition</span> <span class="n">group</span><span class="bp">.</span><span class="n">add_closure</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">add_group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span> <span class="n">set</span> <span class="n">G</span> <span class="o">:=</span> <span class="n">sorry</span>

<span class="c1">-- maybe use finsupp.induction?</span>
<span class="kn">theorem</span> <span class="n">closure_free_gens</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">decidable_eq</span> <span class="n">X</span><span class="o">]</span> <span class="o">:</span>
<span class="n">group</span><span class="bp">.</span><span class="n">add_closure</span> <span class="o">((</span><span class="n">group</span><span class="bp">.</span><span class="n">free_ab_gens</span> <span class="n">X</span><span class="o">)</span> <span class="err">&#39;&#39;</span> <span class="n">set</span><span class="bp">.</span><span class="n">univ</span><span class="o">)</span> <span class="bp">=</span> <span class="n">set</span><span class="bp">.</span><span class="n">univ</span> <span class="o">:=</span> <span class="n">sorry</span>
</pre></div>


<p>was what I thought I needed after spending several hours proving that if something happened in universe v then it also happened in universe u.</p>

<a name="130249068"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130249068" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130249068">Kenny Lau (Jul 25 2018 at 03:41)</a>:</h4>
<blockquote>
<p>Oh I remember now -- I wrote a list of what I needed in the perfectoid thread. I need that a free group is generated by its generators. Some things are only proved for multiplicative groups and some only for additive.</p>
</blockquote>
<p>I have a similar theorem for free abelian groups (see the other thread).</p>

<a name="130249323"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130249323" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130249323">Kenny Lau (Jul 25 2018 at 03:47)</a>:</h4>
<p>but actually there's already enough lemmas in <code>free_group.lean</code> to prove it:</p>
<div class="codehilite"><pre><span></span><span class="kn">theorem</span> <span class="n">free_group</span><span class="bp">.</span><span class="n">gen</span> <span class="o">:</span>
  <span class="n">set</span><span class="bp">.</span><span class="n">univ</span> <span class="bp">=</span> <span class="n">group</span><span class="bp">.</span><span class="n">closure</span> <span class="o">(</span><span class="n">set</span><span class="bp">.</span><span class="n">range</span> <span class="err">$</span> <span class="bp">@</span><span class="n">free_group</span><span class="bp">.</span><span class="n">of</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">calc</span>  <span class="n">set</span><span class="bp">.</span><span class="n">univ</span>
    <span class="bp">=</span> <span class="n">set</span><span class="bp">.</span><span class="n">range</span> <span class="n">id</span> <span class="o">:</span> <span class="n">set</span><span class="bp">.</span><span class="n">range_id</span><span class="bp">.</span><span class="n">symm</span>
<span class="bp">...</span> <span class="bp">=</span> <span class="n">set</span><span class="bp">.</span><span class="n">range</span> <span class="o">(</span><span class="n">free_group</span><span class="bp">.</span><span class="n">to_group</span> <span class="n">free_group</span><span class="bp">.</span><span class="n">of</span><span class="o">)</span> <span class="o">:</span> <span class="n">congr_arg</span> <span class="bp">_</span> <span class="err">$</span> <span class="n">funext</span> <span class="err">$</span> <span class="bp">λ</span> <span class="bp">_</span><span class="o">,</span> <span class="n">eq</span><span class="bp">.</span><span class="n">symm</span> <span class="err">$</span> <span class="n">free_group</span><span class="bp">.</span><span class="n">to_group</span><span class="bp">.</span><span class="n">of_eq</span> <span class="bp">_</span>
<span class="bp">...</span> <span class="bp">=</span> <span class="n">group</span><span class="bp">.</span><span class="n">closure</span> <span class="o">(</span><span class="n">set</span><span class="bp">.</span><span class="n">range</span> <span class="err">$</span> <span class="bp">@</span><span class="n">free_group</span><span class="bp">.</span><span class="n">of</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">free_group</span><span class="bp">.</span><span class="n">to_group</span><span class="bp">.</span><span class="n">range_eq_closure</span>
</pre></div>

<a name="130249394"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130249394" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130249394">Kenny Lau (Jul 25 2018 at 03:49)</a>:</h4>
<p>but here's an alternative proof:</p>

<a name="130249395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130249395" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130249395">Kenny Lau (Jul 25 2018 at 03:49)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">group_theory</span><span class="bp">.</span><span class="n">free_group</span>

<span class="kn">universe</span> <span class="n">u</span>
<span class="kn">variable</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span>

<span class="bp">@</span><span class="o">[</span><span class="n">elab_as_eliminator</span><span class="o">]</span>
<span class="kn">theorem</span> <span class="n">free_group</span><span class="bp">.</span><span class="n">induction_on</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span>
  <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="n">free_group</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">}</span>
  <span class="o">(</span><span class="n">z</span> <span class="o">:</span> <span class="n">free_group</span> <span class="n">α</span><span class="o">)</span>
  <span class="o">(</span><span class="n">C0</span> <span class="o">:</span> <span class="n">C</span> <span class="mi">1</span><span class="o">)</span>
  <span class="o">(</span><span class="n">C1</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span><span class="o">,</span> <span class="n">C</span> <span class="o">(</span><span class="n">free_group</span><span class="bp">.</span><span class="n">of</span> <span class="n">x</span><span class="o">))</span>
  <span class="o">(</span><span class="n">Cn</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span><span class="o">,</span> <span class="n">C</span> <span class="o">(</span><span class="n">free_group</span><span class="bp">.</span><span class="n">of</span> <span class="n">x</span><span class="o">)</span> <span class="bp">→</span> <span class="n">C</span> <span class="o">(</span><span class="n">free_group</span><span class="bp">.</span><span class="n">of</span> <span class="n">x</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span>
  <span class="o">(</span><span class="n">Cp</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">C</span> <span class="n">x</span> <span class="bp">→</span> <span class="n">C</span> <span class="n">y</span> <span class="bp">→</span> <span class="n">C</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="n">y</span><span class="o">))</span> <span class="o">:</span> <span class="n">C</span> <span class="n">z</span> <span class="o">:=</span>
<span class="n">quot</span><span class="bp">.</span><span class="n">induction_on</span> <span class="n">z</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">L</span><span class="o">,</span>
<span class="n">list</span><span class="bp">.</span><span class="n">rec_on</span> <span class="n">L</span> <span class="n">C0</span> <span class="err">$</span> <span class="bp">λ</span> <span class="bp">⟨</span><span class="n">x</span><span class="o">,</span> <span class="n">b</span><span class="bp">⟩</span> <span class="n">tl</span> <span class="n">ih</span><span class="o">,</span>
<span class="n">bool</span><span class="bp">.</span><span class="n">rec_on</span> <span class="n">b</span> <span class="o">(</span><span class="n">Cp</span> <span class="bp">_</span> <span class="bp">_</span> <span class="o">(</span><span class="n">Cn</span> <span class="bp">_</span> <span class="o">(</span><span class="n">C1</span> <span class="n">x</span><span class="o">))</span> <span class="n">ih</span><span class="o">)</span> <span class="o">(</span><span class="n">Cp</span> <span class="bp">_</span> <span class="bp">_</span> <span class="o">(</span><span class="n">C1</span> <span class="n">x</span><span class="o">)</span> <span class="n">ih</span><span class="o">)</span>

<span class="kn">theorem</span> <span class="n">free_group</span><span class="bp">.</span><span class="n">gen</span> <span class="o">:</span>
  <span class="n">set</span><span class="bp">.</span><span class="n">univ</span> <span class="bp">=</span> <span class="n">group</span><span class="bp">.</span><span class="n">closure</span> <span class="o">(</span><span class="n">set</span><span class="bp">.</span><span class="n">range</span> <span class="err">$</span> <span class="bp">@</span><span class="n">free_group</span><span class="bp">.</span><span class="n">of</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">eq</span><span class="bp">.</span><span class="n">symm</span> <span class="err">$</span> <span class="n">set</span><span class="bp">.</span><span class="n">eq_univ_of_forall</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span>
<span class="n">free_group</span><span class="bp">.</span><span class="n">induction_on</span> <span class="n">x</span>
  <span class="o">(</span><span class="n">group</span><span class="bp">.</span><span class="n">in_closure</span><span class="bp">.</span><span class="n">one</span> <span class="bp">_</span><span class="o">)</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">group</span><span class="bp">.</span><span class="n">in_closure</span><span class="bp">.</span><span class="n">basic</span> <span class="bp">⟨_</span><span class="o">,</span> <span class="n">rfl</span><span class="bp">⟩</span><span class="o">)</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span> <span class="n">ih</span><span class="o">,</span> <span class="n">group</span><span class="bp">.</span><span class="n">in_closure</span><span class="bp">.</span><span class="n">inv</span> <span class="n">ih</span><span class="o">)</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">,</span> <span class="n">group</span><span class="bp">.</span><span class="n">in_closure</span><span class="bp">.</span><span class="n">mul</span><span class="o">)</span>
</pre></div>

<a name="130263318"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130263318" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130263318">Kevin Buzzard (Jul 25 2018 at 10:54)</a>:</h4>
<p>Sorry -- I need it for free _abelian_ groups, as defined via the finsupp construction :-/</p>

<a name="130263334"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130263334" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130263334">Kenny Lau (Jul 25 2018 at 10:55)</a>:</h4>
<p>1. there is a free abelian group in my new tensor product (the constructive one)</p>

<a name="130263336"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130263336" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130263336">Kenny Lau (Jul 25 2018 at 10:55)</a>:</h4>
<p>2. there is a free abelian group in my old tensor product which uses finsupp</p>

<a name="130263348"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130263348" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130263348">Kevin Buzzard (Jul 25 2018 at 10:55)</a>:</h4>
<p>I don't want to use random pieces of your random repos :-(</p>

<a name="130263398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130263398" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130263398">Kenny Lau (Jul 25 2018 at 10:56)</a>:</h4>
<p>my old tensor product is in the stacks project</p>

<a name="130263403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130263403" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130263403">Kevin Buzzard (Jul 25 2018 at 10:56)</a>:</h4>
<p>That's still a random repo :-(</p>

<a name="130263409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130263409" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130263409">Kenny Lau (Jul 25 2018 at 10:56)</a>:</h4>
<p>:-(</p>

<a name="130263446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130263446" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130263446">Kevin Buzzard (Jul 25 2018 at 10:57)</a>:</h4>
<p>Although it sounds super-boring I wonder whether after this perfectoid thing I should stop worrying about putting hard maths into Lean and turn my attention to putting easy maths into mathlib. It might teach me a lot about how to write really good Lean code as opposed to just adequate code which runs.</p>

<a name="130263656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130263656" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130263656">Johan Commelin (Jul 25 2018 at 11:02)</a>:</h4>
<p>Hmm, I don't know... I think you should keep the hat of visionary mathematician. There's enough soldiers in your little army to do the "easy math". There are not many people that can think about the big picture.</p>

<a name="130263681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130263681" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130263681">Patrick Massot (Jul 25 2018 at 11:03)</a>:</h4>
<p>At some point we really need to have easy stuff though. Maybe it's because I'm learning so slowly, but I'm a bit pessimistic about Kevin's army learning enough in two summer months to be able to significantly improve the amount of easy maths in mathlib.</p>

<a name="130263731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130263731" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130263731">Johan Commelin (Jul 25 2018 at 11:04)</a>:</h4>
<p>True, but Kevin is writing a book. And I hope that will enable a lot of people to do more stuff. You want some exponential growth to happen. That won't happen if Kevin is busy proving stuff about quotient groups.</p>

<a name="130263741"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130263741" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130263741">Johan Commelin (Jul 25 2018 at 11:05)</a>:</h4>
<p>It might happen if every semester 10 UG's from Imperial get interested in Lean and start their own journeys.</p>

<a name="130263742"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130263742" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130263742">Kevin Buzzard (Jul 25 2018 at 11:05)</a>:</h4>
<p>I am pessimistic that by 2 months all the students will be writing mathlib-ready code. However I am very optimistic that some of them will be writing good code, and some of them will be writing code which (perhaps inefficiently) fills in holes in mathlb.</p>

<a name="130263743"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130263743" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130263743">Johan Commelin (Jul 25 2018 at 11:05)</a>:</h4>
<p>After 5 years...</p>

<a name="130263808"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130263808" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130263808">Johan Commelin (Jul 25 2018 at 11:06)</a>:</h4>
<p>I think it is awesome that you guys are now going to teach classes with Lean. I can't pull that off (both because of my Lean-level and career-level).</p>

<a name="130263816"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130263816" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130263816">Johan Commelin (Jul 25 2018 at 11:07)</a>:</h4>
<p>But this hasn't happened before, I think. That <em>math</em> students get taught with ITP's</p>

<a name="130263822"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130263822" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130263822">Kevin Buzzard (Jul 25 2018 at 11:07)</a>:</h4>
<p>Yes, I am trying to make Lean part of the "culture" here. When I can be bothered to actually go to work I will walk into a room with 10-15 students all doing, and talking about, Lean, and I'll spend the day helping them. I'm hoping it will slowly snowball but I have no idea how realistic this is. I'm pretty sure that in every class of 250 we have I should be able to find 5-10 who are interested and get the hang of it even with no support. The question is how many more I can get in if I make it much easier for them.</p>

<a name="130263836"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130263836" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130263836">Patrick Massot (Jul 25 2018 at 11:08)</a>:</h4>
<p>I'm not even talking of mathlib-ready code (I still can't do it myself!). But it could be close enough so that straightening it would be less work than starting from scratch.</p>

<a name="130263940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130263940" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130263940">Johan Commelin (Jul 25 2018 at 11:10)</a>:</h4>
<p>Right, but already you told us that these students are starting to help each other. Which is fantastic. And 2 years from now it will be easy to find TA's for the courses you are giving.</p>

<a name="130263944"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130263944" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130263944">Patrick Massot (Jul 25 2018 at 11:10)</a>:</h4>
<p>I won't have 250 students, rather more like 25 (only the students selected for a combined CS/math program). I'm not as brave as Kevin, I'll wait to see what I can do with few good students before trying to use Lean on everybody.</p>

<a name="130263955"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130263955" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130263955">Johan Commelin (Jul 25 2018 at 11:11)</a>:</h4>
<p>I do agree that if you teach a course to 250 students, you might want to give them some helper-files that they should import.</p>

<a name="130263961"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130263961" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130263961">Kevin Buzzard (Jul 25 2018 at 11:11)</a>:</h4>
<p>That's September's job.</p>

<a name="130263963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130263963" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130263963">Johan Commelin (Jul 25 2018 at 11:11)</a>:</h4>
<p>I just hope that it won't eat up all your time, so that the big picture starts to die...</p>

<a name="130264013"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130264013" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130264013">Patrick Massot (Jul 25 2018 at 11:12)</a>:</h4>
<blockquote>
<p>I think it is awesome that you guys are now going to teach classes with Lean. I can't pull that off (both because of my Lean-level and career-level).</p>
</blockquote>
<p>I hope Lean-level is irrelevant... Career level clearly is, partly because it allows to fool people into trusting you, but mostly because it allows to potentially waste time.</p>

<a name="130264062"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/products%20of%20Cauchy%20filters/near/130264062" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/64576productsofCauchyfilters.html#130264062">Johan Commelin (Jul 25 2018 at 11:14)</a>:</h4>
<p>Well, at my Lean-level, it does become relevant. You are several Lean-levels above me. Your career-level is infinitely beyond mine: tenure vs not</p>


{% endraw %}
