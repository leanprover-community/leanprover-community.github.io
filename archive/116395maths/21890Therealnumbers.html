---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/116395maths/21890Therealnumbers.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html">The real numbers</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="127331937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127331937" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127331937">Kevin Buzzard (May 30 2018 at 22:07)</a>:</h4>
<p>How are our real numbers getting along? Do we have the definition of a differentiable function yet, and of its derivative?</p>

<a name="127331992"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127331992" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127331992">Kenny Lau (May 30 2018 at 22:08)</a>:</h4>
<p>one thing about analysis is that there are a lot of promises made</p>

<a name="127331996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127331996" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127331996">Kenny Lau (May 30 2018 at 22:08)</a>:</h4>
<p>when we say the derivative of a function, we don't just mean the derivative of a function</p>

<a name="127331999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127331999" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127331999">Kenny Lau (May 30 2018 at 22:08)</a>:</h4>
<p>we mean that it exists</p>

<a name="127332157"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332157" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332157">Kevin Buzzard (May 30 2018 at 22:11)</a>:</h4>
<p>Do we have that the reals are the unique Dedekind-complete ordered field up to unique isomorphism?</p>

<a name="127332202"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332202" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332202">Kenny Lau (May 30 2018 at 22:12)</a>:</h4>
<p>is R[ε] Dedekind-complete?</p>

<a name="127332210"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332210" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332210">Kevin Buzzard (May 30 2018 at 22:12)</a>:</h4>
<p>I was writing a chapter in my book on reals and I was trying to figure out the interface that a mathematician needed.</p>

<a name="127332219"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332219" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332219">Kevin Buzzard (May 30 2018 at 22:13)</a>:</h4>
<p>I figure we need the uniqueness statement above, and the intermediate value theorem and the mean value theorem</p>

<a name="127332221"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332221" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332221">Kevin Buzzard (May 30 2018 at 22:13)</a>:</h4>
<p>and I reckon we have then got a huge chunk of 1st year Imperial analysis</p>

<a name="127332225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332225" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332225">Andrew Ashworth (May 30 2018 at 22:13)</a>:</h4>
<p>analysis is tricky, I took a long look at awhile back since I was interested in probability</p>

<a name="127332231"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332231" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332231">Kevin Buzzard (May 30 2018 at 22:13)</a>:</h4>
<p>I could get students working on this over the summer but I don't have a clue about the current state of things and just thought it was easiest to ask</p>

<a name="127332232"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332232" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332232">Kenny Lau (May 30 2018 at 22:13)</a>:</h4>
<p>I already proved the IVT ^^</p>

<a name="127332274"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332274" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332274">Kevin Buzzard (May 30 2018 at 22:14)</a>:</h4>
<p>Where Kenny?</p>

<a name="127332279"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332279" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332279">Kenny Lau (May 30 2018 at 22:14)</a>:</h4>
<p>in my own construction of the real numbers</p>

<a name="127332294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332294" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332294">Kenny Lau (May 30 2018 at 22:14)</a>:</h4>
<p><a href="https://github.com/kckennylau/Lean/blob/master/cauchy_real.lean#L1508" target="_blank" title="https://github.com/kckennylau/Lean/blob/master/cauchy_real.lean#L1508">https://github.com/kckennylau/Lean/blob/master/cauchy_real.lean#L1508</a></p>

<a name="127332316"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332316" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332316">Andrew Ashworth (May 30 2018 at 22:15)</a>:</h4>
<p>my plan for attacking it (which I eventually gave up on when I realized is was quite some work) was to follow the isabelle analysis theorems (many of them were written by johannes and jeremy avigad!)</p>

<a name="127332393"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332393" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332393">Andrew Ashworth (May 30 2018 at 22:17)</a>:</h4>
<p>well, you could just ask <span class="user-mention" data-user-id="110294">@Johannes Hölzl</span>  for his advice on what analysis developments to work on :)</p>

<a name="127332436"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332436" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332436">Kevin Buzzard (May 30 2018 at 22:18)</a>:</h4>
<p>Kenny did you prove that your real numbers were the unique complete ordered field up to unique isomorphism?</p>

<a name="127332438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332438" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332438">Kenny Lau (May 30 2018 at 22:18)</a>:</h4>
<p>no</p>

<a name="127332442"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332442" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332442">Kevin Buzzard (May 30 2018 at 22:18)</a>:</h4>
<p>Is it in mathlib?</p>

<a name="127332444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332444" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332444">Kenny Lau (May 30 2018 at 22:18)</a>:</h4>
<p>no idea</p>

<a name="127332530"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332530" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332530">Andrew Ashworth (May 30 2018 at 22:21)</a>:</h4>
<p>out of curiosity is there a good reference on filters around? I only know about the Cauchy sequence construction, but it seems I must know more to use the reals in mathlib...</p>

<a name="127332539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332539" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332539">Johannes Hölzl (May 30 2018 at 22:21)</a>:</h4>
<p><span class="user-mention" data-user-id="110025">@Andrew Ashworth</span>  most of Isabelle's analysis developed over some time. Starting from Fleuriot, over porting stuff from HOL Light by Amine Chaieb, and then generalizing it to type classes by Brian Huffman, Fabian Immler and me.</p>

<a name="127332541"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332541" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332541">Johannes Hölzl (May 30 2018 at 22:22)</a>:</h4>
<p>and a lot of other people</p>

<a name="127332591"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332591" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332591">Johannes Hölzl (May 30 2018 at 22:22)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> I don't think there is a uniqueness proof in mathlib</p>

<a name="127332645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332645" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332645">Kevin Buzzard (May 30 2018 at 22:24)</a>:</h4>
<p><span class="user-mention" data-user-id="110025">@Andrew Ashworth</span> Given a point in a space, you get a "filter" of sets on the space, namely the sets containing the point.</p>

<a name="127332652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332652" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332652">Kevin Buzzard (May 30 2018 at 22:24)</a>:</h4>
<p>So a filter is kind-of a generalization of a point</p>

<a name="127332655"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332655" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332655">Kevin Buzzard (May 30 2018 at 22:24)</a>:</h4>
<p>it's a really cool way of saying "tends to +infinity" for example</p>

<a name="127332658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332658" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332658">Kevin Buzzard (May 30 2018 at 22:24)</a>:</h4>
<p>because even though infinity isn't a real number</p>

<a name="127332659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332659" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332659">Johannes Hölzl (May 30 2018 at 22:24)</a>:</h4>
<p><span class="user-mention" data-user-id="110025">@Andrew Ashworth</span> do you know our filter paper <a href="http://home.in.tum.de/~hoelzl/documents/hoelzl2013typeclasses.pdf" target="_blank" title="http://home.in.tum.de/~hoelzl/documents/hoelzl2013typeclasses.pdf">http://home.in.tum.de/~hoelzl/documents/hoelzl2013typeclasses.pdf</a> ? at least it explains how filters are used in Isabelle.</p>

<a name="127332663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332663" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332663">Kevin Buzzard (May 30 2018 at 22:24)</a>:</h4>
<p>the sets of reals that contain an open interval (r,infinity) is a filter</p>

<a name="127332686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332686" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332686">Johannes Hölzl (May 30 2018 at 22:25)</a>:</h4>
<ul>
<li>the sets of sets (r, infinite) over all r</li>
</ul>

<a name="127332740"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332740" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332740">Johannes Hölzl (May 30 2018 at 22:26)</a>:</h4>
<p>the sets of all neighbourhoods around x forms a filter, all left neighbourhoods (and right neibourhoods) etc</p>

<a name="127332826"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332826" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332826">Johannes Hölzl (May 30 2018 at 22:29)</a>:</h4>
<p>but currently you need to do a lot of operations directly with filters, there is a lot of <em>porcelian</em> missing. Porcelain the sense that a lot the nice lemmas to show continuity of a function and using it are just not there yet. Many should be proved in a couple of lines but need to be written down.</p>

<a name="127332892"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332892" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332892">Kevin Buzzard (May 30 2018 at 22:30)</a>:</h4>
<p>Am I right in thinking that <span class="user-mention" data-user-id="110049">@Mario Carneiro</span> <span class="user-mention" data-user-id="110294">@Johannes Hölzl</span> and <span class="user-mention" data-user-id="110064">@Kenny Lau</span> -- that all of you wrote distinct definitions of real numbers recently?</p>

<a name="127332893"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332893" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332893">Kevin Buzzard (May 30 2018 at 22:30)</a>:</h4>
<p>Each one of you should prove the fundamental theorem of real numbers</p>

<a name="127332904"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332904" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332904">Kevin Buzzard (May 30 2018 at 22:30)</a>:</h4>
<p>that you are a Dedekind complete ordered field</p>

<a name="127332913"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332913" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332913">Kevin Buzzard (May 30 2018 at 22:31)</a>:</h4>
<p>and the moment you do that you can access all the theorems proved about the other real numbers</p>

<a name="127332921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332921" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332921">Kevin Buzzard (May 30 2018 at 22:31)</a>:</h4>
<p>Did you all do that?</p>

<a name="127332965"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332965" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332965">Mario Carneiro (May 30 2018 at 22:32)</a>:</h4>
<p>Uniqueness is overrated</p>

<a name="127332967"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332967" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332967">Kevin Buzzard (May 30 2018 at 22:32)</a>:</h4>
<p>rofl</p>

<a name="127332969"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332969" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332969">Kevin Buzzard (May 30 2018 at 22:32)</a>:</h4>
<p>you people</p>

<a name="127332971"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332971" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332971">Kevin Buzzard (May 30 2018 at 22:32)</a>:</h4>
<p>you don't understand equality</p>

<a name="127332974"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332974" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332974">Mario Carneiro (May 30 2018 at 22:32)</a>:</h4>
<p>It's really not needed for anything practical though</p>

<a name="127332978"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332978" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332978">Mario Carneiro (May 30 2018 at 22:32)</a>:</h4>
<p>in a sense it tells you you "got it right" but that's it</p>

<a name="127332979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332979" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332979">Kevin Buzzard (May 30 2018 at 22:32)</a>:</h4>
<p>it's needed for clear thinking</p>

<a name="127332984"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332984" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332984">Kevin Buzzard (May 30 2018 at 22:33)</a>:</h4>
<p>and so we have to teach it to computers</p>

<a name="127332990"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332990" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332990">Kevin Buzzard (May 30 2018 at 22:33)</a>:</h4>
<p>it makes the world a simpler place</p>

<a name="127332993"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332993" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332993">Mario Carneiro (May 30 2018 at 22:33)</a>:</h4>
<p>when you want to apply theorems about reals, you need to have theorems on (your) reals</p>

<a name="127332995"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127332995" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127332995">Mario Carneiro (May 30 2018 at 22:33)</a>:</h4>
<p>a uniqueness statement doesn't help here</p>

<a name="127333062"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333062" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333062">Kevin Buzzard (May 30 2018 at 22:34)</a>:</h4>
<p>I just mean you can port theorems with the uniqueness statement</p>

<a name="127333067"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333067" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333067">Mario Carneiro (May 30 2018 at 22:35)</a>:</h4>
<p>yeah, that's a bad idea, avoid if you can help it</p>

<a name="127333079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333079" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333079">Kevin Buzzard (May 30 2018 at 22:35)</a>:</h4>
<p>I want to do more than port theorems</p>

<a name="127333083"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333083" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333083">Kevin Buzzard (May 30 2018 at 22:35)</a>:</h4>
<p>I want to identify them as one</p>

<a name="127333125"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333125" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333125">Mario Carneiro (May 30 2018 at 22:36)</a>:</h4>
<p>Better to have a single definition and prove equivalent "views" of it</p>

<a name="127333128"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333128" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333128">Kenny Lau (May 30 2018 at 22:36)</a>:</h4>
<p>uniqueness theorem is a part of interface, because sometimes you would have more than one instance, because it's describing a class of objects (e.g. algebra homomorphism)</p>

<a name="127333130"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333130" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333130">Kenny Lau (May 30 2018 at 22:36)</a>:</h4>
<p>but in this case there is only one object that we call the real numbers</p>

<a name="127333131"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333131" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333131">Kevin Buzzard (May 30 2018 at 22:36)</a>:</h4>
<p>I have so much to learn about the way you guys think about things.</p>

<a name="127333133"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333133" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333133">Kenny Lau (May 30 2018 at 22:36)</a>:</h4>
<p>we won't be constructing other real numbers</p>

<a name="127333135"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333135" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333135">Kenny Lau (May 30 2018 at 22:36)</a>:</h4>
<p>so I don't see why uniqueness is important</p>

<a name="127333149"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333149" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333149">Kevin Buzzard (May 30 2018 at 22:37)</a>:</h4>
<p>What is the point of having three copies of the real numbers?</p>

<a name="127333154"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333154" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333154">Kevin Buzzard (May 30 2018 at 22:37)</a>:</h4>
<p>Is one of them "the best one" or do they all have their merits or what?</p>

<a name="127333158"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333158" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333158">Kenny Lau (May 30 2018 at 22:37)</a>:</h4>
<p>i just did it for myself</p>

<a name="127333161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333161" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333161">Mario Carneiro (May 30 2018 at 22:37)</a>:</h4>
<p>There's only one I'm aware of, unless Kenny did something</p>

<a name="127333164"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333164" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333164">Kenny Lau (May 30 2018 at 22:37)</a>:</h4>
<p>i did it privately</p>

<a name="127333204"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333204" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333204">Mario Carneiro (May 30 2018 at 22:38)</a>:</h4>
<p>There was an old construction by Johannes and I replaced it with my own</p>

<a name="127333207"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333207" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333207">Kevin Buzzard (May 30 2018 at 22:38)</a>:</h4>
<p>I thought we had a filter one and a cauchy sequence one in mathlib at different times</p>

<a name="127333208"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333208" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333208">Kevin Buzzard (May 30 2018 at 22:38)</a>:</h4>
<p>right</p>

<a name="127333210"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333210" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333210">Kevin Buzzard (May 30 2018 at 22:38)</a>:</h4>
<p>and then Kenny's</p>

<a name="127333213"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333213" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333213">Mario Carneiro (May 30 2018 at 22:38)</a>:</h4>
<p>The filter construction is gone, although the theorems aren't</p>

<a name="127333219"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333219" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333219">Kenny Lau (May 30 2018 at 22:38)</a>:</h4>
<p>rip filter construction 2017-2018</p>

<a name="127333229"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333229" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333229">Kevin Buzzard (May 30 2018 at 22:39)</a>:</h4>
<p>OK so Mario, let's say that in Johannes' construction of real numbers with filters, he proved that the real numbers were a Dedekind complete totally ordered field (he almost certainly did prove this, I believe I remember checking once).</p>

<a name="127333231"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333231" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333231">Kevin Buzzard (May 30 2018 at 22:39)</a>:</h4>
<p>Then isn't that all you will ever need from the real numbers?</p>

<a name="127333284"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333284" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333284">Mario Carneiro (May 30 2018 at 22:40)</a>:</h4>
<p>Yes, and that theorem is still there</p>

<a name="127333287"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333287" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333287">Kenny Lau (May 30 2018 at 22:40)</a>:</h4>
<p>no, you need a way to construct real numbers</p>

<a name="127333288"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333288" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333288">Kenny Lau (May 30 2018 at 22:40)</a>:</h4>
<p>like sqrt(2)</p>

<a name="127333291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333291" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333291">Kenny Lau (May 30 2018 at 22:40)</a>:</h4>
<p>and filters are hard to work with</p>

<a name="127333292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333292" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333292">Kevin Buzzard (May 30 2018 at 22:40)</a>:</h4>
<p>but if Johannes had made it to that pinnacle</p>

<a name="127333294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333294" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333294">Kevin Buzzard (May 30 2018 at 22:40)</a>:</h4>
<p>you would never need to think about filters any more</p>

<a name="127333299"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333299" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333299">Kenny Lau (May 30 2018 at 22:40)</a>:</h4>
<p>how would you make sqrt(2)?</p>

<a name="127333310"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333310" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333310">Kevin Buzzard (May 30 2018 at 22:40)</a>:</h4>
<p>take the sup of the set of real whose square was less than 2</p>

<a name="127333329"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333329" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333329">Mario Carneiro (May 30 2018 at 22:41)</a>:</h4>
<p>My construction just slots in where the old one was, all the theorems still work after porting (with filters and everything)</p>

<a name="127333333"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333333" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333333">Kevin Buzzard (May 30 2018 at 22:41)</a>:</h4>
<p>and then say that you're a complete field</p>

<a name="127333347"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333347" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333347">Mario Carneiro (May 30 2018 at 22:41)</a>:</h4>
<p>The abstract theorems like that exist, but that's still a far cry from the "algebraic" theory with say transcendental functions</p>

<a name="127333392"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333392" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333392">Kevin Buzzard (May 30 2018 at 22:42)</a>:</h4>
<p>Chris did exp and sin and cos</p>

<a name="127333395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333395" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333395">Kevin Buzzard (May 30 2018 at 22:42)</a>:</h4>
<p>did that ever make it into mathlib?</p>

<a name="127333398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333398" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333398">Kevin Buzzard (May 30 2018 at 22:42)</a>:</h4>
<p>I need that for October!</p>

<a name="127333399"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333399" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333399">Kenny Lau (May 30 2018 at 22:42)</a>:</h4>
<p>it's still in PR i think</p>

<a name="127333406"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333406" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333406">Kevin Buzzard (May 30 2018 at 22:42)</a>:</h4>
<p>If it needs work, let me know, that would be a great thing for students to work on</p>

<a name="127333414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333414" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333414">Kevin Buzzard (May 30 2018 at 22:43)</a>:</h4>
<p>I need e^(i theta) = cos(theta) + i sin(theta)</p>

<a name="127333422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333422" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333422">Kenny Lau (May 30 2018 at 22:43)</a>:</h4>
<p>you're on the wrong thread then</p>

<a name="127333432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333432" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333432">Kevin Buzzard (May 30 2018 at 22:43)</a>:</h4>
<p>you mentioned R[e] earlier, this is R[i]</p>

<a name="127333708"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333708" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333708">Kevin Buzzard (May 30 2018 at 22:51)</a>:</h4>
<p><a href="https://math.stackexchange.com/questions/269353/isomorphism-of-dedekind-complete-ordered-fields" target="_blank" title="https://math.stackexchange.com/questions/269353/isomorphism-of-dedekind-complete-ordered-fields">https://math.stackexchange.com/questions/269353/isomorphism-of-dedekind-complete-ordered-fields</a></p>

<a name="127333715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333715" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333715">Kevin Buzzard (May 30 2018 at 22:51)</a>:</h4>
<p>The quote from Spivak</p>

<a name="127333718"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333718" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333718">Kevin Buzzard (May 30 2018 at 22:51)</a>:</h4>
<p>[not the question itself]</p>

<a name="127333726"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333726" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333726">Kevin Buzzard (May 30 2018 at 22:51)</a>:</h4>
<p>Is that proof, that any two complete ordered fields are isomorphic, in mathlib?</p>

<a name="127333767"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333767" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333767">Kenny Lau (May 30 2018 at 22:52)</a>:</h4>
<p>(removed)</p>

<a name="127333774"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333774" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333774">Kevin Buzzard (May 30 2018 at 22:52)</a>:</h4>
<p>up to unique isomorphism</p>

<a name="127333780"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333780" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333780">Kevin Buzzard (May 30 2018 at 22:52)</a>:</h4>
<p>they are _the same_</p>

<a name="127333784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333784" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333784">Kevin Buzzard (May 30 2018 at 22:52)</a>:</h4>
<p>they are equal</p>

<a name="127333813"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333813" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333813">Kevin Buzzard (May 30 2018 at 22:53)</a>:</h4>
<p>they are <code>maths-equivalent</code></p>

<a name="127333950"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127333950" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127333950">Mario Carneiro (May 30 2018 at 22:56)</a>:</h4>
<p>Having that theorem will just make you more frustrated when it isn't as powerful as you want</p>

<a name="127334011"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334011" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334011">Reid Barton (May 30 2018 at 22:58)</a>:</h4>
<p>Incidentally, in my limited experience, it's better not to work with any particular model of the reals directly, but just axiomatize the features that you need using type classes</p>

<a name="127334024"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334024" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334024">Kevin Buzzard (May 30 2018 at 22:59)</a>:</h4>
<p>Don't prove a single theorem about the reals</p>

<a name="127334027"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334027" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334027">Kevin Buzzard (May 30 2018 at 22:59)</a>:</h4>
<p>just prove a theorem about complete totally ordered fields?</p>

<a name="127334032"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334032" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334032">Reid Barton (May 30 2018 at 22:59)</a>:</h4>
<p>I got frustrated when Lean would keep running out of memory when trying to check stuff like <code>rfl : 2 * 1 = 1 + 1</code></p>

<a name="127334077"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334077" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334077">Reid Barton (May 30 2018 at 23:00)</a>:</h4>
<p>but then when I switched to working over a general totally ordered discrete topological whatever field, my compile times went way down</p>

<a name="127334078"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334078" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334078">Kenny Lau (May 30 2018 at 23:00)</a>:</h4>
<p>that one is mul_one :P</p>

<a name="127334081"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334081" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334081">Kevin Buzzard (May 30 2018 at 23:00)</a>:</h4>
<p>norm_num ftw</p>

<a name="127334089"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334089" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334089">Reid Barton (May 30 2018 at 23:00)</a>:</h4>
<p>I know, but it's hard to stop Lean from trying to reduce</p>

<a name="127334090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334090" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334090">Kenny Lau (May 30 2018 at 23:00)</a>:</h4>
<p>2 is defined to be bit0 1, which is defined to be 1+1</p>

<a name="127334100"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334100" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334100">Reid Barton (May 30 2018 at 23:00)</a>:</h4>
<p>It means every time you use <code>simp</code> or something, you might fall into a memory leak</p>

<a name="127334102"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334102" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334102">Mario Carneiro (May 30 2018 at 23:00)</a>:</h4>
<p>but you still have to reduce (1+1)*1 = 1+1 there</p>

<a name="127334103"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334103" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334103">Reid Barton (May 30 2018 at 23:00)</a>:</h4>
<p>and then you have to back up and carefully walk around it</p>

<a name="127334115"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334115" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334115">Reid Barton (May 30 2018 at 23:01)</a>:</h4>
<p>Sure, and then <code>norm_num</code> can do that for you</p>

<a name="127334117"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334117" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334117">Kenny Lau (May 30 2018 at 23:01)</a>:</h4>
<p>so I said it's <code>mul_one</code></p>

<a name="127334125"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334125" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334125">Andrew Ashworth (May 30 2018 at 23:01)</a>:</h4>
<p>I have wondered whether the reals should be a typeclass too, in case somebody wants to have a really efficient computable version at some point in the future</p>

<a name="127334135"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334135" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334135">Kevin Buzzard (May 30 2018 at 23:01)</a>:</h4>
<p>but Kenny what about <code>2/3*4/5=8/30*2</code></p>

<a name="127334137"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334137" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334137">Kenny Lau (May 30 2018 at 23:01)</a>:</h4>
<p>but there is no computable version</p>

<a name="127334179"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334179" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334179">Mario Carneiro (May 30 2018 at 23:02)</a>:</h4>
<p>well, the current version is as computable as it gets</p>

<a name="127334186"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334186" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334186">Kevin Buzzard (May 30 2018 at 23:02)</a>:</h4>
<p>I see, so the issue is of course not about proving theorems, it is about doing calculations</p>

<a name="127334188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334188" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334188">Kevin Buzzard (May 30 2018 at 23:02)</a>:</h4>
<p>computations</p>

<a name="127334189"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334189" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334189">Mario Carneiro (May 30 2018 at 23:02)</a>:</h4>
<p>i.e. stuff like <code>2 * 3 = 6</code> computes</p>

<a name="127334194"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334194" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334194">Kenny Lau (May 30 2018 at 23:02)</a>:</h4>
<p>everything is about computation</p>

<a name="127334196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334196" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334196">Kevin Buzzard (May 30 2018 at 23:02)</a>:</h4>
<p>which are of course important when you want to prove theorems</p>

<a name="127334200"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334200" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334200">Kevin Buzzard (May 30 2018 at 23:03)</a>:</h4>
<p>you want your reals to be "as computable as possible"?</p>

<a name="127334206"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334206" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334206">Mario Carneiro (May 30 2018 at 23:03)</a>:</h4>
<p>well yes</p>

<a name="127334213"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334213" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334213">Kevin Buzzard (May 30 2018 at 23:03)</a>:</h4>
<p>Don't you take one look at a question involving rationals and instantly descend to the rationals?</p>

<a name="127334216"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334216" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334216">Kenny Lau (May 30 2018 at 23:03)</a>:</h4>
<p>then make <code>inv</code> into a function that takes a proof that it is not zero</p>

<a name="127334217"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334217" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334217">Mario Carneiro (May 30 2018 at 23:03)</a>:</h4>
<p>I did</p>

<a name="127334218"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334218" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334218">Andrew Ashworth (May 30 2018 at 23:03)</a>:</h4>
<p>Kenny, there is such a thing as constructive, computable reals. You can treat it as arbitrary-precision floating point</p>

<a name="127334256"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334256" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334256">Mario Carneiro (May 30 2018 at 23:04)</a>:</h4>
<p>It's called <code>divp</code></p>

<a name="127334263"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334263" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334263">Kevin Buzzard (May 30 2018 at 23:04)</a>:</h4>
<p>and does it work on an arbitrary complete totally ordered field?</p>

<a name="127334265"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334265" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334265">Mario Carneiro (May 30 2018 at 23:04)</a>:</h4>
<p>It works on any <em>ring</em></p>

<a name="127334268"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334268" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334268">Kenny Lau (May 30 2018 at 23:04)</a>:</h4>
<p>you won't want to formalize computable reals</p>

<a name="127334284"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334284" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334284">Andrew Ashworth (May 30 2018 at 23:05)</a>:</h4>
<p>you won't want to, but yet it'll be super useful</p>

<a name="127334345"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334345" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334345">Kenny Lau (May 30 2018 at 23:06)</a>:</h4>
<p>are you going to set up turing machines now</p>

<a name="127334354"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334354" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334354">Mario Carneiro (May 30 2018 at 23:07)</a>:</h4>
<p>lol I'm actually typing out turing machines right now</p>

<a name="127334361"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127334361" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127334361">Mario Carneiro (May 30 2018 at 23:07)</a>:</h4>
<p>Actually I'm going via Wang B-machines</p>

<a name="127336402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127336402" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127336402">Kevin Buzzard (May 31 2018 at 00:04)</a>:</h4>
<p>Lean challenge : <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi mathvariant="normal">√</mi><mn>2</mn><mo>+</mo><mi mathvariant="normal">√</mi><mn>3</mn><msup><mo>)</mo><mn>2</mn></msup><mo>=</mo><mn>5</mn><mo>+</mo><mn>2</mn><mi mathvariant="normal">√</mi><mn>6</mn></mrow><annotation encoding="application/x-tex">(\surd2+\surd3)^2=5+2\surd6</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.8141079999999999em;"></span><span class="strut bottom" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="base"><span class="mopen">(</span><span class="mord mathrm">√</span><span class="mord mathrm">2</span><span class="mbin">+</span><span class="mord mathrm">√</span><span class="mord mathrm">3</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">2</span></span></span></span></span></span></span></span><span class="mrel">=</span><span class="mord mathrm">5</span><span class="mbin">+</span><span class="mord mathrm">2</span><span class="mord mathrm">√</span><span class="mord mathrm">6</span></span></span></span></p>

<a name="127336620"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127336620" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127336620">Kenny Lau (May 31 2018 at 00:10)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">real</span><span class="bp">.</span><span class="n">basic</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">norm_num</span>

<span class="kn">prefix</span> <span class="bp">`</span><span class="err">√</span><span class="bp">`</span><span class="o">:</span><span class="mi">90</span> <span class="o">:=</span> <span class="n">real</span><span class="bp">.</span><span class="n">sqrt</span>

<span class="kn">example</span> <span class="o">:</span> <span class="o">(</span><span class="err">√</span><span class="mi">2</span> <span class="bp">+</span> <span class="err">√</span><span class="mi">3</span><span class="o">)</span><span class="err">^</span><span class="mi">2</span> <span class="bp">=</span> <span class="mi">5</span> <span class="bp">+</span> <span class="mi">2</span><span class="bp">*</span><span class="err">√</span><span class="mi">6</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">pow_two</span><span class="o">,</span> <span class="n">add_mul_self_eq</span><span class="o">,</span> <span class="n">mul_assoc</span><span class="o">,</span>
  <span class="err">←</span> <span class="n">real</span><span class="bp">.</span><span class="n">sqrt_mul</span><span class="o">,</span> <span class="err">←</span> <span class="n">real</span><span class="bp">.</span><span class="n">sqrt_mul</span><span class="o">,</span> <span class="err">←</span> <span class="n">real</span><span class="bp">.</span><span class="n">sqrt_mul</span><span class="o">,</span>
  <span class="n">real</span><span class="bp">.</span><span class="n">sqrt_mul_self</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">sqrt_mul_self</span><span class="o">]</span><span class="bp">;</span> <span class="n">norm_num</span><span class="bp">;</span>
  <span class="n">rw</span> <span class="o">[</span><span class="err">←</span> <span class="n">add_assoc</span><span class="o">]</span><span class="bp">;</span> <span class="n">refl</span>
</pre></div>

<a name="127336744"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127336744" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127336744">Kenny Lau (May 31 2018 at 00:14)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">real</span><span class="bp">.</span><span class="n">basic</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">norm_num</span>

<span class="kn">prefix</span> <span class="bp">`</span><span class="err">√</span><span class="bp">`</span><span class="o">:</span><span class="mi">90</span> <span class="o">:=</span> <span class="n">real</span><span class="bp">.</span><span class="n">sqrt</span>

<span class="kn">example</span> <span class="o">:</span> <span class="o">(</span><span class="err">√</span><span class="mi">2</span> <span class="bp">+</span> <span class="err">√</span><span class="mi">3</span><span class="o">)</span><span class="err">^</span><span class="mi">2</span> <span class="bp">=</span> <span class="mi">5</span> <span class="bp">+</span> <span class="mi">2</span><span class="bp">*</span><span class="err">√</span><span class="mi">6</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">pow_two</span><span class="o">,</span> <span class="n">add_mul_self_eq</span><span class="o">,</span> <span class="n">mul_assoc</span><span class="o">,</span>
  <span class="err">←</span> <span class="n">real</span><span class="bp">.</span><span class="n">sqrt_mul</span><span class="o">,</span> <span class="err">←</span> <span class="n">real</span><span class="bp">.</span><span class="n">sqrt_mul</span><span class="o">,</span> <span class="err">←</span> <span class="n">real</span><span class="bp">.</span><span class="n">sqrt_mul</span><span class="o">,</span>
  <span class="n">real</span><span class="bp">.</span><span class="n">sqrt_mul_self</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">sqrt_mul_self</span><span class="o">,</span> <span class="n">add_right_comm</span><span class="o">]</span><span class="bp">;</span>
  <span class="n">norm_num</span>
</pre></div>

<a name="127341099"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127341099" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127341099">Kevin Buzzard (May 31 2018 at 02:28)</a>:</h4>
<p>Thanks Kenny.</p>

<a name="127341111"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127341111" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127341111">Kevin Buzzard (May 31 2018 at 02:29)</a>:</h4>
<p>In <code>data/real/basic.lean</code> there is an import of <code>algebra.big_operators </code> which doesn't seem to me to be used. Is this sort of PR welcome?</p>

<a name="127342055"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342055" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342055">Kevin Buzzard (May 31 2018 at 03:02)</a>:</h4>
<p><a href="https://github.com/leanprover/mathlib/blob/bdd54acda358f535b42951b784757135213dcf52/data/real/basic.lean#L16" target="_blank" title="https://github.com/leanprover/mathlib/blob/bdd54acda358f535b42951b784757135213dcf52/data/real/basic.lean#L16">https://github.com/leanprover/mathlib/blob/bdd54acda358f535b42951b784757135213dcf52/data/real/basic.lean#L16</a></p>

<a name="127342065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342065" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342065">Kevin Buzzard (May 31 2018 at 03:03)</a>:</h4>
<p>At that line, <code>#check mk</code> gives that <code>mk</code> is <code>rat.mk</code>. And then on the next line it feels like it was redefined. Why is mk not overloaded now?</p>

<a name="127342067"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342067" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342067">Kevin Buzzard (May 31 2018 at 03:03)</a>:</h4>
<p>Is there some priority trick?</p>

<a name="127342234"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342234" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342234">Mario Carneiro (May 31 2018 at 03:08)</a>:</h4>
<p><code>mk</code> is overloaded at that point. But when one of the theorems with that name is in the current namespace (i.e. inside a <code>namespace</code> block), it takes precedence over other <code>open</code> namespaces.</p>

<a name="127342250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342250" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342250">Kevin Buzzard (May 31 2018 at 03:09)</a>:</h4>
<p>I see. Thanks.</p>

<a name="127342253"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342253" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342253">Kevin Buzzard (May 31 2018 at 03:09)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">instance</span> <span class="o">:</span> <span class="n">has_add</span> <span class="n">ℝ</span> <span class="o">:=</span>
<span class="bp">⟨λ</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">quotient</span><span class="bp">.</span><span class="n">lift_on₂</span> <span class="n">x</span> <span class="n">y</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">f</span> <span class="n">g</span><span class="o">,</span> <span class="n">mk</span> <span class="o">(</span><span class="n">f</span> <span class="bp">+</span> <span class="n">g</span><span class="o">))</span> <span class="err">$</span>
  <span class="bp">λ</span> <span class="n">f₁</span> <span class="n">g₁</span> <span class="n">f₂</span> <span class="n">g₂</span> <span class="n">hf</span> <span class="n">hg</span><span class="o">,</span> <span class="n">quotient</span><span class="bp">.</span><span class="n">sound</span> <span class="err">$</span>
  <span class="k">by</span> <span class="n">simpa</span> <span class="o">[(</span><span class="bp">≈</span><span class="o">),</span> <span class="n">setoid</span><span class="bp">.</span><span class="n">r</span><span class="o">]</span> <span class="kn">using</span> <span class="n">add_lim_zero</span> <span class="n">hf</span> <span class="n">hg</span><span class="bp">⟩</span>
</pre></div>

<a name="127342254"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342254" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342254">Kevin Buzzard (May 31 2018 at 03:09)</a>:</h4>
<p>and then</p>

<a name="127342255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342255" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342255">Kevin Buzzard (May 31 2018 at 03:09)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">instance</span> <span class="o">:</span> <span class="n">has_neg</span> <span class="n">ℝ</span> <span class="o">:=</span>
<span class="bp">⟨λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">quotient</span><span class="bp">.</span><span class="n">lift_on</span> <span class="n">x</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">f</span><span class="o">,</span> <span class="n">mk</span> <span class="o">(</span><span class="bp">-</span><span class="n">f</span><span class="o">))</span> <span class="err">$</span>
  <span class="bp">λ</span> <span class="n">f₁</span> <span class="n">f₂</span> <span class="n">hf</span><span class="o">,</span> <span class="n">quotient</span><span class="bp">.</span><span class="n">sound</span> <span class="err">$</span>
  <span class="k">by</span> <span class="n">simpa</span> <span class="o">[(</span><span class="bp">≈</span><span class="o">),</span> <span class="n">setoid</span><span class="bp">.</span><span class="n">r</span><span class="o">]</span> <span class="kn">using</span> <span class="n">neg_lim_zero</span> <span class="n">hf</span><span class="bp">⟩</span>
</pre></div>

<a name="127342257"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342257" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342257">Kevin Buzzard (May 31 2018 at 03:09)</a>:</h4>
<p>That's the same code again!</p>

<a name="127342305"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342305" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342305">Mario Carneiro (May 31 2018 at 03:10)</a>:</h4>
<p>sure is, less than 30 seconds copy paste work</p>

<a name="127342307"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342307" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342307">Kevin Buzzard (May 31 2018 at 03:10)</a>:</h4>
<p>That should be <code>by math_trivial [add_lim_zero]</code></p>

<a name="127342311"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342311" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342311">Kevin Buzzard (May 31 2018 at 03:10)</a>:</h4>
<p>and then <code>by math_trivial [neg_lim_zero]</code></p>

<a name="127342315"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342315" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342315">Mario Carneiro (May 31 2018 at 03:10)</a>:</h4>
<p>like I said, ~20 times repetition before I even consider making a tactic</p>

<a name="127342321"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342321" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342321">Mario Carneiro (May 31 2018 at 03:11)</a>:</h4>
<p>6 or 7 times is not enough</p>

<a name="127342329"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342329" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342329">Kevin Buzzard (May 31 2018 at 03:11)</a>:</h4>
<p>but if someone just came along and made that tactic and offered it to mathlib, do you think it would be useful?</p>

<a name="127342330"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342330" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342330">Kevin Buzzard (May 31 2018 at 03:11)</a>:</h4>
<p>I am seeing this ... idiom or whatever you call it over and over again</p>

<a name="127342332"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342332" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342332">Kevin Buzzard (May 31 2018 at 03:11)</a>:</h4>
<p>"we laboriously transport structure"</p>

<a name="127342334"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342334" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342334">Mario Carneiro (May 31 2018 at 03:11)</a>:</h4>
<p>in particular, it is often the case that all the axioms of concrete structure X are similar to each other, but not similar to structure Y</p>

<a name="127342382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342382" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342382">Mario Carneiro (May 31 2018 at 03:12)</a>:</h4>
<p>having a tactic that proves axioms of X is not that helpful since there are only O(1) of them, and the tactic won't help with Y</p>

<a name="127342387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342387" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342387">Kevin Buzzard (May 31 2018 at 03:13)</a>:</h4>
<p>Transport of structure is a central idea of mathematics as we see in the work of Grothendieck and Deligne</p>

<a name="127342390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342390" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342390">Mario Carneiro (May 31 2018 at 03:13)</a>:</h4>
<p>Would this <code>math_trivial</code> tactic apply equally to <code>real</code> and <code>pnat</code>?</p>

<a name="127342392"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342392" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342392">Kevin Buzzard (May 31 2018 at 03:13)</a>:</h4>
<p>This is just the sort of thing I want to find out</p>

<a name="127342395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342395" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342395">Kevin Buzzard (May 31 2018 at 03:13)</a>:</h4>
<p>I found myself when doing schemes</p>

<a name="127342397"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342397" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342397">Kevin Buzzard (May 31 2018 at 03:13)</a>:</h4>
<p>wanting a tactic like this</p>

<a name="127342398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342398" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342398">Kevin Buzzard (May 31 2018 at 03:13)</a>:</h4>
<p>and I know that when I start perfectoids</p>

<a name="127342401"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342401" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342401">Kevin Buzzard (May 31 2018 at 03:13)</a>:</h4>
<p>I'll find it again</p>

<a name="127342444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342444" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342444">Mario Carneiro (May 31 2018 at 03:14)</a>:</h4>
<p>My point is that there are not that many similarities between the proof that <code>pnat</code> has an add and <code>real</code> does</p>

<a name="127342447"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342447" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342447">Kevin Buzzard (May 31 2018 at 03:14)</a>:</h4>
<p>yeah isn't that interesting</p>

<a name="127342450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342450" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342450">Kenny Lau (May 31 2018 at 03:14)</a>:</h4>
<p>lol</p>

<a name="127342451"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342451" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342451">Kenny Lau (May 31 2018 at 03:14)</a>:</h4>
<p>Kevin</p>

<a name="127342452"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342452" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342452">Kenny Lau (May 31 2018 at 03:14)</a>:</h4>
<p>the sky is blue</p>

<a name="127342462"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342462" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342462">Kevin Buzzard (May 31 2018 at 03:15)</a>:</h4>
<p>These guys need to make a proper mathematician</p>

<a name="127342464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342464" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342464">Kevin Buzzard (May 31 2018 at 03:15)</a>:</h4>
<p>with the right kind of equals</p>

<a name="127342506"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342506" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342506">Kenny Lau (May 31 2018 at 03:16)</a>:</h4>
<p>it's foggy</p>

<a name="127342511"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342511" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342511">Kenny Lau (May 31 2018 at 03:16)</a>:</h4>
<p>relative humidity 98%</p>

<a name="127342570"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342570" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342570">Kevin Buzzard (May 31 2018 at 03:19)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="c">/-</span><span class="cm"> Extra instances to short-circuit type class resolution -/</span>
<span class="kn">instance</span> <span class="o">:</span> <span class="n">semigroup</span> <span class="n">ℝ</span>      <span class="o">:=</span> <span class="k">by</span> <span class="n">apply_instance</span>
<span class="kn">instance</span> <span class="o">:</span> <span class="n">monoid</span> <span class="n">ℝ</span>         <span class="o">:=</span> <span class="k">by</span> <span class="n">apply_instance</span>
<span class="kn">instance</span> <span class="o">:</span> <span class="n">comm_semigroup</span> <span class="n">ℝ</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">apply_instance</span>
<span class="kn">instance</span> <span class="o">:</span> <span class="n">comm_monoid</span> <span class="n">ℝ</span>    <span class="o">:=</span> <span class="k">by</span> <span class="n">apply_instance</span>
<span class="kn">instance</span> <span class="o">:</span> <span class="n">add_monoid</span> <span class="n">ℝ</span>     <span class="o">:=</span> <span class="k">by</span> <span class="n">apply_instance</span>
<span class="kn">instance</span> <span class="o">:</span> <span class="n">add_group</span> <span class="n">ℝ</span>      <span class="o">:=</span> <span class="k">by</span> <span class="n">apply_instance</span>
<span class="kn">instance</span> <span class="o">:</span> <span class="n">add_comm_group</span> <span class="n">ℝ</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">apply_instance</span>
<span class="kn">instance</span> <span class="o">:</span> <span class="n">ring</span> <span class="n">ℝ</span>           <span class="o">:=</span> <span class="k">by</span> <span class="n">apply_instance</span>
</pre></div>

<a name="127342571"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342571" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342571">Kevin Buzzard (May 31 2018 at 03:19)</a>:</h4>
<p>Why do they make life better?</p>

<a name="127342572"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342572" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342572">Kevin Buzzard (May 31 2018 at 03:19)</a>:</h4>
<p>This is all in data/real/basic.lean</p>

<a name="127342573"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342573" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342573">Kenny Lau (May 31 2018 at 03:19)</a>:</h4>
<p>because beneath you is an uncomputable instance</p>

<a name="127342575"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342575" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342575">Kevin Buzzard (May 31 2018 at 03:19)</a>:</h4>
<p>those are the best kind IMO</p>

<a name="127342576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342576" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342576">Kenny Lau (May 31 2018 at 03:19)</a>:</h4>
<p>if you don't do this, the uncomputable instance will be used</p>

<a name="127342614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342614" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342614">Kenny Lau (May 31 2018 at 03:20)</a>:</h4>
<p>so your definitions would have to be noncomputable</p>

<a name="127342619"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342619" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342619">Kenny Lau (May 31 2018 at 03:20)</a>:</h4>
<p>and it is used because it is declared the latest</p>

<a name="127342620"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342620" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342620">Kevin Buzzard (May 31 2018 at 03:20)</a>:</h4>
<p>none of this makes any sense to me</p>

<a name="127342621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342621" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342621">Mario Carneiro (May 31 2018 at 03:20)</a>:</h4>
<p>no, that's not related</p>

<a name="127342623"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342623" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342623">Mario Carneiro (May 31 2018 at 03:20)</a>:</h4>
<p>those instances</p>
<blockquote>
<p>short-circuit type class resolution</p>
</blockquote>

<a name="127342626"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342626" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342626">Kevin Buzzard (May 31 2018 at 03:20)</a>:</h4>
<p>so they are creating new paths in the system</p>

<a name="127342627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342627" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342627">Kenny Lau (May 31 2018 at 03:20)</a>:</h4>
<p>well in my construction, if I don't do that, my things become uncomputable</p>

<a name="127342629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342629" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342629">Kevin Buzzard (May 31 2018 at 03:20)</a>:</h4>
<p>which are defeq to longer paths</p>

<a name="127342630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342630" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342630">Mario Carneiro (May 31 2018 at 03:20)</a>:</h4>
<p>yes</p>

<a name="127342635"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342635" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342635">Kevin Buzzard (May 31 2018 at 03:21)</a>:</h4>
<p>and this is perhaps making the system better for some reason</p>

<a name="127342640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342640" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342640">Kevin Buzzard (May 31 2018 at 03:21)</a>:</h4>
<p>why doesn't the system run all those commands every time anyone makes anything a comm_ring?</p>

<a name="127342641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342641" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342641">Mario Carneiro (May 31 2018 at 03:21)</a>:</h4>
<p>it means less time traversing the instance graph</p>

<a name="127342642"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342642" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342642">Kevin Buzzard (May 31 2018 at 03:21)</a>:</h4>
<p>then it would be much less time</p>

<a name="127342645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342645" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342645">Mario Carneiro (May 31 2018 at 03:22)</a>:</h4>
<p>because that wouldn't save any time, it would just create lots of space</p>

<a name="127342685"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342685" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342685">Kevin Buzzard (May 31 2018 at 03:22)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">instance</span> <span class="o">:</span> <span class="n">has_lt</span> <span class="n">ℝ</span> <span class="o">:=</span>
<span class="bp">⟨λ</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">quotient</span><span class="bp">.</span><span class="n">lift_on₂</span> <span class="n">x</span> <span class="n">y</span> <span class="o">(</span><span class="bp">&lt;</span><span class="o">)</span> <span class="err">$</span>
  <span class="bp">λ</span> <span class="n">f₁</span> <span class="n">g₁</span> <span class="n">f₂</span> <span class="n">g₂</span> <span class="n">hf</span> <span class="n">hg</span><span class="o">,</span> <span class="n">propext</span> <span class="err">$</span>
  <span class="bp">⟨λ</span> <span class="n">h</span><span class="o">,</span> <span class="n">lt_of_eq_of_lt</span> <span class="o">(</span><span class="n">setoid</span><span class="bp">.</span><span class="n">symm</span> <span class="n">hf</span><span class="o">)</span> <span class="o">(</span><span class="n">lt_of_lt_of_eq</span> <span class="n">h</span> <span class="n">hg</span><span class="o">),</span>
   <span class="bp">λ</span> <span class="n">h</span><span class="o">,</span> <span class="n">lt_of_eq_of_lt</span> <span class="n">hf</span> <span class="o">(</span><span class="n">lt_of_lt_of_eq</span> <span class="n">h</span> <span class="o">(</span><span class="n">setoid</span><span class="bp">.</span><span class="n">symm</span> <span class="n">hg</span><span class="o">))</span><span class="bp">⟩⟩</span>
</pre></div>

<a name="127342687"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342687" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342687">Kevin Buzzard (May 31 2018 at 03:22)</a>:</h4>
<p>They're getting quite tricky for my tactic now</p>

<a name="127342689"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342689" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342689">Mario Carneiro (May 31 2018 at 03:22)</a>:</h4>
<p>If you do it in <em>every</em> case, there is no advantage over just searching the graph, since you have just precalculated all paths</p>

<a name="127342692"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342692" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342692">Kevin Buzzard (May 31 2018 at 03:23)</a>:</h4>
<p>ha ha</p>

<a name="127342699"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342699" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342699">Mario Carneiro (May 31 2018 at 03:23)</a>:</h4>
<p>the point is that I know that <code>real</code> is important and people want to use it lots</p>

<a name="127342702"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342702" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342702">Mario Carneiro (May 31 2018 at 03:23)</a>:</h4>
<p>so I set up the system to make that easier</p>

<a name="127342742"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342742" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342742">Kevin Buzzard (May 31 2018 at 03:24)</a>:</h4>
<p>What else can you control within the type class inference system?</p>

<a name="127342743"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342743" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342743">Mario Carneiro (May 31 2018 at 03:24)</a>:</h4>
<p>so that when weirdos state <code>ring</code> theorems over the reals for some reason, it's not horribly slow</p>

<a name="127342748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342748" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342748">Kevin Buzzard (May 31 2018 at 03:24)</a>:</h4>
<p>I liked <span class="user-mention" data-user-id="110032">@Reid Barton</span> 's comment about typeclasses.</p>

<a name="127342763"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342763" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342763">Kevin Buzzard (May 31 2018 at 03:25)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="c1">--def real := quotient (@cau_seq.equiv ℚ _ _ _ abs _) -- orig</span>
<span class="n">def</span> <span class="n">real</span> <span class="o">:=</span> <span class="n">quotient</span> <span class="o">(</span><span class="n">cau_seq</span><span class="bp">.</span><span class="n">equiv</span> <span class="o">:</span> <span class="n">setoid</span> <span class="o">(</span><span class="n">cau_seq</span> <span class="n">ℚ</span> <span class="n">abs</span><span class="o">))</span> <span class="c1">-- clearer for me</span>
</pre></div>

<a name="127342764"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342764" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342764">Kevin Buzzard (May 31 2018 at 03:25)</a>:</h4>
<p>You prefer yours?</p>

<a name="127342767"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342767" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342767">Kevin Buzzard (May 31 2018 at 03:26)</a>:</h4>
<p><code>@</code> and <code>_</code> are a bit ugly maybe</p>

<a name="127342806"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342806" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342806">Kevin Buzzard (May 31 2018 at 03:26)</a>:</h4>
<p>but yours is shorter</p>

<a name="127342867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127342867" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127342867">Mario Carneiro (May 31 2018 at 03:28)</a>:</h4>
<div class="codehilite"><pre><span></span>def real := @quotient (cau_seq ℚ abs) cau_seq.equiv
</pre></div>

<a name="127343308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127343308" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127343308">Kevin Buzzard (May 31 2018 at 03:45)</a>:</h4>
<p>What is your preference? The mathlib one?</p>

<a name="127343310"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127343310" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127343310">Mario Carneiro (May 31 2018 at 03:45)</a>:</h4>
<p>I don't have a strong preference</p>

<a name="127343312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127343312" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127343312">Kevin Buzzard (May 31 2018 at 03:45)</a>:</h4>
<p>In terms of Lean they're all presumably defeq</p>

<a name="127343321"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127343321" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127343321">Kevin Buzzard (May 31 2018 at 03:46)</a>:</h4>
<p>but in terms of readability some have more worth than others</p>

<a name="127343351"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127343351" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127343351">Mario Carneiro (May 31 2018 at 03:46)</a>:</h4>
<p>they are all syntactically equal</p>

<a name="127343365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127343365" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127343365">Kevin Buzzard (May 31 2018 at 03:47)</a>:</h4>
<p>My favourite is the last one <code>@quotient (cau_seq ℚ abs) cau_seq.equiv</code> because it's the most readable to mathematicians</p>

<a name="127343406"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127343406" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127343406">Kevin Buzzard (May 31 2018 at 03:48)</a>:</h4>
<p><code>instance : has_le ℝ := ⟨λ x y, x &lt; y ∨ x = y⟩</code></p>

<a name="127343408"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127343408" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127343408">Kevin Buzzard (May 31 2018 at 03:48)</a>:</h4>
<p>You've gone the wrong way</p>

<a name="127343411"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127343411" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127343411">Kevin Buzzard (May 31 2018 at 03:48)</a>:</h4>
<p>you can do <code>has_le</code> first and get <code>has_lt</code> for free!</p>

<a name="127343412"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127343412" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127343412">Mario Carneiro (May 31 2018 at 03:48)</a>:</h4>
<p>I know</p>

<a name="127343413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127343413" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127343413">Kevin Buzzard (May 31 2018 at 03:49)</a>:</h4>
<p>You did it this way for a reason, presumably?</p>

<a name="127343418"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127343418" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127343418">Mario Carneiro (May 31 2018 at 03:49)</a>:</h4>
<p>the constructively natural one is lt</p>

<a name="127343419"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127343419" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127343419">Kevin Buzzard (May 31 2018 at 03:49)</a>:</h4>
<p>I see</p>

<a name="127343420"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127343420" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127343420">Kevin Buzzard (May 31 2018 at 03:49)</a>:</h4>
<p>it's all about computing</p>

<a name="127343421"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127343421" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127343421">Mario Carneiro (May 31 2018 at 03:49)</a>:</h4>
<p>it states that there is some epsilon separating them</p>

<a name="127343422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127343422" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127343422">Mario Carneiro (May 31 2018 at 03:50)</a>:</h4>
<p>for le, it's either the negation of that or the disjunction with equals</p>

<a name="127349002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127349002" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127349002">Patrick Massot (May 31 2018 at 07:06)</a>:</h4>
<blockquote>
<p>that you are a Dedekind complete ordered field</p>
</blockquote>
<p>Note: as a mathematician, I use real numbers every day, and I have no idea what is a "Dedekind complete ordered field"</p>

<a name="127349061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127349061" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127349061">Patrick Massot (May 31 2018 at 07:08)</a>:</h4>
<blockquote>
<p>How are our real numbers getting along? Do we have the definition of a differentiable function yet, and of its derivative?</p>
</blockquote>
<p>I have a definition of a function from a real normed vector space to another one which is differentiable at a point. But I don't have a normed space structure on ℝ^n because I'm swamped in type class resolution issues (<a href="#narrow/stream/113488-general/topic/tc.20loop.20again" title="#narrow/stream/113488-general/topic/tc.20loop.20again">https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tc.20loop.20again</a>). Life is really hard here.</p>

<a name="127388365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127388365" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127388365">Kevin Buzzard (May 31 2018 at 23:09)</a>:</h4>
<p><em>boggle</em> I am typing up my exam into Lean and I need the fact that the decimal expansion of the real number 0.71 contains no 8's :-)</p>

<a name="127388372"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127388372" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127388372">Kevin Buzzard (May 31 2018 at 23:09)</a>:</h4>
<p>does Lean have decimal expansions??</p>

<a name="127388432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127388432" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127388432">Kevin Buzzard (May 31 2018 at 23:10)</a>:</h4>
<p>maybe a function from the non-negative reals to (functions from nat to nat)</p>

<a name="127388438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127388438" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127388438">Kevin Buzzard (May 31 2018 at 23:10)</a>:</h4>
<p>with f(succ n)&lt;=9</p>

<a name="127388441"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127388441" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127388441">Kenny Lau (May 31 2018 at 23:11)</a>:</h4>
<p>you can write that yourself</p>

<a name="127388444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127388444" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127388444">Kenny Lau (May 31 2018 at 23:11)</a>:</h4>
<p>it's quite explicit using floor</p>

<a name="127388446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127388446" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127388446">Kevin Buzzard (May 31 2018 at 23:11)</a>:</h4>
<p>you are right!</p>

<a name="127388450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127388450" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127388450">Kenny Lau (May 31 2018 at 23:11)</a>:</h4>
<p>given a real number r</p>

<a name="127388452"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127388452" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127388452">Kevin Buzzard (May 31 2018 at 23:11)</a>:</h4>
<p>But I was just asking if someone had already written it</p>

<a name="127388454"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127388454" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127388454">Kevin Buzzard (May 31 2018 at 23:11)</a>:</h4>
<p>Kenny I can do it :-)</p>

<a name="127388456"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127388456" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127388456">Kevin Buzzard (May 31 2018 at 23:11)</a>:</h4>
<p>I even lecture it in M1F some years</p>

<a name="127388459"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127388459" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127388459">Kevin Buzzard (May 31 2018 at 23:11)</a>:</h4>
<p>Darn it</p>

<a name="127388463"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127388463" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127388463">Kevin Buzzard (May 31 2018 at 23:11)</a>:</h4>
<p>if I'd lectured it this year then <span class="user-mention" data-user-id="110044">@Chris Hughes</span>  would have done it :-)</p>

<a name="127389782"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127389782" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127389782">Kevin Buzzard (May 31 2018 at 23:48)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">analysis</span><span class="bp">.</span><span class="n">real</span> <span class="c1">-- should come with a warning</span>

<span class="n">noncomputable</span> <span class="kn">definition</span> <span class="n">real</span><span class="bp">.</span><span class="n">floor</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span> <span class="bp">ℤ</span> <span class="o">:=</span>
  <span class="n">classical</span><span class="bp">.</span><span class="n">some</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">exists_floor</span> <span class="n">x</span><span class="o">)</span>

<span class="n">noncomputable</span> <span class="kn">definition</span> <span class="n">expansion</span> <span class="o">(</span><span class="n">r</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">r</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="bp">ℕ</span>
<span class="bp">|</span> <span class="mi">0</span> <span class="o">:=</span> <span class="n">real</span><span class="bp">.</span><span class="n">floor</span> <span class="n">r</span>
<span class="bp">|</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span> <span class="mi">7</span>
</pre></div>

<a name="127389786"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127389786" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127389786">Kevin Buzzard (May 31 2018 at 23:48)</a>:</h4>
<p>I made a slip: real.floor r on the last but one line is an int not a nat</p>

<a name="127389791"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127389791" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127389791">Kenny Lau (May 31 2018 at 23:48)</a>:</h4>
<p>Kevin</p>

<a name="127389792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127389792" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127389792">Kenny Lau (May 31 2018 at 23:48)</a>:</h4>
<p>the fllor is there already</p>

<a name="127389794"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127389794" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127389794">Kevin Buzzard (May 31 2018 at 23:48)</a>:</h4>
<p>but when using reals, sllips like this bring the system to its knees. 100% CPU usage, orange bars</p>

<a name="127389797"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127389797" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127389797">Kenny Lau (May 31 2018 at 23:48)</a>:</h4>
<p>it's in archimedean</p>

<a name="127389804"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127389804" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127389804">Kevin Buzzard (May 31 2018 at 23:49)</a>:</h4>
<p>Thanks</p>

<a name="127389809"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127389809" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127389809">Kevin Buzzard (May 31 2018 at 23:49)</a>:</h4>
<p>but why does my code make Lean have a deterministic timeout?</p>

<a name="127389811"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127389811" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127389811">Kevin Buzzard (May 31 2018 at 23:49)</a>:</h4>
<p>Mario has answered this before</p>

<a name="127389853"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127389853" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127389853">Kevin Buzzard (May 31 2018 at 23:50)</a>:</h4>
<p>but this behaviour ("use the imported definitions wisely or there will be timeouts") is not the norm</p>

<a name="127389864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127389864" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127389864">Kenny Lau (May 31 2018 at 23:50)</a>:</h4>
<p>it's just a typeclass fallout</p>

<a name="127389866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127389866" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127389866">Kevin Buzzard (May 31 2018 at 23:50)</a>:</h4>
<p>right</p>

<a name="127389870"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127389870" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127389870">Kevin Buzzard (May 31 2018 at 23:50)</a>:</h4>
<p>but is this a design problem with Lean or something which can be fixed in mathlib or what?</p>

<a name="127389877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127389877" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127389877">Kenny Lau (May 31 2018 at 23:51)</a>:</h4>
<p>no idea</p>

<a name="127389940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127389940" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127389940">Kevin Buzzard (May 31 2018 at 23:52)</a>:</h4>
<p>hey that floor_ring stuff is a really cool way of doing it :-)</p>

<a name="127390072"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390072" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390072">Kevin Buzzard (May 31 2018 at 23:56)</a>:</h4>
<p><code>⌊10 / 3⌋ : ℤ</code></p>

<a name="127390088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390088" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390088">Kevin Buzzard (May 31 2018 at 23:57)</a>:</h4>
<p><code>#reduce ⌊(real.sqrt 2 : ℝ)⌋</code></p>

<a name="127390092"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390092" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390092">Kevin Buzzard (May 31 2018 at 23:57)</a>:</h4>
<p>100% CPU usage!</p>

<a name="127390094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390094" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390094">Mario Carneiro (May 31 2018 at 23:57)</a>:</h4>
<p>For some reason, coercing an int to a nat causes a typeclass overflow</p>

<a name="127390096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390096" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390096">Kevin Buzzard (May 31 2018 at 23:58)</a>:</h4>
<p>segv :-)</p>

<a name="127390133"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390133" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390133">Mario Carneiro (May 31 2018 at 23:58)</a>:</h4>
<p>I've seen this many times before</p>

<a name="127390141"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390141" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390141">Kevin Buzzard (May 31 2018 at 23:58)</a>:</h4>
<p>but it's only with reals</p>

<a name="127390143"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390143" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390143">Kevin Buzzard (May 31 2018 at 23:58)</a>:</h4>
<p>Lean is really good with most structures</p>

<a name="127390151"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390151" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390151">Kevin Buzzard (May 31 2018 at 23:58)</a>:</h4>
<p>Oh indpt of reals?</p>

<a name="127390169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390169" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390169">Mario Carneiro (May 31 2018 at 23:59)</a>:</h4>
<p>you defined an int function and applied it to get a  nat</p>

<a name="127390186"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390186" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390186">Kevin Buzzard (May 31 2018 at 23:59)</a>:</h4>
<p>I know</p>

<a name="127390193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390193" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390193">Kevin Buzzard (Jun 01 2018 at 00:00)</a>:</h4>
<p>I assumed the problem was because reals always time out</p>

<a name="127390237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390237" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390237">Kevin Buzzard (Jun 01 2018 at 00:00)</a>:</h4>
<p>but maybe you fixed that</p>

<a name="127390253"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390253" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390253">Kevin Buzzard (Jun 01 2018 at 00:00)</a>:</h4>
<p>and this is an independent timeout</p>

<a name="127390254"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390254" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390254">Mario Carneiro (Jun 01 2018 at 00:00)</a>:</h4>
<p>The major source of that was fixed a while ago</p>

<a name="127390260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390260" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390260">Mario Carneiro (Jun 01 2018 at 00:00)</a>:</h4>
<p>this is just Z -&gt; N timeout</p>

<a name="127390266"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390266" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390266">Kevin Buzzard (Jun 01 2018 at 00:00)</a>:</h4>
<p>What do you get with</p>

<a name="127390267"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390267" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390267">Kevin Buzzard (Jun 01 2018 at 00:00)</a>:</h4>
<p><code>#reduce ⌊(real.sqrt 2 : ℝ)⌋</code> ?</p>

<a name="127390276"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390276" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390276">Mario Carneiro (Jun 01 2018 at 00:01)</a>:</h4>
<p>something horrible, don't do that</p>

<a name="127390279"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390279" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390279">Mario Carneiro (Jun 01 2018 at 00:01)</a>:</h4>
<p>What part of <code>noncomputable</code> don't you understand?</p>

<a name="127390283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390283" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390283">Kevin Buzzard (Jun 01 2018 at 00:01)</a>:</h4>
<p>:-)</p>

<a name="127390286"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390286" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390286">Kevin Buzzard (Jun 01 2018 at 00:01)</a>:</h4>
<p>I thought there was no harm trying</p>

<a name="127390288"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390288" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390288">Mario Carneiro (Jun 01 2018 at 00:01)</a>:</h4>
<p>it will be some huge stuck term depending on <code>classical.choice</code></p>

<a name="127390289"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390289" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390289">Kevin Buzzard (Jun 01 2018 at 00:02)</a>:</h4>
<p>after all, schoolkid can do it</p>

<a name="127390326"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390326" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390326">Kevin Buzzard (Jun 01 2018 at 00:02)</a>:</h4>
<p>it's 1 Mario</p>

<a name="127390330"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390330" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390330">Mario Carneiro (Jun 01 2018 at 00:02)</a>:</h4>
<p>You can do it, but not like this</p>

<a name="127390334"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390334" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390334">Mario Carneiro (Jun 01 2018 at 00:02)</a>:</h4>
<p>In order for <code>reduce</code> to work it has to be true generally</p>

<a name="127390335"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390335" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390335">Kevin Buzzard (Jun 01 2018 at 00:02)</a>:</h4>
<p>this is going to be tough to explain to the mathematicians</p>

<a name="127390340"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390340" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390340">Kevin Buzzard (Jun 01 2018 at 00:02)</a>:</h4>
<p>I'm just being daft, I know about eval</p>

<a name="127390344"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390344" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390344">Mario Carneiro (Jun 01 2018 at 00:02)</a>:</h4>
<p>and there are messy terms you can give where it's impossible to decide</p>

<a name="127390347"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390347" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390347">Mario Carneiro (Jun 01 2018 at 00:03)</a>:</h4>
<p><code>#eval</code> won't do any better</p>

<a name="127390354"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390354" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390354">Kevin Buzzard (Jun 01 2018 at 00:03)</a>:</h4>
<p>no but it could</p>

<a name="127390356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390356" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390356">Mario Carneiro (Jun 01 2018 at 00:03)</a>:</h4>
<p>actually it will just complain up front</p>

<a name="127390362"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390362" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390362">Mario Carneiro (Jun 01 2018 at 00:03)</a>:</h4>
<p>no it can't, <code>real.floor</code> is <em>necessarily</em> noncomputable</p>

<a name="127390371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390371" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390371">Kevin Buzzard (Jun 01 2018 at 00:03)</a>:</h4>
<p>the reduce gives me a segv (twice now)</p>

<a name="127390414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390414" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390414">Mario Carneiro (Jun 01 2018 at 00:04)</a>:</h4>
<p>What <em>can</em> do better is <code>norm_num</code> style tactics that prove specific instances of this in some subset of the full language of lean</p>

<a name="127390415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390415" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390415">Kevin Buzzard (Jun 01 2018 at 00:04)</a>:</h4>
<p>but the floor of the square root of 2 isn't noncomputable</p>

<a name="127390426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390426" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390426">Mario Carneiro (Jun 01 2018 at 00:04)</a>:</h4>
<p>That statement doesn't make sense</p>

<a name="127390431"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390431" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390431">Mario Carneiro (Jun 01 2018 at 00:05)</a>:</h4>
<p>noncomputability is a property of a term, not its denotation</p>

<a name="127390432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390432" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390432">Kenny Lau (Jun 01 2018 at 00:05)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> local computability does not patch to give global computability</p>

<a name="127390442"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390442" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390442">Kenny Lau (Jun 01 2018 at 00:05)</a>:</h4>
<p>it ain't no sheaf</p>

<a name="127390443"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390443" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390443">Kevin Buzzard (Jun 01 2018 at 00:05)</a>:</h4>
<p>is the obstruction finite?</p>

<a name="127390444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390444" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390444">Mario Carneiro (Jun 01 2018 at 00:05)</a>:</h4>
<p>?</p>

<a name="127390446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390446" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390446">Kenny Lau (Jun 01 2018 at 00:05)</a>:</h4>
<p>floor is computable iff halting problem can be solved</p>

<a name="127390448"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390448" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390448">Kenny Lau (Jun 01 2018 at 00:05)</a>:</h4>
<p>you have an obstructio in each integer, so no it ain't finite</p>

<a name="127390449"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390449" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390449">Kevin Buzzard (Jun 01 2018 at 00:05)</a>:</h4>
<p>I know but you can do it on sqrt(2)</p>

<a name="127390450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390450" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390450">Kevin Buzzard (Jun 01 2018 at 00:05)</a>:</h4>
<p>I can prove that 1 is floor of sqrt(2)</p>

<a name="127390491"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390491" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390491">Mario Carneiro (Jun 01 2018 at 00:06)</a>:</h4>
<p>So do that</p>

<a name="127390493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390493" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390493">Kenny Lau (Jun 01 2018 at 00:06)</a>:</h4>
<p>that doesn't mean you can compute floor(sqrt(2))</p>

<a name="127390495"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390495" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390495">Kevin Buzzard (Jun 01 2018 at 00:06)</a>:</h4>
<p>so it can be computed in this case</p>

<a name="127390497"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390497" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390497">Kevin Buzzard (Jun 01 2018 at 00:06)</a>:</h4>
<p>Kenny -- doesn't it?</p>

<a name="127390500"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390500" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390500">Mario Carneiro (Jun 01 2018 at 00:06)</a>:</h4>
<p><code>floor (sqrt 2)</code> is a computable number, yes</p>

<a name="127390502"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390502" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390502">Mario Carneiro (Jun 01 2018 at 00:06)</a>:</h4>
<p>but <code>floor</code> is not a computable function</p>

<a name="127390509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390509" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390509">Mario Carneiro (Jun 01 2018 at 00:07)</a>:</h4>
<p>so you can't just plug <code>sqrt 2</code> into <code>floor</code> and expect an answer</p>

<a name="127390516"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390516" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390516">Kenny Lau (Jun 01 2018 at 00:07)</a>:</h4>
<p>you need uniform computability without creativeness</p>

<a name="127390519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390519" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390519">Kenny Lau (Jun 01 2018 at 00:07)</a>:</h4>
<p>informally</p>

<a name="127390520"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390520" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390520">Kenny Lau (Jun 01 2018 at 00:07)</a>:</h4>
<p>you need a canonical function</p>

<a name="127390521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390521" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390521">Kevin Buzzard (Jun 01 2018 at 00:07)</a>:</h4>
<p>We could get transcendental numbers into Lean if we could get Chris' sin and cos stuff</p>

<a name="127390523"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390523" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390523">Kenny Lau (Jun 01 2018 at 00:07)</a>:</h4>
<p>that works across everything</p>

<a name="127390566"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390566" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390566">Kevin Buzzard (Jun 01 2018 at 00:08)</a>:</h4>
<p>floor is daft. Give me exp any day</p>

<a name="127390572"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390572" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390572">Kevin Buzzard (Jun 01 2018 at 00:08)</a>:</h4>
<p>Is that computable?</p>

<a name="127390574"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390574" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390574">Mario Carneiro (Jun 01 2018 at 00:08)</a>:</h4>
<p>By the way, floor is computable on algebraic numbers</p>

<a name="127390575"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390575" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390575">Kevin Buzzard (Jun 01 2018 at 00:08)</a>:</h4>
<p>I reckon I can prove the sequence is Cauchy</p>

<a name="127390579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390579" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390579">Kenny Lau (Jun 01 2018 at 00:09)</a>:</h4>
<p>everything is computable on algebraic numbers</p>

<a name="127390581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390581" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390581">Mario Carneiro (Jun 01 2018 at 00:09)</a>:</h4>
<p>so you can write <code>floor (sqrt 2)</code> and compute to <code>1</code></p>

<a name="127390584"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390584" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390584">Kenny Lau (Jun 01 2018 at 00:09)</a>:</h4>
<p>surprise</p>

<a name="127390586"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390586" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390586">Mario Carneiro (Jun 01 2018 at 00:09)</a>:</h4>
<p><code>exp</code> is computable</p>

<a name="127390589"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390589" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390589">Kevin Buzzard (Jun 01 2018 at 00:09)</a>:</h4>
<p>Kenny I'm sure there are non-recursive or whatever subsets of the natural numbers</p>

<a name="127390640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390640" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390640">Kenny Lau (Jun 01 2018 at 00:10)</a>:</h4>
<p>I was uttering hyperbole</p>

<a name="127390641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390641" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390641">Kevin Buzzard (Jun 01 2018 at 00:10)</a>:</h4>
<p>and so of the algebraic numbers</p>

<a name="127390643"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390643" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390643">Mario Carneiro (Jun 01 2018 at 00:10)</a>:</h4>
<p>I think real numbers are overrated in math</p>

<a name="127390644"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390644" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390644">Kenny Lau (Jun 01 2018 at 00:10)</a>:</h4>
<p>agree</p>

<a name="127390645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390645" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390645">Kevin Buzzard (Jun 01 2018 at 00:10)</a>:</h4>
<p>They're just some random completion</p>

<a name="127390646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390646" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390646">Kenny Lau (Jun 01 2018 at 00:10)</a>:</h4>
<p>I was about to say, let's study other local fields</p>

<a name="127390647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390647" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390647">Kevin Buzzard (Jun 01 2018 at 00:10)</a>:</h4>
<p>that sometimes helps in physics</p>

<a name="127390649"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390649" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390649">Kevin Buzzard (Jun 01 2018 at 00:10)</a>:</h4>
<p>exactly</p>

<a name="127390651"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390651" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390651">Mario Carneiro (Jun 01 2018 at 00:10)</a>:</h4>
<p>you don't need <em>full</em> completion in 99.9% of cases</p>

<a name="127390657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390657" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390657">Kenny Lau (Jun 01 2018 at 00:11)</a>:</h4>
<p>but there's a problem <span class="user-mention" data-user-id="110049">@Mario Carneiro</span></p>

<a name="127390658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390658" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390658">Kevin Buzzard (Jun 01 2018 at 00:11)</a>:</h4>
<p>in number theory we need the product of all the completions :-)</p>

<a name="127390659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390659" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390659">Mario Carneiro (Jun 01 2018 at 00:11)</a>:</h4>
<p>something like complete under computable sequences is more than enough</p>

<a name="127390699"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390699" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390699">Kevin Buzzard (Jun 01 2018 at 00:12)</a>:</h4>
<p>Mario do you think Langlands' work on cyclic base change would work with this smaller subset of the reals?</p>

<a name="127390700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390700" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390700">Mario Carneiro (Jun 01 2018 at 00:12)</a>:</h4>
<p>or maybe "complete under all the operations I'm talking about today"</p>

<a name="127390705"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390705" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390705">Kevin Buzzard (Jun 01 2018 at 00:12)</a>:</h4>
<p>I'm sure it uses AC everywhere</p>

<a name="127390706"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390706" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390706">Kenny Lau (Jun 01 2018 at 00:12)</a>:</h4>
<p>I can't recall the name of the theroem</p>

<a name="127390707"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390707" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390707">Mario Carneiro (Jun 01 2018 at 00:12)</a>:</h4>
<p>it's not so different to doing categories in ZFC</p>

<a name="127390709"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390709" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390709">Kenny Lau (Jun 01 2018 at 00:12)</a>:</h4>
<p>but essentially, if you include exp, then your field is noncomputable</p>

<a name="127390710"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390710" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390710">Kenny Lau (Jun 01 2018 at 00:12)</a>:</h4>
<p>algebraic numbers and exp</p>

<a name="127390711"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390711" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390711">Kenny Lau (Jun 01 2018 at 00:12)</a>:</h4>
<p>maybe some other things</p>

<a name="127390712"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390712" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390712">Kenny Lau (Jun 01 2018 at 00:12)</a>:</h4>
<p>maybe you'll know the name</p>

<a name="127390713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390713" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390713">Mario Carneiro (Jun 01 2018 at 00:12)</a>:</h4>
<p>you just want enough stuff for your theorem, but you assume too much for simplicity</p>

<a name="127390779"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390779" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390779">Mario Carneiro (Jun 01 2018 at 00:15)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> I guess it would be too easy to just compute to find out if e + pi is irrational</p>

<a name="127390782"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390782" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390782">Kenny Lau (Jun 01 2018 at 00:15)</a>:</h4>
<p>that's irrelevant</p>

<a name="127390784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390784" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390784">Kenny Lau (Jun 01 2018 at 00:16)</a>:</h4>
<p>for every rational r, if you spent enough time, you can prove that e+pi is not r</p>

<a name="127390825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390825" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390825">Kenny Lau (Jun 01 2018 at 00:16)</a>:</h4>
<p>you just can't prove that, for every rational r, e+pi is not r</p>

<a name="127390829"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390829" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390829">Kenny Lau (Jun 01 2018 at 00:16)</a>:</h4>
<p>decidable equality doesn't mean decidable pi equality</p>

<a name="127390831"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390831" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390831">Kenny Lau (Jun 01 2018 at 00:16)</a>:</h4>
<p>pi equality meaning forall equality</p>

<a name="127390832"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390832" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390832">Kenny Lau (Jun 01 2018 at 00:16)</a>:</h4>
<p>not 3.14159</p>

<a name="127390834"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390834" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390834">Mario Carneiro (Jun 01 2018 at 00:16)</a>:</h4>
<p>I know, but rationality is decidable on algebraic numbers</p>

<a name="127390835"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390835" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390835">Kenny Lau (Jun 01 2018 at 00:16)</a>:</h4>
<p>oh is it</p>

<a name="127390837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390837" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390837">Kenny Lau (Jun 01 2018 at 00:16)</a>:</h4>
<p>how do you define algebraic numbers?</p>

<a name="127390838"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390838" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390838">Mario Carneiro (Jun 01 2018 at 00:17)</a>:</h4>
<p>yes, just compute the minimal polynomial and see if it has degree 1</p>

<a name="127390845"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390845" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390845">Kenny Lau (Jun 01 2018 at 00:17)</a>:</h4>
<p>do you store the minimal polynomial?</p>

<a name="127390846"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390846" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390846">Mario Carneiro (Jun 01 2018 at 00:17)</a>:</h4>
<p>yes</p>

<a name="127390847"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390847" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390847">Kenny Lau (Jun 01 2018 at 00:17)</a>:</h4>
<p>I see</p>

<a name="127390900"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390900" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390900">Mario Carneiro (Jun 01 2018 at 00:18)</a>:</h4>
<p>I think the most impressive thing about the algebraic numbers is that irreducibility and factoring of Q[x] polynomials is decidable</p>

<a name="127390904"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127390904" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127390904">Kenny Lau (Jun 01 2018 at 00:19)</a>:</h4>
<p>agree</p>

<a name="127391365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127391365" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127391365">Kevin Buzzard (Jun 01 2018 at 00:33)</a>:</h4>
<p>come on norm-num</p>

<a name="127391366"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127391366" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127391366">Kevin Buzzard (Jun 01 2018 at 00:33)</a>:</h4>
<p><code>↑⌊0⌋ * 10 = 0</code></p>

<a name="127391367"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127391367" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127391367">Kevin Buzzard (Jun 01 2018 at 00:33)</a>:</h4>
<p>you can do it</p>

<a name="127391369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127391369" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127391369">Kevin Buzzard (Jun 01 2018 at 00:33)</a>:</h4>
<p>gaargh</p>

<a name="127391374"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127391374" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127391374">Kevin Buzzard (Jun 01 2018 at 00:34)</a>:</h4>
<p>stupid floor function</p>

<a name="127391420"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127391420" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127391420">Kevin Buzzard (Jun 01 2018 at 00:34)</a>:</h4>
<p>oh there is a lemma</p>

<a name="127391422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127391422" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127391422">Kevin Buzzard (Jun 01 2018 at 00:34)</a>:</h4>
<p>I remember now</p>

<a name="127391429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127391429" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127391429">Kevin Buzzard (Jun 01 2018 at 00:34)</a>:</h4>
<p><code>floor_coe</code></p>

<a name="127391439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127391439" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127391439">Mario Carneiro (Jun 01 2018 at 00:35)</a>:</h4>
<p>I guess floor_zero and floor_one should be simp lemmas</p>

<a name="127391442"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127391442" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127391442">Mario Carneiro (Jun 01 2018 at 00:35)</a>:</h4>
<p>and theorems</p>

<a name="127391511"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127391511" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127391511">Kevin Buzzard (Jun 01 2018 at 00:37)</a>:</h4>
<p>oh you're right, that's not (0 : Z)</p>

<a name="127391514"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127391514" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127391514">Kevin Buzzard (Jun 01 2018 at 00:37)</a>:</h4>
<p>that one of your other zeros</p>

<a name="127391560"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127391560" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127391560">Mario Carneiro (Jun 01 2018 at 00:38)</a>:</h4>
<p>it's defeq though, you can just apply <code>floor_coe</code></p>

<a name="127391939"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127391939" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127391939">Kevin Buzzard (Jun 01 2018 at 00:48)</a>:</h4>
<p>not in a rewrite :-/</p>

<a name="127391953"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127391953" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127391953">Mario Carneiro (Jun 01 2018 at 00:49)</a>:</h4>
<p>here, use as you like:</p>
<div class="codehilite"><pre><span></span>@[simp] theorem floor_zero : ⌊(0:α)⌋ = 0 := floor_coe 0

@[simp] theorem floor_one : ⌊(1:α)⌋ = 1 :=
by rw [← int.cast_one, floor_coe]
</pre></div>

<a name="127391956"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127391956" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127391956">Kenny Lau (Jun 01 2018 at 00:49)</a>:</h4>
<blockquote>
<p>that one of your other zeros</p>
</blockquote>
<p>lol</p>

<a name="127392017"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127392017" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127392017">Mario Carneiro (Jun 01 2018 at 00:50)</a>:</h4>
<p>unfortunately this doesn't help with say <code>⌊2⌋ = 2</code>, that gets tricky in general</p>

<a name="127392018"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127392018" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127392018">Mario Carneiro (Jun 01 2018 at 00:50)</a>:</h4>
<p>because the two <code>2</code>'s are represented differently</p>

<a name="127392030"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127392030" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127392030">Kevin Buzzard (Jun 01 2018 at 00:51)</a>:</h4>
<p>I've got interested in what needs names</p>

<a name="127392031"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127392031" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127392031">Kevin Buzzard (Jun 01 2018 at 00:51)</a>:</h4>
<p>I would vote for floor_zero</p>

<a name="127392080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127392080" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127392080">Kevin Buzzard (Jun 01 2018 at 00:52)</a>:</h4>
<p>rofl I just tried it in my code and it didn't work</p>

<a name="127392085"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127392085" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127392085">Kevin Buzzard (Jun 01 2018 at 00:52)</a>:</h4>
<p>and then I remembered that someone writing some code on the internet doesn't mean my computer runs it</p>

<a name="127392087"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127392087" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127392087">Kevin Buzzard (Jun 01 2018 at 00:52)</a>:</h4>
<p>and you have to copy paste</p>

<a name="127392101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127392101" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127392101">Mario Carneiro (Jun 01 2018 at 00:53)</a>:</h4>
<p>Those lines were written in <code>archimedean.lean</code>, they might not work out of context</p>

<a name="127392176"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127392176" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127392176">Kevin Buzzard (Jun 01 2018 at 00:55)</a>:</h4>
<p>I know archimedean.lean so I could fix it up</p>

<a name="127392179"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127392179" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127392179">Kevin Buzzard (Jun 01 2018 at 00:55)</a>:</h4>
<p>I've been reading some of the real code recently</p>

<a name="127392181"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127392181" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127392181">Kevin Buzzard (Jun 01 2018 at 00:55)</a>:</h4>
<p>and I'd missed archimedean so I read it the moment Kenny pointed it out to me</p>

<a name="127392183"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127392183" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127392183">Mario Carneiro (Jun 01 2018 at 00:56)</a>:</h4>
<p>I already have added those lines to my local copy, they will be out with the next batch</p>

<a name="127392224"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127392224" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127392224">Kevin Buzzard (Jun 01 2018 at 00:56)</a>:</h4>
<p>I was just thinking I should do the same</p>

<a name="127392225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127392225" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127392225">Kevin Buzzard (Jun 01 2018 at 00:56)</a>:</h4>
<p>but for me it's much harder</p>

<a name="127392232"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127392232" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127392232">Kevin Buzzard (Jun 01 2018 at 00:56)</a>:</h4>
<p>I'm doing undergrad stuff in my xena project at the minute (e.g. decimal expansions) but the library imports your mathlib</p>

<a name="127392249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127392249" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127392249">Kevin Buzzard (Jun 01 2018 at 00:57)</a>:</h4>
<p>so I can't edit my fork of your mathlib and then run it easily in my project, unless I actually start importing my mathlib</p>

<a name="127393083"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127393083" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127393083">Kevin Buzzard (Jun 01 2018 at 01:22)</a>:</h4>
<p>ha ha, to finish Q2 of my exam all I now need to do is to prove that if <code>s : ℝ := 71/100</code> then <code>⌊s⌋ = 7</code></p>

<a name="127393085"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127393085" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127393085">Kevin Buzzard (Jun 01 2018 at 01:22)</a>:</h4>
<p>the students didn't spend too much time on this bit</p>

<a name="127393100"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127393100" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127393100">Kenny Lau (Jun 01 2018 at 01:23)</a>:</h4>
<p>does that mean you finished Q1?</p>

<a name="127393146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127393146" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127393146">Mario Carneiro (Jun 01 2018 at 01:24)</a>:</h4>
<p>I guess this isn't stated as a theorem explicitly, but the way to prove <code>⌊x⌋ = n</code> is to prove <code>n &lt;= x &lt; n+1</code>, and norm_num will usually take care of that</p>

<a name="127393148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127393148" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127393148">Kevin Buzzard (Jun 01 2018 at 01:24)</a>:</h4>
<p>no</p>

<a name="127393149"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127393149" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127393149">Kevin Buzzard (Jun 01 2018 at 01:24)</a>:</h4>
<p>I liked Q2 better</p>

<a name="127393151"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127393151" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127393151">Kevin Buzzard (Jun 01 2018 at 01:24)</a>:</h4>
<p>right</p>

<a name="127393153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127393153" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127393153">Mario Carneiro (Jun 01 2018 at 01:25)</a>:</h4>
<p>also, the theorem you stated is false</p>

<a name="127393159"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127393159" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127393159">Mario Carneiro (Jun 01 2018 at 01:25)</a>:</h4>
<p>the floor of s is zero</p>

<a name="127393160"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127393160" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127393160">Kevin Buzzard (Jun 01 2018 at 01:25)</a>:</h4>
<p>:-)</p>

<a name="127393161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127393161" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127393161">Kevin Buzzard (Jun 01 2018 at 01:25)</a>:</h4>
<p>oh too many 10s</p>

<a name="127393162"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127393162" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127393162">Kevin Buzzard (Jun 01 2018 at 01:25)</a>:</h4>
<p>sorry</p>

<a name="127393167"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127393167" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127393167">Kevin Buzzard (Jun 01 2018 at 01:25)</a>:</h4>
<p>I have to work out the full decimal expansion</p>

<a name="127393169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127393169" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127393169">Kevin Buzzard (Jun 01 2018 at 01:26)</a>:</h4>
<p>so i need a fair few floors</p>

<a name="127393211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127393211" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127393211">Mario Carneiro (Jun 01 2018 at 01:26)</a>:</h4>
<p>You really want to do this on rat</p>

<a name="127393212"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127393212" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127393212">Mario Carneiro (Jun 01 2018 at 01:26)</a>:</h4>
<p>then you can just compute</p>

<a name="127393216"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127393216" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127393216">Mario Carneiro (Jun 01 2018 at 01:26)</a>:</h4>
<p>just take your real number and map it to rat</p>

<a name="127393271"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127393271" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127393271">Kevin Buzzard (Jun 01 2018 at 01:28)</a>:</h4>
<p>I didn't know to what extent that mattered</p>

<a name="127393275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127393275" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127393275">Kevin Buzzard (Jun 01 2018 at 01:28)</a>:</h4>
<p>now I need some theorem that says that the floors agree</p>

<a name="127393282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127393282" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127393282">Kevin Buzzard (Jun 01 2018 at 01:29)</a>:</h4>
<p><code>noncomputable definition s : ℝ := 71/100
lemma bound1 : 0 ≤ s := by norm_num -- fails</code> :-(</p>

<a name="127393284"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127393284" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127393284">Mario Carneiro (Jun 01 2018 at 01:29)</a>:</h4>
<p>I am already on it</p>

<a name="127393285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127393285" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127393285">Kenny Lau (Jun 01 2018 at 01:29)</a>:</h4>
<p><code>by unfold s; norm_num</code></p>

<a name="127393286"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127393286" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127393286">Kevin Buzzard (Jun 01 2018 at 01:29)</a>:</h4>
<p>thanks</p>

<a name="127394102"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127394102" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127394102">Mario Carneiro (Jun 01 2018 at 01:53)</a>:</h4>
<p>this should work for you:</p>
<div class="codehilite"><pre><span></span>@[simp] theorem rat.cast_floor
  {α} [linear_ordered_field α] [archimedean α] (x : ℚ) :
  by haveI := archimedean.floor_ring α; exact ⌊(x:α)⌋ = ⌊x⌋ :=
begin
  haveI := archimedean.floor_ring α,
  apply le_antisymm,
  { rw [le_floor, ← @rat.cast_le α, rat.cast_coe_int],
    apply floor_le },
  { rw [le_floor, ← rat.cast_coe_int, rat.cast_le],
    apply floor_le }
end
</pre></div>

<a name="127394219"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127394219" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127394219">Kevin Buzzard (Jun 01 2018 at 01:57)</a>:</h4>
<p>you have to use <code>haveI</code> in the statement to make it typecheck</p>

<a name="127394222"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127394222" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127394222">Mario Carneiro (Jun 01 2018 at 01:57)</a>:</h4>
<p>I did...</p>

<a name="127394224"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127394224" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127394224">Kevin Buzzard (Jun 01 2018 at 01:57)</a>:</h4>
<p>and then again in the proof</p>

<a name="127394227"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127394227" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127394227">Kevin Buzzard (Jun 01 2018 at 01:57)</a>:</h4>
<p>The devs don't come here, this is the maths chat</p>

<a name="127394230"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127394230" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127394230">Kevin Buzzard (Jun 01 2018 at 01:57)</a>:</h4>
<p>what do you think about all this haveI stuff?</p>

<a name="127394269"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127394269" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127394269">Kevin Buzzard (Jun 01 2018 at 01:58)</a>:</h4>
<p>Aren't things worse than they used to be?</p>

<a name="127394272"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127394272" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127394272">Kevin Buzzard (Jun 01 2018 at 01:58)</a>:</h4>
<p>Or did other stuff get fixed when that change was made?</p>

<a name="127394273"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127394273" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127394273">Mario Carneiro (Jun 01 2018 at 01:58)</a>:</h4>
<p>I think I got Leo angry about it, so I'm not going to try again</p>

<a name="127394275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127394275" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127394275">Mario Carneiro (Jun 01 2018 at 01:58)</a>:</h4>
<p>haveI is the compromise position</p>

<a name="127394281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127394281" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127394281">Mario Carneiro (Jun 01 2018 at 01:58)</a>:</h4>
<p>...but it's not unreasonable here</p>

<a name="127394290"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127394290" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127394290">Mario Carneiro (Jun 01 2018 at 01:59)</a>:</h4>
<p>I'm injecting an instance which is not an instance normally</p>

<a name="127394371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127394371" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127394371">Kevin Buzzard (Jun 01 2018 at 02:01)</a>:</h4>
<p>Thanks.</p>

<a name="127394670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127394670" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127394670">Kevin Buzzard (Jun 01 2018 at 02:11)</a>:</h4>
<p>I feel like I want to apply <code>int.succ_le_of_lt</code> out of decency</p>

<a name="127394677"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127394677" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127394677">Kevin Buzzard (Jun 01 2018 at 02:11)</a>:</h4>
<p><code>lemma int.succ_le_of_lt (a b : ℤ) : a &lt; b → int.succ a ≤ b :=</code></p>

<a name="127394680"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127394680" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127394680">Kevin Buzzard (Jun 01 2018 at 02:11)</a>:</h4>
<p>but proof is id</p>

<a name="127394683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127394683" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127394683">Mario Carneiro (Jun 01 2018 at 02:11)</a>:</h4>
<p>It's up to you</p>

<a name="127394721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127394721" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127394721">Kevin Buzzard (Jun 01 2018 at 02:12)</a>:</h4>
<p>it looks like bad style to just know it's id</p>

<a name="127394724"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127394724" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127394724">Kenny Lau (Jun 01 2018 at 02:12)</a>:</h4>
<p>who the .... cares</p>

<a name="127394727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127394727" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127394727">Kevin Buzzard (Jun 01 2018 at 02:12)</a>:</h4>
<p>it's the interface Kenny</p>

<a name="127394734"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127394734" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127394734">Kenny Lau (Jun 01 2018 at 02:12)</a>:</h4>
<p>proofs are irrelevant</p>

<a name="127394735"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127394735" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127394735">Kevin Buzzard (Jun 01 2018 at 02:12)</a>:</h4>
<p>id sometimes deserves a name :-)</p>

<a name="127394740"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127394740" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127394740">Kevin Buzzard (Jun 01 2018 at 02:12)</a>:</h4>
<p>proofs are irrelevant but names are important</p>

<a name="127394744"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127394744" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127394744">Mario Carneiro (Jun 01 2018 at 02:13)</a>:</h4>
<p>You are absolutely right, using defeq like this breaks the interface</p>

<a name="127394750"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127394750" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127394750">Mario Carneiro (Jun 01 2018 at 02:13)</a>:</h4>
<p>but it's not a hill I want to die on</p>

<a name="127394759"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127394759" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127394759">Mario Carneiro (Jun 01 2018 at 02:13)</a>:</h4>
<p>I would say "use in moderation"</p>

<a name="127395229"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395229" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395229">Kevin Buzzard (Jun 01 2018 at 02:27)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">floor_of_bounds</span> <span class="o">(</span><span class="n">r</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">z</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="o">:</span>
  <span class="err">↑</span><span class="n">z</span> <span class="bp">≤</span> <span class="n">r</span> <span class="bp">∧</span> <span class="n">r</span> <span class="bp">&lt;</span> <span class="o">(</span><span class="n">z</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">↔</span> <span class="err">⌊</span> <span class="n">r</span> <span class="err">⌋</span> <span class="bp">=</span> <span class="n">z</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">split</span><span class="o">,</span><span class="n">swap</span><span class="o">,</span> <span class="c1">-- easy one</span>
  <span class="o">{</span> <span class="n">intro</span> <span class="n">H</span><span class="o">,</span><span class="n">rw</span> <span class="err">←</span><span class="n">H</span><span class="o">,</span>
    <span class="n">split</span><span class="o">,</span><span class="n">exact</span> <span class="n">floor_le</span> <span class="n">r</span><span class="o">,</span>
    <span class="n">suffices</span> <span class="o">:</span> <span class="n">r</span> <span class="bp">&lt;</span> <span class="err">↑⌊</span><span class="n">r</span><span class="err">⌋</span> <span class="bp">+</span> <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">),</span>
      <span class="n">simpa</span> <span class="kn">using</span> <span class="n">this</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">H&#39;</span> <span class="o">:=</span> <span class="n">lt_succ_floor</span> <span class="n">r</span><span class="o">,</span>
    <span class="n">rw</span> <span class="err">←</span><span class="n">int</span><span class="bp">.</span><span class="n">cast_add</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">H&#39;</span><span class="o">,</span>
  <span class="o">},</span>
  <span class="k">have</span> <span class="n">H</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">d</span><span class="o">,</span> <span class="bp">@</span><span class="n">le_floor</span> <span class="n">α</span> <span class="bp">_</span> <span class="n">d</span> <span class="n">r</span><span class="o">,</span>

  <span class="n">intro</span> <span class="n">J</span><span class="o">,</span><span class="n">cases</span> <span class="n">J</span> <span class="k">with</span> <span class="n">floor_le&#39;</span> <span class="n">lt_succ_floor&#39;</span><span class="o">,</span>
  <span class="n">cases</span> <span class="o">(</span><span class="n">le_or_gt</span> <span class="err">⌊</span><span class="n">r</span><span class="err">⌋</span> <span class="n">z</span><span class="o">)</span> <span class="k">with</span> <span class="n">HT</span> <span class="n">HF</span><span class="o">,</span>
  <span class="n">swap</span><span class="o">,</span> <span class="n">exfalso</span><span class="o">,</span> <span class="c1">-- false one</span>
  <span class="o">{</span> <span class="k">have</span> <span class="n">XXX</span> <span class="o">:=</span> <span class="o">(</span><span class="n">H</span> <span class="o">(</span><span class="n">z</span><span class="bp">+</span><span class="mi">1</span><span class="o">))</span><span class="bp">.</span><span class="mi">1</span> <span class="o">(</span><span class="n">int</span><span class="bp">.</span><span class="n">succ_le_of_lt</span> <span class="bp">_</span> <span class="bp">_</span> <span class="n">HF</span><span class="o">),</span>
    <span class="n">rw</span> <span class="n">int</span><span class="bp">.</span><span class="n">cast_add</span> <span class="n">at</span> <span class="n">XXX</span><span class="o">,</span>
    <span class="n">clear</span> <span class="n">HF</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">H2</span> <span class="o">:=</span> <span class="n">lt_of_le_of_lt</span> <span class="n">XXX</span> <span class="n">lt_succ_floor&#39;</span><span class="o">,</span>
    <span class="n">revert</span> <span class="n">H2</span><span class="o">,</span><span class="n">simp</span><span class="o">,</span>
  <span class="o">},</span>
  <span class="n">cases</span> <span class="n">lt_or_eq_of_le</span> <span class="n">HT</span> <span class="k">with</span> <span class="n">HF</span> <span class="n">HT&#39;</span><span class="o">,</span><span class="n">swap</span><span class="o">,</span><span class="n">exact</span> <span class="n">HT&#39;</span><span class="o">,</span>
  <span class="n">exfalso</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">XXX</span> <span class="o">:=</span> <span class="o">(</span><span class="n">H</span> <span class="n">z</span><span class="o">)</span><span class="bp">.</span><span class="mi">2</span> <span class="n">floor_le&#39;</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">lt_irrefl</span> <span class="n">z</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">lt_of_le_of_lt</span> <span class="n">XXX</span> <span class="n">HF</span><span class="o">,</span>
<span class="kn">end</span>
</pre></div>

<a name="127395230"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395230" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395230">Kevin Buzzard (Jun 01 2018 at 02:27)</a>:</h4>
<p>Rubbish lean code but it's a proof</p>

<a name="127395235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395235" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395235">Kevin Buzzard (Jun 01 2018 at 02:27)</a>:</h4>
<p>What tricks am I missing?</p>

<a name="127395291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395291" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395291">Kenny Lau (Jun 01 2018 at 02:30)</a>:</h4>
<p><code>le_floor</code>?</p>

<a name="127395337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395337" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395337">Kenny Lau (Jun 01 2018 at 02:30)</a>:</h4>
<p>given <code>z &lt;= r</code>, use <code>le_floor</code> to deduce <code>z &lt;= floor(r)</code></p>

<a name="127395346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395346" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395346">Kevin Buzzard (Jun 01 2018 at 02:31)</a>:</h4>
<p>here's the reals back to their old tricks</p>

<a name="127395388"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395388" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395388">Kenny Lau (Jun 01 2018 at 02:32)</a>:</h4>
<p>given <code>r &lt; z+1</code>, <code>floor_lt</code> tells you <code>floor(r) &lt; z + 1</code></p>

<a name="127395391"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395391" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395391">Kenny Lau (Jun 01 2018 at 02:32)</a>:</h4>
<p>then deduce <code>floor(r) &lt;= z</code> (everything is an integer now)</p>

<a name="127395393"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395393" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395393">Kenny Lau (Jun 01 2018 at 02:32)</a>:</h4>
<p>and then <code>le_antisymm</code></p>

<a name="127395400"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395400" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395400">Kevin Buzzard (Jun 01 2018 at 02:33)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">noncomputable</span> <span class="kn">definition</span> <span class="n">s</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="o">:=</span> <span class="mi">71</span><span class="bp">/</span><span class="mi">100</span>

<span class="kn">example</span> <span class="o">:</span> <span class="n">floor</span> <span class="n">s</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="k">begin</span>
<span class="k">show</span> <span class="n">floor</span> <span class="o">((</span><span class="mi">71</span><span class="bp">/</span><span class="mi">100</span><span class="o">:</span><span class="n">ℚ</span><span class="o">):</span><span class="n">ℝ</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">admit</span>
<span class="kn">end</span>
</pre></div>

<a name="127395401"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395401" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395401">Kevin Buzzard (Jun 01 2018 at 02:33)</a>:</h4>
<p>deterministic timeout</p>

<a name="127395406"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395406" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395406">Kenny Lau (Jun 01 2018 at 02:33)</a>:</h4>
<p>because 71:R / 100:R is not defeq to 71:Q / 100:Q</p>

<a name="127395446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395446" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395446">Kevin Buzzard (Jun 01 2018 at 02:34)</a>:</h4>
<p>I did it by contradiction :-)</p>

<a name="127395450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395450" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395450">Kevin Buzzard (Jun 01 2018 at 02:34)</a>:</h4>
<p>you always want to do things constructively</p>

<a name="127395451"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395451" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395451">Kenny Lau (Jun 01 2018 at 02:34)</a>:</h4>
<p>?</p>

<a name="127395454"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395454" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395454">Kenny Lau (Jun 01 2018 at 02:34)</a>:</h4>
<p>I see</p>

<a name="127395455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395455" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395455">Kenny Lau (Jun 01 2018 at 02:34)</a>:</h4>
<p>to each their own</p>

<a name="127395457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395457" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395457">Kenny Lau (Jun 01 2018 at 02:34)</a>:</h4>
<p>I have no time</p>

<a name="127395458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395458" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395458">Kenny Lau (Jun 01 2018 at 02:34)</a>:</h4>
<p>I need to learn what the Weil group is</p>

<a name="127395459"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395459" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395459">Kevin Buzzard (Jun 01 2018 at 02:34)</a>:</h4>
<p>oh the coercion to R is done before the division</p>

<a name="127395466"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395466" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395466">Mario Carneiro (Jun 01 2018 at 02:35)</a>:</h4>
<p>The magic of biconditional theorems...</p>
<div class="codehilite"><pre><span></span>lemma floor_of_bounds (r : α) (z : ℤ) :
  ↑z ≤ r ∧ r &lt; (z + 1) ↔ ⌊ r ⌋ = z :=
by rw [← le_floor, ← int.cast_one, ← int.cast_add, ← floor_lt,
  int.lt_add_one_iff, le_antisymm_iff, and.comm]
</pre></div>

<a name="127395470"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395470" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395470">Kenny Lau (Jun 01 2018 at 02:35)</a>:</h4>
<p>lol</p>

<a name="127395472"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395472" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395472">Kenny Lau (Jun 01 2018 at 02:35)</a>:</h4>
<p>two lines vs 100 lines</p>

<a name="127395473"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395473" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395473">Kevin Buzzard (Jun 01 2018 at 02:35)</a>:</h4>
<p>very nice</p>

<a name="127395475"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395475" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395475">Kevin Buzzard (Jun 01 2018 at 02:35)</a>:</h4>
<p>but I never got stuck</p>

<a name="127395477"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395477" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395477">Kevin Buzzard (Jun 01 2018 at 02:35)</a>:</h4>
<p>I just proved it and enjoyed it</p>

<a name="127395478"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395478" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395478">Kevin Buzzard (Jun 01 2018 at 02:36)</a>:</h4>
<p>walking around the gardens of mathematics</p>

<a name="127395526"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395526" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395526">Mario Carneiro (Jun 01 2018 at 02:37)</a>:</h4>
<p>oh you proved by contradiction</p>

<a name="127395527"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395527" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395527">Mario Carneiro (Jun 01 2018 at 02:37)</a>:</h4>
<p>that's a bit roundabout</p>

<a name="127395571"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395571" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395571">Kevin Buzzard (Jun 01 2018 at 02:38)</a>:</h4>
<p>it's inbuilt</p>

<a name="127395575"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395575" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395575">Kevin Buzzard (Jun 01 2018 at 02:38)</a>:</h4>
<p>I asked 250 students to prove sup(S) + sup(T) = sup(S+T)</p>

<a name="127395576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395576" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395576">Mario Carneiro (Jun 01 2018 at 02:38)</a>:</h4>
<p>you have so many cases in this proof...</p>

<a name="127395577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395577" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395577">Kevin Buzzard (Jun 01 2018 at 02:38)</a>:</h4>
<p>and about 80 did it</p>

<a name="127395578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395578" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395578">Kenny Lau (Jun 01 2018 at 02:38)</a>:</h4>
<p>really</p>

<a name="127395579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395579" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395579">Kevin Buzzard (Jun 01 2018 at 02:38)</a>:</h4>
<p>and 79 did it by contradiction</p>

<a name="127395581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395581" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395581">Kenny Lau (Jun 01 2018 at 02:39)</a>:</h4>
<p>such a simple theorem</p>

<a name="127395584"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395584" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395584">Kenny Lau (Jun 01 2018 at 02:39)</a>:</h4>
<p>only 80 out of 250</p>

<a name="127395588"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395588" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395588">Kevin Buzzard (Jun 01 2018 at 02:39)</a>:</h4>
<p>it's about that</p>

<a name="127395590"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395590" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395590">Kevin Buzzard (Jun 01 2018 at 02:39)</a>:</h4>
<p>I didn't count carefully and it's all gone back to the exams office now</p>

<a name="127395591"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395591" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395591">Kenny Lau (Jun 01 2018 at 02:39)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> and the 1 is me lol</p>

<a name="127395592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395592" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395592">Kevin Buzzard (Jun 01 2018 at 02:39)</a>:</h4>
<p>maybe more</p>

<a name="127395594"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395594" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395594">Mario Carneiro (Jun 01 2018 at 02:39)</a>:</h4>
<p>I recall this story</p>

<a name="127395595"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395595" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395595">Kenny Lau (Jun 01 2018 at 02:39)</a>:</h4>
<p>like seriously</p>

<a name="127395598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395598" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395598">Kenny Lau (Jun 01 2018 at 02:39)</a>:</h4>
<p>the UMPs of sup is all you need</p>

<a name="127395599"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395599" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395599">Kevin Buzzard (Jun 01 2018 at 02:39)</a>:</h4>
<p>contradiction is the most powerful method of proof</p>

<a name="127395600"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395600" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395600">Kevin Buzzard (Jun 01 2018 at 02:39)</a>:</h4>
<p>you get to assume the most stuff</p>

<a name="127395640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395640" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395640">Kenny Lau (Jun 01 2018 at 02:40)</a>:</h4>
<p>but 0% of the people know about UMP and UMP of sup</p>

<a name="127395644"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395644" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395644">Kenny Lau (Jun 01 2018 at 02:40)</a>:</h4>
<p>rounded down to the nearest percent</p>

<a name="127395645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395645" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395645">Mario Carneiro (Jun 01 2018 at 02:40)</a>:</h4>
<p>I'm not even against it on intuitionistic grounds</p>

<a name="127395647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395647" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395647">Kevin Buzzard (Jun 01 2018 at 02:40)</a>:</h4>
<p>if you've never had your brain polluted by constructivism it's a very natural first step</p>

<a name="127395652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395652" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395652">Kenny Lau (Jun 01 2018 at 02:40)</a>:</h4>
<p>cleansed</p>

<a name="127395654"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395654" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395654">Mario Carneiro (Jun 01 2018 at 02:40)</a>:</h4>
<p>it has a way of making thinking easier and proof more complicated</p>

<a name="127395656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395656" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395656">Kevin Buzzard (Jun 01 2018 at 02:40)</a>:</h4>
<p>right</p>

<a name="127395658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395658" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395658">Kevin Buzzard (Jun 01 2018 at 02:41)</a>:</h4>
<p>I even saw, on several occasions, and this is certainly not the first time,</p>

<a name="127395659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395659" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395659">Kevin Buzzard (Jun 01 2018 at 02:41)</a>:</h4>
<p>people writing</p>

<a name="127395666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395666" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395666">Kenny Lau (Jun 01 2018 at 02:41)</a>:</h4>
<p>it's not even about constructivism anymore, I'm just chaining UMPs all around</p>

<a name="127395669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395669" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395669">Kenny Lau (Jun 01 2018 at 02:41)</a>:</h4>
<p>it's not about constructivism when people use UMP in category theory</p>

<a name="127395670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395670" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395670">Kenny Lau (Jun 01 2018 at 02:41)</a>:</h4>
<p>because it's what it is</p>

<a name="127395671"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395671" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395671">Kenny Lau (Jun 01 2018 at 02:41)</a>:</h4>
<p>it's the UMP</p>

<a name="127395672"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395672" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395672">Kevin Buzzard (Jun 01 2018 at 02:41)</a>:</h4>
<p>"We want to prove X. Let's prove it by contradiction. So assume X is false. Now consider the following perfectly good proof of X. But X is false! Contradiction!</p>

<a name="127395674"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395674" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395674">Kevin Buzzard (Jun 01 2018 at 02:41)</a>:</h4>
<p>"</p>

<a name="127395713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395713" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395713">Kenny Lau (Jun 01 2018 at 02:42)</a>:</h4>
<p>if you are a lazy person who only knows proof by contradiction it's a very natural first step</p>

<a name="127395720"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395720" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395720">Mario Carneiro (Jun 01 2018 at 02:42)</a>:</h4>
<p>For things like timed tests it's a good strategy</p>

<a name="127395723"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395723" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395723">Kenny Lau (Jun 01 2018 at 02:42)</a>:</h4>
<p>I find UMPs easier</p>

<a name="127395726"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395726" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395726">Mario Carneiro (Jun 01 2018 at 02:43)</a>:</h4>
<p>where you just write and write until you get the answer</p>

<a name="127395732"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395732" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395732">Kenny Lau (Jun 01 2018 at 02:43)</a>:</h4>
<p>I just use 100 UMPs until I get the answer</p>

<a name="127395733"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395733" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395733">Kenny Lau (Jun 01 2018 at 02:43)</a>:</h4>
<p>and I always get it</p>

<a name="127395734"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395734" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395734">Kenny Lau (Jun 01 2018 at 02:43)</a>:</h4>
<p>because it's universal</p>

<a name="127395736"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395736" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395736">Mario Carneiro (Jun 01 2018 at 02:43)</a>:</h4>
<p>Also resolution theorem proving is based on this idea</p>

<a name="127395745"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395745" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395745">Kenny Lau (Jun 01 2018 at 02:43)</a>:</h4>
<p>solve_by_elim ain't</p>

<a name="127395748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395748" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395748">Mario Carneiro (Jun 01 2018 at 02:44)</a>:</h4>
<p>where you whittle down a counterexample until it is impossible</p>

<a name="127395790"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395790" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395790">Mario Carneiro (Jun 01 2018 at 02:44)</a>:</h4>
<p>but the resulting proof looks ugly I think</p>

<a name="127395800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395800" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395800">Kenny Lau (Jun 01 2018 at 02:45)</a>:</h4>
<p>(whatever)</p>

<a name="127395801"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395801" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395801">Mario Carneiro (Jun 01 2018 at 02:45)</a>:</h4>
<p>when you want that "polished" look it's best to avoid proof by contradiction</p>

<a name="127395980"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395980" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395980">Kevin Buzzard (Jun 01 2018 at 02:51)</a>:</h4>
<p>My goal is <code>has_le.le (coe 0) (has_div.div 71 100)</code></p>

<a name="127395983"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127395983" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127395983">Kevin Buzzard (Jun 01 2018 at 02:51)</a>:</h4>
<p>and if I try and unfold either <code>has_le.le</code> or <code>coe</code> I get a deterministic timeout</p>

<a name="127396024"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396024" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396024">Kenny Lau (Jun 01 2018 at 02:52)</a>:</h4>
<p>so don't unfold them?</p>

<a name="127396038"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396038" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396038">Kevin Buzzard (Jun 01 2018 at 02:53)</a>:</h4>
<p>norm_num times out too</p>

<a name="127396081"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396081" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396081">Kenny Lau (Jun 01 2018 at 02:54)</a>:</h4>
<p>did you use <code>div</code> lemmas?</p>

<a name="127396082"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396082" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396082">Kenny Lau (Jun 01 2018 at 02:54)</a>:</h4>
<p><code>div_nonneg</code></p>

<a name="127396084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396084" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396084">Kevin Buzzard (Jun 01 2018 at 02:54)</a>:</h4>
<p>oh I need to feed those in</p>

<a name="127396085"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396085" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396085">Kenny Lau (Jun 01 2018 at 02:54)</a>:</h4>
<p>you just need that one</p>

<a name="127396087"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396087" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396087">Kenny Lau (Jun 01 2018 at 02:54)</a>:</h4>
<p>the rest should be <code>norm_num</code></p>

<a name="127396088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396088" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396088">Kevin Buzzard (Jun 01 2018 at 02:54)</a>:</h4>
<p>do I put it in the context?</p>

<a name="127396096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396096" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396096">Kenny Lau (Jun 01 2018 at 02:55)</a>:</h4>
<p>no, you apply it</p>

<a name="127396146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396146" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396146">Kevin Buzzard (Jun 01 2018 at 02:56)</a>:</h4>
<p>you want me to actually prove it by hand??</p>

<a name="127396149"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396149" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396149">Kevin Buzzard (Jun 01 2018 at 02:56)</a>:</h4>
<p>what is this -- the 1980s?</p>

<a name="127396152"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396152" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396152">Kevin Buzzard (Jun 01 2018 at 02:57)</a>:</h4>
<p>we have norm_num!</p>

<a name="127396163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396163" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396163">Kenny Lau (Jun 01 2018 at 02:57)</a>:</h4>
<p>my math teacher at high school would tell the story of people using calculators to verify that 5 x 0 = 0</p>

<a name="127396207"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396207" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396207">Kevin Buzzard (Jun 01 2018 at 02:58)</a>:</h4>
<p><code>refine div_nonneg _ _,</code> times out</p>

<a name="127396209"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396209" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396209">Kevin Buzzard (Jun 01 2018 at 02:58)</a>:</h4>
<p>everything times out</p>

<a name="127396211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396211" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396211">Kevin Buzzard (Jun 01 2018 at 02:58)</a>:</h4>
<p>my goal is corrupted</p>

<a name="127396215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396215" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396215">Kenny Lau (Jun 01 2018 at 02:58)</a>:</h4>
<p>code</p>

<a name="127396229"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396229" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396229">Kevin Buzzard (Jun 01 2018 at 02:59)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">noncomputable</span> <span class="kn">definition</span> <span class="n">s</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="o">:=</span> <span class="mi">71</span><span class="bp">/</span><span class="mi">100</span>

<span class="kn">theorem</span> <span class="n">sQ</span> <span class="o">:</span> <span class="n">s</span> <span class="bp">=</span> <span class="o">((</span><span class="mi">71</span><span class="bp">/</span><span class="mi">100</span><span class="o">:</span><span class="n">ℚ</span><span class="o">):</span><span class="n">ℝ</span><span class="o">)</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">unfold</span> <span class="n">s</span><span class="bp">;</span><span class="n">norm_num</span>

<span class="c1">--set_option pp.all true</span>
<span class="kn">example</span> <span class="o">:</span> <span class="n">floor</span> <span class="n">s</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="k">begin</span>
<span class="n">rw</span> <span class="o">[</span><span class="n">sQ</span><span class="o">,</span><span class="n">rat</span><span class="bp">.</span><span class="n">cast_floor</span><span class="o">],</span>
<span class="n">apply</span> <span class="o">(</span><span class="n">floor_of_bounds</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)</span><span class="bp">.</span><span class="mi">1</span><span class="o">,</span>
<span class="n">split</span><span class="o">,</span>
<span class="o">{</span> <span class="k">have</span> <span class="n">H</span> <span class="o">:</span> <span class="o">(</span><span class="mi">100</span> <span class="o">:</span> <span class="n">ℚ</span><span class="o">)</span><span class="bp">&gt;</span> <span class="mi">0</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">norm_num</span><span class="o">,</span>
  <span class="n">refine</span> <span class="n">div_nonneg</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">,</span>
  <span class="c1">--unfold has_le.le,</span>
<span class="c1">--show 0 ≤ 71 / 100,</span>

    <span class="n">sorry</span><span class="o">},</span>
<span class="o">{</span><span class="n">sorry</span><span class="o">}</span>
<span class="kn">end</span>
</pre></div>

<a name="127396231"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396231" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396231">Kevin Buzzard (Jun 01 2018 at 02:59)</a>:</h4>
<p>all this fuss about <code>0.71</code></p>

<a name="127396232"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396232" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396232">Kevin Buzzard (Jun 01 2018 at 02:59)</a>:</h4>
<p>I should have been in bed hours ago</p>

<a name="127396276"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396276" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396276">Kevin Buzzard (Jun 01 2018 at 03:00)</a>:</h4>
<p>I'm glad none of my students spent 2 hours on this bit</p>

<a name="127396283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396283" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396283">Kevin Buzzard (Jun 01 2018 at 03:00)</a>:</h4>
<p>it was only a 2 hour exam</p>

<a name="127396337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396337" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396337">Kenny Lau (Jun 01 2018 at 03:02)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">:</span> <span class="n">floor</span> <span class="n">s</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">rw</span> <span class="err">←</span> <span class="n">floor_of_bounds</span><span class="o">,</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">unfold</span> <span class="n">s</span><span class="o">,</span> <span class="n">apply</span> <span class="n">div_nonneg</span><span class="bp">;</span> <span class="n">norm_num</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">unfold</span> <span class="n">s</span><span class="o">,</span> <span class="n">rw</span> <span class="n">div_lt_iff</span><span class="bp">;</span> <span class="n">norm_num</span> <span class="o">}</span>
<span class="kn">end</span>
</pre></div>

<a name="127396449"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396449" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396449">Mario Carneiro (Jun 01 2018 at 03:06)</a>:</h4>
<div class="codehilite"><pre><span></span>example : floor s = 0 := by rw [← floor_of_bounds, s, int.cast_zero]; norm_num
</pre></div>

<a name="127396503"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396503" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396503">Kevin Buzzard (Jun 01 2018 at 03:08)</a>:</h4>
<p>So using rat.cast_floor was a bad idea</p>

<a name="127396509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396509" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396509">Kevin Buzzard (Jun 01 2018 at 03:08)</a>:</h4>
<p>Even though my instinct is to get out of R ASAP</p>

<a name="127396510"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396510" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396510">Kenny Lau (Jun 01 2018 at 03:08)</a>:</h4>
<p>there's a box</p>

<a name="127396511"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396511" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396511">Mario Carneiro (Jun 01 2018 at 03:08)</a>:</h4>
<p>I meant to use that if you were planning on kernel computation</p>

<a name="127396512"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396512" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396512">Kenny Lau (Jun 01 2018 at 03:08)</a>:</h4>
<p>think out of it</p>

<a name="127396513"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396513" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396513">Kenny Lau (Jun 01 2018 at 03:08)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> i couldn't get the kernel to compute it</p>

<a name="127396517"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396517" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396517">Mario Carneiro (Jun 01 2018 at 03:09)</a>:</h4>
<p>Actually <code>71</code> might be too big for the kernel...</p>

<a name="127396521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396521" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396521">Kenny Lau (Jun 01 2018 at 03:09)</a>:</h4>
<p>lol</p>

<a name="127396524"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396524" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396524">Kenny Lau (Jun 01 2018 at 03:09)</a>:</h4>
<p>71 is too big for the kernel</p>

<a name="127396526"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396526" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396526">Kenny Lau (Jun 01 2018 at 03:09)</a>:</h4>
<p><a href="https://tio.run/##K6gsycjPM/7/v6AoM69Ew9xQS8vcUPP/fwA" target="_blank" title="https://tio.run/##K6gsycjPM/7/v6AoM69Ew9xQS8vcUPP/fwA">https://tio.run/##K6gsycjPM/7/v6AoM69Ew9xQS8vcUPP/fwA</a></p>

<a name="127396531"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396531" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396531">Mario Carneiro (Jun 01 2018 at 03:09)</a>:</h4>
<p>that's VM computation though</p>

<a name="127396534"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396534" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396534">Mario Carneiro (Jun 01 2018 at 03:09)</a>:</h4>
<p>or would be if it were lean</p>

<a name="127396578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396578" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396578">Mario Carneiro (Jun 01 2018 at 03:10)</a>:</h4>
<p>python doesn't have to bother proving it is correct</p>

<a name="127396582"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127396582" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127396582">Mario Carneiro (Jun 01 2018 at 03:10)</a>:</h4>
<p>and it also doesn't use a braindead representation</p>

<a name="127397530"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127397530" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127397530">Kevin Buzzard (Jun 01 2018 at 03:45)</a>:</h4>
<p>Kenny I did it:</p>

<a name="127397531"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127397531" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127397531">Kevin Buzzard (Jun 01 2018 at 03:45)</a>:</h4>
<p><code>theorem no_eights (n : ℕ) : decimal.expansion s (by unfold s;norm_num) n ≠ 8 := ...</code></p>

<a name="127397532"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127397532" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127397532">Kevin Buzzard (Jun 01 2018 at 03:45)</a>:</h4>
<p><code>0.71</code> has no 8's in its decimal expansion</p>

<a name="127402805"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127402805" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127402805">Johan Commelin (Jun 01 2018 at 06:44)</a>:</h4>
<blockquote>
<p>Actually <code>71</code> might be too big for the kernel...</p>
</blockquote>
<p>Would it help if we compute in base <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.02778em;">r</span></span></span></span> (with <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn><mn>0</mn></mrow><annotation encoding="application/x-tex">r = 10</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.64444em;vertical-align:0em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mrel">=</span><span class="mord mathrm">1</span><span class="mord mathrm">0</span></span></span></span> or <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mn>6</mn></mrow><annotation encoding="application/x-tex">16</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.64444em;vertical-align:0em;"></span><span class="base"><span class="mord mathrm">1</span><span class="mord mathrm">6</span></span></span></span>)? Then we could have a lookup-table of simp-lemmas. And we could implement stuff like <a href="https://en.wikipedia.org/wiki/Multiplication_algorithm#Karatsuba_multiplication" target="_blank" title="https://en.wikipedia.org/wiki/Multiplication_algorithm#Karatsuba_multiplication">https://en.wikipedia.org/wiki/Multiplication_algorithm#Karatsuba_multiplication</a></p>

<a name="127402818"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127402818" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127402818">Johan Commelin (Jun 01 2018 at 06:45)</a>:</h4>
<p>And for specific computations, of course a specific base could be used, with pre-computed lookup-tables.</p>

<a name="127402890"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127402890" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127402890">Johan Commelin (Jun 01 2018 at 06:46)</a>:</h4>
<p>Ok, to be clear: I am not suggesting that we change the implementation of <code>nat</code>. But I am suggesting that we have a parallel implementation specifically for computations in base <code>r</code>. And an isomorphism between the implementations.</p>

<a name="127402899"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127402899" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127402899">Johan Commelin (Jun 01 2018 at 06:47)</a>:</h4>
<p>But maybe this means that we also need a parallel implementation of <code>int</code> and <code>rat</code>. And then I'm not sure if I would want to go down that rabbit-hole</p>

<a name="127403216"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403216" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403216">Mario Carneiro (Jun 01 2018 at 06:57)</a>:</h4>
<p>Yes, it would help to work in base r. The really important part is that r should be greater than 1</p>

<a name="127403221"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403221" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403221">Mario Carneiro (Jun 01 2018 at 06:57)</a>:</h4>
<p>The <code>num</code> type is used to address these issues, by implementing binary natural numbers instead of the default <code>nat</code> which is unary</p>

<a name="127403272"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403272" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403272">Mario Carneiro (Jun 01 2018 at 06:58)</a>:</h4>
<p><code>znum</code> is the parallel implementation of <code>int</code>; there is no qnum type (yet)</p>

<a name="127403365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403365" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403365">Johan Commelin (Jun 01 2018 at 07:01)</a>:</h4>
<p>Hmm, ok. So then you would need a <code>qnum</code> and afterwards an <code>rnum</code> and a <code>cnum</code>...</p>

<a name="127403409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403409" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403409">Mario Carneiro (Jun 01 2018 at 07:02)</a>:</h4>
<p>well, those last two don't matter anyway</p>

<a name="127403415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403415" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403415">Mario Carneiro (Jun 01 2018 at 07:02)</a>:</h4>
<p>or at least, they would be significantly different from the <code>real</code> type you know and love</p>

<a name="127403421"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403421" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403421">Mario Carneiro (Jun 01 2018 at 07:02)</a>:</h4>
<p>because computable reals are not like regular reals</p>

<a name="127403424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403424" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403424">Johan Commelin (Jun 01 2018 at 07:02)</a>:</h4>
<p>I am not suggesting that <code>rnum</code> be computable</p>

<a name="127403431"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403431" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403431">Johan Commelin (Jun 01 2018 at 07:03)</a>:</h4>
<p>But maybe then it isn't useful either (-;</p>

<a name="127403438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403438" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403438">Mario Carneiro (Jun 01 2018 at 07:03)</a>:</h4>
<p>That's the whole point</p>

<a name="127403446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403446" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403446">Mario Carneiro (Jun 01 2018 at 07:03)</a>:</h4>
<p>The idea is to have a "programming numbers" type which is proven isomorphic to the abstract version</p>

<a name="127403450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403450" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403450">Johan Commelin (Jun 01 2018 at 07:03)</a>:</h4>
<p>Right</p>

<a name="127403501"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403501" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403501">Johan Commelin (Jun 01 2018 at 07:04)</a>:</h4>
<p>But for a speed-up of Kevin's question, you would like to convert to <code>num</code> at some point. Is that correct?</p>

<a name="127403502"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403502" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403502">Mario Carneiro (Jun 01 2018 at 07:05)</a>:</h4>
<p>Unfortunately, you currently have to make a decision between VM-optimized and kernel-optimized data types</p>

<a name="127403511"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403511" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403511">Mario Carneiro (Jun 01 2018 at 07:05)</a>:</h4>
<p>so there are valid reasons to keep both around</p>

<a name="127403555"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403555" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403555">Mario Carneiro (Jun 01 2018 at 07:06)</a>:</h4>
<p><code>nat</code> is actually the faster one in the VM, because lean replaces it with GMP bignums or C ints if small enough</p>

<a name="127403558"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403558" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403558">Mario Carneiro (Jun 01 2018 at 07:06)</a>:</h4>
<p>while <code>num</code> is just a regular inductive type so it's implemented as a linked list of digits</p>

<a name="127403607"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403607" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403607">Mario Carneiro (Jun 01 2018 at 07:08)</a>:</h4>
<p>If you want to prove theorems by <code>rfl</code> or <code>dec_trivial</code>, you need to use kernel-efficient data types or else keep the numbers very small</p>

<a name="127403619"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403619" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403619">Johan Commelin (Jun 01 2018 at 07:09)</a>:</h4>
<p>Yes, I understand. So, are things like Karatsuba or Tom-Cook implemented for <code>num</code>?</p>

<a name="127403621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403621" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403621">Mario Carneiro (Jun 01 2018 at 07:09)</a>:</h4>
<p>If you are using <code>norm_num</code> or <code>simp</code>, you want VM-efficient data types</p>

<a name="127403622"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403622" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403622">Mario Carneiro (Jun 01 2018 at 07:09)</a>:</h4>
<p>No, the numbers have not got that big (yet)</p>

<a name="127403662"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403662" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403662">Mario Carneiro (Jun 01 2018 at 07:10)</a>:</h4>
<p>That requires significant size before it pays off</p>

<a name="127403665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403665" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403665">Johan Commelin (Jun 01 2018 at 07:10)</a>:</h4>
<p>I guess another problem is that for big numbers the conversion between <code>nat</code> and <code>num</code> will become the bottle-neck. Right?</p>

<a name="127403666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403666" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403666">Mario Carneiro (Jun 01 2018 at 07:11)</a>:</h4>
<p>You can't do anything that even mentions <code>nat</code> in the kernel with big numbers</p>

<a name="127403686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403686" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403686">Mario Carneiro (Jun 01 2018 at 07:12)</a>:</h4>
<p>you can't even accept nat input and convert to num because the parser produces some <code>bit0 (bit0 ... 1)</code> term to pass to your function, and the kernel evaluates it before getting to your function</p>

<a name="127403713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403713" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403713">Johan Commelin (Jun 01 2018 at 07:12)</a>:</h4>
<p>O.o (-;</p>

<a name="127403716"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403716" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403716">Mario Carneiro (Jun 01 2018 at 07:12)</a>:</h4>
<p>So this means that any conversion from <code>nat</code> has to be done in the VM. The good news is that this can be done efficiently and still be verified</p>

<a name="127403722"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403722" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403722">Johan Commelin (Jun 01 2018 at 07:13)</a>:</h4>
<p>Ok, I don't follow this anymore... but I think it means that I can relax (-;</p>

<a name="127403724"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403724" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403724">Mario Carneiro (Jun 01 2018 at 07:13)</a>:</h4>
<p>You just have theorems saying <code>bit0 \u x = \u bit0 x</code> where <code>\u : nat -&gt; num</code></p>

<a name="127403725"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403725" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403725">Johan Commelin (Jun 01 2018 at 07:13)</a>:</h4>
<p>I thought that the VM cheated... and you would lose verification</p>

<a name="127403754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403754" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403754">Mario Carneiro (Jun 01 2018 at 07:14)</a>:</h4>
<p>and you have a tactic (running in the VM) that selectively chooses to apply this theorem</p>

<a name="127403766"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403766" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403766">Mario Carneiro (Jun 01 2018 at 07:14)</a>:</h4>
<p>by looking at the <em>term</em> in the goal</p>

<a name="127403771"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403771" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403771">Mario Carneiro (Jun 01 2018 at 07:14)</a>:</h4>
<p>with regular lean functions you can only look at the value that is given, but tactics can decompose the expr that represents the value</p>

<a name="127403779"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403779" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403779">Mario Carneiro (Jun 01 2018 at 07:15)</a>:</h4>
<p>so something like <code>bit0 (bit0 ... 1)</code> has reasonable size as a term but not as a value</p>

<a name="127403816"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403816" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403816">Mario Carneiro (Jun 01 2018 at 07:16)</a>:</h4>
<p>and you can apply log(n) <code>bit0 \u x = \u bit0 x</code> theorems to get it down to a theorem just about <code>num</code></p>

<a name="127403820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403820" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403820">Mario Carneiro (Jun 01 2018 at 07:16)</a>:</h4>
<p>and then you prove by <code>rfl</code> or whatever</p>

<a name="127403821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403821" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403821">Mario Carneiro (Jun 01 2018 at 07:16)</a>:</h4>
<p>and the kernel never has to evaluate big nats</p>

<a name="127403881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403881" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403881">Johan Commelin (Jun 01 2018 at 07:18)</a>:</h4>
<p>Ok, I see the strategy.</p>

<a name="127403891"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403891" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403891">Johan Commelin (Jun 01 2018 at 07:19)</a>:</h4>
<p>I think Kevin is going to like that if at some point he wants to do some modular form stuff...</p>

<a name="127403897"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403897" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403897">Johan Commelin (Jun 01 2018 at 07:19)</a>:</h4>
<p>Because their coefficients explode</p>

<a name="127403938"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403938" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403938">Mario Carneiro (Jun 01 2018 at 07:20)</a>:</h4>
<p>So <code>norm_num</code> is also working in binary, I guess</p>

<a name="127403940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403940" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403940">Mario Carneiro (Jun 01 2018 at 07:20)</a>:</h4>
<p>it produces a theorem that is longer for larger numbers though</p>

<a name="127403944"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403944" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403944">Mario Carneiro (Jun 01 2018 at 07:21)</a>:</h4>
<p>while a kernel proof is always just <code>rfl</code></p>

<a name="127403990"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127403990" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127403990">Mario Carneiro (Jun 01 2018 at 07:22)</a>:</h4>
<p>For the most part, kernel computation is discouraged because it's not particularly optimized for that</p>

<a name="127404013"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127404013" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127404013">Mario Carneiro (Jun 01 2018 at 07:23)</a>:</h4>
<p>But I think it's amusing that in dependent type theory you can write down a very short proof of almost anything</p>

<a name="127404066"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127404066" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127404066">Johan Commelin (Jun 01 2018 at 07:24)</a>:</h4>
<p>What do you mean with that last statement?</p>

<a name="127404068"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127404068" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127404068">Mario Carneiro (Jun 01 2018 at 07:24)</a>:</h4>
<p>for example, I can write a program that enumerates proofs in ZFC or whatever, and then if there is a proof of RH with fewer than 2^2^2^2^2^2^2^2^2^2^2 symbols, then I can prove it by <code>rfl</code></p>

<a name="127404077"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127404077" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127404077">Johan Commelin (Jun 01 2018 at 07:25)</a>:</h4>
<p>Right, but that proof will require a lot of prerequisite work</p>

<a name="127404078"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127404078" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127404078">Johan Commelin (Jun 01 2018 at 07:25)</a>:</h4>
<p>(Which I consider part of the proof.)</p>

<a name="127404123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127404123" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127404123">Mario Carneiro (Jun 01 2018 at 07:26)</a>:</h4>
<p>The only work that needs to be done is the setup, stating the problem</p>

<a name="127404127"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127404127" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127404127">Mario Carneiro (Jun 01 2018 at 07:26)</a>:</h4>
<p>the "hard part" is completely absent from the accounting, except in the length bound</p>

<a name="127404134"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127404134" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127404134">Mario Carneiro (Jun 01 2018 at 07:27)</a>:</h4>
<p>but I can write functions that grow ridiculously fast in DTT so that's not saying much</p>

<a name="127404140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127404140" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127404140">Johan Commelin (Jun 01 2018 at 07:27)</a>:</h4>
<p>Ok, so we can prove that RH doesn't have a short proof.</p>

<a name="127404141"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127404141" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127404141">Johan Commelin (Jun 01 2018 at 07:27)</a>:</h4>
<p>And neither has Fermat's Last Theorem</p>

<a name="127404183"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127404183" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127404183">Mario Carneiro (Jun 01 2018 at 07:28)</a>:</h4>
<p>Okay, fermat is a good example, since we know that one is true</p>

<a name="127404184"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127404184" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127404184">Johan Commelin (Jun 01 2018 at 07:28)</a>:</h4>
<p>For otherwise they would already have been in mathlib with a <code>rfl</code> proof.</p>

<a name="127404190"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127404190" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127404190">Mario Carneiro (Jun 01 2018 at 07:28)</a>:</h4>
<p>I can prove Fermat's last theorem by <code>rfl</code></p>

<a name="127404193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127404193" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127404193">Johan Commelin (Jun 01 2018 at 07:28)</a>:</h4>
<p>I would love to see that done.</p>

<a name="127404195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127404195" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127404195">Johan Commelin (Jun 01 2018 at 07:28)</a>:</h4>
<p>The statement is already there</p>

<a name="127404196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127404196" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127404196">Johan Commelin (Jun 01 2018 at 07:28)</a>:</h4>
<p>And that is all the setup you need.</p>

<a name="127404211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127404211" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127404211">Mario Carneiro (Jun 01 2018 at 07:29)</a>:</h4>
<p>I just write a <code>bool</code> function that checks the first bazillion proofs and returns <code>tt</code> if one works, and assert by <code>rfl</code> that it is <code>tt</code></p>

<a name="127404258"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127404258" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127404258">Johan Commelin (Jun 01 2018 at 07:30)</a>:</h4>
<p>Right. And of course Lean will never finish running.</p>

<a name="127404270"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127404270" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127404270">Mario Carneiro (Jun 01 2018 at 07:30)</a>:</h4>
<p>that proof checks if and only if there is a short enough proof of FLT, and since we know there is, that means I have a short proof</p>

<a name="127404282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127404282" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127404282">Mario Carneiro (Jun 01 2018 at 07:31)</a>:</h4>
<p>Of course the problem with this kind of analysis is that lean will run (almost) forever on such a proof</p>

<a name="127404288"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127404288" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127404288">Mario Carneiro (Jun 01 2018 at 07:31)</a>:</h4>
<p>But it seems to be some kind of deficiency in DTT, that the length of a proof is no longer a suitable measure of the hardness of the proof</p>

<a name="127404323"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127404323" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127404323">Johan Commelin (Jun 01 2018 at 07:32)</a>:</h4>
<p>Yes, and that's why we still dont have FLT in mathlib (-;</p>

<a name="127404333"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127404333" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127404333">Johan Commelin (Jun 01 2018 at 07:32)</a>:</h4>
<p>No, but compile-time is still a good measure</p>

<a name="127404340"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127404340" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127404340">Mario Carneiro (Jun 01 2018 at 07:33)</a>:</h4>
<p>Yes. Or number of proof steps including definitional reductions</p>

<a name="127404351"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127404351" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127404351">Mario Carneiro (Jun 01 2018 at 07:33)</a>:</h4>
<p>This doesn't come up in ZFC since there's no definitional reduction, what you see is what you get</p>

<a name="127404418"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127404418" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127404418">Mario Carneiro (Jun 01 2018 at 07:35)</a>:</h4>
<p>anyway, this "feature" of DTT should be thought of as abuse of lean, so don't be surprised if it starts to sweat</p>

<a name="127404428"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127404428" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127404428">Mario Carneiro (Jun 01 2018 at 07:35)</a>:</h4>
<p>when you try to <code>#reduce 71 / 100</code></p>

<a name="127404477"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127404477" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127404477">Johan Commelin (Jun 01 2018 at 07:36)</a>:</h4>
<p>Sure, and in fact, we don't even know what the value of "bazillion" is for your <code>bool</code> function. We only have a very clear suggestion that it is finite.</p>

<a name="127404491"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127404491" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127404491">Mario Carneiro (Jun 01 2018 at 07:37)</a>:</h4>
<p>I think there are some pretty reasonable upper bounds based on physical considerations</p>

<a name="127404496"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127404496" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127404496">Mario Carneiro (Jun 01 2018 at 07:37)</a>:</h4>
<p>i.e. the proof appears to fit in the universe, so it's shorter than Graham's number</p>

<a name="127404502"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127404502" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127404502">Johan Commelin (Jun 01 2018 at 07:37)</a>:</h4>
<p>ok, fair enough</p>

<a name="127411378"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127411378" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127411378">Johan Commelin (Jun 01 2018 at 11:12)</a>:</h4>
<p>It seems that <code>real</code> is not an instance of <code>has_pow</code>. Should I add it, or is there some computability reason for not doing that?</p>

<a name="127414076"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127414076" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127414076">Kevin Buzzard (Jun 01 2018 at 12:33)</a>:</h4>
<p>I think the definition of <code>has_pow</code> is post-real so it might just be that nobody used them seriously enough since. As you can see, I've come back to the reals recently, and I am always interested in making them "undergraduate-friendly" so I would have run into this sooner or later.</p>

<a name="127414077"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127414077" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127414077">Kevin Buzzard (Jun 01 2018 at 12:33)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> -- where do these definitions go? Mathlib? My own Xena library? (I'm writing a library for stuff my UG mathematicians might want or need and which is not in mathlib -- can you envisage there being good reasons for such a library?)</p>
<div class="codehilite"><pre><span></span><span class="kn">definition</span> <span class="n">is_upper_bound</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">∀</span> <span class="n">s</span> <span class="err">∈</span> <span class="n">S</span><span class="o">,</span> <span class="n">s</span> <span class="bp">≤</span> <span class="n">x</span>
<span class="kn">definition</span> <span class="n">is_bounded_above</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">∃</span> <span class="n">x</span><span class="o">,</span> <span class="n">is_upper_bound</span> <span class="n">x</span> <span class="n">S</span>
<span class="kn">definition</span> <span class="n">is_LUB</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:=</span> <span class="n">is_upper_bound</span> <span class="n">x</span> <span class="n">S</span> <span class="bp">∧</span> <span class="bp">∀</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span> <span class="n">is_upper_bound</span> <span class="n">y</span> <span class="n">S</span> <span class="bp">→</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">y</span>

<span class="kn">definition</span> <span class="n">has_LUB</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">∃</span> <span class="n">x</span><span class="o">,</span> <span class="n">is_LUB</span> <span class="n">x</span> <span class="n">S</span>
</pre></div>

<a name="127414310"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127414310" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127414310">Johan Commelin (Jun 01 2018 at 12:39)</a>:</h4>
<p>Hmm, I guess to do has_pow properly, we should define <code>x^r</code> for <code>x r : real</code>. And then all of a sudden you have to work.</p>

<a name="127414359"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127414359" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127414359">Johan Commelin (Jun 01 2018 at 12:40)</a>:</h4>
<p>Or can we have multiple instances, depending on whether <code>r</code> has type <code>nat</code> or <code>int</code> or <code>rat</code> or <code>real</code>.</p>

<a name="127414447"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127414447" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127414447">Kevin Buzzard (Jun 01 2018 at 12:42)</a>:</h4>
<p>this is exactly the problem with pow</p>

<a name="127414459"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127414459" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127414459">Johan Commelin (Jun 01 2018 at 12:43)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> Isn't <code>Sup</code> already on line 316 of data.real.basic?</p>

<a name="127414460"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127414460" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127414460">Kevin Buzzard (Jun 01 2018 at 12:43)</a>:</h4>
<p>Chris Hughes wrote exp : C -&gt; C but it's still not in mathlib</p>

<a name="127414712"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127414712" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127414712">Kevin Buzzard (Jun 01 2018 at 12:49)</a>:</h4>
<p>That's CS sup</p>

<a name="127414713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127414713" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127414713">Kevin Buzzard (Jun 01 2018 at 12:49)</a>:</h4>
<p>sup(S)+sup(T) = sup(S+T) is not true for that sup</p>

<a name="127414714"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127414714" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127414714">Kevin Buzzard (Jun 01 2018 at 12:49)</a>:</h4>
<p>let S have one element and let T be empty</p>

<a name="127414715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127414715" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127414715">Kevin Buzzard (Jun 01 2018 at 12:49)</a>:</h4>
<p>(deleted)</p>

<a name="127414716"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127414716" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127414716">Kevin Buzzard (Jun 01 2018 at 12:49)</a>:</h4>
<p>it returns 37 if the set has no sup</p>

<a name="127414717"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127414717" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127414717">Kevin Buzzard (Jun 01 2018 at 12:49)</a>:</h4>
<p>This is philosophy not mathematics</p>

<a name="127414723"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127414723" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127414723">Kevin Buzzard (Jun 01 2018 at 12:50)</a>:</h4>
<p>but if you're going to define sup globally</p>

<a name="127414776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127414776" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127414776">Kevin Buzzard (Jun 01 2018 at 12:50)</a>:</h4>
<p>then it should be taking values in -infty + R + infty</p>

<a name="127414781"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127414781" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127414781">Kevin Buzzard (Jun 01 2018 at 12:50)</a>:</h4>
<p>not just spewing out 37s when it's stuck</p>

<a name="127414795"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127414795" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127414795">Kevin Buzzard (Jun 01 2018 at 12:51)</a>:</h4>
<p>You see how my predicate solves this problem?</p>

<a name="127414799"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127414799" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127414799">Kevin Buzzard (Jun 01 2018 at 12:51)</a>:</h4>
<p>I can say "if a is the sup of S and b is the sup of T then a + b is the sup of S + T</p>

<a name="127414804"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127414804" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127414804">Johan Commelin (Jun 01 2018 at 12:51)</a>:</h4>
<p>Ok, so I read too quickly (-;</p>

<a name="127414807"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127414807" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127414807">Kevin Buzzard (Jun 01 2018 at 12:51)</a>:</h4>
<p>My question is how to formalize that statement in mathlib</p>

<a name="127414813"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127414813" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127414813">Kevin Buzzard (Jun 01 2018 at 12:51)</a>:</h4>
<p>and my predicates make it look nice and easy</p>

<a name="127414815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127414815" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127414815">Kevin Buzzard (Jun 01 2018 at 12:51)</a>:</h4>
<p>whereas I can't quite do it with what we have</p>

<a name="127414856"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127414856" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127414856">Kevin Buzzard (Jun 01 2018 at 12:52)</a>:</h4>
<p>however I am unclear about whether "what I want as someone who wants to formulate elementary lemmas about sup"</p>

<a name="127414862"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127414862" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127414862">Kevin Buzzard (Jun 01 2018 at 12:52)</a>:</h4>
<p>has anything to do with "what should be in mathlib"</p>

<a name="127414863"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127414863" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127414863">Kevin Buzzard (Jun 01 2018 at 12:52)</a>:</h4>
<p>I am very unclear about what the boundaries of mathlib are</p>

<a name="127414865"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127414865" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127414865">Kevin Buzzard (Jun 01 2018 at 12:52)</a>:</h4>
<p>Look, watch this:</p>

<a name="127414867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127414867" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127414867">Kevin Buzzard (Jun 01 2018 at 12:52)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> -- should I put schemes in mathlib? Let me know. I don't care either way but you never answer</p>

<a name="127414871"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127414871" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127414871">Kevin Buzzard (Jun 01 2018 at 12:52)</a>:</h4>
<p>he never answers</p>

<a name="127414878"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127414878" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127414878">Kevin Buzzard (Jun 01 2018 at 12:53)</a>:</h4>
<p>I think he reads the question, thinks "hmm, I don't know offhand, I should look at the repo, oh look it's 7000 lines of sometimes poorly-written code"</p>

<a name="127414879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127414879" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127414879">Kevin Buzzard (Jun 01 2018 at 12:53)</a>:</h4>
<p>"this will need some thought"</p>

<a name="127414886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127414886" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127414886">Kevin Buzzard (Jun 01 2018 at 12:53)</a>:</h4>
<p>I'll try another approach</p>

<a name="127414954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127414954" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127414954">Kevin Buzzard (Jun 01 2018 at 12:55)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> I think definitions of high-level mathematical objects and statements of extremely technical theorems are extremely important things to have in Lean and I will be making quite a few of these in the future. Do you want them in mathlib or do you feel that they are beyond mathlib's remit? I hope I have conveyed in the past how I feel about this matter (namely that I think that there are many people whose interest would be sparked by a small database of complex objects built in Lean)</p>

<a name="127414996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127414996" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127414996">Kevin Buzzard (Jun 01 2018 at 12:56)</a>:</h4>
<p>I believe <span class="user-mention" data-user-id="110087">@Scott Morrison</span> thinks they should be in mathlib</p>

<a name="127416299"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127416299" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127416299">Johannes Hölzl (Jun 01 2018 at 13:32)</a>:</h4>
<p>least upper bounds etc as predicates are already there: <a href="https://github.com/leanprover/mathlib/blob/master/order/bounds.lean" target="_blank" title="https://github.com/leanprover/mathlib/blob/master/order/bounds.lean">https://github.com/leanprover/mathlib/blob/master/order/bounds.lean</a></p>

<a name="127417740"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127417740" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127417740">Sebastien Gouezel (Jun 01 2018 at 14:07)</a>:</h4>
<p>You can also have a look at <a href="https://github.com/leanprover/mathlib/blob/master/order/conditionally_complete_lattice.lean" target="_blank" title="https://github.com/leanprover/mathlib/blob/master/order/conditionally_complete_lattice.lean">https://github.com/leanprover/mathlib/blob/master/order/conditionally_complete_lattice.lean</a></p>

<a name="127422500"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127422500" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127422500">Mario Carneiro (Jun 01 2018 at 15:45)</a>:</h4>
<blockquote>
<p>-- should I put schemes in mathlib? Let me know. I don't care either way but you never answer</p>
</blockquote>
<p>RIght now? No. As Patrick has mentioned before, the scheme code is huge and requires major refactoring to go into mathlib, much like some other planned additions, e.g. Scott's category theory stuff (and he's made some progress on this last I checked). As it currently exists, it is written as a "race to the finish" which gets the job done without worrying about looking good while doing it, whereas I need "polished" code to go into mathlib. It's like the difference between research notes and a journal article or textbook. This process of bringing schemes in will take a lot of both of our time and right now I think you have bigger plans, so I would hold off on attempting this for the present.</p>

<a name="127422552"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127422552" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127422552">Mario Carneiro (Jun 01 2018 at 15:46)</a>:</h4>
<blockquote>
<p>I think definitions of high-level mathematical objects and statements of extremely technical theorems are extremely important things to have in Lean and I will be making quite a few of these in the future. Do you want them in mathlib or do you feel that they are beyond mathlib's remit?</p>
</blockquote>
<p>The "level" of the definition is not a problem, it can be as advanced as you like. But it must also be good lean code, that's my main concern.</p>

<a name="127422727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127422727" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127422727">Mario Carneiro (Jun 01 2018 at 15:51)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> There is a definition of has_pow on real, because it is a field. You can use <code>a^n</code> where <code>n : nat</code> and <code>a : real</code></p>

<a name="127422826"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127422826" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127422826">Mario Carneiro (Jun 01 2018 at 15:53)</a>:</h4>
<p>Actually <code>a^n</code> where <code>n : int</code> is not quite there, since the instance that exists is for <code>group</code>s and <code>real</code> isn't a (multiplicative) group. Maybe there should be another definition for <code>division_ring</code>s that sets <code>0^-n = 0</code>?</p>

<a name="127422964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127422964" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127422964">Mario Carneiro (Jun 01 2018 at 15:56)</a>:</h4>
<p>You could use the (tiny) library of proper division in mathlib though: <code>units.mk0 a h</code> where <code>a : real</code> and <code>h : a != 0</code> is an element of <code>units real</code>, which is a group, so you can raise it to an integer power and coerce back to real</p>

<a name="127425169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127425169" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127425169">Johan Commelin (Jun 01 2018 at 16:44)</a>:</h4>
<p>Ok, thanks. I will take a look at those functions.</p>

<a name="127425350"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127425350" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127425350">Johan Commelin (Jun 01 2018 at 16:48)</a>:</h4>
<p>Is it now easy to have the integers \cup infty? How about <code>int \cup -\infty</code> ? Including the order and addition on them. (Otherwise I could just take <code>option int</code>.</p>

<a name="127425837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127425837" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127425837">Mario Carneiro (Jun 01 2018 at 16:59)</a>:</h4>
<p>Yes, <code>with_top int</code> has an addition operation and an order, and is defeq to <code>option int</code></p>

<a name="127426287"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127426287" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127426287">Johan Commelin (Jun 01 2018 at 17:08)</a>:</h4>
<p>Hmm, but there is no <code>with_bot</code> for semigroups. I want to define a function <code>f : nat \to (with_top int)</code>, and then another function <code>nat \to real := \lam n, b^(- f(n))</code>, where <code>b</code> is some fixed real number.</p>

<a name="127426324"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127426324" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127426324">Johan Commelin (Jun 01 2018 at 17:09)</a>:</h4>
<p>So then I need to extend <code>-</code> to <code>- : with_top int \to with_bot int</code>. And I need to explain to <code>has_pow real</code> that <code>b^(-infty) = 0</code>.</p>

<a name="127426376"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127426376" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127426376">Mario Carneiro (Jun 01 2018 at 17:10)</a>:</h4>
<p>eww</p>

<a name="127426384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127426384" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127426384">Mario Carneiro (Jun 01 2018 at 17:10)</a>:</h4>
<p>that's a bit specialized</p>

<a name="127426404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127426404" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127426404">Johan Commelin (Jun 01 2018 at 17:10)</a>:</h4>
<p>Ok, <code>f(n) = infty \iff n = 0</code>.</p>

<a name="127426420"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127426420" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127426420">Mario Carneiro (Jun 01 2018 at 17:11)</a>:</h4>
<p>You can define <code>-</code> as <code>option.map (\lam x, -x)</code>, and <code>b^o</code> where <code>o : with_bot int</code> by cases</p>

<a name="127426421"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127426421" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127426421">Johan Commelin (Jun 01 2018 at 17:11)</a>:</h4>
<p>The other option is that I just use if-then-else everywhere... but I don't really like that either...</p>

<a name="127426432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127426432" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127426432">Mario Carneiro (Jun 01 2018 at 17:11)</a>:</h4>
<p>no if-then</p>

<a name="127426437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127426437" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127426437">Mario Carneiro (Jun 01 2018 at 17:11)</a>:</h4>
<p>it's an option, use cases</p>

<a name="127426457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127426457" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127426457">Johan Commelin (Jun 01 2018 at 17:12)</a>:</h4>
<p>Right. (I meant avoiding <code>option</code> and just do <code>dite (n = 0)</code> in all the definitions.</p>

<a name="127426525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127426525" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127426525">Johan Commelin (Jun 01 2018 at 17:12)</a>:</h4>
<p>(This stuff shows up everywhere in nonarchimedean valuations.)</p>

<a name="127426532"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127426532" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127426532">Mario Carneiro (Jun 01 2018 at 17:12)</a>:</h4>
<p>what <code>n = 0</code> are you talking about?</p>

<a name="127426548"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127426548" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127426548">Mario Carneiro (Jun 01 2018 at 17:13)</a>:</h4>
<p>you said <code>f</code> returns an option</p>

<a name="127426554"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127426554" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127426554">Mario Carneiro (Jun 01 2018 at 17:13)</a>:</h4>
<p>well, a <code>with_top</code></p>

<a name="127426559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127426559" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127426559">Johan Commelin (Jun 01 2018 at 17:13)</a>:</h4>
<p>Yes, but I could also define <code>f</code> on <code>pnat</code>, and <code>g</code> with a <code>dite</code>.</p>

<a name="127426561"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127426561" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127426561">Johan Commelin (Jun 01 2018 at 17:13)</a>:</h4>
<p>Right?</p>

<a name="127426610"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127426610" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127426610">Mario Carneiro (Jun 01 2018 at 17:14)</a>:</h4>
<p>Oh, I misunderstood your iff statement</p>

<a name="127426662"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127426662" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127426662">Johan Commelin (Jun 01 2018 at 17:15)</a>:</h4>
<p>But I like your approach. I'll try to implement it when I'm back at Lean. (And should I just clone and dualise the <code>with_top</code> stuff to <code>with_bot</code> for semigroups?</p>

<a name="127426664"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127426664" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127426664">Mario Carneiro (Jun 01 2018 at 17:15)</a>:</h4>
<p>It's already there</p>

<a name="127426731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127426731" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127426731">Johan Commelin (Jun 01 2018 at 17:16)</a>:</h4>
<p>Hmm, for <code>with_bot</code> I only see instances for partial orders and lattices. Not for semigroups.</p>

<a name="127426754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127426754" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127426754">Mario Carneiro (Jun 01 2018 at 17:17)</a>:</h4>
<p>There is <code>with_zero</code> also, there are lots of ways to construe the added element in all the structures</p>

<a name="127426835"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127426835" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127426835">Mario Carneiro (Jun 01 2018 at 17:18)</a>:</h4>
<p>Oh, I see, <code>with_top</code> and <code>with_bot</code> are actually the same as add_semigroups</p>

<a name="127426845"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127426845" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127426845">Johan Commelin (Jun 01 2018 at 17:19)</a>:</h4>
<p>Ok, so maybe you can also give a hint on how to define <code>f</code>. It is the p-adic valuation (where p is a prime). So <code>f(n)</code> is the maximal <code>e : nat</code> such that <code>p^e</code> divides <code>n</code>.</p>

<a name="127426852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127426852" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127426852">Johan Commelin (Jun 01 2018 at 17:19)</a>:</h4>
<blockquote>
<p>Oh, I see, <code>with_top</code> and <code>with_bot</code> are actually the same as add_semigroups</p>
</blockquote>
<p>Yes, but not as ordered add_semigroups.</p>

<a name="127426863"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127426863" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127426863">Mario Carneiro (Jun 01 2018 at 17:19)</a>:</h4>
<p>Yeah, I'll work on that</p>

<a name="127426978"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127426978" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127426978">Reid Barton (Jun 01 2018 at 17:21)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> see <a href="https://gist.github.com/rwbarton/599327954b01b2e840894189981172ea" target="_blank" title="https://gist.github.com/rwbarton/599327954b01b2e840894189981172ea">https://gist.github.com/rwbarton/599327954b01b2e840894189981172ea</a></p>

<a name="127426979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127426979" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127426979">Mario Carneiro (Jun 01 2018 at 17:21)</a>:</h4>
<p>First, I would want a "prime count" function that takes a nat and finds the appropriate power of p. It is defined arbitrarily at zero, but for concreteness that means <code>f 0 = 0</code></p>

<a name="127427030"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127427030" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127427030">Reid Barton (Jun 01 2018 at 17:22)</a>:</h4>
<p>I gave that to Kevin earlier and I think he has improved it some in the Fibonacci project</p>

<a name="127427033"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127427033" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127427033">Johan Commelin (Jun 01 2018 at 17:22)</a>:</h4>
<p>Yes, or f 0 = infty. And then you would be done.</p>

<a name="127427047"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127427047" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127427047">Johan Commelin (Jun 01 2018 at 17:22)</a>:</h4>
<p>Reid, thanks. I'll take a look.</p>

<a name="127427048"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127427048" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127427048">Mario Carneiro (Jun 01 2018 at 17:22)</a>:</h4>
<p>Then the valuation function is defined by cases on <code>n</code></p>

<a name="127427138"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127427138" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127427138">Mario Carneiro (Jun 01 2018 at 17:24)</a>:</h4>
<p>actually, I just checked what I did in metamath for this and I used with_top as well. So past me seems to think that's a better idea</p>

<a name="127427163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127427163" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127427163">Mario Carneiro (Jun 01 2018 at 17:25)</a>:</h4>
<p>I'm a bit worried about having to coerce all the time though</p>

<a name="127428342"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127428342" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127428342">Kevin Buzzard (Jun 01 2018 at 17:47)</a>:</h4>
<p>I don't think I ever got the code completely working in the Fibonacci project, there was perhaps one sorry I never got rid of</p>

<a name="127428438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127428438" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127428438">Kevin Buzzard (Jun 01 2018 at 17:48)</a>:</h4>
<blockquote>
<p>As it currently exists, it is written as a "race to the finish" which gets the job done without worrying about looking good while doing it, whereas I need "polished" code to go into mathlib. It's like the difference between research notes and a journal article or textbook. This process of bringing schemes in will take a lot of both of our time and right now I think you have bigger plans, so I would hold off on attempting this for the present.</p>
</blockquote>
<p>Yes, this is exactly how I wrote it, and I put very little thought into how to make structures because I didn't really know how to make structures at the time. Here are my more long-term thoughts on these matters:</p>

<a name="127428457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127428457" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127428457">Kevin Buzzard (Jun 01 2018 at 17:49)</a>:</h4>
<p>I'm going to do perfectoid spaces because I think it would be funny to do them</p>

<a name="127428470"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127428470" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127428470">Kevin Buzzard (Jun 01 2018 at 17:49)</a>:</h4>
<p>Some scheme stuff we will need e.g. sheaves</p>

<a name="127428479"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127428479" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127428479">Kevin Buzzard (Jun 01 2018 at 17:49)</a>:</h4>
<p>but I was thinking about re-doing it</p>

<a name="127428485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127428485" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127428485">Kevin Buzzard (Jun 01 2018 at 17:49)</a>:</h4>
<p>doing it all for a second time in a perfectoid spaces directory</p>

<a name="127428548"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127428548" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127428548">Kevin Buzzard (Jun 01 2018 at 17:50)</a>:</h4>
<p>and this time doing it better and checking with people like Mario along the way as to whether the structures looked sensible</p>

<a name="127428559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127428559" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127428559">Kevin Buzzard (Jun 01 2018 at 17:50)</a>:</h4>
<p>I understand now much better what I can do well and what I do badly</p>

<a name="127428567"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127428567" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127428567">Kevin Buzzard (Jun 01 2018 at 17:50)</a>:</h4>
<p>and especially what I do so badly that it will take a lot of time to fix</p>

<a name="127428580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127428580" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127428580">Kevin Buzzard (Jun 01 2018 at 17:50)</a>:</h4>
<p>I make no apologies for the race to the finish with schemes -- this was simply a test to see if it could be done, and it could be done</p>

<a name="127428624"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127428624" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127428624">Mario Carneiro (Jun 01 2018 at 17:51)</a>:</h4>
<p>I thnk that's a good plan</p>

<a name="127428673"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127428673" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127428673">Kevin Buzzard (Jun 01 2018 at 17:52)</a>:</h4>
<p>In the long term with schemes, I propose doing perfectoid spaces, seeing the parts which are common to both theories, using this commonality as an argument for inclusion in mathlib, and then spending some time writing these parts of the code properly</p>

<a name="127428688"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127428688" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127428688">Kevin Buzzard (Jun 01 2018 at 17:52)</a>:</h4>
<p>so for example we will need sheaves of types at some point</p>

<a name="127428693"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127428693" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127428693">Kevin Buzzard (Jun 01 2018 at 17:52)</a>:</h4>
<p>and when we need them in the perfectoid theory I will revisit what I did for schemes</p>

<a name="127428694"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127428694" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127428694">Mario Carneiro (Jun 01 2018 at 17:52)</a>:</h4>
<p>The second time around you will have a <em>much</em> better appreciation for the subtleties and design questions and can do it right</p>

<a name="127428705"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127428705" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127428705">Kevin Buzzard (Jun 01 2018 at 17:52)</a>:</h4>
<p>(in fact we did these already and I even have a suggested definition from Mario somewhere in my starred messages)</p>

<a name="127428708"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127428708" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127428708">Kevin Buzzard (Jun 01 2018 at 17:53)</a>:</h4>
<p>yes -- second time round much better</p>

<a name="127428729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127428729" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127428729">Mario Carneiro (Jun 01 2018 at 17:53)</a>:</h4>
<p>Not to mention you are a better lean programmer now than last month (and the month before that etc)</p>

<a name="127428731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127428731" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127428731">Kevin Buzzard (Jun 01 2018 at 17:53)</a>:</h4>
<p>so second time round I think "this is important, I knocked up a definition in 10 minutes when I was doing schemes, here are the problems I had with it, let's fix those problems now and aim for mathlib"</p>

<a name="127428737"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127428737" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127428737">Kevin Buzzard (Jun 01 2018 at 17:53)</a>:</h4>
<p>"and write a proper interface while we're here"</p>

<a name="127428749"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127428749" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127428749">Kevin Buzzard (Jun 01 2018 at 17:54)</a>:</h4>
<p>so it's partly some random repo with random bits of people's papers formalised</p>

<a name="127428789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127428789" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127428789">Kevin Buzzard (Jun 01 2018 at 17:54)</a>:</h4>
<p>and then some directory called "mathlib_someday"</p>

<a name="127428799"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127428799" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127428799">Mario Carneiro (Jun 01 2018 at 17:54)</a>:</h4>
<p>When I look at <code>dioph.lean</code> I am ashamed of myself, I would write that so much better now and it's been only a year</p>

<a name="127428805"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127428805" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127428805">Kevin Buzzard (Jun 01 2018 at 17:54)</a>:</h4>
<p>where we put files where someone has actually made an effort to make the file mathlib-worthy</p>

<a name="127428825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127428825" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127428825">Kevin Buzzard (Jun 01 2018 at 17:55)</a>:</h4>
<p>You're absolutely right that I get better every month. When I started schemes I had no idea how to use type class inference so never used it -- I would just supply all the missing proofs myself.</p>

<a name="127440781"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127440781" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127440781">Scott Morrison (Jun 01 2018 at 22:15)</a>:</h4>
<p>This all sounds like a great plan --- schemes absolutely deserve to be in mathlib (what would be the point of mathlib if we weren't aiming for it to cover the basic essentials?), and at the same time we should try to make sure code going into mathlib is good (not perfect, though).</p>

<a name="127440829"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127440829" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127440829">Scott Morrison (Jun 01 2018 at 22:16)</a>:</h4>
<p>My categories code (getting there! :-) is still abysmal, probably, and I appreciate it's going to be lots of work to get it into mathlib. :-)</p>

<a name="127482657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127482657" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127482657">Kevin Buzzard (Jun 03 2018 at 00:08)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">algebra</span><span class="bp">.</span><span class="n">archimedean</span>

<span class="bp">#</span><span class="kn">check</span> <span class="bp">@</span><span class="n">abs_nonneg</span>
<span class="c1">-- abs_nonneg : ∀ {α : Type u_1}</span>
<span class="c1">--   [_inst_1 : decidable_linear_ordered_comm_group α] (a : α),</span>
<span class="c1">--   abs a ≥ 0</span>

<span class="kn">theorem</span> <span class="n">abs_nonneg&#39;</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">[</span><span class="n">floor_ring</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">decidable_linear_ordered_comm_group</span> <span class="n">α</span><span class="o">]</span>
<span class="o">(</span><span class="n">r</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">abs</span> <span class="n">r</span> <span class="bp">≥</span> <span class="mi">0</span> <span class="o">:=</span> <span class="n">abs_nonneg</span> <span class="n">r</span> <span class="c1">-- fails</span>
</pre></div>

<a name="127482660"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127482660" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127482660">Kevin Buzzard (Jun 03 2018 at 00:08)</a>:</h4>
<p>My understanding of something Reid said a few days ago about the reals</p>

<a name="127482661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127482661" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127482661">Kenny Lau (Jun 03 2018 at 00:08)</a>:</h4>
<p>diamond of death?</p>

<a name="127482664"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127482664" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127482664">Kevin Buzzard (Jun 03 2018 at 00:08)</a>:</h4>
<p>was that I shouldn't be proving things about the reals</p>

<a name="127482670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127482670" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127482670">Kevin Buzzard (Jun 03 2018 at 00:09)</a>:</h4>
<p>I should just demand I'm a complete totally ordered field and deduce everything from that</p>

<a name="127482671"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127482671" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127482671">Mario Carneiro (Jun 03 2018 at 00:09)</a>:</h4>
<p>yeah, this is a diamond problem</p>

<a name="127482672"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127482672" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127482672">Kevin Buzzard (Jun 03 2018 at 00:09)</a>:</h4>
<p>but the real problem was decidability I think</p>

<a name="127482674"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127482674" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127482674">Mario Carneiro (Jun 03 2018 at 00:09)</a>:</h4>
<p>you have two conflicting group structures on A</p>

<a name="127482675"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127482675" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127482675">Kenny Lau (Jun 03 2018 at 00:09)</a>:</h4>
<p>and order structure?</p>

<a name="127482676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127482676" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127482676">Kevin Buzzard (Jun 03 2018 at 00:10)</a>:</h4>
<p>I want to use this abs &gt;= 0 lemma</p>

<a name="127482721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127482721" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127482721">Kevin Buzzard (Jun 03 2018 at 00:10)</a>:</h4>
<p>a floor_ring has an order</p>

<a name="127482723"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127482723" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127482723">Mario Carneiro (Jun 03 2018 at 00:10)</a>:</h4>
<p>Why do you have two typeclasses here? that's the question</p>

<a name="127482728"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127482728" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127482728">Reid Barton (Jun 03 2018 at 00:11)</a>:</h4>
<p>In this case I think you don't need <code>decidable_linear_ordered_comm_group</code></p>

<a name="127482730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127482730" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127482730">Mario Carneiro (Jun 03 2018 at 00:11)</a>:</h4>
<p>you do, to state <code>abs</code></p>

<a name="127482731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127482731" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127482731">Mario Carneiro (Jun 03 2018 at 00:11)</a>:</h4>
<p>but you don't need the floor_ring</p>

<a name="127482878"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127482878" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127482878">Kevin Buzzard (Jun 03 2018 at 00:16)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">definition</span> <span class="n">abs_expansion</span> <span class="o">(</span><span class="n">r</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">[</span><span class="n">decidable_linear_ordered_comm_group</span> <span class="n">α</span><span class="o">]:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="bp">ℕ</span> <span class="o">:=</span>
  <span class="n">expansion</span> <span class="o">(</span><span class="n">abs</span> <span class="n">r</span><span class="o">)</span> <span class="o">(</span><span class="n">abs_nonneg</span> <span class="n">r</span><span class="o">)</span>
</pre></div>

<a name="127482879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127482879" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127482879">Kevin Buzzard (Jun 03 2018 at 00:16)</a>:</h4>
<p>that's what the problem becomes if I remove the floor_ring</p>

<a name="127482884"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127482884" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127482884">Mario Carneiro (Jun 03 2018 at 00:17)</a>:</h4>
<p>what's <code>expansion</code></p>

<a name="127482885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127482885" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127482885">Kevin Buzzard (Jun 03 2018 at 00:17)</a>:</h4>
<div class="codehilite"><pre><span></span>type mismatch at application
  expansion (abs r) _
term
  abs_nonneg r
has type
  @ge α
    (@preorder.to_has_le α
       (@partial_order.to_preorder α
          (@ordered_comm_group.to_partial_order α
             (@decidable_linear_ordered_comm_group.to_ordered_comm_group α _inst_3))))
    (@abs α _inst_3 r)
    0
but is expected to have type
  @ge α
    (@preorder.to_has_le α
       (@partial_order.to_preorder α
          (@ordered_comm_monoid.to_partial_order α
             (@ordered_cancel_comm_monoid.to_ordered_comm_monoid α
                (@ordered_semiring.to_ordered_cancel_comm_monoid α
                   (@ordered_ring.to_ordered_semiring α
                      (@linear_ordered_ring.to_ordered_ring α (@floor_ring.to_linear_ordered_ring α _inst_2))))))))
    (@abs α _inst_3 r)
    0
</pre></div>

<a name="127482887"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127482887" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127482887">Mario Carneiro (Jun 03 2018 at 00:17)</a>:</h4>
<p>Again, conflicting typeclasses</p>

<a name="127482890"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127482890" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127482890">Kevin Buzzard (Jun 03 2018 at 00:17)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">definition</span> <span class="n">expansion</span> <span class="o">(</span><span class="n">r</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">r</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="bp">ℕ</span>
<span class="bp">|</span> <span class="mi">0</span> <span class="o">:=</span> <span class="n">int</span><span class="bp">.</span><span class="n">to_nat</span> <span class="o">(</span><span class="n">floor</span> <span class="n">r</span><span class="o">)</span>
<span class="bp">|</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span> <span class="n">int</span><span class="bp">.</span><span class="n">to_nat</span> <span class="o">(</span><span class="n">floor</span> <span class="o">(</span><span class="n">chomp</span> <span class="n">r</span> <span class="n">n</span><span class="o">))</span>
</pre></div>

<a name="127482892"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127482892" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127482892">Mario Carneiro (Jun 03 2018 at 00:17)</a>:</h4>
<p><code>inst_3</code> in one, <code>inst_2</code> in the other</p>

<a name="127482895"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127482895" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127482895">Kevin Buzzard (Jun 03 2018 at 00:17)</a>:</h4>
<p>But it's just a decidability issue</p>

<a name="127482933"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127482933" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127482933">Mario Carneiro (Jun 03 2018 at 00:18)</a>:</h4>
<p>no it's a conflicting typeclasses issue</p>

<a name="127482936"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127482936" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127482936">Kevin Buzzard (Jun 03 2018 at 00:18)</a>:</h4>
<p>I just want to "switch decidability on"</p>

<a name="127482938"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127482938" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127482938">Mario Carneiro (Jun 03 2018 at 00:18)</a>:</h4>
<p>I assume you don't care about classical?</p>

<a name="127482940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127482940" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127482940">Kevin Buzzard (Jun 03 2018 at 00:18)</a>:</h4>
<p>right</p>

<a name="127482941"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127482941" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127482941">Mario Carneiro (Jun 03 2018 at 00:18)</a>:</h4>
<p>just <code>local instance decidable_prop</code></p>

<a name="127482942"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127482942" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127482942">Kevin Buzzard (Jun 03 2018 at 00:18)</a>:</h4>
<p>This is stuff for mathematicians</p>

<a name="127483004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483004" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483004">Mario Carneiro (Jun 03 2018 at 00:20)</a>:</h4>
<p>Maybe you should just do this over <code>\R</code> instead of <code>A</code></p>

<a name="127483006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483006" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483006">Mario Carneiro (Jun 03 2018 at 00:20)</a>:</h4>
<p>or else use the noncomputable floor instance for archimedean <code>A</code></p>

<a name="127483010"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483010" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483010">Kevin Buzzard (Jun 03 2018 at 00:21)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">[</span><span class="n">floor_ring</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span> <span class="n">add_comm_group</span> <span class="n">α</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">apply_instance</span>
<span class="kn">example</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">[</span><span class="n">floor_ring</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span> <span class="n">linear_order</span> <span class="n">α</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">apply_instance</span>
</pre></div>

<a name="127483116"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483116" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483116">Kevin Buzzard (Jun 03 2018 at 00:25)</a>:</h4>
<p>I am a complete idiot</p>

<a name="127483117"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483117" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483117">Kevin Buzzard (Jun 03 2018 at 00:25)</a>:</h4>
<p>I should just be proving a junk theorem</p>

<a name="127483158"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483158" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483158">Kevin Buzzard (Jun 03 2018 at 00:26)</a>:</h4>
<p>I was defining decimal expansions of real numbers</p>

<a name="127483159"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483159" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483159">Kevin Buzzard (Jun 03 2018 at 00:26)</a>:</h4>
<p>and being fussy about issues with negative numbers</p>

<a name="127483168"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483168" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483168">Kevin Buzzard (Jun 03 2018 at 00:27)</a>:</h4>
<p>I should just let the function return some random result if the input is negative and then stop fussing</p>

<a name="127483214"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483214" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483214">Kenny Lau (Jun 03 2018 at 00:28)</a>:</h4>
<p>57</p>

<a name="127483216"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483216" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483216">Kevin Buzzard (Jun 03 2018 at 00:28)</a>:</h4>
<p>I can't believe I'm going to prove a junk theorem</p>

<a name="127483218"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483218" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483218">Kevin Buzzard (Jun 03 2018 at 00:28)</a>:</h4>
<p>I feel dirty</p>

<a name="127483233"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483233" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483233">Kevin Buzzard (Jun 03 2018 at 00:29)</a>:</h4>
<p>This is the problem</p>

<a name="127483234"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483234" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483234">Kevin Buzzard (Jun 03 2018 at 00:29)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">definition</span> <span class="n">expansion</span> <span class="o">(</span><span class="n">r</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">r</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="bp">ℕ</span>
<span class="bp">|</span> <span class="mi">0</span> <span class="o">:=</span> <span class="n">int</span><span class="bp">.</span><span class="n">to_nat</span> <span class="o">(</span><span class="n">floor</span> <span class="n">r</span><span class="o">)</span>
<span class="bp">|</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span> <span class="n">int</span><span class="bp">.</span><span class="n">to_nat</span> <span class="o">(</span><span class="n">floor</span> <span class="o">(</span><span class="n">chomp</span> <span class="n">r</span> <span class="n">n</span><span class="o">))</span>
</pre></div>

<a name="127483237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483237" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483237">Kevin Buzzard (Jun 03 2018 at 00:29)</a>:</h4>
<p>I just have to drop <code>H</code></p>

<a name="127483279"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483279" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483279">Mario Carneiro (Jun 03 2018 at 00:30)</a>:</h4>
<p>It's not even used</p>

<a name="127483280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483280" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483280">Kevin Buzzard (Jun 03 2018 at 00:30)</a>:</h4>
<p>and coerce a negative integer into nat</p>

<a name="127483283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483283" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483283">Kevin Buzzard (Jun 03 2018 at 00:30)</a>:</h4>
<p>that's not the point Mario</p>

<a name="127483285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483285" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483285">Kevin Buzzard (Jun 03 2018 at 00:30)</a>:</h4>
<p>it's all part of the mathematician's promise</p>

<a name="127483288"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483288" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483288">Mario Carneiro (Jun 03 2018 at 00:30)</a>:</h4>
<p>That goes in theorems, not definitions</p>

<a name="127483289"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483289" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483289">Kevin Buzzard (Jun 03 2018 at 00:30)</a>:</h4>
<p>we don't quite model things in the same way</p>

<a name="127483298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483298" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483298">Mario Carneiro (Jun 03 2018 at 00:31)</a>:</h4>
<p>I have never seen a mathematician write a function that has an additional proof argument</p>

<a name="127483303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483303" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483303">Mario Carneiro (Jun 03 2018 at 00:31)</a>:</h4>
<p>I think they would have a hard time even understanding what that means</p>

<a name="127483304"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483304" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483304">Kevin Buzzard (Jun 03 2018 at 00:31)</a>:</h4>
<blockquote>
<p>It's not even used</p>
</blockquote>
<p>it should be there on moral grounds</p>

<a name="127483346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483346" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483346">Kevin Buzzard (Jun 03 2018 at 00:32)</a>:</h4>
<p>there should be some tactic bringing it along</p>

<a name="127483349"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483349" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483349">Kevin Buzzard (Jun 03 2018 at 00:33)</a>:</h4>
<p>"mathematicians promise that they will not run this programme on negative numbers"</p>

<a name="127483354"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483354" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483354">Kenny Lau (Jun 03 2018 at 00:33)</a>:</h4>
<p>@kevin just treat it like how you treat <code>nat.sub</code></p>

<a name="127483355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483355" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483355">Mario Carneiro (Jun 03 2018 at 00:33)</a>:</h4>
<p>You could use <code>roption</code> for partial functions too</p>

<a name="127483356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483356" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483356">Kenny Lau (Jun 03 2018 at 00:33)</a>:</h4>
<p>"subtraction with a star"</p>

<a name="127483399"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483399" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483399">Mario Carneiro (Jun 03 2018 at 00:34)</a>:</h4>
<p>alternatively, you could actually make sense of expansions of negative numbers</p>

<a name="127483402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483402" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483402">Mario Carneiro (Jun 03 2018 at 00:34)</a>:</h4>
<p>which of course makes perfect sense and generates p-adic numbers</p>

<a name="127483404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483404" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483404">Mario Carneiro (Jun 03 2018 at 00:35)</a>:</h4>
<p>or two's complement for the CS folks</p>

<a name="127483414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483414" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483414">Kevin Buzzard (Jun 03 2018 at 00:36)</a>:</h4>
<blockquote>
<p>It's not even used</p>
</blockquote>
<p>It's used in <code>int.to_nat</code></p>

<a name="127483464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483464" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483464">Mario Carneiro (Jun 03 2018 at 00:37)</a>:</h4>
<p>Yet more alternatively, don't define it as a function, have an existence theorem</p>

<a name="127483466"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483466" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483466">Mario Carneiro (Jun 03 2018 at 00:37)</a>:</h4>
<p>the inverse to this is a lot easier to state</p>

<a name="127483624"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483624" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483624">Mario Carneiro (Jun 03 2018 at 00:42)</a>:</h4>
<div class="codehilite"><pre><span></span>def expansion (r : α) (n : ℕ) : ℕ :=
⌊r * (10 ^ n : ℕ)⌋.nat_mod 10
</pre></div>

<a name="127483636"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127483636" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127483636">Mario Carneiro (Jun 03 2018 at 00:43)</a>:</h4>
<p>I'm not sure why <code>n</code> is a nat here, there are both negative and positive exponent terms in the expansion</p>

<a name="127484618"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127484618" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127484618">Kevin Buzzard (Jun 03 2018 at 01:18)</a>:</h4>
<blockquote>
<p>least upper bounds etc as predicates are already there: <a href="https://github.com/leanprover/mathlib/blob/master/order/bounds.lean" target="_blank" title="https://github.com/leanprover/mathlib/blob/master/order/bounds.lean">https://github.com/leanprover/mathlib/blob/master/order/bounds.lean</a></p>
</blockquote>
<p>I see that I did mine a different way around to you. I defined <code>is_LUB x S</code> and you <code>is_lub S x</code>. Is there a preference for yours over mine? I chose "x S" because I would say x before S ("x is a least upper bound for S")</p>

<a name="127484680"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127484680" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127484680">Mario Carneiro (Jun 03 2018 at 01:20)</a>:</h4>
<p>yes, this allows you to view <code>is_lub S</code> as a predicate by currying</p>

<a name="127484692"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127484692" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127484692">Mario Carneiro (Jun 03 2018 at 01:21)</a>:</h4>
<p>generally speaking, more "parameter" like things should come first</p>

<a name="127484745"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127484745" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127484745">Kevin Buzzard (Jun 03 2018 at 01:24)</a>:</h4>
<p>I'm far more likely to be fixing S and trying various x's than I am to be fixing an x and seeing if it bounds any S's, this seems far more unlikely to occur in practice</p>

<a name="127484944"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127484944" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127484944">Mario Carneiro (Jun 03 2018 at 01:30)</a>:</h4>
<p>that's why I said that</p>

<a name="127484947"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127484947" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127484947">Mario Carneiro (Jun 03 2018 at 01:30)</a>:</h4>
<p><code>S</code> is the parameter, <code>x</code> is the variable</p>

<a name="127484948"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127484948" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127484948">Mario Carneiro (Jun 03 2018 at 01:30)</a>:</h4>
<p>so <code>S</code> comes first</p>

<a name="127503868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127503868" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127503868">Kevin Buzzard (Jun 03 2018 at 13:56)</a>:</h4>
<blockquote>
<p>that's why I said that</p>
</blockquote>
<p>I know, I was just translating you into maths</p>

<a name="127518169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127518169" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127518169">Kevin Buzzard (Jun 03 2018 at 22:53)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="110064">@Kenny Lau</span></p>

<a name="127518175"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127518175" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127518175">Kevin Buzzard (Jun 03 2018 at 22:53)</a>:</h4>
<p>I was playing with sups</p>

<a name="127518193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127518193" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127518193">Kevin Buzzard (Jun 03 2018 at 22:54)</a>:</h4>
<p>what do you think this is:</p>

<a name="127518220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127518220" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127518220">Kevin Buzzard (Jun 03 2018 at 22:54)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="bp">⟨λ</span> <span class="n">u</span> <span class="n">Hu</span><span class="o">,</span> <span class="k">let</span> <span class="bp">⟨</span><span class="n">s</span><span class="o">,</span><span class="n">Hs</span><span class="o">,</span><span class="n">t</span><span class="o">,</span><span class="n">Ht</span><span class="o">,</span><span class="n">Hu</span><span class="bp">⟩</span> <span class="o">:=</span> <span class="n">Hu</span> <span class="k">in</span> <span class="k">by</span> <span class="n">rw</span> <span class="n">Hu</span><span class="bp">;</span><span class="n">exact</span> <span class="n">add_le_add</span> <span class="o">(</span><span class="n">HSb</span><span class="bp">.</span><span class="mi">1</span> <span class="n">s</span> <span class="n">Hs</span><span class="o">)</span> <span class="o">(</span><span class="n">HTc</span><span class="bp">.</span><span class="mi">1</span> <span class="n">t</span> <span class="n">Ht</span><span class="o">),</span>
 <span class="bp">λ</span> <span class="n">d</span> <span class="n">Hd</span><span class="o">,</span><span class="n">add_le_of_le_sub_right</span> <span class="err">$</span> <span class="n">HSb</span><span class="bp">.</span><span class="mi">2</span> <span class="o">(</span><span class="n">d</span> <span class="bp">-</span> <span class="n">c</span><span class="o">)</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">s</span> <span class="n">Hs</span><span class="o">,</span><span class="n">le_sub</span><span class="bp">.</span><span class="mi">1</span> <span class="o">((</span><span class="bp">λ</span> <span class="n">s₁</span> <span class="n">Hs₁</span><span class="o">,</span><span class="n">HTc</span><span class="bp">.</span><span class="mi">2</span> <span class="bp">_</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">t</span> <span class="n">Ht</span><span class="o">,</span><span class="n">le_sub_left_of_add_le</span> <span class="err">$</span> <span class="n">Hd</span> <span class="bp">_</span> <span class="bp">⟨</span><span class="n">s₁</span><span class="o">,</span><span class="n">Hs₁</span><span class="o">,</span><span class="n">t</span><span class="o">,</span><span class="n">Ht</span><span class="o">,</span><span class="n">rfl</span> <span class="c1">-- the proof</span>
   <span class="bp">⟩</span><span class="o">))</span> <span class="n">s</span> <span class="n">Hs</span><span class="o">))</span><span class="bp">⟩</span>
</pre></div>

<a name="127518224"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127518224" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127518224">Kenny Lau (Jun 03 2018 at 22:54)</a>:</h4>
<p>my constructive proof?</p>

<a name="127518226"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127518226" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127518226">Kevin Buzzard (Jun 03 2018 at 22:54)</a>:</h4>
<p>right</p>

<a name="127518228"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127518228" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127518228">Kenny Lau (Jun 03 2018 at 22:54)</a>:</h4>
<p>yay</p>

<a name="127518236"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127518236" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127518236">Kevin Buzzard (Jun 03 2018 at 22:55)</a>:</h4>
<p>here's an even better version</p>

<a name="127518237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127518237" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127518237">Kevin Buzzard (Jun 03 2018 at 22:55)</a>:</h4>
<p>I wrote it twice</p>

<a name="127518238"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127518238" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127518238">Kevin Buzzard (Jun 03 2018 at 22:55)</a>:</h4>
<p>second time looked like this</p>

<a name="127518240"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127518240" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127518240">Kevin Buzzard (Jun 03 2018 at 22:55)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">theorem</span> <span class="n">lub_add&#39;&#39;</span> <span class="o">(</span><span class="n">S</span> <span class="n">T</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">HSb</span> <span class="o">:</span> <span class="n">is_lub</span> <span class="n">S</span> <span class="n">b</span><span class="o">)</span> <span class="o">(</span><span class="n">HTc</span> <span class="o">:</span> <span class="n">is_lub</span> <span class="n">T</span> <span class="n">c</span><span class="o">)</span> <span class="o">:</span> <span class="n">is_lub</span> <span class="o">(</span><span class="n">S</span> <span class="bp">+</span> <span class="n">T</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="bp">+</span> <span class="n">c</span><span class="o">)</span> <span class="o">:=</span>
<span class="bp">⟨λ</span> <span class="n">u</span> <span class="n">Hu</span><span class="o">,</span> <span class="k">let</span> <span class="bp">⟨</span><span class="n">s</span><span class="o">,</span><span class="n">Hs</span><span class="o">,</span><span class="n">t</span><span class="o">,</span><span class="n">Ht</span><span class="o">,</span><span class="n">Hu</span><span class="bp">⟩</span> <span class="o">:=</span> <span class="n">Hu</span> <span class="k">in</span> <span class="k">by</span> <span class="n">rw</span> <span class="n">Hu</span><span class="bp">;</span><span class="n">exact</span> <span class="n">add_le_add</span> <span class="o">(</span><span class="n">HSb</span><span class="bp">.</span><span class="mi">1</span> <span class="n">s</span> <span class="n">Hs</span><span class="o">)</span> <span class="o">(</span><span class="n">HTc</span><span class="bp">.</span><span class="mi">1</span> <span class="n">t</span> <span class="n">Ht</span><span class="o">),</span>
<span class="bp">λ</span> <span class="n">d</span> <span class="n">Hd</span><span class="o">,</span><span class="n">add_le_of_le_sub_right</span> <span class="err">$</span> <span class="n">HSb</span><span class="bp">.</span><span class="mi">2</span> <span class="bp">_</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">s</span> <span class="n">Hs</span><span class="o">,</span><span class="n">le_sub</span><span class="bp">.</span><span class="mi">1</span> <span class="err">$</span> <span class="n">HTc</span><span class="bp">.</span><span class="mi">2</span> <span class="bp">_</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">t</span> <span class="n">Ht</span><span class="o">,</span><span class="n">le_sub_left_of_add_le</span> <span class="err">$</span> <span class="n">Hd</span> <span class="bp">_</span> <span class="bp">⟨</span><span class="n">s</span><span class="o">,</span><span class="n">Hs</span><span class="o">,</span><span class="n">t</span><span class="o">,</span><span class="n">Ht</span><span class="o">,</span><span class="n">rfl</span><span class="bp">⟩</span>
<span class="bp">⟩</span>
</pre></div>

<a name="127518244"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127518244" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127518244">Kenny Lau (Jun 03 2018 at 22:55)</a>:</h4>
<p>more dollar signs?</p>

<a name="127518245"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127518245" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127518245">Kevin Buzzard (Jun 03 2018 at 22:55)</a>:</h4>
<p><code>instance : has_add (set ℝ) := ⟨λ S T,{u | ∃ (s ∈ S) (t ∈ T), u = s + t}⟩</code></p>

<a name="127518291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127518291" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127518291">Kevin Buzzard (Jun 03 2018 at 22:56)</a>:</h4>
<p><code>import order.bounds </code></p>

<a name="127518294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127518294" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127518294">Kevin Buzzard (Jun 03 2018 at 22:56)</a>:</h4>
<p>and <code>analysis.real</code></p>

<a name="127518295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127518295" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127518295">Kevin Buzzard (Jun 03 2018 at 22:56)</a>:</h4>
<p>and it will run</p>

<a name="127518298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127518298" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127518298">Kevin Buzzard (Jun 03 2018 at 22:56)</a>:</h4>
<p>I couldn't get that stupid triangle thing to work on the first line of the proof</p>

<a name="127518300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127518300" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127518300">Kevin Buzzard (Jun 03 2018 at 22:56)</a>:</h4>
<p>the \t triangle that Patrick and I both dread</p>

<a name="127518302"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127518302" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127518302">Kevin Buzzard (Jun 03 2018 at 22:57)</a>:</h4>
<p>so I have to use rw;exact :-)</p>

<a name="127518309"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127518309" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127518309">Kevin Buzzard (Jun 03 2018 at 22:57)</a>:</h4>
<p>so that can be golfed a bit more</p>

<a name="127518311"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127518311" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127518311">Kevin Buzzard (Jun 03 2018 at 22:57)</a>:</h4>
<p>but the proof the other way I was extremely pleased with :-)</p>

<a name="127518315"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127518315" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127518315">Kevin Buzzard (Jun 03 2018 at 22:57)</a>:</h4>
<p>I formulated the theorem</p>

<a name="127518316"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127518316" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127518316">Kevin Buzzard (Jun 03 2018 at 22:57)</a>:</h4>
<p>I proved it in tactic mode</p>

<a name="127518318"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127518318" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127518318">Kevin Buzzard (Jun 03 2018 at 22:58)</a>:</h4>
<p>I then translated my tactic mode proof into term mode</p>

<a name="127518357"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127518357" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127518357">Kenny Lau (Jun 03 2018 at 22:58)</a>:</h4>
<p>nice!</p>

<a name="127518358"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127518358" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127518358">Kevin Buzzard (Jun 03 2018 at 22:58)</a>:</h4>
<p>and then I started again and proved it in term mode</p>

<a name="127518365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127518365" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127518365">Kevin Buzzard (Jun 03 2018 at 22:58)</a>:</h4>
<p>from scratch</p>

<a name="127518370"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127518370" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127518370">Kevin Buzzard (Jun 03 2018 at 22:58)</a>:</h4>
<p>looking at my old term mode proof for hints about which arithmetic functions to use :-)</p>

<a name="127518441"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127518441" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127518441">Kevin Buzzard (Jun 03 2018 at 23:01)</a>:</h4>
<p>in that last proof line, Lean was somehow always "on the last term" -- I never had to fill in a hole with a non-zero number of characters to the right of it (other than the close bracket)</p>

<a name="127518446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127518446" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127518446">Kevin Buzzard (Jun 03 2018 at 23:01)</a>:</h4>
<p>Kenny if you had given me that answer I would have had a hard time marking it.</p>

<a name="127518485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127518485" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127518485">Kevin Buzzard (Jun 03 2018 at 23:02)</a>:</h4>
<p>I mean the lambda</p>

<a name="127518486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127518486" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127518486">Kevin Buzzard (Jun 03 2018 at 23:02)</a>:</h4>
<p>it's become unreadable, right?</p>

<a name="127518487"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127518487" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127518487">Kenny Lau (Jun 03 2018 at 23:02)</a>:</h4>
<p>lol</p>

<a name="127518488"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127518488" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127518488">Kenny Lau (Jun 03 2018 at 23:02)</a>:</h4>
<p>but you can verify it</p>

<a name="127518498"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/The%20real%20numbers/near/127518498" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/21890Therealnumbers.html#127518498">Kevin Buzzard (Jun 03 2018 at 23:03)</a>:</h4>
<p>that is a very different thing from understanding it</p>


{% endraw %}
