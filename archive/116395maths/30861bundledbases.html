---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/116395maths/30861bundledbases.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html">bundled bases</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="135955551"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/135955551" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#135955551">Johan Commelin (Oct 17 2018 at 07:41)</a>:</h4>
<p>I pushed the results of yesterdays painful efforts to <a href="https://github.com/leanprover-community/mathlib/blob/open_set/category_theory/examples/topological_spaces.lean" target="_blank" title="https://github.com/leanprover-community/mathlib/blob/open_set/category_theory/examples/topological_spaces.lean">https://github.com/leanprover-community/mathlib/blob/open_set/category_theory/examples/topological_spaces.lean</a>. This wouldn't have been possible without the great help of <span class="user-mention" data-user-id="110294">@Johannes Hölzl</span> <br>
I guess that some of the proofs need to be minimised. I obfuscated them as much as possible, and don't see how to squeeze out more. If someone wants to take a look, please go ahead.<br>
The motivation for these changes is that we want to be able to talk about "sheaves on a basis".</p>

<a name="135990528"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/135990528" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#135990528">Mario Carneiro (Oct 17 2018 at 18:13)</a>:</h4>
<p>I think <code>open_set</code> should be unbundled in the topology argument</p>

<a name="135991087"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/135991087" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#135991087">Johan Commelin (Oct 17 2018 at 18:21)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span>  What do you mean with that?</p>

<a name="135991108"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/135991108" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#135991108">Johan Commelin (Oct 17 2018 at 18:21)</a>:</h4>
<p>You want an unbundled version in <code>analysis/topology/blah.lean</code>?</p>

<a name="135991165"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/135991165" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#135991165">Johan Commelin (Oct 17 2018 at 18:22)</a>:</h4>
<p>I think we also want the bundled version. But maybe I should first prove things with it, to show that it is useful.</p>

<a name="135994508"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/135994508" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#135994508">Mario Carneiro (Oct 17 2018 at 19:19)</a>:</h4>
<p>I mean that for a fixed topological space, <code>@open_set X top_X</code> is a category</p>

<a name="135994589"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/135994589" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#135994589">Mario Carneiro (Oct 17 2018 at 19:20)</a>:</h4>
<p>On top of that there is an <code>open_set</code> <em>functor</em>  from <code>Top</code> to <code>Type</code>, but that needs its own definition anyway</p>

<a name="135994650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/135994650" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#135994650">Mario Carneiro (Oct 17 2018 at 19:21)</a>:</h4>
<p>er, I think I mean lattice not category, I see you haven't given it a category structure</p>

<a name="135994706"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/135994706" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#135994706">Mario Carneiro (Oct 17 2018 at 19:22)</a>:</h4>
<p>so in that case it could indeed move to <code>analysis/topology</code>. I would suggest the name <code>opens</code> for this lattice</p>

<a name="135994710"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/135994710" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#135994710">Johan Commelin (Oct 17 2018 at 19:22)</a>:</h4>
<p>It is... every preorder is a category (in mathlib)</p>

<a name="135994724"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/135994724" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#135994724">Mario Carneiro (Oct 17 2018 at 19:22)</a>:</h4>
<p>right, but you haven't made any explicit reference to categories in the definition</p>

<a name="135994811"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/135994811" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#135994811">Johan Commelin (Oct 17 2018 at 19:24)</a>:</h4>
<p>Hmmm... I don't follow exactly. Do you want to change the definition of <code>open_set</code>? Or do you want to define <code>opens</code> and if so, what should it be?</p>

<a name="135994954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/135994954" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#135994954">Johan Commelin (Oct 17 2018 at 19:27)</a>:</h4>
<p>Also, should we change the definition of <code>open_set X</code> to <code>open_set X := X.str</code>? That is equivalent, and might simplify a lot of the stuff that follows...</p>

<a name="135997479"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/135997479" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#135997479">Mario Carneiro (Oct 17 2018 at 20:08)</a>:</h4>
<p><code>def opens (X : Type*) [topological_space X] : Type* := {s // is_open s}</code></p>

<a name="135997602"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/135997602" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#135997602">Mario Carneiro (Oct 17 2018 at 20:10)</a>:</h4>
<p>I don't understand the idea behind the <code>X.str</code> definition. The point is that <code>open_set X</code> is a type, not a structure</p>

<a name="135997659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/135997659" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#135997659">Mario Carneiro (Oct 17 2018 at 20:11)</a>:</h4>
<p>my proposal is <code>opens</code> as above, and <code>category.opens : Top ⥤ Cat</code> (or some other prefix?) has that as its object part</p>

<a name="135997756"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/135997756" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#135997756">Mario Carneiro (Oct 17 2018 at 20:13)</a>:</h4>
<p>although maybe we need more functors than just that because it's properly a 2-functor</p>

<a name="136018803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/136018803" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#136018803">Johan Commelin (Oct 18 2018 at 03:58)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> So <code>open_set</code> should go asway, and be replaced by <code>opens</code>?<br>
What is wrong with:</p>
<div class="codehilite"><pre><span></span><span class="n">def</span> <span class="n">opens</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">t</span> <span class="o">:</span> <span class="n">topological_space</span> <span class="n">X</span><span class="o">]</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span> <span class="o">:=</span> <span class="n">subtype</span> <span class="n">t</span><span class="bp">.</span><span class="n">is_open</span>
</pre></div>


<p>That is what I meant with the <code>X.str</code> definition.</p>

<a name="136018818"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/136018818" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#136018818">Mario Carneiro (Oct 18 2018 at 03:59)</a>:</h4>
<p>That doesn't typecheck?</p>

<a name="136018953"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/136018953" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#136018953">Johan Commelin (Oct 18 2018 at 04:03)</a>:</h4>
<p>Ok, fair enough. I meant <code>subtype t.is_open</code>. I fixed this above.</p>

<a name="136018996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/136018996" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#136018996">Mario Carneiro (Oct 18 2018 at 04:04)</a>:</h4>
<p>that's the same as I wrote modulo eta expansion</p>

<a name="136018999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/136018999" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#136018999">Johan Commelin (Oct 18 2018 at 04:04)</a>:</h4>
<p>Right. So it doesn't matter.</p>

<a name="136019003"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/136019003" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#136019003">Mario Carneiro (Oct 18 2018 at 04:04)</a>:</h4>
<p>well, you are also using a different <code>is_open</code></p>

<a name="136019018"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/136019018" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#136019018">Johan Commelin (Oct 18 2018 at 04:05)</a>:</h4>
<p>Aah, and maybe mine is more painful?</p>

<a name="136019025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/136019025" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#136019025">Mario Carneiro (Oct 18 2018 at 04:05)</a>:</h4>
<p>there are fewer lemmas about it</p>

<a name="136023764"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/136023764" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#136023764">Johan Commelin (Oct 18 2018 at 06:40)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> Do you mean you would like to see something like this in <code>analysis/topology/topological_space.lean</code>?</p>
<div class="codehilite"><pre><span></span><span class="kn">section</span> <span class="n">opens</span>
<span class="kn">variable</span> <span class="o">(</span><span class="n">α</span><span class="o">)</span>

<span class="n">def</span> <span class="n">opens</span> <span class="o">:=</span> <span class="o">{</span><span class="n">s</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">//</span> <span class="bp">_</span><span class="n">root_</span><span class="bp">.</span><span class="n">is_open</span> <span class="n">s</span><span class="o">}</span>

<span class="kn">variables</span> <span class="o">{</span><span class="n">α</span><span class="o">}</span>

<span class="kn">instance</span> <span class="o">:</span> <span class="n">has_coe</span> <span class="o">(</span><span class="n">opens</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">set</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span> <span class="o">{</span> <span class="n">coe</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">U</span><span class="o">,</span> <span class="n">U</span><span class="bp">.</span><span class="n">val</span> <span class="o">}</span>

<span class="kn">instance</span> <span class="o">:</span> <span class="n">has_subset</span> <span class="o">(</span><span class="n">opens</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">subset</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">U</span> <span class="n">V</span><span class="o">,</span> <span class="n">U</span><span class="bp">.</span><span class="n">val</span> <span class="err">⊆</span> <span class="n">V</span><span class="bp">.</span><span class="n">val</span> <span class="o">}</span>

<span class="kn">instance</span> <span class="o">:</span> <span class="n">has_mem</span> <span class="n">α</span> <span class="o">(</span><span class="n">opens</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">mem</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">a</span> <span class="n">U</span><span class="o">,</span> <span class="n">a</span> <span class="err">∈</span> <span class="n">U</span><span class="bp">.</span><span class="n">val</span> <span class="o">}</span>

<span class="bp">@</span><span class="o">[</span><span class="n">extensionality</span><span class="o">]</span> <span class="kn">lemma</span> <span class="n">ext</span> <span class="o">{</span><span class="n">U</span> <span class="n">V</span> <span class="o">:</span> <span class="n">opens</span> <span class="n">α</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">U</span><span class="bp">.</span><span class="n">val</span> <span class="bp">=</span> <span class="n">V</span><span class="bp">.</span><span class="n">val</span><span class="o">)</span> <span class="o">:</span> <span class="n">U</span> <span class="bp">=</span> <span class="n">V</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">cases</span> <span class="n">U</span><span class="bp">;</span> <span class="n">cases</span> <span class="n">V</span><span class="bp">;</span> <span class="n">congr</span><span class="bp">;</span> <span class="n">exact</span> <span class="n">h</span>

<span class="kn">instance</span> <span class="n">topological_space</span><span class="bp">.</span><span class="n">opens</span><span class="bp">.</span><span class="n">partial_order</span> <span class="o">:</span> <span class="n">partial_order</span> <span class="o">(</span><span class="n">opens</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">refine</span> <span class="o">{</span> <span class="n">le</span> <span class="o">:=</span> <span class="o">(</span><span class="err">⊆</span><span class="o">),</span> <span class="bp">..</span> <span class="o">}</span> <span class="bp">;</span> <span class="n">tidy</span>

<span class="kn">end</span> <span class="n">opens</span>
</pre></div>


<p>Note that I am using <code>tidy</code> in the last line. I don't know if this is too early in the mathlib-tree?</p>

<a name="136023792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/136023792" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#136023792">Johan Commelin (Oct 18 2018 at 06:41)</a>:</h4>
<p>If this is the direction you had in mind, I can continue moving stuff from the category folder into this file; and then PR it.</p>

<a name="136023793"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/136023793" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#136023793">Mario Carneiro (Oct 18 2018 at 06:41)</a>:</h4>
<p>We have functions for transfering a partial order</p>

<a name="136023837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/136023837" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#136023837">Mario Carneiro (Oct 18 2018 at 06:42)</a>:</h4>
<p><code>partial_order.lift</code></p>

<a name="136023849"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/136023849" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#136023849">Mario Carneiro (Oct 18 2018 at 06:43)</a>:</h4>
<p>I hope you aren't so attached to using blasty tactics that you are reproving theorems that we already have</p>

<a name="136023856"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/136023856" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#136023856">Mario Carneiro (Oct 18 2018 at 06:43)</a>:</h4>
<p>in fact, <code>subtype.partial_order</code> is just what you need</p>

<a name="136023905"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/136023905" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#136023905">Mario Carneiro (Oct 18 2018 at 06:44)</a>:</h4>
<p><code>ext</code> is <code>subtype.eq</code></p>

<a name="136023910"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/136023910" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#136023910">Johan Commelin (Oct 18 2018 at 06:44)</a>:</h4>
<p>Ok, that's fine with me. But about the general direction? Is this what you want?</p>

<a name="136023918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/136023918" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#136023918">Mario Carneiro (Oct 18 2018 at 06:45)</a>:</h4>
<p>yes</p>

<a name="136023966"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/136023966" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#136023966">Johan Commelin (Oct 18 2018 at 06:46)</a>:</h4>
<p>But <code>subtype.ext</code> is not an ext-lemma</p>

<a name="136023971"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/136023971" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#136023971">Johan Commelin (Oct 18 2018 at 06:46)</a>:</h4>
<p>Should I phrase mine as an ext-lemma, or as an iff?</p>

<a name="136024115"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/136024115" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#136024115">Mario Carneiro (Oct 18 2018 at 06:51)</a>:</h4>
<p>I'm not saying you shouldn't state it, but it is a proof by reference to subtype.eq</p>

<a name="136024117"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/136024117" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#136024117">Johan Commelin (Oct 18 2018 at 06:51)</a>:</h4>
<p>Right. But which version should I state? Or both?</p>

<a name="136024159"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/136024159" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#136024159">Mario Carneiro (Oct 18 2018 at 06:52)</a>:</h4>
<p><code>extensionality</code> requires the one-directional form</p>

<a name="136024162"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/136024162" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#136024162">Mario Carneiro (Oct 18 2018 at 06:52)</a>:</h4>
<p>I don't know if it would be better to use set extensionality as well though</p>

<a name="136024168"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/136024168" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#136024168">Mario Carneiro (Oct 18 2018 at 06:53)</a>:</h4>
<p>so it says <code>forall a, a \in U \lr a \in V</code></p>

<a name="136024230"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/136024230" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#136024230">Johan Commelin (Oct 18 2018 at 06:54)</a>:</h4>
<p><code>ext</code> can chain those together. So I think I'll only do the first step.</p>

<a name="136025567"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/136025567" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#136025567">Johan Commelin (Oct 18 2018 at 07:29)</a>:</h4>
<p>Done. See <a href="https://github.com/leanprover/mathlib/issues/427" target="_blank" title="https://github.com/leanprover/mathlib/issues/427">#427</a>.</p>

<a name="136047222"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/136047222" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#136047222">Scott Morrison (Oct 18 2018 at 14:33)</a>:</h4>
<blockquote>
<p>But <code>subtype.ext</code> is not an ext-lemma</p>
</blockquote>
<p>I've been wondering about this one --- can we make <code>attribute [extensionality] subtype.eq</code>?</p>

<a name="136047463"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundled%20bases/near/136047463" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/30861bundledbases.html#136047463">Mario Carneiro (Oct 18 2018 at 14:36)</a>:</h4>
<p>ext can chain them, but you will get <code>x \in U.val</code> instead of <code>x \in U</code></p>


{% endraw %}
