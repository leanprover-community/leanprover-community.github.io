---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/116395maths/56118newisgrouphom.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/56118newisgrouphom.html">new is_group_hom</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="125152694"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/new%20is_group_hom/near/125152694" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/56118newisgrouphom.html#125152694">Patrick Massot (Apr 16 2018 at 15:14)</a>:</h4>
<p>Recently <code>is_group_hom</code> became a class. Previously we had </p>
<div class="codehilite"><pre><span></span><span class="n">def</span> <span class="n">is_group_anti_hom</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span> <span class="bp">∀</span> <span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">α</span><span class="o">,</span> <span class="n">f</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">f</span> <span class="n">a</span>

<span class="kn">namespace</span> <span class="n">is_group_anti_hom</span>
<span class="kn">variables</span> <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">}</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">is_group_anti_hom</span> <span class="n">f</span><span class="o">)</span>
<span class="n">include</span> <span class="n">H</span>

<span class="kn">theorem</span> <span class="n">inv</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">f</span> <span class="n">a</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="o">:=</span> <span class="bp">...</span>
</pre></div>


<p>and I could then write</p>
<div class="codehilite"><pre><span></span><span class="kn">variables</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">α</span><span class="o">]</span>
<span class="n">def</span> <span class="n">conj</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span> <span class="n">a</span><span class="bp">*</span><span class="n">b</span><span class="bp">*</span><span class="n">a</span><span class="bp">⁻¹</span>

<span class="kn">lemma</span> <span class="n">inv_conj</span> <span class="o">:</span> <span class="o">(</span><span class="n">conj</span> <span class="n">b</span> <span class="n">a</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">conj</span> <span class="n">b</span> <span class="o">(</span><span class="n">a</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">conj_is_mph</span><span class="bp">.</span><span class="n">inv</span> <span class="n">a</span>
</pre></div>


<p>Is there such a compact way to write the proof of inv_conj with the new <code>is_group_hom</code>? I'm not talking about the LHS/RHS switch. I'm talking about the ability to use projection notation instead of writing <code>(is_group_hom.inv (conj b) a).symm</code></p>

<a name="125152701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/new%20is_group_hom/near/125152701" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/56118newisgrouphom.html#125152701">Kenny Lau (Apr 16 2018 at 15:14)</a>:</h4>
<p>I already complained about this :P</p>

<a name="125152704"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/new%20is_group_hom/near/125152704" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/56118newisgrouphom.html#125152704">Patrick Massot (Apr 16 2018 at 15:14)</a>:</h4>
<p>I'm not really complaining</p>

<a name="125152712"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/new%20is_group_hom/near/125152712" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/56118newisgrouphom.html#125152712">Kenny Lau (Apr 16 2018 at 15:15)</a>:</h4>
<p>right, but the answer is still you can't use projection</p>

<a name="125152719"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/new%20is_group_hom/near/125152719" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/56118newisgrouphom.html#125152719">Patrick Massot (Apr 16 2018 at 15:15)</a>:</h4>
<p>I slightly prefer the old way in this case but I'm open to learning about advantages of the new way</p>

<a name="125152841"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/new%20is_group_hom/near/125152841" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/56118newisgrouphom.html#125152841">Kenny Lau (Apr 16 2018 at 15:18)</a>:</h4>
<blockquote>
<p>Now you do <code>is_group_hom.one f</code> I think</p>
</blockquote>
<p><span class="emoji emoji-261d" title="point up">:point_up:</span> <a href="#narrow/stream/113488-general/subject/is_group_hom.2Emul/near/124970169" title="#narrow/stream/113488-general/subject/is_group_hom.2Emul/near/124970169">https://leanprover.zulipchat.com/#narrow/stream/113488-general/subject/is_group_hom.2Emul/near/124970169</a></p>

<a name="125152927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/new%20is_group_hom/near/125152927" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/56118newisgrouphom.html#125152927">Mario Carneiro (Apr 16 2018 at 15:20)</a>:</h4>
<p>You should be using <code>inv_conj</code> in your proofs anyways, so this is a one-time cost</p>

<a name="125152943"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/new%20is_group_hom/near/125152943" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/56118newisgrouphom.html#125152943">Kenny Lau (Apr 16 2018 at 15:21)</a>:</h4>
<p>but what is <code>conj_is_mph</code>?</p>

<a name="125152945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/new%20is_group_hom/near/125152945" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/56118newisgrouphom.html#125152945">Patrick Massot (Apr 16 2018 at 15:21)</a>:</h4>
<p>Hm, I didn't realize it was almost exactly the same question (I was vaguely aware of Kenny asking something about this change but didn't check)</p>

<a name="125152946"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/new%20is_group_hom/near/125152946" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/56118newisgrouphom.html#125152946">Mario Carneiro (Apr 16 2018 at 15:21)</a>:</h4>
<p>also you should probably swap <code>inv_conj</code> for the same reason <code>is_group_hom.inv</code>  was swapped</p>

<a name="125153006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/new%20is_group_hom/near/125153006" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/56118newisgrouphom.html#125153006">Patrick Massot (Apr 16 2018 at 15:22)</a>:</h4>
<p>Indeed my only use of this lemma was a <code>rw [&lt;-invconj]</code></p>

<a name="125153022"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/new%20is_group_hom/near/125153022" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/56118newisgrouphom.html#125153022">Patrick Massot (Apr 16 2018 at 15:23)</a>:</h4>
<p>I'm trying (once more...) to get back to old stuff because I hope I'll have time to resume</p>

<a name="125153069"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/new%20is_group_hom/near/125153069" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/56118newisgrouphom.html#125153069">Patrick Massot (Apr 16 2018 at 15:24)</a>:</h4>
<p>I tried to work on the pi instance PR. But I failed in the preparatory work</p>

<a name="125153077"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/new%20is_group_hom/near/125153077" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/56118newisgrouphom.html#125153077">Patrick Massot (Apr 16 2018 at 15:24)</a>:</h4>
<p>I wanted to properly dispatch the content of Johannes' <code>prod_module.lean</code></p>

<a name="125153084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/new%20is_group_hom/near/125153084" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/56118newisgrouphom.html#125153084">Patrick Massot (Apr 16 2018 at 15:24)</a>:</h4>
<p>But trying to move stuff always gets Lean to go crazy</p>

<a name="125153093"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/new%20is_group_hom/near/125153093" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/56118newisgrouphom.html#125153093">Patrick Massot (Apr 16 2018 at 15:25)</a>:</h4>
<p>everything gets frozen in VSCode and I only end up with a broken mathlib</p>

<a name="125153141"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/new%20is_group_hom/near/125153141" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/56118newisgrouphom.html#125153141">Patrick Massot (Apr 16 2018 at 15:26)</a>:</h4>
<p>Maybe I should PR everything into the <code>prod_module</code> black-hole and then let you or Johannes decide when this becomes a problem</p>

<a name="125153171"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/new%20is_group_hom/near/125153171" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/56118newisgrouphom.html#125153171">Kenny Lau (Apr 16 2018 at 15:27)</a>:</h4>
<div class="codehilite"><pre><span></span>import algebra.group

variables {α : Type} [group α] (a b : α)

def conj := a * b * a⁻¹

instance conj.is_group_hom : is_group_hom (conj a) :=
λ x y, by simp [conj, mul_assoc]

lemma inv_conj : conj a (b⁻¹) = (conj a b)⁻¹ :=
is_group_hom.inv (conj a) b
</pre></div>

<a name="125153213"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/new%20is_group_hom/near/125153213" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/56118newisgrouphom.html#125153213">Kenny Lau (Apr 16 2018 at 15:28)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> c'est c'que tu veux?</p>

<a name="125153251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/new%20is_group_hom/near/125153251" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/56118newisgrouphom.html#125153251">Patrick Massot (Apr 16 2018 at 15:29)</a>:</h4>
<p>I know how to do this (except I went with <code>by finish [is_group_hom, conj]</code> in the instance proof. I was only asking how to properly use the new interface</p>

<a name="125153261"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/new%20is_group_hom/near/125153261" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/56118newisgrouphom.html#125153261">Kenny Lau (Apr 16 2018 at 15:30)</a>:</h4>
<p>right, which I demonstrated</p>


{% endraw %}

{% include archive_update.html %}