---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/116395maths/81043LargestSquareintheFibonacciSequence.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html">Largest Square in the Fibonacci Sequence</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="126977998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126977998" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126977998">Kevin Buzzard (May 23 2018 at 16:07)</a>:</h4>
<p>Did you know that 144 is the largest square in the Fibonacci sequence?</p>

<a name="126977999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126977999" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126977999">Kevin Buzzard (May 23 2018 at 16:07)</a>:</h4>
<p>The proof is elementary but delicate</p>

<a name="126978039"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978039" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978039">Kevin Buzzard (May 23 2018 at 16:08)</a>:</h4>
<p>I give talks about this to bright schoolchildren occasionally</p>

<a name="126978044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978044" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978044">Kevin Buzzard (May 23 2018 at 16:08)</a>:</h4>
<p><a href="http://wwwf.imperial.ac.uk/~buzzard/2017nt2.pdf" target="_blank" title="http://wwwf.imperial.ac.uk/~buzzard/2017nt2.pdf">http://wwwf.imperial.ac.uk/~buzzard/2017nt2.pdf</a></p>

<a name="126978047"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978047" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978047">Kevin Buzzard (May 23 2018 at 16:08)</a>:</h4>
<p>There is a sketch of the idea</p>

<a name="126978048"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978048" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978048">Kevin Buzzard (May 23 2018 at 16:08)</a>:</h4>
<p>I'm giving one such talk on Saturday</p>

<a name="126978050"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978050" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978050">Kevin Buzzard (May 23 2018 at 16:08)</a>:</h4>
<p>to the British IMO team</p>

<a name="126978053"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978053" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978053">Kevin Buzzard (May 23 2018 at 16:08)</a>:</h4>
<p>and in fact I am giving two talks to these people on Saturday</p>

<a name="126978055"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978055" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978055">Kevin Buzzard (May 23 2018 at 16:08)</a>:</h4>
<p>one on this</p>

<a name="126978056"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978056" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978056">Kevin Buzzard (May 23 2018 at 16:08)</a>:</h4>
<p>and one on...whatever I like</p>

<a name="126978066"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978066" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978066">Kevin Buzzard (May 23 2018 at 16:09)</a>:</h4>
<p>So I have made the crazy decision to try and give my second talk on a Lean proof of this fact</p>

<a name="126978070"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978070" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978070">Kevin Buzzard (May 23 2018 at 16:09)</a>:</h4>
<p>The only problem is that today is Wednesday</p>

<a name="126978075"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978075" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978075">Kevin Buzzard (May 23 2018 at 16:09)</a>:</h4>
<p>which means that it's only three days to Saturday</p>

<a name="126978087"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978087" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978087">Kevin Buzzard (May 23 2018 at 16:09)</a>:</h4>
<p>So I did this</p>

<a name="126978088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978088" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978088">Kevin Buzzard (May 23 2018 at 16:09)</a>:</h4>
<p><a href="https://github.com/kbuzzard/lean-squares-in-fibonacci/issues/1" target="_blank" title="https://github.com/kbuzzard/lean-squares-in-fibonacci/issues/1">https://github.com/kbuzzard/lean-squares-in-fibonacci/issues/1</a></p>

<a name="126978092"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978092" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978092">Kevin Buzzard (May 23 2018 at 16:09)</a>:</h4>
<p>and I will start this evening</p>

<a name="126978094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978094" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978094">Kevin Buzzard (May 23 2018 at 16:10)</a>:</h4>
<p>but if anyone wants to help</p>

<a name="126978137"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978137" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978137">Kevin Buzzard (May 23 2018 at 16:10)</a>:</h4>
<p>then I would happily let them join in</p>

<a name="126978138"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978138" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978138">Kevin Buzzard (May 23 2018 at 16:10)</a>:</h4>
<p>give them push access, whatever</p>

<a name="126978141"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978141" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978141">Kevin Buzzard (May 23 2018 at 16:10)</a>:</h4>
<p>The link to the issues makes it clear what I think the problems are</p>

<a name="126978148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978148" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978148">Kevin Buzzard (May 23 2018 at 16:10)</a>:</h4>
<p>(1) We either cheat and assume some UG-level facts about primes</p>

<a name="126978152"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978152" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978152">Kevin Buzzard (May 23 2018 at 16:10)</a>:</h4>
<p>(when -2 is a square mod p)</p>

<a name="126978154"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978154" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978154">Kevin Buzzard (May 23 2018 at 16:10)</a>:</h4>
<p>or we prove it</p>

<a name="126978157"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978157" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978157">Kevin Buzzard (May 23 2018 at 16:11)</a>:</h4>
<p>which will involve proving that a poly of degree n over a field has at most n roots</p>

<a name="126978164"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978164" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978164">Kevin Buzzard (May 23 2018 at 16:11)</a>:</h4>
<p>and that Z/pZ is a field</p>

<a name="126978171"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978171" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978171">Kevin Buzzard (May 23 2018 at 16:11)</a>:</h4>
<p>(2) we either use the real numbers or build our own Z[(1+sqrt(5))/2]</p>

<a name="126978177"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978177" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978177">Kevin Buzzard (May 23 2018 at 16:11)</a>:</h4>
<p>(3) a bunch of relatively simple arithmetic</p>

<a name="126978180"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978180" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978180">Kevin Buzzard (May 23 2018 at 16:11)</a>:</h4>
<p>but a fair amount of it, from a Lean point of view</p>

<a name="126978220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978220" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978220">Kevin Buzzard (May 23 2018 at 16:12)</a>:</h4>
<p>I attained my schemes goal</p>

<a name="126978224"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978224" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978224">Kevin Buzzard (May 23 2018 at 16:12)</a>:</h4>
<p>so I want to spend a few days goofing around with this one</p>

<a name="126978225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978225" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978225">Kevin Buzzard (May 23 2018 at 16:12)</a>:</h4>
<p>it's very easy arithmetic</p>

<a name="126978228"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978228" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978228">Kevin Buzzard (May 23 2018 at 16:12)</a>:</h4>
<p>and maybe I will do it all myself</p>

<a name="126978233"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978233" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978233">Kevin Buzzard (May 23 2018 at 16:12)</a>:</h4>
<p>but if anyone wants to help</p>

<a name="126978238"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978238" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978238">Kevin Buzzard (May 23 2018 at 16:12)</a>:</h4>
<p>this would be greatly appreciated :-)</p>

<a name="126978259"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978259" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978259">Kevin Buzzard (May 23 2018 at 16:13)</a>:</h4>
<p><span class="user-mention" data-user-id="110294">@Johannes Hölzl</span> and <span class="user-mention" data-user-id="110044">@Chris Hughes</span> I might have to steal your work (with attribution of course).</p>

<a name="126978323"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978323" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978323">Kevin Buzzard (May 23 2018 at 16:15)</a>:</h4>
<p>Johannes -- who do I credit if I take your polynomial stuff from mason-stothers? [or mason-stother as you seem to have called it]? Is it you or JWageM?</p>

<a name="126978336"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978336" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978336">Kevin Buzzard (May 23 2018 at 16:15)</a>:</h4>
<p>I firmly believe I could do this entire thing in 3 days</p>

<a name="126978338"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978338" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978338">Kevin Buzzard (May 23 2018 at 16:15)</a>:</h4>
<p>it's a bit unfortunate about the marking I still have to do though :-/</p>

<a name="126978382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978382" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978382">Kevin Buzzard (May 23 2018 at 16:16)</a>:</h4>
<p>Chris and Kenny will have finished their exams by Friday afternoon UK time so this would be a perfect all-night binge for them to do afterwards.</p>

<a name="126978384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978384" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978384">Kevin Buzzard (May 23 2018 at 16:16)</a>:</h4>
<p>;-)</p>

<a name="126978394"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978394" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978394">Kevin Buzzard (May 23 2018 at 16:16)</a>:</h4>
<p>OK now back to marking</p>

<a name="126978481"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978481" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126978481">Johannes Hölzl (May 23 2018 at 16:19)</a>:</h4>
<p>Mason-stother's polynomials are from us both, most parts were done by Jens, some by me. Its okay to only credit Jens.</p>

<a name="126980169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126980169" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126980169">Nicholas Scheel (May 23 2018 at 17:01)</a>:</h4>
<p>Hi! How can I help best? Maybe start building Z[(1+sqrt(5))/2] ? I have a little experience with field extensions from abstract algebra this past semester ...</p>

<a name="126980265"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126980265" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126980265">Nicholas Scheel (May 23 2018 at 17:03)</a>:</h4>
<p>that’s really just Z[sqrt(5)] right? field operations will get you (1+-sqrt(5))/2 from that</p>

<a name="126980273"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126980273" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126980273">Patrick Massot (May 23 2018 at 17:03)</a>:</h4>
<p>He wants a ring, not a field</p>

<a name="126980283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126980283" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126980283">Patrick Massot (May 23 2018 at 17:03)</a>:</h4>
<p>And that's what this notation denotes</p>

<a name="126980547"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126980547" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126980547">Kevin Buzzard (May 23 2018 at 17:10)</a>:</h4>
<p>Right -- there is Q(sqrt(5)) = Q(alpha) [alpha := (1+sqrt(5))/2] and there is Z[sqrt(5)] which is strictly smaller than Z[alpha] [it has index 2]</p>

<a name="126980642"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126980642" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126980642">Kevin Buzzard (May 23 2018 at 17:11)</a>:</h4>
<p>The only reason I suggested the ring not the field was (1) rings have fewer axioms than fields and (2) my instinct was to construct the smallest object which was mathematically reasonable [so no semirings or distribs, thank you] and which contained enough to formalise the statement "u_m = (alpha^m - beta^m) / sqrt (5)"...oh crap</p>

<a name="126980651"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126980651" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126980651">Kevin Buzzard (May 23 2018 at 17:11)</a>:</h4>
<p>maybe a field is fine :-)</p>

<a name="126980667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126980667" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126980667">Kevin Buzzard (May 23 2018 at 17:11)</a>:</h4>
<p>One could prove sqrt(5) * u_m = alpha^m - beta^m</p>

<a name="126980710"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126980710" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126980710">Kevin Buzzard (May 23 2018 at 17:12)</a>:</h4>
<p>and then mumble about integral domains</p>

<a name="126980735"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126980735" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126980735">Kevin Buzzard (May 23 2018 at 17:12)</a>:</h4>
<p>OK so <span class="user-mention" data-user-id="111651">@Nicholas Scheel</span> if you want to take a look at how the complex numbers were built from the real numbers in mathlib (in some file called complex.lean probably) then you could just copy this and build Q(sqrt(5)) from Q by adjoining a square root of 5</p>

<a name="126980754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126980754" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126980754">Kevin Buzzard (May 23 2018 at 17:13)</a>:</h4>
<p>The only difficulty will be in proving that if a+b*sqrt(5) is non-zero then a^2-5b^2 is non-zero, which you need for division</p>

<a name="126980762"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126980762" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126980762">Kevin Buzzard (May 23 2018 at 17:13)</a>:</h4>
<p>For the complexes the argument is that everything is positive, that doesn't work here</p>

<a name="126980764"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126980764" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126980764">Kevin Buzzard (May 23 2018 at 17:13)</a>:</h4>
<p>you need that 5 isn't the square of a rational</p>

<a name="126980770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126980770" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126980770">Kevin Buzzard (May 23 2018 at 17:13)</a>:</h4>
<p>but modulo that, there's your Q(sqrt(5))</p>

<a name="126980786"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126980786" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126980786">Kevin Buzzard (May 23 2018 at 17:13)</a>:</h4>
<p>at some point one would need this anyway, to prove Z[alpha] is an integral domain, so there's no getting away from it</p>

<a name="126981799"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126981799" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126981799">Chris Hughes (May 23 2018 at 17:33)</a>:</h4>
<p>I've done some stuff on integers mod n which I'll send you when I get home.</p>

<a name="126982536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126982536" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126982536">Nicholas Scheel (May 23 2018 at 17:48)</a>:</h4>
<p>Ah okay, I see ... I think I'll try to build Z[alpha], doesn't look like we'll need division</p>

<a name="126985180"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126985180" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126985180">Chris Hughes (May 23 2018 at 18:52)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> Very messy, but the most basic stuff about integers mod n is there. <a href="https://github.com/dorhinj/leanstuff/blob/master/Zmod1.lean" target="_blank" title="https://github.com/dorhinj/leanstuff/blob/master/Zmod1.lean">https://github.com/dorhinj/leanstuff/blob/master/Zmod1.lean</a></p>

<a name="126985212"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126985212" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126985212">Chris Hughes (May 23 2018 at 18:53)</a>:</h4>
<p><span class="user-mention" data-user-id="111651">@Nicholas Scheel</span> I also made a bit of a start on univariate polys, although I haven't done much more than copy Johannes stuff on multivariate polys.</p>

<a name="126985259"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126985259" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126985259">Chris Hughes (May 23 2018 at 18:54)</a>:</h4>
<p>I think Sean's finset.max would be a more appropriate definition of degree than <code>sup</code></p>

<a name="126985360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126985360" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126985360">Nicholas Scheel (May 23 2018 at 18:57)</a>:</h4>
<p>okay I have a commutative ring instance for Z[alpha]!</p>

<a name="126985419"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126985419" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126985419">Johannes Hölzl (May 23 2018 at 18:59)</a>:</h4>
<p>with <code>sup</code> you don't need to use <code>iget</code>. <code>max</code> is the better name but I think <code>sup</code> has the better behaviour.</p>

<a name="126989627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126989627" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126989627">Patrick Massot (May 23 2018 at 20:25)</a>:</h4>
<p>Thanks, but I don't know how to use <code>sup</code></p>

<a name="126990758"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126990758" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126990758">Kenny Lau (May 23 2018 at 20:52)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> have you pushed?</p>

<a name="126990917"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126990917" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126990917">Kevin Buzzard (May 23 2018 at 20:56)</a>:</h4>
<p>pushed what?</p>

<a name="126990921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126990921" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126990921">Kenny Lau (May 23 2018 at 20:56)</a>:</h4>
<p>fibonacci</p>

<a name="126990927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126990927" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126990927">Kevin Buzzard (May 23 2018 at 20:56)</a>:</h4>
<p>Chris -- Johannes and his student wrote some univariate poly stuff in their mason-stother repo</p>

<a name="126991057"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126991057" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126991057">Kevin Buzzard (May 23 2018 at 20:57)</a>:</h4>
<p>What Fibonacci is there for me to push?</p>

<a name="126991060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126991060" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126991060">Kevin Buzzard (May 23 2018 at 20:57)</a>:</h4>
<p>I have epsilon</p>

<a name="126991062"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126991062" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126991062">Kevin Buzzard (May 23 2018 at 20:57)</a>:</h4>
<p>I proved <code>luc (m + 3) = 2 * fib (m + 3) + fib m</code></p>

<a name="126991064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126991064" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126991064">Kevin Buzzard (May 23 2018 at 20:57)</a>:</h4>
<p>I will push some stuff</p>

<a name="126991211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126991211" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126991211">Chris Hughes (May 23 2018 at 21:00)</a>:</h4>
<p>They didn't do the theorem you need I don't think.</p>

<a name="126991755"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126991755" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126991755">Kevin Buzzard (May 23 2018 at 21:11)</a>:</h4>
<p>I pushed some stuff</p>

<a name="126991798"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126991798" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126991798">Kevin Buzzard (May 23 2018 at 21:12)</a>:</h4>
<p>I proved 2/3 of point 4</p>

<a name="126993768"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126993768" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126993768">Kevin Buzzard (May 23 2018 at 21:55)</a>:</h4>
<p>Is <code>gcd (a + n * b) b = gcd a b</code> in lean or mathlib somewhere? (everything a nat)]</p>

<a name="126993776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126993776" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126993776">Patrick Massot (May 23 2018 at 21:55)</a>:</h4>
<p>If everything is a nat, this is almost certainly wrong in some edge case</p>

<a name="126993922"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126993922" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126993922">Kenny Lau (May 23 2018 at 21:58)</a>:</h4>
<p>there isn't, since gcd is well-defined for 0 in the real world</p>

<a name="126994021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126994021" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126994021">Patrick Massot (May 23 2018 at 22:00)</a>:</h4>
<p>I knew it: edge case</p>

<a name="126994031"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126994031" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126994031">Kenny Lau (May 23 2018 at 22:00)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="bp">#</span><span class="kn">check</span> <span class="n">nat</span><span class="bp">.</span><span class="n">gcd_rec</span> <span class="c1">-- nat.gcd m n = nat.gcd (n % m) m</span>
<span class="kn">open</span> <span class="n">nat</span>
<span class="kn">example</span> <span class="o">(</span><span class="n">a</span> <span class="n">n</span> <span class="n">b</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">gcd</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">gcd</span> <span class="n">a</span> <span class="n">b</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">gcd_comm</span><span class="o">,</span> <span class="n">gcd_rec</span><span class="o">,</span> <span class="n">add_mul_mod_self_right</span><span class="o">,</span> <span class="err">←</span> <span class="n">gcd_rec</span><span class="o">,</span> <span class="n">gcd_comm</span><span class="o">]</span>
</pre></div>

<a name="126994032"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126994032" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126994032">Kenny Lau (May 23 2018 at 22:00)</a>:</h4>
<p>there is no edge case!</p>

<a name="126994097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126994097" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126994097">Patrick Massot (May 23 2018 at 22:01)</a>:</h4>
<p>This is an edge case to the general statement that every general statement about  nat is wrong</p>

<a name="126994501"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126994501" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126994501">Kevin Buzzard (May 23 2018 at 22:09)</a>:</h4>
<p>of course one could argue that gcd 0 0 = 0 is already wrong</p>

<a name="126994507"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126994507" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126994507">Kevin Buzzard (May 23 2018 at 22:09)</a>:</h4>
<p>given that 7 divides both 0 and 0</p>

<a name="126994600"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126994600" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126994600">Patrick Massot (May 23 2018 at 22:11)</a>:</h4>
<p>To be honest, that one has nothing to do with nat. It's also a problem in integers</p>

<a name="126994670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126994670" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126994670">Kevin Buzzard (May 23 2018 at 22:12)</a>:</h4>
<p>You know that <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mrow><mi>ζ</mi><mo>(</mo><mn>1</mn><mo>−</mo><mi>k</mi><mo>)</mo></mrow><mrow><mn>2</mn></mrow></mfrac><mo>+</mo><msub><mi mathvariant="normal">Σ</mi><mrow><mi>n</mi><mo>≥</mo><mn>1</mn></mrow></msub><msub><mi>σ</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>(</mo><mi>n</mi><mo>)</mo><msup><mi>q</mi><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">\frac{\zeta(1-k)}{2} + \Sigma_{n\geq1}\sigma_{k-1}(n)q^n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:1.01em;"></span><span class="strut bottom" style="height:1.355em;vertical-align:-0.345em;"></span><span class="base"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathit mtight" style="margin-right:0.07378em;">ζ</span><span class="mopen mtight">(</span><span class="mord mathrm mtight">1</span><span class="mbin mtight">−</span><span class="mord mathit mtight" style="margin-right:0.03148em;">k</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mbin">+</span><span class="mord"><span class="mord mathrm">Σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathit mtight">n</span><span class="mrel mtight">≥</span><span class="mord mathrm mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24517899999999998em;"></span></span></span></span></span><span class="mord"><span class="mord mathit" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathit mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mathrm mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"></span></span></span></span></span><span class="mopen">(</span><span class="mord mathit">n</span><span class="mclose">)</span><span class="mord"><span class="mord mathit" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">n</span></span></span></span></span></span></span></span></span></span></span> is a modular form, right?</p>

<a name="126994695"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126994695" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126994695">Kevin Buzzard (May 23 2018 at 22:13)</a>:</h4>
<p>Here <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>σ</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>(</mo><mi>n</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">\sigma_{k-1}(n)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base"><span class="mord"><span class="mord mathit" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathit mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mathrm mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"></span></span></span></span></span><span class="mopen">(</span><span class="mord mathit">n</span><span class="mclose">)</span></span></span></span> denotes the sum of the <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">k-1</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.03148em;">k</span><span class="mbin">−</span><span class="mord mathrm">1</span></span></span></span> st powers of the positive divisors of <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base"><span class="mord mathit">n</span></span></span></span>.</p>

<a name="126994718"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126994718" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126994718">Kevin Buzzard (May 23 2018 at 22:14)</a>:</h4>
<p>but if you set <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">n=0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.64444em;vertical-align:0em;"></span><span class="base"><span class="mord mathit">n</span><span class="mrel">=</span><span class="mord mathrm">0</span></span></span></span> in the sum you get the sum of the <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">k-1</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.03148em;">k</span><span class="mbin">−</span><span class="mord mathrm">1</span></span></span></span> st powers of the positive divisors of <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.64444em;vertical-align:0em;"></span><span class="base"><span class="mord mathrm">0</span></span></span></span></p>

<a name="126994777"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126994777" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126994777">Kevin Buzzard (May 23 2018 at 22:14)</a>:</h4>
<p>so that's <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>1</mn><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msup><mo>+</mo><msup><mn>2</mn><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msup><mo>+</mo><msup><mn>3</mn><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msup><mo>+</mo><mo>⋯</mo></mrow><annotation encoding="application/x-tex">1^{k-1} + 2 ^{k-1} + 3^{k-1} + \cdots</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.8491079999999999em;"></span><span class="strut bottom" style="height:0.9324379999999999em;vertical-align:-0.08333em;"></span><span class="base"><span class="mord"><span class="mord mathrm">1</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathit mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mathrm mtight">1</span></span></span></span></span></span></span></span></span><span class="mbin">+</span><span class="mord"><span class="mord mathrm">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathit mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mathrm mtight">1</span></span></span></span></span></span></span></span></span><span class="mbin">+</span><span class="mord"><span class="mord mathrm">3</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathit mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mathrm mtight">1</span></span></span></span></span></span></span></span></span><span class="mbin">+</span><span class="minner">⋯</span></span></span></span></p>

<a name="126994781"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126994781" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126994781">Kevin Buzzard (May 23 2018 at 22:14)</a>:</h4>
<p>which is <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>ζ</mi><mo>(</mo><mn>1</mn><mo>−</mo><mi>k</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">\zeta(1-k)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.07378em;">ζ</span><span class="mopen">(</span><span class="mord mathrm">1</span><span class="mbin">−</span><span class="mord mathit" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span> by...erm...definition...or something</p>

<a name="126994808"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126994808" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126994808">Kevin Buzzard (May 23 2018 at 22:15)</a>:</h4>
<p>but the sum is only over half of the integers</p>

<a name="126994813"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126994813" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126994813">Kevin Buzzard (May 23 2018 at 22:15)</a>:</h4>
<p>so you should only take the term at zero half as seriously</p>

<a name="126994819"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126994819" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126994819">Kevin Buzzard (May 23 2018 at 22:15)</a>:</h4>
<p>which gives you <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>ζ</mi><mo>(</mo><mn>1</mn><mo>−</mo><mi>k</mi><mo>)</mo><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">\zeta(1-k)/2</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.07378em;">ζ</span><span class="mopen">(</span><span class="mord mathrm">1</span><span class="mbin">−</span><span class="mord mathit" style="margin-right:0.03148em;">k</span><span class="mclose">)</span><span class="mord mathrm">/</span><span class="mord mathrm">2</span></span></span></span></p>

<a name="126994823"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126994823" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126994823">Kevin Buzzard (May 23 2018 at 22:15)</a>:</h4>
<p>and that's how I remember it</p>

<a name="126994876"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126994876" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126994876">Patrick Massot (May 23 2018 at 22:16)</a>:</h4>
<p>And we are surprised formalizing maths is hard...</p>

<a name="126995026"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995026" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995026">Nicholas Scheel (May 23 2018 at 22:19)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> Should I make a fork, or may I have commit access?</p>

<a name="126995041"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995041" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995041">Kenny Lau (May 23 2018 at 22:19)</a>:</h4>
<p>do I have commit access?</p>

<a name="126995177"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995177" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995177">Kevin Buzzard (May 23 2018 at 22:21)</a>:</h4>
<p>what is the most sensible idea?</p>

<a name="126995196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995196" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995196">Kevin Buzzard (May 23 2018 at 22:21)</a>:</h4>
<p>nobody has commit access except me</p>

<a name="126995201"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995201" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995201">Kevin Buzzard (May 23 2018 at 22:21)</a>:</h4>
<p>but I am happy to give it to anybody</p>

<a name="126995212"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995212" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995212">Kevin Buzzard (May 23 2018 at 22:21)</a>:</h4>
<p>unless someone has a good reason why I shouldn't do this</p>

<a name="126995218"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995218" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995218">Kevin Buzzard (May 23 2018 at 22:21)</a>:</h4>
<p>I need to know your github usernames I guess</p>

<a name="126995291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995291" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995291">Kenny Lau (May 23 2018 at 22:22)</a>:</h4>
<p>I'll kindly delete your alpha and beta :P (after proving points 4 and 6)</p>

<a name="126995295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995295" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995295">Patrick Massot (May 23 2018 at 22:22)</a>:</h4>
<p>If I were you I would fear seeing constructive stuff invading my repo</p>

<a name="126995412"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995412" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995412">Kevin Buzzard (May 23 2018 at 22:24)</a>:</h4>
<p>OK Kenny and Nicholas you should have push access</p>

<a name="126995415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995415" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995415">Kenny Lau (May 23 2018 at 22:24)</a>:</h4>
<p>thanks</p>

<a name="126995424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995424" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995424">Kenny Lau (May 23 2018 at 22:24)</a>:</h4>
<blockquote>
<p>If I were you I would fear seeing constructive stuff invading my repo</p>
</blockquote>
<p>much fear of the unknown :P</p>

<a name="126995425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995425" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995425">Kevin Buzzard (May 23 2018 at 22:24)</a>:</h4>
<p>but lemme push some stuff</p>

<a name="126995427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995427" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995427">Patrick Massot (May 23 2018 at 22:24)</a>:</h4>
<p>Constructive madness on the way...</p>

<a name="126995432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995432" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995432">Kevin Buzzard (May 23 2018 at 22:24)</a>:</h4>
<p>I need a job done</p>

<a name="126995455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995455" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995455">Patrick Massot (May 23 2018 at 22:25)</a>:</h4>
<p>Selling your mathematician soul...</p>

<a name="126995551"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995551" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995551">Kevin Buzzard (May 23 2018 at 22:26)</a>:</h4>
<p>OK I am pushed</p>

<a name="126995598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995598" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995598">Kenny Lau (May 23 2018 at 22:27)</a>:</h4>
<p>waitttt where did the Z alpha come from</p>

<a name="126995613"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995613" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995613">Kenny Lau (May 23 2018 at 22:27)</a>:</h4>
<p>oh Nicholas built it...</p>

<a name="126995631"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995631" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995631">Kenny Lau (May 23 2018 at 22:27)</a>:</h4>
<p><span class="user-mention" data-user-id="111651">@Nicholas Scheel</span> do you think we'll really need it?</p>

<a name="126995633"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995633" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995633">Nicholas Scheel (May 23 2018 at 22:27)</a>:</h4>
<p>oops sorry, did I step on your push?</p>

<a name="126995668"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995668" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995668">Kenny Lau (May 23 2018 at 22:28)</a>:</h4>
<p>no</p>

<a name="126995683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995683" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995683">Kenny Lau (May 23 2018 at 22:28)</a>:</h4>
<p>I'm just doubting whether we need sqrt(5) at all</p>

<a name="126995698"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995698" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995698">Kevin Buzzard (May 23 2018 at 22:28)</a>:</h4>
<p>Here's the reason I think we might need sqrt(5)</p>

<a name="126995703"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995703" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995703">Nicholas Scheel (May 23 2018 at 22:28)</a>:</h4>
<p>I think this might help along the way ;) :</p>
<div class="codehilite"><pre><span></span>lemma αβsum : α + β = 1 := rfl
lemma αβprod : α * β = -1 := rfl
</pre></div>

<a name="126995711"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995711" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995711">Kevin Buzzard (May 23 2018 at 22:28)</a>:</h4>
<p>that looks really good</p>

<a name="126995719"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995719" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995719">Kevin Buzzard (May 23 2018 at 22:29)</a>:</h4>
<p>it's a little bit better than my method</p>

<a name="126995738"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995738" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995738">Kenny Lau (May 23 2018 at 22:29)</a>:</h4>
<p>so, constructivism wins?</p>

<a name="126995747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995747" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995747">Kevin Buzzard (May 23 2018 at 22:29)</a>:</h4>
<p>To prove something like <code>luc (m + 3) = 2 * fib (m + 3) + fib m</code> you can just do it by induction</p>

<a name="126995765"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995765" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995765">Kevin Buzzard (May 23 2018 at 22:29)</a>:</h4>
<p>but to prove <code>luc (4 * n) = (luc (2 * n) ^ 2) - 2</code></p>

<a name="126995813"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995813" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995813">Kevin Buzzard (May 23 2018 at 22:30)</a>:</h4>
<p>the only method I know is to prove the general sqrt (5) formula</p>

<a name="126995817"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995817" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995817">Kenny Lau (May 23 2018 at 22:30)</a>:</h4>
<p>you just need the right lemmas</p>

<a name="126995822"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995822" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995822">Kevin Buzzard (May 23 2018 at 22:30)</a>:</h4>
<p>maybe some theorem of logic says you don't need square roots of 5</p>

<a name="126995826"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995826" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995826">Kenny Lau (May 23 2018 at 22:30)</a>:</h4>
<p>like the one I proved that day</p>

<a name="126995832"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995832" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995832">Kenny Lau (May 23 2018 at 22:30)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">variables</span> <span class="o">(</span><span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span>

<span class="n">local</span> <span class="n">attribute</span> <span class="o">[</span><span class="n">elab_as_eliminator</span><span class="o">]</span> <span class="n">nat</span><span class="bp">.</span><span class="n">strong_induction_on</span>

<span class="kn">theorem</span> <span class="n">to_be_named</span> <span class="o">:</span> <span class="n">fib</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
  <span class="n">fib</span> <span class="n">m</span> <span class="bp">*</span> <span class="n">fib</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">fib</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">fib</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">nat</span><span class="bp">.</span><span class="n">strong_induction_on</span> <span class="n">n</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">n</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">cases_on</span> <span class="n">n</span> <span class="o">(</span><span class="bp">λ</span> <span class="bp">_</span><span class="o">,</span> <span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">fib</span><span class="o">])</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">n</span><span class="o">,</span>
<span class="n">nat</span><span class="bp">.</span><span class="n">cases_on</span> <span class="n">n</span> <span class="o">(</span><span class="bp">λ</span> <span class="bp">_</span><span class="o">,</span> <span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">fib</span><span class="o">])</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">n</span> <span class="n">ih</span><span class="o">,</span>
<span class="k">have</span> <span class="n">H1</span> <span class="o">:</span> <span class="bp">_</span> <span class="o">:=</span> <span class="n">ih</span> <span class="n">n</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">lt_trans</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">lt_succ_self</span> <span class="n">n</span><span class="o">)</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">lt_succ_self</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">))),</span>
<span class="k">have</span> <span class="n">H2</span> <span class="o">:</span> <span class="n">fib</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">_</span> <span class="bp">+</span> <span class="bp">_</span> <span class="bp">*</span> <span class="o">(</span><span class="n">fib</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">fib</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">))</span> <span class="o">:=</span> <span class="n">ih</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">lt_succ_self</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)),</span>
<span class="k">calc</span>  <span class="n">fib</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span> <span class="n">fib</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">)</span>
    <span class="bp">=</span> <span class="n">fib</span> <span class="n">m</span> <span class="bp">*</span> <span class="o">(</span><span class="n">fib</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">fib</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="n">fib</span> <span class="o">(</span><span class="n">m</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">fib</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="bp">+</span> <span class="o">(</span><span class="n">fib</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">fib</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)))</span> <span class="o">:</span>
  <span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">H1</span><span class="o">,</span> <span class="n">H2</span><span class="o">,</span> <span class="n">mul_add</span><span class="o">,</span> <span class="n">mul_add</span><span class="o">,</span> <span class="n">mul_add</span><span class="o">,</span> <span class="n">mul_add</span><span class="o">]</span><span class="bp">;</span> <span class="n">ac_refl</span>
</pre></div>

<a name="126995834"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995834" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995834">Kevin Buzzard (May 23 2018 at 22:30)</a>:</h4>
<p>but then you will end up defining some auxiliary function on Z x Z</p>

<a name="126995843"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995843" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995843">Kevin Buzzard (May 23 2018 at 22:30)</a>:</h4>
<p>Let me just read through the proof</p>

<a name="126995867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995867" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995867">Kevin Buzzard (May 23 2018 at 22:31)</a>:</h4>
<p>Of course one might also argue that using sqrt(5) is a _natural_ thing to do</p>

<a name="126995872"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995872" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995872">Kevin Buzzard (May 23 2018 at 22:31)</a>:</h4>
<p>which might make it a good thing to do</p>

<a name="126995929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995929" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995929">Kenny Lau (May 23 2018 at 22:32)</a>:</h4>
<p>I should add "building the algebraic numbers" to my want-to-do-but-god-knows-when list</p>

<a name="126995944"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995944" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995944">Kevin Buzzard (May 23 2018 at 22:32)</a>:</h4>
<p>Of course you could also take the ring Q[x] and quotient out by the ideal (x^2-5) right? ;-)</p>

<a name="126995972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995972" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126995972">Kevin Buzzard (May 23 2018 at 22:33)</a>:</h4>
<p>I will write comments about the proof in the issue</p>

<a name="126996089"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126996089" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126996089">Patrick Massot (May 23 2018 at 22:35)</a>:</h4>
<p>From an arithmetic point of view it makes much more sense than defining square root on nonnegative reals</p>

<a name="126996291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126996291" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126996291">Mario Carneiro (May 23 2018 at 22:39)</a>:</h4>
<p>Hey, it might be too late for this remark but I built the ring Z[\sqrt n] in <code>pell.lean</code>. Not directly applicable, but it might be useful</p>

<a name="126996458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126996458" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126996458">Mario Carneiro (May 23 2018 at 22:43)</a>:</h4>
<blockquote>
<p>of course one could argue that gcd 0 0 = 0 is already wrong<br>
given that 7 divides both 0 and 0</p>
</blockquote>
<p>I think there are good reasons to believe that gcd 0 0 = 0 is <em>right</em> over both nat and int, and in traditional math, if you think about the integers in that calculation as representing their principal ideals. (gcd m n) = (m, n)</p>

<a name="126996521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126996521" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126996521">Mario Carneiro (May 23 2018 at 22:44)</a>:</h4>
<p>so here "greatest" actually means greatest in the divisor order, putting 0 at the top not the bottom</p>

<a name="126996708"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126996708" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126996708">Kenny Lau (May 23 2018 at 22:48)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> 7 divides both 0 and 0, and 7 divides gcd(0,0) = 0, consistent with the UMP of GCD</p>

<a name="126997108"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997108" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126997108">Kenny Lau (May 23 2018 at 22:56)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> can I push?</p>

<a name="126997123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997123" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126997123">Kevin Buzzard (May 23 2018 at 22:57)</a>:</h4>
<p>sure go ahead and push</p>

<a name="126997133"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997133" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126997133">Kevin Buzzard (May 23 2018 at 22:57)</a>:</h4>
<p>I wrote a more detailed sketch of how to flesh out the argument in the issue</p>

<a name="126997191"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997191" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126997191">Kenny Lau (May 23 2018 at 22:58)</a>:</h4>
<p>are you sure I have write access?</p>

<a name="126997208"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997208" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126997208">Kevin Buzzard (May 23 2018 at 22:58)</a>:</h4>
<p>I need to go and steer my children towards their beds now. Thanks for the help all of you. Mario and Kenny, I see the advantages of the "zero bigger than everything" approach here! Of course it's just the ideal-theoretic way of thinking about it -- gcd(x,y) = ideal generated by x and y, and if it's principal then let's choose a canonical generator if we can.</p>

<a name="126997214"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997214" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126997214">Kevin Buzzard (May 23 2018 at 22:58)</a>:</h4>
<p>Kenny I think I invited you. Did you check your email or did I fail?</p>

<a name="126997225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997225" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126997225">Kenny Lau (May 23 2018 at 22:59)</a>:</h4>
<p>oh, I need to accept the invitation</p>

<a name="126997228"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997228" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126997228">Kevin Buzzard (May 23 2018 at 22:59)</a>:</h4>
<p><a href="https://github.com/kbuzzard/lean-squares-in-fibonacci/issues/1" target="_blank" title="https://github.com/kbuzzard/lean-squares-in-fibonacci/issues/1">https://github.com/kbuzzard/lean-squares-in-fibonacci/issues/1</a></p>

<a name="126997235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997235" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126997235">Kevin Buzzard (May 23 2018 at 22:59)</a>:</h4>
<p>Note the last part -- point 12 is slightly delicate, it needs the following consequence of uniqueness of prime factorization: if gcd(x,y)=1 and x*y is a square then x and y are both squares (here x,y&gt;0).</p>

<a name="126997316"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997316" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126997316">Kevin Buzzard (May 23 2018 at 23:01)</a>:</h4>
<p>and for that you need: n square iff v_p(n) even for all primes p (v_p(n) = largest power of p dividing n) and gcd(x,y)=1 iff min(v_p(x),v_p(y))=0 for all primes p</p>

<a name="126997456"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997456" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126997456">Mario Carneiro (May 23 2018 at 23:03)</a>:</h4>
<p>pretty sure that exact theorem is in my formalization</p>

<a name="126997502"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997502" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126997502">Mario Carneiro (May 23 2018 at 23:04)</a>:</h4>
<p>and you don't need UFD for it</p>

<a name="126997557"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997557" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126997557">Kevin Buzzard (May 23 2018 at 23:05)</a>:</h4>
<p>well you do need something</p>

<a name="126997562"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997562" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126997562">Kevin Buzzard (May 23 2018 at 23:05)</a>:</h4>
<p>because it's not true in a general ring</p>

<a name="126997571"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997571" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126997571">Kevin Buzzard (May 23 2018 at 23:05)</a>:</h4>
<p>well I suppose it depends on what you mean by gcd in a general ring</p>

<a name="126997580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997580" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126997580">Mario Carneiro (May 23 2018 at 23:05)</a>:</h4>
<p>you need nat.gcd facts and some induction</p>

<a name="126997644"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997644" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126997644">Mario Carneiro (May 23 2018 at 23:06)</a>:</h4>
<p>I'm not saying it doesn't depend in a reverse mathematics way on UFD, but you don't need all that complexity for the proof</p>

<a name="126997647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997647" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126997647">Kevin Buzzard (May 23 2018 at 23:06)</a>:</h4>
<p>a bit like the proof of UFD ;-)</p>

<a name="126997654"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997654" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126997654">Kevin Buzzard (May 23 2018 at 23:06)</a>:</h4>
<p>[I mean, you need nat.gcd facts and some induction for that too]</p>

<a name="126997670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997670" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126997670">Kevin Buzzard (May 23 2018 at 23:07)</a>:</h4>
<p>For a general comm ring there are two natural defs of gcd, one more general than the other</p>

<a name="126997701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997701" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126997701">Kevin Buzzard (May 23 2018 at 23:07)</a>:</h4>
<p>and the weaker version of coprime doesn't cut it</p>

<a name="126997705"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997705" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126997705">Kevin Buzzard (May 23 2018 at 23:07)</a>:</h4>
<p>oh there are also issues with units</p>

<a name="126997713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997713" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126997713">Kevin Buzzard (May 23 2018 at 23:07)</a>:</h4>
<p>-4 and -9 are coprime and their product is a square etc etc</p>

<a name="126997756"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997756" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126997756">Kevin Buzzard (May 23 2018 at 23:08)</a>:</h4>
<p>so there are issues in general</p>

<a name="126997767"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997767" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126997767">Kevin Buzzard (May 23 2018 at 23:08)</a>:</h4>
<p>but I take your point that you are saying you don't have to go through v_p(x)</p>

<a name="126997771"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997771" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126997771">Mario Carneiro (May 23 2018 at 23:08)</a>:</h4>
<p>right</p>

<a name="126997780"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997780" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126997780">Mario Carneiro (May 23 2018 at 23:08)</a>:</h4>
<p>it's a nice way to conceptualize it, but it's technically complicated and not worth it for most problems IMO</p>

<a name="126997837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997837" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126997837">Mario Carneiro (May 23 2018 at 23:10)</a>:</h4>
<p>whenever you need a fact that would come from primality of the p in v_p(n), just use the coprime assumption instead, it's just as well for the purpose of the proof</p>

<a name="126998319"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126998319" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126998319">Kenny Lau (May 23 2018 at 23:23)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> what's the fastest way to know that <code>n=1</code> or <code>n=2</code> given <code>n</code> divides 2?</p>

<a name="126998321"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126998321" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126998321">Mario Carneiro (May 23 2018 at 23:23)</a>:</h4>
<p>n | 2 implies n &lt;= 2</p>

<a name="126998325"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126998325" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126998325">Chris Hughes (May 23 2018 at 23:23)</a>:</h4>
<p>2 is prime</p>

<a name="126998326"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126998326" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126998326">Mario Carneiro (May 23 2018 at 23:23)</a>:</h4>
<p>alternatively, 2 is prime</p>

<a name="126998329"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126998329" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126998329">Kenny Lau (May 23 2018 at 23:23)</a>:</h4>
<p>oh lol</p>

<a name="126998680"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126998680" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#126998680">Kenny Lau (May 23 2018 at 23:32)</a>:</h4>
<p>Point 4 done!</p>

<a name="127001593"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127001593" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127001593">Nicholas Scheel (May 24 2018 at 00:42)</a>:</h4>
<p>I want to prove this but I don't know how? <code>lemma Fib.is_fib (n : ℤ) : Fib (n+2) = Fib n + Fib (n + 1)</code> :P</p>

<a name="127001606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127001606" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127001606">Nicholas Scheel (May 24 2018 at 00:42)</a>:</h4>
<p><code>  cases n, refl,
  induction n using nat.case_strong_induction_on with n ih, refl,
  cases n, refl,
  cases n, refl,
  have ih0 := ih n (nat.le_succ_of_le (nat.le_succ _)),
  have ih1 : Fib (-[1+n+1] + 2) = Fib -[1+n+1] + Fib -[1+n] :=
    ih (n+1) (nat.le_succ _),
  have ih2 : Fib -[1+n] = Fib -[1+n+2] + Fib -[1+n+1] :=
    ih (n+2) (le_refl _),
  </code></p>

<a name="127001612"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127001612" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127001612">Kenny Lau (May 24 2018 at 00:43)</a>:</h4>
<p>write x^(n+2) as x^n x^2?</p>

<a name="127001619"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127001619" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127001619">Kenny Lau (May 24 2018 at 00:43)</a>:</h4>
<p>you might find <code>int.induction_on</code> useful</p>

<a name="127009320"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127009320" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127009320">Kenny Lau (May 24 2018 at 04:44)</a>:</h4>
<p>Point 6 done except the last claim</p>

<a name="127017268"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017268" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017268">Kevin Buzzard (May 24 2018 at 09:39)</a>:</h4>
<p>OK this is great.</p>

<a name="127017269"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017269" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017269">Kevin Buzzard (May 24 2018 at 09:39)</a>:</h4>
<p>Looking at what has been already done</p>

<a name="127017270"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017270" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017270">Kevin Buzzard (May 24 2018 at 09:39)</a>:</h4>
<p>I already easily have enough material to fill the session.</p>

<a name="127017271"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017271" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017271">Kevin Buzzard (May 24 2018 at 09:39)</a>:</h4>
<p>So actually the time pressure is over.</p>

<a name="127017311"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017311" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017311">Kevin Buzzard (May 24 2018 at 09:40)</a>:</h4>
<p>These kids are smart kids (my audience of 8)</p>

<a name="127017312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017312" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017312">Kevin Buzzard (May 24 2018 at 09:40)</a>:</h4>
<p>but the Lean session will last 90 minutes</p>

<a name="127017317"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017317" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017317">Kevin Buzzard (May 24 2018 at 09:40)</a>:</h4>
<p>and even talking about how to construct Z[alpha] and computing Fibonacci numbers mod n throws up so much stuff</p>

<a name="127017322"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017322" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017322">Kevin Buzzard (May 24 2018 at 09:41)</a>:</h4>
<p>that my talk is already written.</p>

<a name="127017325"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017325" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017325">Kevin Buzzard (May 24 2018 at 09:41)</a>:</h4>
<p>However I am definitely still interested in finishing the job :-)</p>

<a name="127017326"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017326" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017326">Kevin Buzzard (May 24 2018 at 09:41)</a>:</h4>
<p>Here's a question.</p>

<a name="127017363"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017363" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017363">Kevin Buzzard (May 24 2018 at 09:42)</a>:</h4>
<p>Oh -- before I start -- thanks to Kenny and Nicholas for their contributions!</p>

<a name="127017369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017369" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017369">Kevin Buzzard (May 24 2018 at 09:42)</a>:</h4>
<p>I'm still mired in marking and preparing these talks for Sat was beginning to become a worry.</p>

<a name="127017374"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017374" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017374">Kevin Buzzard (May 24 2018 at 09:43)</a>:</h4>
<p>The question is how to express the following assertion in Lean</p>

<a name="127017377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017377" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017377">Kevin Buzzard (May 24 2018 at 09:43)</a>:</h4>
<p>We need to compute the Fibonacci sequence mod 16</p>

<a name="127017422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017422" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017422">Kevin Buzzard (May 24 2018 at 09:44)</a>:</h4>
<p>The theorem is that mod 16 it goes like this:</p>

<a name="127017424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017424" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017424">Kevin Buzzard (May 24 2018 at 09:44)</a>:</h4>
<p><code>[0, 1, 1, 2, 3, 5, 8, 13, 5, 2, 7, 9, 0, 9, 9, 2, 11, 13, 8, 5, 13, 2, 15, 1]</code></p>

<a name="127017427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017427" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017427">Kevin Buzzard (May 24 2018 at 09:45)</a>:</h4>
<p>And the proof is "trivial by induction"</p>

<a name="127017433"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017433" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017433">Kevin Buzzard (May 24 2018 at 09:45)</a>:</h4>
<p>(because each term in that list is the sum of the previous two terms mod 16, and at the end we have 15 + 1 = 0 and 1 + 0 = 1 so we wrap back)</p>

<a name="127017472"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017472" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017472">Kevin Buzzard (May 24 2018 at 09:46)</a>:</h4>
<p>The question is how one can prove this in Lean in a way which actually looks reasonable</p>

<a name="127017478"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017478" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017478">Kevin Buzzard (May 24 2018 at 09:46)</a>:</h4>
<p>This is not a question about how to do anything mod n, this is a specific question about mod 16 (there's an analogous one for mod 3 but I chose the most awkward one).</p>

<a name="127017480"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017480" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017480">Kevin Buzzard (May 24 2018 at 09:46)</a>:</h4>
<p>One issue is what to do the induction on.</p>

<a name="127017486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017486" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017486">Kevin Buzzard (May 24 2018 at 09:47)</a>:</h4>
<p>You could do strong induction on m</p>

<a name="127017488"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017488" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017488">Kevin Buzzard (May 24 2018 at 09:47)</a>:</h4>
<p>or you could write m = 24 * n + t with 0 &lt;= t &lt; 24 and do induction on n</p>

<a name="127017527"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017527" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017527">Kevin Buzzard (May 24 2018 at 09:48)</a>:</h4>
<p>What I am (not really that) concerned about is that with either approach you end up writing essentially the same code block 24 or so times</p>

<a name="127017581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017581" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017581">Kevin Buzzard (May 24 2018 at 09:50)</a>:</h4>
<p>In the direct strong induction argument you case on n mod 24 and I don't really know how to do that</p>

<a name="127017584"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017584" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017584">Kevin Buzzard (May 24 2018 at 09:50)</a>:</h4>
<p>hmm</p>

<a name="127017586"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017586" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017586">Kevin Buzzard (May 24 2018 at 09:50)</a>:</h4>
<p>maybe it's OK</p>

<a name="127017597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017597" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017597">Kevin Buzzard (May 24 2018 at 09:51)</a>:</h4>
<p>if t &lt; 22 it's some lemma of the form <code>(a+b)%m = (a%m+b%m)%m</code> -- is that in Lean/mathlib?</p>

<a name="127017599"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017599" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017599">Kevin Buzzard (May 24 2018 at 09:51)</a>:</h4>
<p>and in the induction case you end up with a statement of the form <code>a0 and a1 and ... and a23</code></p>

<a name="127017602"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017602" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017602">Kevin Buzzard (May 24 2018 at 09:51)</a>:</h4>
<p>you would never write such a statement in python or whatever, you would somehow wrap everything up in a list</p>

<a name="127017603"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017603" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017603">Kevin Buzzard (May 24 2018 at 09:52)</a>:</h4>
<p>Hmm</p>

<a name="127017644"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017644" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017644">Kevin Buzzard (May 24 2018 at 09:52)</a>:</h4>
<p>I think my question is that I am seeing two competing methods for proving this and they book look a bit "trivial in maths but a bit ugly to write in Lean" at the minute. Anyone have any suggestions?</p>

<a name="127017725"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017725" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017725">Chris Hughes (May 24 2018 at 09:55)</a>:</h4>
<blockquote>
<p>if t &lt; 14 it's some lemma of the form <code>(a+b)%m = (a%m+b%m)%m</code> -- is that in Lean/mathlib?</p>
</blockquote>
<p>int.modeq.modeq_add should help, since this is defeq to <code>a + b \== a%m + b % m</code> Although I forgot <code>modeq_mod</code> i.e. , so you'll have to prove that.<br>
Why not just prove it as a lemma about integers mod n, and not naturals.</p>

<a name="127017789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017789" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017789">Kevin Buzzard (May 24 2018 at 09:57)</a>:</h4>
<p>The problem with working with integers mod n is that if you want the _input_ to fib to be an integer mod n (n would be 24 here) then you have to prove that your definition is well-defined.</p>

<a name="127017793"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017793" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017793">Kevin Buzzard (May 24 2018 at 09:57)</a>:</h4>
<p>and that's basically the same question, or another way of writing it, as far as I can see. Am I missing your point?</p>

<a name="127017798"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017798" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017798">Kevin Buzzard (May 24 2018 at 09:57)</a>:</h4>
<p>Oh -- or are you just talking about the (a+b)%m lemma?</p>

<a name="127017835"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017835" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017835">Chris Hughes (May 24 2018 at 09:58)</a>:</h4>
<p>The definition is just <code>quot.mk \circ fib</code></p>

<a name="127017843"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017843" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017843">Kevin Buzzard (May 24 2018 at 09:58)</a>:</h4>
<p>Chris I'm talking about the input not the output</p>

<a name="127017845"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017845" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017845">Chris Hughes (May 24 2018 at 09:58)</a>:</h4>
<p>I'm talking about the mod 16 lemma</p>

<a name="127017847"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017847" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017847">Kevin Buzzard (May 24 2018 at 09:58)</a>:</h4>
<p>I can get fib : N -&gt; N / 16 fine</p>

<a name="127017849"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017849" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017849">Kevin Buzzard (May 24 2018 at 09:58)</a>:</h4>
<p>But fib : (N / 24) -&gt; N / 16 is less fine</p>

<a name="127017851"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017851" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017851">Kevin Buzzard (May 24 2018 at 09:58)</a>:</h4>
<p>what am I saying</p>

<a name="127017852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017852" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017852">Kevin Buzzard (May 24 2018 at 09:58)</a>:</h4>
<p>what has happened to me</p>

<a name="127017853"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017853" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017853">Kevin Buzzard (May 24 2018 at 09:58)</a>:</h4>
<p>(Z  / 24)</p>

<a name="127017856"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017856" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017856">Chris Hughes (May 24 2018 at 09:59)</a>:</h4>
<p>Just do nat \r mod 16</p>

<a name="127017861"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017861" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017861">Kevin Buzzard (May 24 2018 at 09:59)</a>:</h4>
<p>what the hell is N mod 24</p>

<a name="127017865"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017865" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017865">Kevin Buzzard (May 24 2018 at 09:59)</a>:</h4>
<p>I understand how to build fib : N -&gt; Z / 16</p>

<a name="127017867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017867" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017867">Kevin Buzzard (May 24 2018 at 09:59)</a>:</h4>
<p>The issue is proving that fib (n + 24) = fib n</p>

<a name="127017879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017879" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017879">Kevin Buzzard (May 24 2018 at 10:00)</a>:</h4>
<p>The only proof I know of that statement is</p>

<a name="127017911"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017911" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017911">Kevin Buzzard (May 24 2018 at 10:00)</a>:</h4>
<p>"consider n mod 24"</p>

<a name="127017914"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017914" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017914">Kevin Buzzard (May 24 2018 at 10:00)</a>:</h4>
<p>Oh</p>

<a name="127017918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017918" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017918">Kevin Buzzard (May 24 2018 at 10:00)</a>:</h4>
<p>I realised I made a mistake above</p>

<a name="127017923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017923" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017923">Kevin Buzzard (May 24 2018 at 10:00)</a>:</h4>
<p>I am going to edit a bunch of 16s and change them to 24s</p>

<a name="127017924"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017924" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017924">Kevin Buzzard (May 24 2018 at 10:00)</a>:</h4>
<p>input mod 24, output mod 16</p>

<a name="127017982"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017982" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017982">Kevin Buzzard (May 24 2018 at 10:02)</a>:</h4>
<p>OK fixed</p>

<a name="127017984"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017984" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017984">Kevin Buzzard (May 24 2018 at 10:02)</a>:</h4>
<p>So the issue is proving a = b mod 24 implies fib a = fib b mod 16</p>

<a name="127017986"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017986" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017986">Kevin Buzzard (May 24 2018 at 10:02)</a>:</h4>
<p>hmm</p>

<a name="127017987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017987" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017987">Kevin Buzzard (May 24 2018 at 10:03)</a>:</h4>
<p>this is an idea</p>

<a name="127017993"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017993" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017993">Kevin Buzzard (May 24 2018 at 10:03)</a>:</h4>
<p>one can prove fib (n + 24) = fib n mod 16</p>

<a name="127017995"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017995" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017995">Kevin Buzzard (May 24 2018 at 10:03)</a>:</h4>
<p>by induction on n</p>

<a name="127017996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017996" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017996">Kevin Buzzard (May 24 2018 at 10:03)</a>:</h4>
<p>and one has to hope that Lean has the firepower to compute fib 24</p>

<a name="127017998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017998" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017998">Kevin Buzzard (May 24 2018 at 10:03)</a>:</h4>
<p>to get the induction started</p>

<a name="127017999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017999" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127017999">Kevin Buzzard (May 24 2018 at 10:03)</a>:</h4>
<p>OK so</p>

<a name="127018000"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127018000" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127018000">Kevin Buzzard (May 24 2018 at 10:03)</a>:</h4>
<p>actually</p>

<a name="127018041"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127018041" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127018041">Kevin Buzzard (May 24 2018 at 10:04)</a>:</h4>
<p>one can define fibmod16</p>

<a name="127018044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127018044" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127018044">Kevin Buzzard (May 24 2018 at 10:04)</a>:</h4>
<p>I see</p>

<a name="127018046"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127018046" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127018046">Kevin Buzzard (May 24 2018 at 10:04)</a>:</h4>
<p>fibmod16 : N -&gt; Z/16</p>

<a name="127018051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127018051" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127018051">Kevin Buzzard (May 24 2018 at 10:04)</a>:</h4>
<p>then prove that forall n, fibmod16 (n + 24) = fibmod16 n by induction on n</p>

<a name="127018052"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127018052" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127018052">Kevin Buzzard (May 24 2018 at 10:04)</a>:</h4>
<p>and now no firepower needed</p>

<a name="127018055"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127018055" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127018055">Kevin Buzzard (May 24 2018 at 10:05)</a>:</h4>
<p>and now prove fib mod 16 is fibmod16 by induction on n</p>

<a name="127018058"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127018058" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127018058">Kevin Buzzard (May 24 2018 at 10:05)</a>:</h4>
<p>and you're done!</p>

<a name="127018063"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127018063" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127018063">Kevin Buzzard (May 24 2018 at 10:05)</a>:</h4>
<p>This is great!</p>

<a name="127018064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127018064" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127018064">Kevin Buzzard (May 24 2018 at 10:05)</a>:</h4>
<p>Thanks Chris!</p>

<a name="127018068"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127018068" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127018068">Kevin Buzzard (May 24 2018 at 10:05)</a>:</h4>
<p>I could even make that discussion into 90 minutes, given that none of the kids will have seen Lean before</p>

<a name="127018109"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127018109" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127018109">Chris Hughes (May 24 2018 at 10:06)</a>:</h4>
<p>induction, bases case <code>rfl</code>, next case unfold 24 times, and hope things simplify</p>

<a name="127018162"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127018162" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127018162">Kevin Buzzard (May 24 2018 at 10:08)</a>:</h4>
<p>Yeah I think you've cracked it. Thanks Chris.</p>

<a name="127018165"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127018165" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127018165">Kevin Buzzard (May 24 2018 at 10:08)</a>:</h4>
<p>Now get back to stats revision ;-)</p>

<a name="127019961"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127019961" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127019961">Kenny Lau (May 24 2018 at 11:05)</a>:</h4>
<p>The correct way is to use the theorem I proved that day :P</p>

<a name="127020007"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020007" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020007">Kevin Buzzard (May 24 2018 at 11:06)</a>:</h4>
<p>Kenny</p>

<a name="127020008"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020008" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020008">Kevin Buzzard (May 24 2018 at 11:06)</a>:</h4>
<p>your comments are sometimes obscure</p>

<a name="127020010"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020010" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020010">Kevin Buzzard (May 24 2018 at 11:06)</a>:</h4>
<p>but "the theorem I proved that day" will take some beating</p>

<a name="127020011"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020011" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020011">Kevin Buzzard (May 24 2018 at 11:06)</a>:</h4>
<p><code>(a%m+b%m)%m=(a+b)%m</code> is horrible</p>

<a name="127020012"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020012" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020012">Kenny Lau (May 24 2018 at 11:06)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">theorem</span> <span class="n">to_be_named</span> <span class="o">:</span> <span class="n">fib</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
  <span class="n">fib</span> <span class="n">m</span> <span class="bp">*</span> <span class="n">fib</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">fib</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">fib</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">nat</span><span class="bp">.</span><span class="n">strong_induction_on</span> <span class="n">n</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">n</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">cases_on</span> <span class="n">n</span> <span class="o">(</span><span class="bp">λ</span> <span class="bp">_</span><span class="o">,</span> <span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">fib</span><span class="o">])</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">n</span><span class="o">,</span>
<span class="n">nat</span><span class="bp">.</span><span class="n">cases_on</span> <span class="n">n</span> <span class="o">(</span><span class="bp">λ</span> <span class="bp">_</span><span class="o">,</span> <span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">fib</span><span class="o">])</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">n</span> <span class="n">ih</span><span class="o">,</span>
<span class="k">have</span> <span class="n">H1</span> <span class="o">:</span> <span class="bp">_</span> <span class="o">:=</span> <span class="n">ih</span> <span class="n">n</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">lt_trans</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">lt_succ_self</span> <span class="n">n</span><span class="o">)</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">lt_succ_self</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">))),</span>
<span class="k">have</span> <span class="n">H2</span> <span class="o">:</span> <span class="n">fib</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">_</span> <span class="bp">+</span> <span class="bp">_</span> <span class="bp">*</span> <span class="o">(</span><span class="n">fib</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">fib</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">))</span> <span class="o">:=</span> <span class="n">ih</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">lt_succ_self</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)),</span>
<span class="k">calc</span>  <span class="n">fib</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span> <span class="n">fib</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">)</span>
    <span class="bp">=</span> <span class="n">fib</span> <span class="n">m</span> <span class="bp">*</span> <span class="o">(</span><span class="n">fib</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">fib</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="n">fib</span> <span class="o">(</span><span class="n">m</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">fib</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="bp">+</span> <span class="o">(</span><span class="n">fib</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">fib</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)))</span> <span class="o">:</span>
  <span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">H1</span><span class="o">,</span> <span class="n">H2</span><span class="o">,</span> <span class="n">mul_add</span><span class="o">,</span> <span class="n">mul_add</span><span class="o">,</span> <span class="n">mul_add</span><span class="o">,</span> <span class="n">mul_add</span><span class="o">]</span><span class="bp">;</span> <span class="n">ac_refl</span>
</pre></div>

<a name="127020013"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020013" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020013">Kenny Lau (May 24 2018 at 11:06)</a>:</h4>
<p>it's how it's done in proofwiki</p>

<a name="127020014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020014" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020014">Kenny Lau (May 24 2018 at 11:07)</a>:</h4>
<p>this lemma, plus the fact that fib 16 and fib 17 are coprime</p>

<a name="127020019"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020019" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020019">Kevin Buzzard (May 24 2018 at 11:07)</a>:</h4>
<p>OK so I will now home in on the other part of your sentence</p>

<a name="127020020"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020020" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020020">Kevin Buzzard (May 24 2018 at 11:07)</a>:</h4>
<p>"The correct way"</p>

<a name="127020023"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020023" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020023">Kenny Lau (May 24 2018 at 11:07)</a>:</h4>
<p>it's more general</p>

<a name="127020025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020025" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020025">Kenny Lau (May 24 2018 at 11:07)</a>:</h4>
<p>you can prove that fib m | fib n iff m | n</p>

<a name="127020027"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020027" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020027">Kevin Buzzard (May 24 2018 at 11:07)</a>:</h4>
<p>Oh so you're just talking about the correct way to do something random</p>

<a name="127020066"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020066" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020066">Kevin Buzzard (May 24 2018 at 11:08)</a>:</h4>
<p>I was rather hoping you were talking about the thing I was interested in :-)</p>

<a name="127020069"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020069" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020069">Kenny Lau (May 24 2018 at 11:08)</a>:</h4>
<p>m = 16?</p>

<a name="127020070"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020070" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020070">Kevin Buzzard (May 24 2018 at 11:08)</a>:</h4>
<p>Oh yeah!</p>

<a name="127020071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020071" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020071">Kevin Buzzard (May 24 2018 at 11:08)</a>:</h4>
<p>Let's talk about that!</p>

<a name="127020072"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020072" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020072">Kenny Lau (May 24 2018 at 11:08)</a>:</h4>
<p>that's a special case lol</p>

<a name="127020073"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020073" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020073">Chris Hughes (May 24 2018 at 11:08)</a>:</h4>
<blockquote>
<p>this lemma, plus the fact that fib 16 and fib 17 are coprime</p>
</blockquote>
<p>Is this easy to prove, or are the numbers too big for lean to handle?</p>

<a name="127020075"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020075" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020075">Kevin Buzzard (May 24 2018 at 11:08)</a>:</h4>
<p>fib n is coprime to fib (n+1)</p>

<a name="127020076"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020076" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020076">Kenny Lau (May 24 2018 at 11:08)</a>:</h4>
<blockquote>
<blockquote>
<p>this lemma, plus the fact that fib 16 and fib 17 are coprime</p>
</blockquote>
<p>Is this easy to prove, or are the numbers too big for lean to handle?</p>
</blockquote>
<p>kevin already proved it</p>

<a name="127020079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020079" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020079">Kevin Buzzard (May 24 2018 at 11:08)</a>:</h4>
<p>by Euclid's algorithm</p>

<a name="127020093"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020093" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020093">Kevin Buzzard (May 24 2018 at 11:09)</a>:</h4>
<p>I can't face <code>(a%m+a%m)%m=(a+b)%m</code></p>

<a name="127020095"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020095" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020095">Kevin Buzzard (May 24 2018 at 11:09)</a>:</h4>
<p>I am going to work with Z/n</p>

<a name="127020096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020096" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020096">Kevin Buzzard (May 24 2018 at 11:09)</a>:</h4>
<p>Where is this in Lean?</p>

<a name="127020097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020097" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020097">Kevin Buzzard (May 24 2018 at 11:09)</a>:</h4>
<p>I currently have</p>

<a name="127020120"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020120" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020120">Kevin Buzzard (May 24 2018 at 11:10)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">definition</span> <span class="n">fib_mod</span> <span class="o">(</span><span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="bp">ℕ</span>
<span class="bp">|</span> <span class="mi">0</span> <span class="o">:=</span> <span class="mi">0</span> <span class="err">%</span> <span class="n">m</span>
<span class="bp">|</span> <span class="mi">1</span> <span class="o">:=</span> <span class="mi">1</span> <span class="err">%</span> <span class="n">m</span>
<span class="bp">|</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:=</span> <span class="o">(</span> <span class="o">(</span><span class="n">fib_mod</span> <span class="n">n</span><span class="o">)</span> <span class="bp">+</span> <span class="o">(</span><span class="n">fib_mod</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="o">)</span> <span class="err">%</span> <span class="n">m</span>
</pre></div>

<a name="127020145"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020145" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020145">Kevin Buzzard (May 24 2018 at 11:10)</a>:</h4>
<p>but I am going to go for a map from N to whatever Z/nZ is called</p>

<a name="127020146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020146" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020146">Kevin Buzzard (May 24 2018 at 11:10)</a>:</h4>
<p>as long as it's an abelian group</p>

<a name="127020151"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020151" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020151">Chris Hughes (May 24 2018 at 11:10)</a>:</h4>
<p><a href="https://github.com/dorhinj/leanstuff/blob/master/Zmod1.lean" target="_blank" title="https://github.com/dorhinj/leanstuff/blob/master/Zmod1.lean">https://github.com/dorhinj/leanstuff/blob/master/Zmod1.lean</a> I did it.</p>

<a name="127020155"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020155" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020155">Kevin Buzzard (May 24 2018 at 11:11)</a>:</h4>
<p>oh so it's not in Lean?</p>

<a name="127020157"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020157" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020157">Chris Hughes (May 24 2018 at 11:11)</a>:</h4>
<p>No.</p>

<a name="127020159"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020159" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020159">Kevin Buzzard (May 24 2018 at 11:11)</a>:</h4>
<p>I mean mathlib</p>

<a name="127020163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020163" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020163">Kevin Buzzard (May 24 2018 at 11:11)</a>:</h4>
<p>OK</p>

<a name="127020164"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020164" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020164">Kevin Buzzard (May 24 2018 at 11:11)</a>:</h4>
<p>I will steal it</p>

<a name="127020166"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020166" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020166">Kevin Buzzard (May 24 2018 at 11:11)</a>:</h4>
<p>you only did Z mod 1?</p>

<a name="127020209"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020209" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020209">Chris Hughes (May 24 2018 at 11:12)</a>:</h4>
<p>The 1 is to distinguish it from another construction I did.</p>

<a name="127020212"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020212" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020212">Kevin Buzzard (May 24 2018 at 11:12)</a>:</h4>
<p>Oh OK :-)</p>

<a name="127020214"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020214" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020214">Kevin Buzzard (May 24 2018 at 11:12)</a>:</h4>
<p>That's a relief</p>

<a name="127020215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020215" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020215">Kevin Buzzard (May 24 2018 at 11:12)</a>:</h4>
<p>I was hoping for Zmod16</p>

<a name="127020223"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020223" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020223">Kevin Buzzard (May 24 2018 at 11:13)</a>:</h4>
<p>wow</p>

<a name="127020224"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020224" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020224">Kevin Buzzard (May 24 2018 at 11:13)</a>:</h4>
<p><a href="https://github.com/dorhinj/leanstuff" target="_blank" title="https://github.com/dorhinj/leanstuff">https://github.com/dorhinj/leanstuff</a></p>

<a name="127020226"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020226" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020226">Kevin Buzzard (May 24 2018 at 11:13)</a>:</h4>
<p>you have been pretty productive in the last 16 hours</p>

<a name="127020229"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020229" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020229">Kevin Buzzard (May 24 2018 at 11:13)</a>:</h4>
<p>about 50 lean files commited</p>

<a name="127020230"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020230" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020230">Kenny Lau (May 24 2018 at 11:13)</a>:</h4>
<p>lol</p>

<a name="127020270"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020270" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020270">Kevin Buzzard (May 24 2018 at 11:14)</a>:</h4>
<p>it's Chrislib</p>

<a name="127020275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020275" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020275">Kevin Buzzard (May 24 2018 at 11:14)</a>:</h4>
<p>I like the look of kbuzzard.lean</p>

<a name="127020277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020277" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020277">Kevin Buzzard (May 24 2018 at 11:14)</a>:</h4>
<p>Is that one of my theorems?</p>

<a name="127020279"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020279" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020279">Kevin Buzzard (May 24 2018 at 11:14)</a>:</h4>
<p>something about modular forms maybe?</p>

<a name="127020282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020282" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020282">Kevin Buzzard (May 24 2018 at 11:15)</a>:</h4>
<p>Actually, hopefully, one of my theorems really _will_ be in Lean soon</p>

<a name="127020286"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020286" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020286">Kevin Buzzard (May 24 2018 at 11:15)</a>:</h4>
<p>Ellen is going to formalize my dots and boxes paper</p>

<a name="127020520"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020520" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020520">Kevin Buzzard (May 24 2018 at 11:22)</a>:</h4>
<p>If Z mod n isn't in mathlib and requires a bunch of Chris' local imports it might be easier to just go for <code>def nat.mod_add (a b m : ℕ) : (a % m + b % m) % m = (a + b) % m := sorry</code></p>

<a name="127020524"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020524" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020524">Kevin Buzzard (May 24 2018 at 11:22)</a>:</h4>
<p>I am not enough of an expert in how to use <code>%</code> to see how to prove this</p>

<a name="127020525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020525" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020525">Kevin Buzzard (May 24 2018 at 11:22)</a>:</h4>
<p>and it doesn't appear to be there already</p>

<a name="127020532"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020532" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020532">Kevin Buzzard (May 24 2018 at 11:23)</a>:</h4>
<p>KB &lt;- professional number theorist who is not an expert in mod</p>

<a name="127020535"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020535" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020535">Kevin Buzzard (May 24 2018 at 11:23)</a>:</h4>
<p>:-/</p>

<a name="127020583"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020583" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020583">Kevin Buzzard (May 24 2018 at 11:24)</a>:</h4>
<p>I added the sorried assertion to <a href="https://github.com/kbuzzard/lean-squares-in-fibonacci/blob/master/src/definitions.lean" target="_blank" title="https://github.com/kbuzzard/lean-squares-in-fibonacci/blob/master/src/definitions.lean">https://github.com/kbuzzard/lean-squares-in-fibonacci/blob/master/src/definitions.lean</a></p>

<a name="127020647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020647" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020647">Chris Hughes (May 24 2018 at 11:27)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">lemma</span> <span class="n">nat</span><span class="bp">.</span><span class="n">mod_mod</span> <span class="o">(</span><span class="n">n</span> <span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">n</span> <span class="err">%</span> <span class="n">m</span> <span class="err">%</span> <span class="n">m</span> <span class="bp">=</span> <span class="n">n</span> <span class="err">%</span> <span class="n">m</span> <span class="o">:=</span>
<span class="n">nat</span><span class="bp">.</span><span class="n">cases_on</span> <span class="n">m</span> <span class="o">(</span><span class="k">by</span> <span class="n">simp</span><span class="o">)</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">m</span><span class="o">,</span> <span class="n">mod_eq_of_lt</span> <span class="o">(</span><span class="n">mod_lt</span> <span class="bp">_</span> <span class="o">(</span><span class="n">succ_pos</span> <span class="bp">_</span><span class="o">)))</span>

<span class="n">def</span> <span class="n">nat</span><span class="bp">.</span><span class="n">mod_add</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="err">%</span> <span class="n">m</span> <span class="bp">+</span> <span class="n">b</span> <span class="err">%</span> <span class="n">m</span><span class="o">)</span> <span class="err">%</span> <span class="n">m</span> <span class="bp">=</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="n">b</span><span class="o">)</span> <span class="err">%</span> <span class="n">m</span> <span class="o">:=</span>
<span class="n">nat</span><span class="bp">.</span><span class="n">modeq</span><span class="bp">.</span><span class="n">modeq_add</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">mod_mod</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">mod_mod</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)</span>
</pre></div>

<a name="127020695"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020695" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020695">Patrick Massot (May 24 2018 at 11:28)</a>:</h4>
<p>This is becoming slightly creepy</p>

<a name="127020697"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020697" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020697">Patrick Massot (May 24 2018 at 11:28)</a>:</h4>
<p>Kevin, what have you created?</p>

<a name="127020775"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020775" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020775">Kenny Lau (May 24 2018 at 11:31)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">definitions</span>

<span class="kn">theorem</span> <span class="n">fib_add</span> <span class="o">(</span><span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">fib</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
  <span class="n">fib</span> <span class="n">m</span> <span class="bp">*</span> <span class="n">fib</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">fib</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">fib</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">nat</span><span class="bp">.</span><span class="n">rec_on_two</span> <span class="n">n</span> <span class="o">(</span><span class="k">by</span> <span class="n">unfold</span> <span class="n">fib</span><span class="bp">;</span> <span class="n">rw</span> <span class="o">[</span><span class="n">mul_zero</span><span class="o">,</span> <span class="n">zero_add</span><span class="o">,</span> <span class="n">mul_one</span><span class="o">]</span><span class="bp">;</span> <span class="n">refl</span><span class="o">)</span>
  <span class="o">(</span><span class="k">by</span> <span class="n">unfold</span> <span class="n">fib</span><span class="bp">;</span> <span class="n">rw</span> <span class="o">[</span><span class="n">zero_add</span><span class="o">,</span> <span class="n">mul_one</span><span class="o">,</span> <span class="n">mul_one</span><span class="o">]</span><span class="bp">;</span> <span class="n">refl</span><span class="o">)</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">n</span> <span class="n">ih1</span> <span class="n">ih2</span><span class="o">,</span>
<span class="k">calc</span>  <span class="n">fib</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span> <span class="n">fib</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">nat</span><span class="bp">.</span><span class="n">succ</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
    <span class="bp">=</span> <span class="n">fib</span> <span class="n">m</span> <span class="bp">*</span> <span class="o">(</span><span class="n">fib</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">fib</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="n">fib</span> <span class="o">(</span><span class="n">m</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">fib</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="bp">+</span> <span class="o">(</span><span class="n">fib</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">fib</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)))</span> <span class="o">:</span>
  <span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">ih1</span><span class="o">,</span> <span class="n">ih2</span><span class="o">,</span> <span class="n">fib</span><span class="o">,</span> <span class="n">mul_add</span><span class="o">,</span> <span class="n">mul_add</span><span class="o">,</span> <span class="n">mul_add</span><span class="o">,</span> <span class="n">mul_add</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">succ_eq_add_one</span><span class="o">]</span><span class="bp">;</span> <span class="n">ac_refl</span>

<span class="n">attribute</span> <span class="o">[</span><span class="n">refl</span><span class="o">]</span> <span class="n">dvd_refl</span>
<span class="n">attribute</span> <span class="o">[</span><span class="n">trans</span><span class="o">]</span> <span class="n">dvd_trans</span>

<span class="kn">theorem</span> <span class="n">fib_dvd_mul</span> <span class="o">(</span><span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">fib</span> <span class="n">m</span> <span class="err">∣</span> <span class="n">fib</span> <span class="o">(</span><span class="n">m</span> <span class="bp">*</span> <span class="n">n</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">nat</span><span class="bp">.</span><span class="n">cases_on</span> <span class="n">m</span> <span class="o">(</span><span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">zero_mul</span><span class="o">]</span><span class="bp">;</span> <span class="n">refl</span><span class="o">)</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">m</span><span class="o">,</span>
<span class="n">nat</span><span class="bp">.</span><span class="n">rec_on</span> <span class="n">n</span> <span class="o">(</span><span class="n">dvd_zero</span> <span class="bp">_</span><span class="o">)</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">n</span> <span class="n">ih</span><span class="o">,</span>
<span class="k">show</span> <span class="n">fib</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">succ</span> <span class="n">m</span><span class="o">)</span> <span class="err">∣</span> <span class="n">fib</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">succ</span> <span class="n">m</span> <span class="bp">*</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">),</span>
<span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">fib_add</span><span class="o">]</span><span class="bp">;</span> <span class="n">apply</span> <span class="n">dvd_add</span><span class="bp">;</span>
<span class="o">[</span><span class="n">apply</span> <span class="n">dvd_mul_of_dvd_left</span> <span class="n">ih</span><span class="o">,</span> <span class="n">apply</span> <span class="n">dvd_mul_left</span><span class="o">]</span>
</pre></div>

<a name="127020776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020776" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020776">Kenny Lau (May 24 2018 at 11:31)</a>:</h4>
<p>done</p>

<a name="127020778"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020778" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020778">Kenny Lau (May 24 2018 at 11:31)</a>:</h4>
<p>I don't need the fact that fib m and fib m+1 are coprime</p>

<a name="127020816"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020816" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020816">Kenny Lau (May 24 2018 at 11:32)</a>:</h4>
<p>I would need it to prove the converse though</p>

<a name="127020843"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020843" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020843">Kevin Buzzard (May 24 2018 at 11:33)</a>:</h4>
<blockquote>
<p>Kevin, what have you created?</p>
</blockquote>
<p>This is the new normal. Professors who can't prove things about mod so they ask the undergraduates</p>

<a name="127020886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020886" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020886">Kevin Buzzard (May 24 2018 at 11:34)</a>:</h4>
<p>I really want that by December there are a bunch of undergraduates at my university asking their tutors questions which the tutors can't answer</p>

<a name="127020888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020888" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020888">Kevin Buzzard (May 24 2018 at 11:34)</a>:</h4>
<p>or showing them code which the tutors can't understand</p>

<a name="127020892"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020892" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020892">Kevin Buzzard (May 24 2018 at 11:34)</a>:</h4>
<p>or saying "I typed up your problem sheet into Lean and you made an off by one error"</p>

<a name="127020894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020894" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020894">Kenny Lau (May 24 2018 at 11:34)</a>:</h4>
<p>pushed</p>

<a name="127020895"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020895" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020895">Kevin Buzzard (May 24 2018 at 11:34)</a>:</h4>
<p>Thanks Kenny</p>

<a name="127020903"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020903" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020903">Kevin Buzzard (May 24 2018 at 11:35)</a>:</h4>
<p>I need a recursor for %</p>

<a name="127020913"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020913" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020913">Kevin Buzzard (May 24 2018 at 11:35)</a>:</h4>
<p>If I have a function F from nat to X</p>

<a name="127020915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020915" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020915">Kevin Buzzard (May 24 2018 at 11:35)</a>:</h4>
<p>and a proof that F (n +  24) = F n</p>

<a name="127020917"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020917" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020917">Kevin Buzzard (May 24 2018 at 11:35)</a>:</h4>
<p>then I want a theorem that F n = F (n % 24)</p>

<a name="127020919"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020919" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020919">Kevin Buzzard (May 24 2018 at 11:35)</a>:</h4>
<p>Is that a recursor?</p>

<a name="127020920"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020920" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020920">Kevin Buzzard (May 24 2018 at 11:35)</a>:</h4>
<p>It's what I want, at any rate</p>

<a name="127020961"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020961" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020961">Kenny Lau (May 24 2018 at 11:36)</a>:</h4>
<p>ok a minute</p>

<a name="127020962"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020962" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020962">Kevin Buzzard (May 24 2018 at 11:36)</a>:</h4>
<p>what I don't want</p>

<a name="127020963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020963" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020963">Kevin Buzzard (May 24 2018 at 11:36)</a>:</h4>
<p>is what I have to do</p>

<a name="127020964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020964" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020964">Kevin Buzzard (May 24 2018 at 11:36)</a>:</h4>
<p>which is marking 150 scripts about sup S</p>

<a name="127020965"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020965" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020965">Kevin Buzzard (May 24 2018 at 11:36)</a>:</h4>
<p>I think I need to go offline for 7 hours</p>

<a name="127020966"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020966" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020966">Kevin Buzzard (May 24 2018 at 11:36)</a>:</h4>
<p>I will push too</p>

<a name="127020986"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020986" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020986">Kevin Buzzard (May 24 2018 at 11:37)</a>:</h4>
<p>Before I go</p>

<a name="127020987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020987" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020987">Kevin Buzzard (May 24 2018 at 11:37)</a>:</h4>
<p>just let me make one thing clear to Kenny and Chris</p>

<a name="127020988"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020988" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127020988">Kevin Buzzard (May 24 2018 at 11:37)</a>:</h4>
<p>Last night I was a bit worried about all this</p>

<a name="127021000"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127021000" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127021000">Kevin Buzzard (May 24 2018 at 11:38)</a>:</h4>
<p>because I still have 10 hours of marking and I wanted to give a good talk on Sat</p>

<a name="127021035"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127021035" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127021035">Kevin Buzzard (May 24 2018 at 11:38)</a>:</h4>
<p>but now I know I have enough material to give a good talk</p>

<a name="127021039"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127021039" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127021039">Kevin Buzzard (May 24 2018 at 11:38)</a>:</h4>
<p>so feel free to stop thinking about this and worry about your stats exam</p>

<a name="127021042"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127021042" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127021042">Kevin Buzzard (May 24 2018 at 11:38)</a>:</h4>
<p>and come back to it on Friday</p>

<a name="127021046"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127021046" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127021046">Kevin Buzzard (May 24 2018 at 11:38)</a>:</h4>
<p>I will be at Xena tonight by the way, from 6pm</p>

<a name="127021053"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127021053" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127021053">Kevin Buzzard (May 24 2018 at 11:39)</a>:</h4>
<p>Thanks to all of you, as ever</p>

<a name="127021167"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127021167" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127021167">Kenny Lau (May 24 2018 at 11:42)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">nat</span><span class="bp">.</span><span class="n">mod_rec</span> <span class="o">(</span><span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">Sort</span><span class="bp">*</span><span class="o">}</span>
  <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">n</span><span class="o">,</span> <span class="n">C</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">C</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="n">m</span><span class="o">))</span> <span class="o">:</span>
  <span class="n">C</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">C</span> <span class="o">(</span><span class="n">n</span><span class="err">%</span><span class="n">m</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">have</span> <span class="n">H1</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">q</span> <span class="n">r</span><span class="o">,</span> <span class="n">C</span> <span class="o">(</span><span class="n">r</span> <span class="bp">+</span> <span class="n">m</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="bp">=</span> <span class="n">C</span> <span class="n">r</span><span class="o">,</span>
  <span class="k">from</span> <span class="bp">λ</span> <span class="n">q</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">rec_on</span> <span class="n">q</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">r</span><span class="o">,</span> <span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">mul_zero</span><span class="o">]</span><span class="bp">;</span> <span class="n">refl</span><span class="o">)</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">n</span> <span class="n">ih</span> <span class="n">r</span><span class="o">,</span>
    <span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">mul_succ</span><span class="o">,</span> <span class="err">←</span> <span class="n">add_assoc</span><span class="o">,</span> <span class="err">←</span> <span class="n">H</span><span class="o">,</span> <span class="n">ih</span><span class="o">],</span>
<span class="k">by</span> <span class="n">conv</span> <span class="k">in</span> <span class="o">(</span><span class="n">C</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="err">←</span> <span class="n">mod_add_div</span> <span class="n">n</span> <span class="n">m</span><span class="o">,</span> <span class="n">H1</span><span class="o">]</span> <span class="o">}</span>
</pre></div>

<a name="127024645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127024645" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127024645">Kenny Lau (May 24 2018 at 13:36)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">theorem</span> <span class="n">fib_gcd</span> <span class="o">(</span><span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">n</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">gcd</span> <span class="o">(</span><span class="n">fib</span> <span class="n">m</span><span class="o">)</span> <span class="o">(</span><span class="n">fib</span> <span class="n">n</span><span class="o">)</span> <span class="bp">=</span> <span class="n">fib</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">gcd</span> <span class="n">m</span> <span class="n">n</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">[</span><span class="n">thing</span> <span class="n">that</span> <span class="n">works</span><span class="o">]</span>
</pre></div>

<a name="127024647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127024647" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127024647">Kenny Lau (May 24 2018 at 13:36)</a>:</h4>
<p>pushed</p>

<a name="127025051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127025051" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127025051">Kenny Lau (May 24 2018 at 13:49)</a>:</h4>
<p>pushed</p>

<a name="127025052"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127025052" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127025052">Kenny Lau (May 24 2018 at 13:49)</a>:</h4>
<p>i'm going to eat and then revise statistics until tonight</p>

<a name="127122627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122627" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127122627">Kevin Buzzard (May 26 2018 at 11:53)</a>:</h4>
<p>What is the prettiest way to prove that there's a positive real number alpha with the property that <code>alpha ^ 2 = alpha + 1</code>?</p>

<a name="127122630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122630" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127122630">Kenny Lau (May 26 2018 at 11:53)</a>:</h4>
<p>not to.</p>

<a name="127122632"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122632" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127122632">Kenny Lau (May 26 2018 at 11:53)</a>:</h4>
<p>(why can't we just use the Zalpha)</p>

<a name="127122664"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122664" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127122664">Kevin Buzzard (May 26 2018 at 11:54)</a>:</h4>
<p>I would be really interested in an answer to this question before 2000 BST and ideally earlier</p>

<a name="127122672"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122672" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127122672">Kevin Buzzard (May 26 2018 at 11:54)</a>:</h4>
<p>Kenny I am giving a talk to a bunch of schoolkids</p>

<a name="127122674"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122674" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127122674">Kevin Buzzard (May 26 2018 at 11:54)</a>:</h4>
<p>I am going to give two talks</p>

<a name="127122675"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122675" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127122675">Mario Carneiro (May 26 2018 at 11:54)</a>:</h4>
<p>square root, or FTA</p>

<a name="127122676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122676" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127122676">Kevin Buzzard (May 26 2018 at 11:54)</a>:</h4>
<p>In the first talk I will ask them to prove to me that alpha exists and I'll see what they come up with.</p>

<a name="127122677"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122677" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127122677">Kevin Buzzard (May 26 2018 at 11:54)</a>:</h4>
<p>In the second talk I will show them how Lean does it</p>

<a name="127122678"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122678" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127122678">Kevin Buzzard (May 26 2018 at 11:54)</a>:</h4>
<p>But I want it to look really sexy</p>

<a name="127122683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122683" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127122683">Mario Carneiro (May 26 2018 at 11:55)</a>:</h4>
<p>IVT works too</p>

<a name="127122687"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122687" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127122687">Kevin Buzzard (May 26 2018 at 11:55)</a>:</h4>
<p>I want to define a real number alpha as <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mn>1</mn><mo>+</mo><msup><mn>5</mn><mrow><mo>(</mo><mn>1</mn><mi mathvariant="normal">/</mi><mn>2</mn><mo>)</mo></mrow></msup><mo>)</mo><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">(1+5^{(1/2)})/2</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.8879999999999999em;"></span><span class="strut bottom" style="height:1.138em;vertical-align:-0.25em;"></span><span class="base"><span class="mopen">(</span><span class="mord mathrm">1</span><span class="mbin">+</span><span class="mord"><span class="mord mathrm">5</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathrm mtight">1</span><span class="mord mathrm mtight">/</span><span class="mord mathrm mtight">2</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathrm">/</span><span class="mord mathrm">2</span></span></span></span> or something that looks as close to that as possible</p>

<a name="127122689"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122689" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127122689">Mario Carneiro (May 26 2018 at 11:55)</a>:</h4>
<p>then use sqrt thm</p>

<a name="127122730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122730" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127122730">Kevin Buzzard (May 26 2018 at 11:56)</a>:</h4>
<p>I would like a square root symbol ideally. Is there one of them?</p>

<a name="127122731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122731" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127122731">Kevin Buzzard (May 26 2018 at 11:56)</a>:</h4>
<p>Oh I saw one in Pell maybe?</p>

<a name="127122732"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122732" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127122732">Mario Carneiro (May 26 2018 at 11:56)</a>:</h4>
<p>I thought we did this a few months ago</p>

<a name="127122733"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122733" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127122733">Kevin Buzzard (May 26 2018 at 11:56)</a>:</h4>
<p>I know how to solve it</p>

<a name="127122734"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122734" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127122734">Kevin Buzzard (May 26 2018 at 11:56)</a>:</h4>
<p>I just want to make it look maximally sexy</p>

<a name="127122735"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122735" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127122735">Kevin Buzzard (May 26 2018 at 11:57)</a>:</h4>
<p>I want to write a human-readable proof</p>

<a name="127122741"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122741" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127122741">Mario Carneiro (May 26 2018 at 11:57)</a>:</h4>
<p>I think it is <code>\surd</code></p>

<a name="127122742"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122742" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127122742">Mario Carneiro (May 26 2018 at 11:57)</a>:</h4>
<p>it is in pell</p>

<a name="127122781"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122781" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127122781">Kevin Buzzard (May 26 2018 at 11:58)</a>:</h4>
<p>i.e. something where you show the exact proof to a smart schoolkid and whilst they don't know any of the precise syntax they can still kind of see that it's a proof that if alpha is (1+sqrt(5))/2 then alpha^2=alpha+1.</p>

<a name="127122784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122784" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127122784">Kevin Buzzard (May 26 2018 at 11:58)</a>:</h4>
<p>I'll see what I can come up with</p>

<a name="127122836"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122836" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127122836">Kevin Buzzard (May 26 2018 at 12:00)</a>:</h4>
<p>I fear becoming mired in div_muls and mul_adds when expanding everything out</p>

<a name="127122842"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122842" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127122842">Mario Carneiro (May 26 2018 at 12:00)</a>:</h4>
<p>complete the square</p>

<a name="127122843"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122843" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127122843">Mario Carneiro (May 26 2018 at 12:01)</a>:</h4>
<p>using ring</p>

<a name="127128227"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128227" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128227">Kevin Buzzard (May 26 2018 at 15:30)</a>:</h4>
<p><code>theorem root_5_squared : (sqrt 5) ^ 2 = 5 := by norm_num -- fails</code></p>

<a name="127128228"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128228" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128228">Kevin Buzzard (May 26 2018 at 15:30)</a>:</h4>
<p>Why can't it be easy</p>

<a name="127128229"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128229" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128229">Kevin Buzzard (May 26 2018 at 15:30)</a>:</h4>
<p><code>theorem root_5_squared : (sqrt 5) ^ 2 = 5 := by simp [(sqrt_prop 5).2] -- fails</code></p>

<a name="127128230"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128230" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128230">Kevin Buzzard (May 26 2018 at 15:30)</a>:</h4>
<p>I am so bad at reals</p>

<a name="127128231"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128231" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128231">Kevin Buzzard (May 26 2018 at 15:30)</a>:</h4>
<p><code>#check sqrt_prop -- ∀ (x : ℝ), 0 ≤ sqrt x ∧ sqrt x * sqrt x = max 0 x</code></p>

<a name="127128284"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128284" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128284">Mario Carneiro (May 26 2018 at 15:32)</a>:</h4>
<p>you want <code>sqr_sqrt</code></p>

<a name="127128287"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128287" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128287">Mario Carneiro (May 26 2018 at 15:32)</a>:</h4>
<p>it's already a simp lemma, so you just have to supply a proof of <code>0 &lt;= 5</code></p>

<a name="127128291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128291" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128291">Kevin Buzzard (May 26 2018 at 15:32)</a>:</h4>
<p>why do I need to supply a proof of that?</p>

<a name="127128293"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128293" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128293">Kevin Buzzard (May 26 2018 at 15:32)</a>:</h4>
<p>It's clear it will yield to norm_num right?</p>

<a name="127128298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128298" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128298">Kevin Buzzard (May 26 2018 at 15:33)</a>:</h4>
<p>Can I somehow add norm_num to simp?</p>

<a name="127128301"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128301" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128301">Mario Carneiro (May 26 2018 at 15:33)</a>:</h4>
<p>sure, but norm_num and simp don't talk back and forth like that</p>

<a name="127128304"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128304" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128304">Kevin Buzzard (May 26 2018 at 15:33)</a>:</h4>
<p>I am still a million miles away from writing a clear readable statement and proof that if alpha = (1+sqrt(5))/2 then alpha^2=alpha+1</p>

<a name="127128305"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128305" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128305">Kevin Buzzard (May 26 2018 at 15:33)</a>:</h4>
<p>I will keep trying</p>

<a name="127128314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128314" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128314">Mario Carneiro (May 26 2018 at 15:34)</a>:</h4>
<p>norm_num doesn't know about square roots, and simp doesn't use norm_num as a discharger</p>

<a name="127128351"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128351" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128351">Mario Carneiro (May 26 2018 at 15:34)</a>:</h4>
<p>you could try <code>simp {discharger := norm_num}</code>, not sure if that works</p>

<a name="127128356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128356" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128356">Kevin Buzzard (May 26 2018 at 15:34)</a>:</h4>
<p>completely unrelated -- why do I have <code>imported file '/home/buzzard/lean-projects/lean-squares-in-fibonacci/_target/deps/mathlib/data/set/lattice.lean' uses sorry</code> and several other mathlib errors? This looks really unprofessional :-/ Can you tell me a quick fix?</p>

<a name="127128357"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128357" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128357">Mario Carneiro (May 26 2018 at 15:34)</a>:</h4>
<p>still, I think <code>simp (dec_trivial : 0 &lt;= 5)</code> is easy enough</p>

<a name="127128362"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128362" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128362">Kevin Buzzard (May 26 2018 at 15:35)</a>:</h4>
<p>That's enough? It goes from nats to reals?</p>

<a name="127128368"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128368" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128368">Mario Carneiro (May 26 2018 at 15:35)</a>:</h4>
<p>Oh wait no, le on real is not computable</p>

<a name="127128371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128371" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128371">Mario Carneiro (May 26 2018 at 15:35)</a>:</h4>
<p>you need to use norm_num</p>

<a name="127128372"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128372" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128372">Mario Carneiro (May 26 2018 at 15:35)</a>:</h4>
<p><code>simp [(by norm_num : 0 &lt;= 5)]</code></p>

<a name="127128412"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128412" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128412">Kevin Buzzard (May 26 2018 at 15:36)</a>:</h4>
<p>I don't understand what you are saying</p>

<a name="127128413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128413" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128413">Kevin Buzzard (May 26 2018 at 15:36)</a>:</h4>
<p>I don't understand this stuff well enough</p>

<a name="127128414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128414" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128414">Kevin Buzzard (May 26 2018 at 15:36)</a>:</h4>
<p><code>theorem root_5_squared : (sqrt 5) ^ 2 = 5 := by simp [sqr_sqrt,(dec_trivial : 0 &lt;= 5)]-- fails</code></p>

<a name="127128416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128416" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128416">Kevin Buzzard (May 26 2018 at 15:36)</a>:</h4>
<p>I am not even sure that's valid syntax</p>

<a name="127128418"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128418" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128418">Mario Carneiro (May 26 2018 at 15:36)</a>:</h4>
<p>it should be...</p>

<a name="127128424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128424" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128424">Mario Carneiro (May 26 2018 at 15:37)</a>:</h4>
<p>the full proof is just <code>sqr_sqrt (by norm_num : 0 &lt;= 5)</code></p>

<a name="127128472"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128472" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128472">Kevin Buzzard (May 26 2018 at 15:38)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">theorem</span> <span class="n">zero_le_5</span> <span class="o">:</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">≤</span> <span class="mi">5</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">norm_num</span>

<span class="kn">theorem</span> <span class="n">root_5_squared</span> <span class="o">:</span> <span class="o">(</span><span class="n">sqrt</span> <span class="mi">5</span><span class="o">)</span> <span class="err">^</span> <span class="mi">2</span> <span class="bp">=</span> <span class="mi">5</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">sqr_sqrt</span><span class="o">,</span><span class="n">zero_le_5</span><span class="o">]</span>
</pre></div>

<a name="127128473"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128473" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128473">Kevin Buzzard (May 26 2018 at 15:38)</a>:</h4>
<p>First molehill conquered</p>

<a name="127128475"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128475" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128475">Mario Carneiro (May 26 2018 at 15:38)</a>:</h4>
<p>Oh, you might need to write <code>simp [(by norm_num : (0:R) &lt;= 5)]</code></p>

<a name="127128477"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128477" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128477">Kevin Buzzard (May 26 2018 at 15:38)</a>:</h4>
<p>Where?</p>

<a name="127128478"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128478" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128478">Mario Carneiro (May 26 2018 at 15:39)</a>:</h4>
<p>as a proof of the theorem</p>

<a name="127128485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128485" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128485">Mario Carneiro (May 26 2018 at 15:39)</a>:</h4>
<p>that proves zero_le_5 inline, and uses it as a simp lemma in the main proof</p>

<a name="127128534"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128534" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128534">Kevin Buzzard (May 26 2018 at 15:40)</a>:</h4>
<p>It's really annoying to use Lean like this. Why do I have all these errors in mathlib?</p>

<a name="127128535"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128535" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128535">Kevin Buzzard (May 26 2018 at 15:40)</a>:</h4>
<div class="codehilite"><pre><span></span>imported file &#39;/home/buzzard/lean-projects/lean-squares-in-fibonacci/_target/deps/mathlib/order/complete_lattice.lean&#39; uses sorry
real_alpha.lean:1:0: warning

imported file &#39;/home/buzzard/lean-projects/lean-squares-in-fibonacci/_target/deps/mathlib/order/bounded_lattice.lean&#39; uses sorry
real_alpha.lean:1:0: warning

imported file &#39;/home/buzzard/lean-projects/lean-squares-in-fibonacci/_target/deps/mathlib/data/finset.lean&#39; uses sorry
real_alpha.lean:1:0: warning

imported file &#39;/home/buzzard/lean-projects/lean-squares-in-fibonacci/_target/deps/mathlib/order/boolean_algebra.lean&#39; uses sorry
real_alpha.lean:1:0: warning

imported file &#39;/home/buzzard/lean-projects/lean-squares-in-fibonacci/_target/deps/mathlib/data/equiv.lean&#39; uses sorry
real_alpha.lean:1:0: warning

imported file &#39;/home/buzzard/lean-projects/lean-squares-in-fibonacci/_target/deps/mathlib/data/set/lattice.lean&#39; uses sorry
</pre></div>

<a name="127128536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128536" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128536">Kevin Buzzard (May 26 2018 at 15:40)</a>:</h4>
<p>What have I done wrong?</p>

<a name="127128537"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128537" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128537">Mario Carneiro (May 26 2018 at 15:41)</a>:</h4>
<p>maybe those files use sorry</p>

<a name="127128540"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128540" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128540">Kevin Buzzard (May 26 2018 at 15:41)</a>:</h4>
<p>I thought I was all up to date</p>

<a name="127128543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128543" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128543">Kevin Buzzard (May 26 2018 at 15:41)</a>:</h4>
<p>They're all your files</p>

<a name="127128546"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128546" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128546">Mario Carneiro (May 26 2018 at 15:41)</a>:</h4>
<p>Look for an actual error</p>

<a name="127128588"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128588" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128588">Mario Carneiro (May 26 2018 at 15:42)</a>:</h4>
<p>Usually lean will have some error in a theorem, and then since the theorem failed it uses sorry instead, and then every other file that imports that file complains about the sorry so you get hundreds of sorry warnings</p>

<a name="127128593"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128593" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128593">Kevin Buzzard (May 26 2018 at 15:42)</a>:</h4>
<div class="codehilite"><pre><span></span>complete_lattice.lean:119:36: error

ambiguous overload, possible interpretations
  ⊥
  ⊥
Additional information:
/home/buzzard/lean-projects/lean-squares-in-fibonacci/_target/deps/mathlib/order/complete_lattice.lean:119:36: context: switched to basic overload resolution where arguments are elaborated without any information about the expected type because it failed to disambiguate overload using the expected type
  ?m_1
the following overloaded terms were applicable
  ⊥
  ⊥
</pre></div>

<a name="127128601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128601" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128601">Kevin Buzzard (May 26 2018 at 15:43)</a>:</h4>
<p>Looks like much of a muchness to me</p>

<a name="127128609"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128609" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128609">Kevin Buzzard (May 26 2018 at 15:44)</a>:</h4>
<div class="codehilite"><pre><span></span>don&#39;t know how to synthesize placeholder
context:
α : Type u,
_inst_1 : lattice.complete_lattice.{u} α
⊢ Type ?l_1
complete_lattice.lean:120:36: error

ambiguous overload, possible interpretations
  @lattice.has_bot.bot.{?l_1} ?m_2 ?m_3
  @lattice.has_bot.bot.{?l_4} ?m_5 ?m_6
Additional information:
/home/buzzard/lean-projects/lean-squares-in-fibonacci/_target/deps/mathlib/order/complete_lattice.lean:120:36: context: switched to basic overload resolution where arguments are elaborated without any information about the expected type because it failed to disambiguate overload using the expected type
  ?m_1
the following overloaded terms were applicable
  @lattice.has_bot.bot.{?l_2} ?m_3 ?m_4
  @lattice.has_bot.bot.{?l_5} ?m_6 ?m_7
</pre></div>

<a name="127128647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128647" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128647">Kevin Buzzard (May 26 2018 at 15:44)</a>:</h4>
<p>with pp_all on</p>

<a name="127128651"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128651" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128651">Mario Carneiro (May 26 2018 at 15:44)</a>:</h4>
<p>what about <code>#print ⊥</code>?</p>

<a name="127128657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128657" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128657">Kevin Buzzard (May 26 2018 at 15:45)</a>:</h4>
<div class="codehilite"><pre><span></span>`⊥`:1024 :=
  | lattice.has_bot.bot _
  | lattice.has_bot.bot _
</pre></div>

<a name="127128661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128661" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128661">Mario Carneiro (May 26 2018 at 15:45)</a>:</h4>
<p>some file somewhere has declared ⊥ as a global notation</p>

<a name="127128662"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128662" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128662">Kevin Buzzard (May 26 2018 at 15:45)</a>:</h4>
<p>Thanks</p>

<a name="127128664"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128664" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128664">Mario Carneiro (May 26 2018 at 15:45)</a>:</h4>
<p>I recently moved the location of the declaration of ⊥</p>

<a name="127128704"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128704" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128704">Mario Carneiro (May 26 2018 at 15:46)</a>:</h4>
<p>it's possible you have an old version of one of the files and so are getting a double declaration</p>

<a name="127128707"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128707" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128707">Kevin Buzzard (May 26 2018 at 15:46)</a>:</h4>
<p>Thanks</p>

<a name="127128708"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128708" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128708">Kevin Buzzard (May 26 2018 at 15:46)</a>:</h4>
<p>I can't see any of these symbols or bot in my file</p>

<a name="127128712"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128712" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128712">Mario Carneiro (May 26 2018 at 15:46)</a>:</h4>
<p>check lattice.lean</p>

<a name="127128720"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128720" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128720">Kevin Buzzard (May 26 2018 at 15:47)</a>:</h4>
<div class="codehilite"><pre><span></span>:~/lean-projects/lean-squares-in-fibonacci/_target/deps/mathlib$ git branch
* (HEAD detached at 6811f13)
  master
</pre></div>

<a name="127128721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128721" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128721">Kevin Buzzard (May 26 2018 at 15:47)</a>:</h4>
<p>I don't know what detached head means</p>

<a name="127128722"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128722" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128722">Mario Carneiro (May 26 2018 at 15:47)</a>:</h4>
<p>or just search for <code>notation `⊥` </code></p>

<a name="127128723"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128723" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128723">Kevin Buzzard (May 26 2018 at 15:47)</a>:</h4>
<p>Should I switch to master?</p>

<a name="127128725"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128725" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128725">Mario Carneiro (May 26 2018 at 15:47)</a>:</h4>
<p>it means you have a commit checked out, not a branch</p>

<a name="127128771"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128771" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128771">Mario Carneiro (May 26 2018 at 15:48)</a>:</h4>
<p>what does <code>git status</code> give?</p>

<a name="127128773"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128773" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128773">Kevin Buzzard (May 26 2018 at 15:48)</a>:</h4>
<p>That sounds right</p>

<a name="127128774"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128774" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128774">Kevin Buzzard (May 26 2018 at 15:48)</a>:</h4>
<p>shall I checkout a branch?</p>

<a name="127128775"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128775" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128775">Kevin Buzzard (May 26 2018 at 15:48)</a>:</h4>
<p>I did everything with leanpkg as far as I know</p>

<a name="127128786"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128786" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128786">Mario Carneiro (May 26 2018 at 15:49)</a>:</h4>
<p>leanpkg usually checks out commits, which is why it is like that</p>

<a name="127128790"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128790" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128790">Kevin Buzzard (May 26 2018 at 15:49)</a>:</h4>
<div class="codehilite"><pre><span></span>$ git status
HEAD detached at 6811f13
nothing to commit, working directory clean
</pre></div>

<a name="127128793"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128793" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128793">Kevin Buzzard (May 26 2018 at 15:49)</a>:</h4>
<p>Instead of trying to debug</p>

<a name="127128795"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128795" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128795">Kevin Buzzard (May 26 2018 at 15:49)</a>:</h4>
<p>can you just tell me how to install the latest mathlib and get it all working?</p>

<a name="127128845"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128845" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128845">Mario Carneiro (May 26 2018 at 15:50)</a>:</h4>
<p>You appear to have it already, from that status message</p>

<a name="127128848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128848" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128848">Kevin Buzzard (May 26 2018 at 15:50)</a>:</h4>
<p>Is there just a brutal fix so I have a working version of mathlib? Should I just delete _target and run leanpkg something?</p>

<a name="127128852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128852" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128852">Kevin Buzzard (May 26 2018 at 15:50)</a>:</h4>
<p>Or check out some other commit or branch?</p>

<a name="127128860"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128860" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128860">Kevin Buzzard (May 26 2018 at 15:51)</a>:</h4>
<p>I just want to get this fixed quickly, I am giving a talk in an hour</p>

<a name="127128861"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128861" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128861">Mario Carneiro (May 26 2018 at 15:51)</a>:</h4>
<p>yes probably, but I'm not a leanpkg expert</p>

<a name="127128865"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128865" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128865">Kevin Buzzard (May 26 2018 at 15:51)</a>:</h4>
<p>and then another one at 8 where I want to show Lean off</p>

<a name="127128866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128866" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128866">Kevin Buzzard (May 26 2018 at 15:51)</a>:</h4>
<p>and all its erros</p>

<a name="127128867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128867" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128867">Kevin Buzzard (May 26 2018 at 15:51)</a>:</h4>
<p>errors</p>

<a name="127128870"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128870" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128870">Mario Carneiro (May 26 2018 at 15:51)</a>:</h4>
<p>maybe back up the directory first, but sure just remove _target and do the usual leanpkg incantations</p>

<a name="127128910"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128910" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128910">Mario Carneiro (May 26 2018 at 15:52)</a>:</h4>
<p>that folder only has cached stuff so it should be fine</p>

<a name="127128914"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128914" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128914">Kevin Buzzard (May 26 2018 at 15:52)</a>:</h4>
<p>I'm on a train :-/</p>

<a name="127128921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128921" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128921">Mario Carneiro (May 26 2018 at 15:53)</a>:</h4>
<p>try removing .olean files</p>

<a name="127128922"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128922" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128922">Mario Carneiro (May 26 2018 at 15:53)</a>:</h4>
<p>and rebuild</p>

<a name="127128924"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128924" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128924">Kevin Buzzard (May 26 2018 at 15:53)</a>:</h4>
<p>i did that already</p>

<a name="127128928"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128928" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128928">Mario Carneiro (May 26 2018 at 15:54)</a>:</h4>
<p>did you search for notation bot like I said?</p>

<a name="127128964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128964" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128964">Kevin Buzzard (May 26 2018 at 15:54)</a>:</h4>
<p>git is working</p>

<a name="127128966"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128966" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128966">Kevin Buzzard (May 26 2018 at 15:54)</a>:</h4>
<p>really good</p>

<a name="127128974"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128974" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128974">Kevin Buzzard (May 26 2018 at 15:54)</a>:</h4>
<p>patchy 3g phone and hotspot</p>

<a name="127128975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128975" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128975">Mario Carneiro (May 26 2018 at 15:54)</a>:</h4>
<p>this line</p>
<div class="codehilite"><pre><span></span>notation `⊥` := has_bot.bot _
</pre></div>


<p>should appear exactly once in mathlib, in bounded_lattice.lean</p>

<a name="127128978"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128978" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128978">Kevin Buzzard (May 26 2018 at 15:55)</a>:</h4>
<p>I got bored trying to work out why it was broken</p>

<a name="127128983"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128983" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128983">Kevin Buzzard (May 26 2018 at 15:55)</a>:</h4>
<p>I am under time pressure</p>

<a name="127128984"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128984" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128984">Mario Carneiro (May 26 2018 at 15:55)</a>:</h4>
<p>I'm hoping that the location of the second hit will hint at why you have old files</p>

<a name="127128986"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128986" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127128986">Kevin Buzzard (May 26 2018 at 15:55)</a>:</h4>
<p>had</p>

<a name="127129032"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129032" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129032">Mario Carneiro (May 26 2018 at 15:56)</a>:</h4>
<p>that's why I'm giving suggestions that are fast to check</p>

<a name="127129094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129094" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129094">Kevin Buzzard (May 26 2018 at 15:58)</a>:</h4>
<blockquote>
<p>you could try <code>simp {discharger := norm_num}</code>, not sure if that works</p>
</blockquote>
<p>I can't get it to work</p>

<a name="127129100"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129100" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129100">Chris Hughes (May 26 2018 at 15:59)</a>:</h4>
<p>How about this for a readable proof?</p>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">:</span> <span class="o">(((</span><span class="mi">1</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">+</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">)</span> <span class="err">^</span> <span class="mi">2</span> <span class="bp">=</span> <span class="o">((</span><span class="mi">1</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">+</span> <span class="err">√</span><span class="mi">5</span> <span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="k">have</span> <span class="n">h</span> <span class="o">:</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">≤</span> <span class="mi">5</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">norm_num</span><span class="o">,</span>
<span class="k">begin</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">pow_two</span><span class="o">,</span> <span class="n">div_mul_div</span><span class="o">,</span> <span class="n">mul_add</span><span class="o">,</span> <span class="n">mul_one</span><span class="o">,</span> <span class="n">add_mul</span><span class="o">,</span> <span class="n">one_mul</span><span class="o">,</span> <span class="err">←</span> <span class="n">pow_two</span><span class="o">,</span> <span class="n">sqr_sqrt</span> <span class="n">h</span><span class="o">],</span>
  <span class="n">ring</span><span class="o">,</span>
<span class="kn">end</span>
</pre></div>

<a name="127129103"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129103" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129103">Kevin Buzzard (May 26 2018 at 15:59)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">analysis</span><span class="bp">.</span><span class="n">real</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">norm_num</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">ring</span>

<span class="kn">namespace</span> <span class="n">real</span>
<span class="n">noncomputable</span> <span class="n">theory</span>

<span class="n">def</span> <span class="n">α</span> <span class="o">:=</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">sqrt</span> <span class="mi">5</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span>
<span class="n">def</span> <span class="n">β</span> <span class="o">:=</span> <span class="mi">1</span> <span class="bp">-</span> <span class="n">α</span>

<span class="kn">theorem</span> <span class="n">root_5_squared</span> <span class="o">:</span> <span class="o">(</span><span class="n">sqrt</span> <span class="mi">5</span><span class="o">)</span> <span class="err">^</span> <span class="mi">2</span> <span class="bp">=</span> <span class="mi">5</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">sqr_sqrt</span><span class="o">,(</span><span class="k">by</span> <span class="n">norm_num</span> <span class="o">:</span> <span class="o">(</span><span class="mi">0</span><span class="o">:</span><span class="n">ℝ</span><span class="o">)</span> <span class="bp">&lt;=</span> <span class="mi">5</span><span class="o">)]</span>

<span class="kn">lemma</span> <span class="n">αβsum</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">+</span> <span class="n">β</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span> <span class="k">begin</span>
  <span class="n">unfold</span> <span class="n">β</span><span class="o">,</span>
  <span class="n">unfold</span> <span class="n">α</span><span class="o">,</span>
  <span class="n">norm_num</span><span class="o">,</span> <span class="c1">-- ;-)</span>
<span class="kn">end</span>

<span class="kn">lemma</span> <span class="n">αβprod</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">*</span> <span class="n">β</span> <span class="bp">=</span> <span class="bp">-</span><span class="mi">1</span> <span class="o">:=</span> <span class="k">begin</span>
  <span class="n">unfold</span> <span class="n">β</span><span class="o">,</span>
  <span class="n">unfold</span> <span class="n">α</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">mul_sub</span><span class="o">,</span><span class="n">mul_one</span><span class="o">,</span><span class="n">add_div</span><span class="o">,</span><span class="n">mul_add</span><span class="o">,</span><span class="n">add_mul</span><span class="o">,</span><span class="n">add_mul</span><span class="o">],</span> <span class="c1">-- meh</span>
  <span class="n">simp</span> <span class="o">[</span><span class="n">root_5_squared</span><span class="o">],</span>
  <span class="n">norm_num</span><span class="o">,</span> <span class="c1">-- unknown exception while type-checking theorem</span>
<span class="kn">end</span>
</pre></div>

<a name="127129106"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129106" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129106">Kevin Buzzard (May 26 2018 at 15:59)</a>:</h4>
<p>I got an achievement -- "unknown exception while type-checking theorem"</p>

<a name="127129150"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129150" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129150">Kevin Buzzard (May 26 2018 at 16:00)</a>:</h4>
<p>Why isn't this easy</p>

<a name="127129151"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129151" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129151">Kevin Buzzard (May 26 2018 at 16:00)</a>:</h4>
<p>simp wants facts from norm_num but I don't know what facts</p>

<a name="127129153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129153" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129153">Kevin Buzzard (May 26 2018 at 16:00)</a>:</h4>
<p>goal after simp is</p>

<a name="127129154"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129154" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129154">Kevin Buzzard (May 26 2018 at 16:00)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="err">⊢</span> <span class="mi">2</span><span class="bp">⁻¹</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">sqrt</span> <span class="mi">5</span> <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span>
         <span class="o">(</span><span class="bp">-</span><span class="o">(</span><span class="mi">2</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="mi">2</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">+</span> <span class="o">(</span><span class="bp">-</span><span class="o">(</span><span class="mi">2</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="o">(</span><span class="n">sqrt</span> <span class="mi">5</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">))</span> <span class="bp">+</span> <span class="o">(</span><span class="bp">-</span><span class="o">(</span><span class="n">sqrt</span> <span class="mi">5</span> <span class="bp">/</span> <span class="mi">2</span> <span class="bp">*</span> <span class="mi">2</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">+</span> <span class="bp">-</span><span class="o">(</span><span class="n">sqrt</span> <span class="mi">5</span> <span class="bp">/</span> <span class="mi">2</span> <span class="bp">*</span> <span class="o">(</span><span class="n">sqrt</span> <span class="mi">5</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">))))))</span> <span class="bp">=</span>
    <span class="bp">-</span><span class="mi">1</span>
</pre></div>

<a name="127129155"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129155" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129155">Kevin Buzzard (May 26 2018 at 16:01)</a>:</h4>
<p>I must have taken a wrong turn</p>

<a name="127129162"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129162" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129162">Kevin Buzzard (May 26 2018 at 16:01)</a>:</h4>
<p>I am not a competent driver when it comes to the reals</p>

<a name="127129164"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129164" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129164">Mario Carneiro (May 26 2018 at 16:01)</a>:</h4>
<p>simp on its own will not know how to finish the job</p>

<a name="127129165"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129165" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129165">Mario Carneiro (May 26 2018 at 16:01)</a>:</h4>
<p>you need <code>ring</code> for all that</p>

<a name="127129166"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129166" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129166">Kevin Buzzard (May 26 2018 at 16:02)</a>:</h4>
<p>All I want to do is prove that if alpha is (1+sqrt(5))/2 then alpha^2=alpha+1</p>

<a name="127129204"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129204" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129204">Kevin Buzzard (May 26 2018 at 16:02)</a>:</h4>
<p>in R</p>

<a name="127129208"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129208" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129208">Kevin Buzzard (May 26 2018 at 16:02)</a>:</h4>
<p>because if that's not easy</p>

<a name="127129209"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129209" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129209">Kevin Buzzard (May 26 2018 at 16:02)</a>:</h4>
<p>then what kind of an R have you got here</p>

<a name="127129211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129211" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129211">Kevin Buzzard (May 26 2018 at 16:02)</a>:</h4>
<p>a computer scientist's one but not a mathematican's one</p>

<a name="127129219"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129219" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129219">Kevin Buzzard (May 26 2018 at 16:03)</a>:</h4>
<p>I completely understand the other approach</p>

<a name="127129222"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129222" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129222">Kevin Buzzard (May 26 2018 at 16:03)</a>:</h4>
<p>but for pedagogical reasons I would like to see this happening in R</p>

<a name="127129224"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129224" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129224">Kevin Buzzard (May 26 2018 at 16:03)</a>:</h4>
<p>I can always fall back on Nicholas' construction</p>

<a name="127129226"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129226" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129226">Kevin Buzzard (May 26 2018 at 16:03)</a>:</h4>
<p>which indeed I will ultimately fall back on</p>

<a name="127129266"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129266" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129266">Kevin Buzzard (May 26 2018 at 16:04)</a>:</h4>
<p>but my goal was not to explain how incredibly difficult it was to even the most trivial things</p>

<a name="127129267"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129267" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129267">Mario Carneiro (May 26 2018 at 16:04)</a>:</h4>
<p>I get it</p>

<a name="127129269"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129269" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129269">Mario Carneiro (May 26 2018 at 16:04)</a>:</h4>
<p>1 sec</p>

<a name="127129270"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129270" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129270">Kevin Buzzard (May 26 2018 at 16:04)</a>:</h4>
<p>Sorry to moan</p>

<a name="127129271"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129271" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129271">Kevin Buzzard (May 26 2018 at 16:04)</a>:</h4>
<p>I am giving an important talk</p>

<a name="127129275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129275" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129275">Kevin Buzzard (May 26 2018 at 16:05)</a>:</h4>
<p>and I want it to be _really good_</p>

<a name="127129280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129280" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129280">Mario Carneiro (May 26 2018 at 16:05)</a>:</h4>
<p>I believe it can be done with a short tactic invoke</p>

<a name="127129281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129281" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129281">Kevin Buzzard (May 26 2018 at 16:05)</a>:</h4>
<p>so I want to make a really professional job of it</p>

<a name="127129285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129285" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129285">Mario Carneiro (May 26 2018 at 16:05)</a>:</h4>
<p>I think you can use <code>ring</code> to get it down to an expression involving <code>(sqrt 5)^2</code>, and then use <code>simp</code> and <code>norm_num</code> to finish</p>

<a name="127129351"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129351" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129351">Kevin Buzzard (May 26 2018 at 16:07)</a>:</h4>
<p>Removed target and re-installed everything and I'm back up to speed :-)</p>

<a name="127129352"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129352" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129352">Kevin Buzzard (May 26 2018 at 16:07)</a>:</h4>
<p>one further step towards professional</p>

<a name="127129353"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129353" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129353">Kevin Buzzard (May 26 2018 at 16:07)</a>:</h4>
<p>No more errors</p>

<a name="127129390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129390" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129390">Kevin Buzzard (May 26 2018 at 16:08)</a>:</h4>
<p>aargh that's a lie</p>

<a name="127129400"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129400" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129400">Kevin Buzzard (May 26 2018 at 16:09)</a>:</h4>
<p>I will sort this out later -- I've got until 8pm</p>

<a name="127129403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129403" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129403">Mario Carneiro (May 26 2018 at 16:09)</a>:</h4>
<p>what time is it now?</p>

<a name="127129404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129404" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129404">Kenny Lau (May 26 2018 at 16:09)</a>:</h4>
<blockquote>
<p>I will sort this out later -- I've got until 8pm</p>
</blockquote>
<p>what do you need to sort out?</p>

<a name="127129448"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129448" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129448">Kevin Buzzard (May 26 2018 at 16:10)</a>:</h4>
<p>I have loads of errors in mathlib</p>

<a name="127129450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129450" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129450">Kevin Buzzard (May 26 2018 at 16:10)</a>:</h4>
<p>I've tried everything</p>

<a name="127129451"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129451" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129451">Kevin Buzzard (May 26 2018 at 16:10)</a>:</h4>
<p>I might reboot my computer</p>

<a name="127129452"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129452" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129452">Kevin Buzzard (May 26 2018 at 16:10)</a>:</h4>
<p>and recompile all .olean files</p>

<a name="127129453"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129453" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129453">Kenny Lau (May 26 2018 at 16:10)</a>:</h4>
<p>are you trying to prove anything?</p>

<a name="127129454"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129454" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129454">Kevin Buzzard (May 26 2018 at 16:10)</a>:</h4>
<p>but that's all I can think of</p>

<a name="127129457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129457" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129457">Kevin Buzzard (May 26 2018 at 16:11)</a>:</h4>
<p>I'm tyring to prove that two real numbers are equal</p>

<a name="127129460"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129460" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129460">Kevin Buzzard (May 26 2018 at 16:11)</a>:</h4>
<p>I'll push</p>

<a name="127129502"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129502" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129502">Kevin Buzzard (May 26 2018 at 16:12)</a>:</h4>
<p><a href="https://github.com/kbuzzard/lean-squares-in-fibonacci/blob/master/src/real_alpha.lean" target="_blank" title="https://github.com/kbuzzard/lean-squares-in-fibonacci/blob/master/src/real_alpha.lean">https://github.com/kbuzzard/lean-squares-in-fibonacci/blob/master/src/real_alpha.lean</a></p>

<a name="127129504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129504" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129504">Kevin Buzzard (May 26 2018 at 16:12)</a>:</h4>
<p>But I want it to look sexy</p>

<a name="127129512"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129512" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129512">Mario Carneiro (May 26 2018 at 16:13)</a>:</h4>
<p>you could import <code>data.real.basic</code> instead</p>

<a name="127129776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129776" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129776">Mario Carneiro (May 26 2018 at 16:22)</a>:</h4>
<div class="codehilite"><pre><span></span>import data.real.basic tactic.norm_num tactic.ring

open real
noncomputable theory

prefix `√`:90 := sqrt

def α := (√5 + 1) / 2
def β := 1 - α

theorem root_5_squared : √5 ^ 2 = 5 :=
by simp {discharger := `[norm_num]}

lemma αβsum : α + β = 1 := begin
  unfold α β,
  ring
end

lemma αβprod : α * β = -1 := begin
  unfold α β,
  ring,
  simp {discharger := `[norm_num]},
  ring
end
</pre></div>

<a name="127129779"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129779" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129779">Kenny Lau (May 26 2018 at 16:22)</a>:</h4>
<p>what</p>

<a name="127129879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129879" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129879">Kenny Lau (May 26 2018 at 16:27)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">real</span><span class="bp">.</span><span class="n">basic</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">norm_num</span>

<span class="n">noncomputable</span> <span class="n">theory</span>

<span class="kn">prefix</span> <span class="bp">`</span><span class="err">√</span><span class="bp">`</span><span class="o">:</span><span class="mi">90</span> <span class="o">:=</span> <span class="n">real</span><span class="bp">.</span><span class="n">sqrt</span>

<span class="n">def</span> <span class="n">α</span> <span class="o">:=</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">+</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span>
<span class="n">def</span> <span class="n">β</span> <span class="o">:=</span> <span class="mi">1</span> <span class="bp">-</span> <span class="n">α</span>

<span class="kn">theorem</span> <span class="n">root_5_squared</span> <span class="o">:</span> <span class="err">√</span><span class="mi">5</span> <span class="bp">*</span> <span class="err">√</span><span class="mi">5</span> <span class="bp">=</span> <span class="mi">5</span> <span class="o">:=</span>
<span class="n">real</span><span class="bp">.</span><span class="n">mul_self_sqrt</span> <span class="err">$</span> <span class="k">show</span> <span class="o">(</span><span class="mi">0</span><span class="o">:</span><span class="n">ℝ</span><span class="o">)</span> <span class="bp">≤</span> <span class="mi">5</span><span class="o">,</span> <span class="k">by</span> <span class="n">norm_num</span>

<span class="kn">lemma</span> <span class="n">αβsum</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">+</span> <span class="n">β</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="k">show</span> <span class="n">α</span> <span class="bp">+</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">-</span> <span class="n">α</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">,</span>
<span class="k">from</span> <span class="n">add_sub_cancel&#39;_right</span> <span class="n">α</span> <span class="mi">1</span>

<span class="kn">lemma</span> <span class="n">αβprod</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">*</span> <span class="n">β</span> <span class="bp">=</span> <span class="bp">-</span><span class="mi">1</span> <span class="o">:=</span>
<span class="k">calc</span>  <span class="n">α</span> <span class="bp">*</span> <span class="n">β</span>
    <span class="bp">=</span> <span class="o">((</span><span class="mi">1</span> <span class="bp">+</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">-</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">+</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:</span> <span class="n">rfl</span>
<span class="bp">...</span> <span class="bp">=</span> <span class="o">((</span><span class="mi">1</span> <span class="bp">+</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">*</span> <span class="o">((</span><span class="mi">1</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span> <span class="bp">-</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">+</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="n">add_self_div_two</span>
<span class="bp">...</span> <span class="bp">=</span> <span class="o">((</span><span class="mi">1</span> <span class="bp">+</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(((</span><span class="mi">1</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">+</span> <span class="err">√</span><span class="mi">5</span><span class="o">))</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="n">div_sub_div_same</span>
<span class="bp">...</span> <span class="bp">=</span> <span class="o">((</span><span class="mi">1</span> <span class="bp">+</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">*</span> <span class="o">((</span><span class="mi">1</span> <span class="bp">-</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="n">add_sub_add_left_eq_sub</span>
<span class="bp">...</span> <span class="bp">=</span> <span class="o">((</span><span class="mi">1</span> <span class="bp">+</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">-</span> <span class="err">√</span><span class="mi">5</span><span class="o">))</span> <span class="bp">/</span> <span class="o">(</span><span class="mi">2</span> <span class="bp">*</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="n">div_mul_div</span>
<span class="bp">...</span> <span class="bp">=</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">*</span> <span class="mi">1</span> <span class="bp">-</span> <span class="err">√</span><span class="mi">5</span> <span class="bp">*</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="o">(</span><span class="mi">2</span> <span class="bp">*</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="n">mul_self_sub_mul_self_eq</span>
<span class="bp">...</span> <span class="bp">=</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">*</span> <span class="mi">1</span> <span class="bp">-</span> <span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="o">(</span><span class="mi">2</span> <span class="bp">*</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="n">root_5_squared</span>
<span class="bp">...</span> <span class="bp">=</span> <span class="bp">-</span><span class="mi">1</span> <span class="o">:</span> <span class="k">by</span> <span class="n">norm_num</span>
</pre></div>

<a name="127129880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129880" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129880">Kenny Lau (May 26 2018 at 16:27)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> do you like direct proofs?</p>

<a name="127129922"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129922" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129922">Mario Carneiro (May 26 2018 at 16:28)</a>:</h4>
<p>You could also half-cheat and write a plausible-looking sequence of equalities all proven by <code>ring</code></p>

<a name="127129927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129927" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129927">Kenny Lau (May 26 2018 at 16:28)</a>:</h4>
<p>but that defeats the purpose of the presentation</p>

<a name="127129928"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129928" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129928">Kevin Buzzard (May 26 2018 at 16:28)</a>:</h4>
<p>This is somehow awful</p>

<a name="127129929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129929" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129929">Mario Carneiro (May 26 2018 at 16:28)</a>:</h4>
<p>it makes it look nice and readable</p>

<a name="127129930"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129930" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129930">Kevin Buzzard (May 26 2018 at 16:28)</a>:</h4>
<p>but it's much better than nothing</p>

<a name="127129932"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129932" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129932">Kevin Buzzard (May 26 2018 at 16:28)</a>:</h4>
<p>But I don't want it to be readable</p>

<a name="127129933"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129933" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129933">Kevin Buzzard (May 26 2018 at 16:28)</a>:</h4>
<p>I want it to be trivial</p>

<a name="127129934"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129934" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129934">Kenny Lau (May 26 2018 at 16:28)</a>:</h4>
<p>what</p>

<a name="127129935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129935" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129935">Kevin Buzzard (May 26 2018 at 16:28)</a>:</h4>
<p>An obscure one-liner?</p>

<a name="127129936"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129936" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129936">Mario Carneiro (May 26 2018 at 16:28)</a>:</h4>
<p>you didn't like my ring solution?</p>

<a name="127129937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129937" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129937">Kenny Lau (May 26 2018 at 16:29)</a>:</h4>
<p>I thought you're teaching rigour</p>

<a name="127129942"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129942" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129942">Kenny Lau (May 26 2018 at 16:29)</a>:</h4>
<p>if you asked me in m1f to prove that alpha * beta = -1, that is exactly what I would write down</p>

<a name="127129944"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129944" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129944">Kenny Lau (May 26 2018 at 16:29)</a>:</h4>
<p>minus the <code>by rw ...</code> things</p>

<a name="127129945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129945" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129945">Kevin Buzzard (May 26 2018 at 16:29)</a>:</h4>
<p>I don't understand -- what ring solution?</p>

<a name="127129947"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129947" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129947">Kenny Lau (May 26 2018 at 16:29)</a>:</h4>
<p><a href="#narrow/stream/116395-maths/subject/Largest.20Square.20in.20the.20Fibonacci.20Sequence/near/127129776" title="#narrow/stream/116395-maths/subject/Largest.20Square.20in.20the.20Fibonacci.20Sequence/near/127129776">https://leanprover.zulipchat.com/#narrow/stream/116395-maths/subject/Largest.20Square.20in.20the.20Fibonacci.20Sequence/near/127129776</a></p>

<a name="127129951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129951" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127129951">Kenny Lau (May 26 2018 at 16:29)</a>:</h4>
<p>:D</p>

<a name="127130004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130004" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130004">Kenny Lau (May 26 2018 at 16:30)</a>:</h4>
<p>I can't delete my own messages...</p>

<a name="127130016"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130016" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130016">Kevin Buzzard (May 26 2018 at 16:30)</a>:</h4>
<p>I want as many solutions as I can</p>

<a name="127130024"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130024" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130024">Kevin Buzzard (May 26 2018 at 16:31)</a>:</h4>
<p>And we vote for the most beautiful</p>

<a name="127130026"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130026" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130026">Kenny Lau (May 26 2018 at 16:31)</a>:</h4>
<p>beauty is in the eye of the beholder</p>

<a name="127130027"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130027" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130027">Kenny Lau (May 26 2018 at 16:31)</a>:</h4>
<p>in this case, you</p>

<a name="127130032"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130032" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130032">Kenny Lau (May 26 2018 at 16:31)</a>:</h4>
<p>it's you who is/are presenting</p>

<a name="127130082"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130082" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130082">Mario Carneiro (May 26 2018 at 16:33)</a>:</h4>
<p>semi-explicit, only one <code>ring</code></p>
<div class="codehilite"><pre><span></span>lemma αβprod : α * β = -1 := begin
  unfold α β,
  ring,
  rw sqr_sqrt; norm_num
end
</pre></div>

<a name="127130090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130090" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130090">Kenny Lau (May 26 2018 at 16:33)</a>:</h4>
<p>I still don't know what <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> wants</p>

<a name="127130092"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130092" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130092">Kenny Lau (May 26 2018 at 16:33)</a>:</h4>
<p>what is the goal of this?</p>

<a name="127130208"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130208" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130208">Reid Barton (May 26 2018 at 16:36)</a>:</h4>
<p>or an intermediate one, still using calc</p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">αβsum</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">+</span> <span class="n">β</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">dsimp</span> <span class="o">[</span><span class="n">β</span><span class="o">]</span><span class="bp">;</span> <span class="n">ring</span>

<span class="kn">lemma</span> <span class="n">αβprod</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">*</span> <span class="n">β</span> <span class="bp">=</span> <span class="bp">-</span><span class="mi">1</span> <span class="o">:=</span>
<span class="k">calc</span>  <span class="n">α</span> <span class="bp">*</span> <span class="n">β</span>
    <span class="bp">=</span> <span class="o">((</span><span class="mi">1</span> <span class="bp">+</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">-</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">+</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:</span> <span class="n">rfl</span>
<span class="bp">...</span> <span class="bp">=</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">*</span> <span class="mi">1</span> <span class="bp">-</span> <span class="err">√</span><span class="mi">5</span><span class="err">^</span><span class="mi">2</span><span class="o">)</span> <span class="bp">/</span> <span class="o">(</span><span class="mi">2</span> <span class="bp">*</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:</span> <span class="k">by</span> <span class="n">ring</span>
<span class="bp">...</span> <span class="bp">=</span> <span class="bp">-</span><span class="mi">1</span> <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="n">real</span><span class="bp">.</span><span class="n">sqr_sqrt</span><span class="bp">;</span> <span class="n">norm_num</span>
</pre></div>

<a name="127130231"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130231" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130231">Mario Carneiro (May 26 2018 at 16:37)</a>:</h4>
<p>I guess you could write the middle line as <code>(1 - √5^2) / 4</code> for extra clean</p>

<a name="127130235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130235" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130235">Kenny Lau (May 26 2018 at 16:37)</a>:</h4>
<p>low-tech one-liners:</p>

<a name="127130237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130237" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130237">Kenny Lau (May 26 2018 at 16:37)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">real</span><span class="bp">.</span><span class="n">basic</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">norm_num</span>

<span class="n">noncomputable</span> <span class="n">theory</span>

<span class="kn">prefix</span> <span class="bp">`</span><span class="err">√</span><span class="bp">`</span><span class="o">:</span><span class="mi">90</span> <span class="o">:=</span> <span class="n">real</span><span class="bp">.</span><span class="n">sqrt</span>

<span class="n">def</span> <span class="n">α</span> <span class="o">:=</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">+</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span>
<span class="n">def</span> <span class="n">β</span> <span class="o">:=</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">-</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span>

<span class="kn">theorem</span> <span class="n">root_5_squared</span> <span class="o">:</span> <span class="err">√</span><span class="mi">5</span> <span class="bp">*</span> <span class="err">√</span><span class="mi">5</span> <span class="bp">=</span> <span class="mi">5</span> <span class="o">:=</span>
<span class="n">real</span><span class="bp">.</span><span class="n">mul_self_sqrt</span> <span class="err">$</span> <span class="k">show</span> <span class="o">(</span><span class="mi">0</span><span class="o">:</span><span class="n">ℝ</span><span class="o">)</span> <span class="bp">≤</span> <span class="mi">5</span><span class="o">,</span> <span class="k">by</span> <span class="n">norm_num</span>

<span class="kn">lemma</span> <span class="n">αβsum</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">+</span> <span class="n">β</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">α</span><span class="o">,</span> <span class="n">β</span><span class="o">,</span> <span class="err">←</span> <span class="n">add_div</span><span class="o">]</span><span class="bp">;</span> <span class="n">simp</span>

<span class="kn">lemma</span> <span class="n">αβprod</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">*</span> <span class="n">β</span> <span class="bp">=</span> <span class="bp">-</span><span class="mi">1</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">α</span><span class="o">,</span> <span class="n">β</span><span class="o">,</span> <span class="n">div_mul_div</span><span class="o">,</span> <span class="err">←</span> <span class="n">mul_self_sub_mul_self_eq</span><span class="o">,</span> <span class="n">root_5_squared</span><span class="o">]</span><span class="bp">;</span> <span class="n">norm_num</span>
</pre></div>

<a name="127130280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130280" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130280">Kenny Lau (May 26 2018 at 16:38)</a>:</h4>
<p>(is changing the definition allowed?)</p>

<a name="127130356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130356" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130356">Mario Carneiro (May 26 2018 at 16:40)</a>:</h4>
<div class="codehilite"><pre><span></span>lemma αβprod : α * β = -1 :=
calc ((√5 + 1) / 2) * (1 - (√5 + 1) / 2)
    = (1 - √5^2) / 4 : by ring
... = -1 : by rw sqr_sqrt; norm_num
</pre></div>

<a name="127130362"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130362" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130362">Kenny Lau (May 26 2018 at 16:40)</a>:</h4>
<p>not very different from the one above...</p>

<a name="127130365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130365" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130365">Mario Carneiro (May 26 2018 at 16:41)</a>:</h4>
<p>it's based on reid's</p>

<a name="127130416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130416" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130416">Kenny Lau (May 26 2018 at 16:42)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">real</span><span class="bp">.</span><span class="n">basic</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">norm_num</span>

<span class="n">noncomputable</span> <span class="n">theory</span>

<span class="kn">prefix</span> <span class="bp">`</span><span class="err">√</span><span class="bp">`</span><span class="o">:</span><span class="mi">90</span> <span class="o">:=</span> <span class="n">real</span><span class="bp">.</span><span class="n">sqrt</span>

<span class="n">def</span> <span class="n">α</span> <span class="o">:=</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">+</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span>
<span class="n">def</span> <span class="n">β</span> <span class="o">:=</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">-</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span>

<span class="kn">lemma</span> <span class="n">sqrt_5_mul_self</span> <span class="o">:</span> <span class="err">√</span><span class="mi">5</span> <span class="bp">*</span> <span class="err">√</span><span class="mi">5</span> <span class="bp">=</span> <span class="mi">5</span> <span class="o">:=</span>
<span class="n">real</span><span class="bp">.</span><span class="n">mul_self_sqrt</span> <span class="err">$</span> <span class="k">show</span> <span class="o">(</span><span class="mi">0</span><span class="o">:</span><span class="n">ℝ</span><span class="o">)</span> <span class="bp">≤</span> <span class="mi">5</span><span class="o">,</span> <span class="k">by</span> <span class="n">norm_num</span>

<span class="kn">lemma</span> <span class="n">αβsum</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">+</span> <span class="n">β</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">α</span><span class="o">,</span> <span class="n">β</span><span class="o">,</span> <span class="n">add_div</span><span class="o">,</span> <span class="n">neg_div</span><span class="o">,</span> <span class="bp">-</span><span class="n">one_div_eq_inv</span><span class="o">]</span>

<span class="kn">lemma</span> <span class="n">αβprod</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">*</span> <span class="n">β</span> <span class="bp">=</span> <span class="bp">-</span><span class="mi">1</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">α</span><span class="o">,</span> <span class="n">β</span><span class="o">,</span> <span class="n">div_mul_div</span><span class="o">,</span> <span class="n">add_mul</span><span class="o">,</span> <span class="n">mul_add</span><span class="o">,</span> <span class="n">sqrt_5_mul_self</span><span class="o">]</span><span class="bp">;</span> <span class="n">norm_num</span>
</pre></div>

<a name="127130417"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130417" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130417">Reid Barton (May 26 2018 at 16:42)</a>:</h4>
<p>And I just took Kenny's long calc and deleted all the intermediate steps that could be handled by <code>ring</code>.</p>

<a name="127130427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130427" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130427">Reid Barton (May 26 2018 at 16:43)</a>:</h4>
<p>I like calc here because the fact <code>α * β = -1</code> is actually not immediately obvious to a human, and you'd write out about the same number of intermediate steps to explain the calculation to a human.</p>

<a name="127130428"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130428" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130428">Kenny Lau (May 26 2018 at 16:43)</a>:</h4>
<p>still avoiding ring as usual :P</p>

<a name="127130429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130429" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130429">Kenny Lau (May 26 2018 at 16:44)</a>:</h4>
<p>I like my new definition</p>

<a name="127130466"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130466" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130466">Kenny Lau (May 26 2018 at 16:44)</a>:</h4>
<p>who likes my new definition</p>

<a name="127130472"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130472" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130472">Mario Carneiro (May 26 2018 at 16:44)</a>:</h4>
<p>I think your definition is nicer if you are going to define both alpha and beta</p>

<a name="127130485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130485" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130485">Mario Carneiro (May 26 2018 at 16:45)</a>:</h4>
<p>In a human proof I would probably have an additional step in the middle with all four terms and cross out the cross terms</p>

<a name="127130527"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130527" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130527">Kenny Lau (May 26 2018 at 16:46)</a>:</h4>
<p>that's what I did with the <code>add_mul</code> and <code>mul_add</code></p>

<a name="127130532"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130532" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130532">Kenny Lau (May 26 2018 at 16:46)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">real</span><span class="bp">.</span><span class="n">basic</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">norm_num</span>

<span class="n">noncomputable</span> <span class="n">theory</span>

<span class="kn">prefix</span> <span class="bp">`</span><span class="err">√</span><span class="bp">`</span><span class="o">:</span><span class="mi">90</span> <span class="o">:=</span> <span class="n">real</span><span class="bp">.</span><span class="n">sqrt</span>

<span class="n">def</span> <span class="n">α</span> <span class="o">:=</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">+</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span>
<span class="n">def</span> <span class="n">β</span> <span class="o">:=</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">-</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span>

<span class="kn">lemma</span> <span class="n">sqrt_5_mul_self</span> <span class="o">:</span> <span class="err">√</span><span class="mi">5</span> <span class="bp">*</span> <span class="err">√</span><span class="mi">5</span> <span class="bp">=</span> <span class="mi">5</span> <span class="o">:=</span>
<span class="n">real</span><span class="bp">.</span><span class="n">mul_self_sqrt</span> <span class="err">$</span> <span class="k">show</span> <span class="o">(</span><span class="mi">0</span><span class="o">:</span><span class="n">ℝ</span><span class="o">)</span> <span class="bp">≤</span> <span class="mi">5</span><span class="o">,</span> <span class="k">by</span> <span class="n">norm_num1</span>

<span class="kn">lemma</span> <span class="n">αβsum</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">+</span> <span class="n">β</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">α</span><span class="o">,</span> <span class="n">β</span><span class="o">,</span> <span class="n">add_div</span><span class="o">,</span> <span class="n">neg_div</span><span class="o">,</span> <span class="bp">-</span><span class="n">one_div_eq_inv</span><span class="o">]</span>

<span class="kn">lemma</span> <span class="n">αβprod</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">*</span> <span class="n">β</span> <span class="bp">=</span> <span class="bp">-</span><span class="mi">1</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">α</span><span class="o">,</span> <span class="n">β</span><span class="o">,</span> <span class="n">div_mul_div</span><span class="o">,</span> <span class="n">add_mul</span><span class="o">,</span> <span class="n">mul_add</span><span class="o">,</span> <span class="n">sqrt_5_mul_self</span><span class="o">]</span><span class="bp">;</span> <span class="n">norm_num1</span>
</pre></div>

<a name="127130535"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130535" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130535">Kenny Lau (May 26 2018 at 16:46)</a>:</h4>
<p>low-tech :P</p>

<a name="127130536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130536" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130536">Mario Carneiro (May 26 2018 at 16:46)</a>:</h4>
<p>A long <code>rw</code> proof is hard to read though</p>

<a name="127130537"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130537" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130537">Mario Carneiro (May 26 2018 at 16:47)</a>:</h4>
<p>unless you step through it</p>

<a name="127130542"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130542" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130542">Kenny Lau (May 26 2018 at 16:47)</a>:</h4>
<p>I thought <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> wants a one-liner</p>

<a name="127130543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130543" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130543">Mario Carneiro (May 26 2018 at 16:47)</a>:</h4>
<p>and you can't even do that for a simp proof</p>

<a name="127130544"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130544" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130544">Mario Carneiro (May 26 2018 at 16:47)</a>:</h4>
<p>I think we have that already</p>

<a name="127130552"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130552" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130552">Mario Carneiro (May 26 2018 at 16:48)</a>:</h4>
<div class="codehilite"><pre><span></span>lemma αβprod : α * β = -1 :=
by unfold α β; ring; simp {discharger := `[norm_num]}; ring
</pre></div>

<a name="127130655"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130655" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130655">Mario Carneiro (May 26 2018 at 16:51)</a>:</h4>
<p>ooh, with this modification to <code>norm_num</code>:</p>
<div class="codehilite"><pre><span></span>meta def norm_num (loc : parse location) : tactic unit :=
let t := orelse&#39; (norm_num1 loc) $
  simp_core {} (norm_num1 (interactive.loc.ns [none])) ff [] [] loc in
t &gt;&gt; repeat t
</pre></div>


<p>you can get away with just <code>by unfold α β; ring; norm_num</code></p>

<a name="127130933"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130933" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130933">Kevin Buzzard (May 26 2018 at 17:01)</a>:</h4>
<p>I just want to explain to kids who don't know any better, what maths is</p>

<a name="127130973"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130973" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130973">Kenny Lau (May 26 2018 at 17:02)</a>:</h4>
<p>then why wouldn't you write down every step</p>

<a name="127130974"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130974" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130974">Kevin Buzzard (May 26 2018 at 17:02)</a>:</h4>
<p>All of this stuff is great</p>

<a name="127130982"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130982" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130982">Kevin Buzzard (May 26 2018 at 17:02)</a>:</h4>
<p>Because what is a step when you are 16 years old?</p>

<a name="127130986"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130986" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130986">Kevin Buzzard (May 26 2018 at 17:02)</a>:</h4>
<p>You have never thought about steps</p>

<a name="127130992"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130992" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130992">Kevin Buzzard (May 26 2018 at 17:03)</a>:</h4>
<p>You just answer the question</p>

<a name="127130993"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130993" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130993">Mario Carneiro (May 26 2018 at 17:03)</a>:</h4>
<p>I presume that will be part of the talk</p>

<a name="127130997"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130997" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127130997">Mario Carneiro (May 26 2018 at 17:03)</a>:</h4>
<p>at least, the idea that math is built on axioms and rules</p>

<a name="127131002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127131002" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127131002">Mario Carneiro (May 26 2018 at 17:03)</a>:</h4>
<p>and you have to use those rules to prove things</p>

<a name="127131004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127131004" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127131004">Mario Carneiro (May 26 2018 at 17:03)</a>:</h4>
<p>the sense of "step" is not far from this</p>

<a name="127131186"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127131186" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127131186">Kevin Buzzard (May 26 2018 at 17:09)</a>:</h4>
<p>Yes exactly</p>

<a name="127131190"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127131190" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127131190">Kevin Buzzard (May 26 2018 at 17:09)</a>:</h4>
<p>I will be here at 8pm UK time (i.e. now + 3h50m) asking more stupid questions about real numbers</p>

<a name="127133670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127133670" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127133670">Nicholas Scheel (May 26 2018 at 18:37)</a>:</h4>
<p><code>lemma α_sqr : α^2 = α + 1 := rfl</code> in ℤα ;)</p>

<a name="127133673"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127133673" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127133673">Kenny Lau (May 26 2018 at 18:37)</a>:</h4>
<p>but he doesn't want to use Zalpha in the presentation lol</p>

<a name="127133714"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127133714" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127133714">Nicholas Scheel (May 26 2018 at 18:38)</a>:</h4>
<p>btw I proved point 3, should I leave it in Zalpha or move it to a <code>point3.lean</code>?</p>

<a name="127133717"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127133717" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127133717">Kenny Lau (May 26 2018 at 18:38)</a>:</h4>
<p>move it to <code>point3.lean</code></p>

<a name="127133772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127133772" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127133772">Nicholas Scheel (May 26 2018 at 18:40)</a>:</h4>
<p>done!</p>

<a name="127133829"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127133829" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127133829">Nicholas Scheel (May 26 2018 at 18:43)</a>:</h4>
<p>I tried and failed to prove that it is an integral domain, got any tips?</p>

<a name="127133837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127133837" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127133837">Kenny Lau (May 26 2018 at 18:44)</a>:</h4>
<p>where are you stuck in?</p>

<a name="127133987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127133987" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127133987">Nicholas Scheel (May 26 2018 at 18:49)</a>:</h4>
<p>it’s something like<br>
<code>a * c + b * d = 0 AND a * d + b * c + b * d = 0 IMPLIES THAT (a, b) = 0 OR (c, d) = 0</code></p>

<a name="127134063"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127134063" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127134063">Nicholas Scheel (May 26 2018 at 18:52)</a>:</h4>
<p>I understand that it’s equivalent to the fact that α is not an integer, and equivalent to the fact that 1 and α are linearly independent, but I don’t see how to do that from the definition of multiplication</p>

<a name="127134505"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127134505" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127134505">Johan Commelin (May 26 2018 at 19:08)</a>:</h4>
<p>Well, you could define an embedding of Zalpha into R.</p>

<a name="127134510"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127134510" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127134510">Johan Commelin (May 26 2018 at 19:09)</a>:</h4>
<p>I think we now have about a dozen proofs of why that works <span class="emoji emoji-1f609" title="wink">:wink:</span></p>

<a name="127134511"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127134511" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127134511">Kenny Lau (May 26 2018 at 19:09)</a>:</h4>
<p>proving that it is injective needs work also</p>

<a name="127134556"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127134556" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127134556">Johan Commelin (May 26 2018 at 19:10)</a>:</h4>
<p>That is the linear independence of 1 and alpha</p>

<a name="127134666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127134666" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127134666">Nicholas Scheel (May 26 2018 at 19:15)</a>:</h4>
<p>sure, why not ;D</p>

<a name="127134669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127134669" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127134669">Kenny Lau (May 26 2018 at 19:15)</a>:</h4>
<p>oh right you need to prove that sqrt(5) is irrational</p>

<a name="127140546"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127140546" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127140546">Kevin Buzzard (May 26 2018 at 23:09)</a>:</h4>
<p>Yeah, that's the analogue of showing that if <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>z</mi><mo>=</mo><mi>x</mi><mo>+</mo><mi>i</mi><mi>y</mi></mrow><annotation encoding="application/x-tex">z=x+iy</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.65952em;"></span><span class="strut bottom" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.04398em;">z</span><span class="mrel">=</span><span class="mord mathit">x</span><span class="mbin">+</span><span class="mord mathit">i</span><span class="mord mathit" style="margin-right:0.03588em;">y</span></span></span></span> is a complex number which isn't zero, then you can divide by <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>z</mi></mrow><annotation encoding="application/x-tex">z</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.04398em;">z</span></span></span></span>, by multiplying by <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mrow><mi>z</mi></mrow><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">\overline{z}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.63056em;"></span><span class="strut bottom" style="height:0.63056em;vertical-align:0em;"></span><span class="base"><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.63056em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathit" style="margin-right:0.04398em;">z</span></span></span><span style="top:-3.55056em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span></span></span></span> and then dividing by the non-zero real <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>z</mi><mover accent="true"><mrow><mi>z</mi></mrow><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">z\overline{z}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.63056em;"></span><span class="strut bottom" style="height:0.63056em;vertical-align:0em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.04398em;">z</span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.63056em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathit" style="margin-right:0.04398em;">z</span></span></span><span style="top:-3.55056em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span></span></span></span>.</p>

<a name="127140598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127140598" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127140598">Kevin Buzzard (May 26 2018 at 23:10)</a>:</h4>
<p>In this instance it boils down to proving that the product of <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>+</mo><mi>b</mi><mi mathvariant="normal">√</mi><mrow><mn>5</mn></mrow></mrow><annotation encoding="application/x-tex">a+b\surd{5}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.8em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.2em;"></span><span class="base"><span class="mord mathit">a</span><span class="mbin">+</span><span class="mord mathit">b</span><span class="mord mathrm">√</span><span class="mord"><span class="mord mathrm">5</span></span></span></span></span> and its Galois conjugate <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>−</mo><mi>b</mi><mi mathvariant="normal">√</mi><mrow><mn>5</mn></mrow></mrow><annotation encoding="application/x-tex">a-b\surd{5}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.8em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.2em;"></span><span class="base"><span class="mord mathit">a</span><span class="mbin">−</span><span class="mord mathit">b</span><span class="mord mathrm">√</span><span class="mord"><span class="mord mathrm">5</span></span></span></span></span> is non-zero if at least one of <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base"><span class="mord mathit">a</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.69444em;vertical-align:0em;"></span><span class="base"><span class="mord mathit">b</span></span></span></span> is non-zero</p>

<a name="127140600"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127140600" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127140600">Kevin Buzzard (May 26 2018 at 23:10)</a>:</h4>
<p><code>\surd</code>for square roots in maths mode, not <code>\sqrt</code></p>

<a name="127140601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127140601" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127140601">Kevin Buzzard (May 26 2018 at 23:10)</a>:</h4>
<p>So as Kenny says it's precisely the irrationality of <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">√</mi><mn>5</mn></mrow><annotation encoding="application/x-tex">\surd 5</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.8em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.2em;"></span><span class="base"><span class="mord mathrm">√</span><span class="mord mathrm">5</span></span></span></span>, or, more precisely, it's the statement that no rational number squared is <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>5</mn></mrow><annotation encoding="application/x-tex">5</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.64444em;vertical-align:0em;"></span><span class="base"><span class="mord mathrm">5</span></span></span></span> (rather than any statement about real numbers not being rational)</p>

<a name="127140603"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127140603" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127140603">Kevin Buzzard (May 26 2018 at 23:10)</a>:</h4>
<p>So one way to do it is to prove that if <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>+</mo><mi>b</mi><mi mathvariant="normal">√</mi><mn>5</mn></mrow><annotation encoding="application/x-tex">a+b\surd 5</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.8em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.2em;"></span><span class="base"><span class="mord mathit">a</span><span class="mbin">+</span><span class="mord mathit">b</span><span class="mord mathrm">√</span><span class="mord mathrm">5</span></span></span></span> is non-zero then the rational <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>a</mi><mn>2</mn></msup><mo>−</mo><mn>5</mn><msup><mi>b</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">a^2-5b^2</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.8141079999999999em;"></span><span class="strut bottom" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="base"><span class="mord"><span class="mord mathit">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">2</span></span></span></span></span></span></span></span><span class="mbin">−</span><span class="mord mathrm">5</span><span class="mord"><span class="mord mathit">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">2</span></span></span></span></span></span></span></span></span></span></span> is non-zero and then use that a non-zero rational has an inverse.</p>

<a name="127140700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127140700" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127140700">Kevin Buzzard (May 26 2018 at 23:15)</a>:</h4>
<p>I've just been telling some kids about Lean. Some of them got into it. We were doing induction on nat and on or and on false and stuff</p>

<a name="127140709"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127140709" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127140709">Kevin Buzzard (May 26 2018 at 23:15)</a>:</h4>
<p>I did some Fibonacci stuff</p>

<a name="127140710"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127140710" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127140710">Kevin Buzzard (May 26 2018 at 23:15)</a>:</h4>
<p>and some logic stuff</p>

<a name="127140711"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127140711" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127140711">Kevin Buzzard (May 26 2018 at 23:15)</a>:</h4>
<p>and we looked at why induction was a theorem in Lean</p>

<a name="127141063"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127141063" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127141063">Nicholas Scheel (May 26 2018 at 23:28)</a>:</h4>
<blockquote>
<p>Well, you could define an embedding of Zalpha into R.</p>
</blockquote>
<p>Thanks <span class="user-mention" data-user-id="112680">@Johan Commelin</span> I think that worked ;) <a href="https://github.com/kbuzzard/lean-squares-in-fibonacci/blob/master/src/Zalpha_real.lean" target="_blank" title="https://github.com/kbuzzard/lean-squares-in-fibonacci/blob/master/src/Zalpha_real.lean">https://github.com/kbuzzard/lean-squares-in-fibonacci/blob/master/src/Zalpha_real.lean</a><br>
again, ugly code, but it typechecks</p>

<a name="127141257"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127141257" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127141257">Nicholas Scheel (May 26 2018 at 23:36)</a>:</h4>
<p>and thanks <span class="user-mention" data-user-id="110044">@Chris Hughes</span> for the alpha squared proof, such a time saver! :D</p>

<a name="127142885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127142885" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127142885">Kenny Lau (May 27 2018 at 00:41)</a>:</h4>
<p>hmm, I wonder if we can shorten it</p>

<a name="127143270"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127143270" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127143270">Kenny Lau (May 27 2018 at 00:58)</a>:</h4>
<p><span class="user-mention" data-user-id="111651">@Nicholas Scheel</span> do you mind if I edit your files?</p>

<a name="127143309"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127143309" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127143309">Nicholas Scheel (May 27 2018 at 00:58)</a>:</h4>
<p>go for it!</p>

<a name="127143311"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127143311" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127143311">Nicholas Scheel (May 27 2018 at 00:58)</a>:</h4>
<p>I think I’m done for now, have to spend time on other things now</p>

<a name="127143313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127143313" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127143313">Nicholas Scheel (May 27 2018 at 00:59)</a>:</h4>
<p>but I’m curious: what is norm_num? I haven’t found much documentation for it</p>

<a name="127143424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127143424" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127143424">Kevin Buzzard (May 27 2018 at 01:03)</a>:</h4>
<p>It proves identities between explicit real numbers</p>

<a name="127143425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127143425" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127143425">Kevin Buzzard (May 27 2018 at 01:03)</a>:</h4>
<p>And inequalities etc</p>

<a name="127143472"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127143472" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127143472">Nicholas Scheel (May 27 2018 at 01:05)</a>:</h4>
<p>cool <span class="emoji emoji-1f642" title="simple smile">:simple_smile:</span></p>

<a name="127143761"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127143761" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127143761">Kenny Lau (May 27 2018 at 01:16)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">theorem</span> <span class="n">α_fib</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">α</span><span class="err">^</span><span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">⟨</span><span class="n">Fib</span> <span class="n">n</span><span class="o">,</span> <span class="n">Fib</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span><span class="bp">⟩</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">induction</span> <span class="n">n</span> <span class="k">with</span> <span class="n">n</span> <span class="n">ih</span><span class="o">,</span> <span class="o">{</span> <span class="n">refl</span> <span class="o">},</span>
  <span class="n">change</span> <span class="n">α</span><span class="bp">*</span><span class="n">α</span><span class="err">^</span><span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">⟨</span><span class="n">Fib</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">),</span> <span class="n">Fib</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">2</span><span class="o">)</span><span class="bp">⟩</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">ih</span><span class="o">,</span> <span class="n">apply</span> <span class="n">ext</span><span class="bp">;</span> <span class="n">simp</span> <span class="o">[</span><span class="bp">-</span><span class="n">add_comm</span><span class="o">],</span>
  <span class="n">exact</span> <span class="n">int</span><span class="bp">.</span><span class="n">coe_nat_inj&#39;</span><span class="bp">.</span><span class="mi">2</span> <span class="n">rfl</span>
<span class="kn">end</span>
</pre></div>

<a name="127143762"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127143762" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127143762">Kenny Lau (May 27 2018 at 01:16)</a>:</h4>
<p>I golfed off a lot of lines from here</p>

<a name="127143810"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127143810" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127143810">Nicholas Scheel (May 27 2018 at 01:18)</a>:</h4>
<p>that’s great <span class="emoji emoji-1f603" title="smiley">:smiley:</span></p>

<a name="127143872"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127143872" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127143872">Kenny Lau (May 27 2018 at 01:20)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">theorem</span> <span class="n">α_fib</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">α</span><span class="err">^</span><span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">⟨</span><span class="n">Fib</span> <span class="n">n</span><span class="o">,</span> <span class="n">Fib</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span><span class="bp">⟩</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">induction</span> <span class="n">n</span> <span class="k">with</span> <span class="n">n</span> <span class="n">ih</span><span class="o">,</span> <span class="o">{</span> <span class="n">refl</span> <span class="o">},</span>
  <span class="n">change</span> <span class="n">α</span><span class="bp">*</span><span class="n">α</span><span class="err">^</span><span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">⟨</span><span class="n">Fib</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">),</span> <span class="n">Fib</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">2</span><span class="o">)</span><span class="bp">⟩</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">ih</span><span class="o">,</span> <span class="n">apply</span> <span class="n">ext</span><span class="bp">;</span> <span class="n">simp</span> <span class="o">[</span><span class="bp">-</span><span class="n">add_comm</span><span class="o">,</span> <span class="n">Fib</span><span class="bp">.</span><span class="n">is_fib</span><span class="o">]</span>
<span class="kn">end</span>
</pre></div>

<a name="127143928"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127143928" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127143928">Nicholas Scheel (May 27 2018 at 01:22)</a>:</h4>
<p>🤯 <code>change</code> sounds amazing, funny that I hadn’t run across it before</p>

<a name="127143935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127143935" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127143935">Kenny Lau (May 27 2018 at 01:23)</a>:</h4>
<p>do you realize that the <code>show</code> in tactic mode is different from the <code>show</code> in term mode</p>

<a name="127143939"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127143939" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127143939">Kenny Lau (May 27 2018 at 01:23)</a>:</h4>
<p>and then <code>change</code> is a generalization of that, that allows you to change the hypotheses as well</p>

<a name="127144089"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127144089" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127144089">Nicholas Scheel (May 27 2018 at 01:29)</a>:</h4>
<p>I haven’t used show in term mode, what’s the difference?</p>

<a name="127144135"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127144135" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127144135">Kenny Lau (May 27 2018 at 01:30)</a>:</h4>
<p>well there's not a huge difference</p>

<a name="127144332"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127144332" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127144332">Reid Barton (May 27 2018 at 01:38)</a>:</h4>
<p>I haven't used <code>show</code> in tactic mode!</p>

<a name="127144344"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127144344" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127144344">Nicholas Scheel (May 27 2018 at 01:39)</a>:</h4>
<p>that moment when computer programs understand analogies better than we expect <span class="emoji emoji-1f609" title="wink">:wink:</span></p>

<a name="127147117"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127147117" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127147117">Kenny Lau (May 27 2018 at 03:27)</a>:</h4>
<p><span class="user-mention" data-user-id="111651">@Nicholas Scheel</span> I hope you don't mind</p>

<a name="127147159"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127147159" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127147159">Kenny Lau (May 27 2018 at 03:28)</a>:</h4>
<p><a href="https://github.com/kbuzzard/lean-squares-in-fibonacci/commit/7ba981070187c25d322b0e8de14021ec7214ddb9#diff-44f4839567c6f9e6617b4e04801b926a" target="_blank" title="https://github.com/kbuzzard/lean-squares-in-fibonacci/commit/7ba981070187c25d322b0e8de14021ec7214ddb9#diff-44f4839567c6f9e6617b4e04801b926a">https://github.com/kbuzzard/lean-squares-in-fibonacci/commit/7ba981070187c25d322b0e8de14021ec7214ddb9#diff-44f4839567c6f9e6617b4e04801b926a</a></p>

<a name="127147257"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127147257" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127147257">Kenny Lau (May 27 2018 at 03:33)</a>:</h4>
<p>TODO: incorporate <a href="https://github.com/leanprover/mathlib/blob/master/number_theory/pell.lean#L421" target="_blank" title="https://github.com/leanprover/mathlib/blob/master/number_theory/pell.lean#L421">this</a></p>

<a name="127147478"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127147478" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127147478">Nicholas Scheel (May 27 2018 at 03:42)</a>:</h4>
<p>not at all, that’s cool! thanks!</p>

<a name="127147926"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127147926" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127147926">Kenny Lau (May 27 2018 at 04:00)</a>:</h4>
<p><a href="https://github.com/kbuzzard/lean-squares-in-fibonacci/commit/9106996916442e8f17239323d5a6cbe3e236efd3#diff-44f4839567c6f9e6617b4e04801b926a" target="_blank" title="https://github.com/kbuzzard/lean-squares-in-fibonacci/commit/9106996916442e8f17239323d5a6cbe3e236efd3#diff-44f4839567c6f9e6617b4e04801b926a">https://github.com/kbuzzard/lean-squares-in-fibonacci/commit/9106996916442e8f17239323d5a6cbe3e236efd3#diff-44f4839567c6f9e6617b4e04801b926a</a></p>

<a name="127147927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127147927" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127147927">Kenny Lau (May 27 2018 at 04:00)</a>:</h4>
<p>done</p>

<a name="127162054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162054" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127162054">Chris Hughes (May 27 2018 at 13:56)</a>:</h4>
<p>I'm working on polys. I've just done the remainder theorem.</p>

<a name="127162168"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162168" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127162168">Kevin Buzzard (May 27 2018 at 14:01)</a>:</h4>
<p>Polys in 1 variable need to go in mathlib so perhaps keep this in mind</p>

<a name="127162208"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162208" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127162208">Kevin Buzzard (May 27 2018 at 14:02)</a>:</h4>
<p>When I write code now, I realise that sometimes it's code for me and sometimes it's stuff I think should be in mathlib</p>

<a name="127162209"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162209" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127162209">Kevin Buzzard (May 27 2018 at 14:02)</a>:</h4>
<p>And I've started separating the two</p>

<a name="127162356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162356" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127162356">Kevin Buzzard (May 27 2018 at 14:09)</a>:</h4>
<p>I think this is an interesting consequence of proving "random" things like 144 being the largest square in the Fibonacci sequence.</p>

<a name="127162399"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162399" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127162399">Kevin Buzzard (May 27 2018 at 14:10)</a>:</h4>
<p>I am pretty sure (am I right <span class="user-mention" data-user-id="110049">@Mario Carneiro</span> ?) that mathlib has no interest in keeping and maintaining a proof of the curiosity that 144 is the largest square in the Fibonacci sequence.</p>

<a name="127162401"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162401" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127162401">Kevin Buzzard (May 27 2018 at 14:10)</a>:</h4>
<p>However</p>

<a name="127162403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162403" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127162403">Kevin Buzzard (May 27 2018 at 14:11)</a>:</h4>
<p>When a mathematician looks at the proof, they expect to have to work in some areas</p>

<a name="127162408"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162408" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127162408">Kevin Buzzard (May 27 2018 at 14:11)</a>:</h4>
<p>but conversely they expect some "standard tools" to be there</p>

<a name="127162413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162413" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127162413">Kevin Buzzard (May 27 2018 at 14:11)</a>:</h4>
<p>and this can be used to guide development of mathlib</p>

<a name="127162414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162414" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127162414">Kevin Buzzard (May 27 2018 at 14:11)</a>:</h4>
<p>For example, at some point someone is going to need quadratic reciprocity</p>

<a name="127162453"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162453" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127162453">Kevin Buzzard (May 27 2018 at 14:12)</a>:</h4>
<p>and we will end up developing some of the tools needed to prove QR in this 144 proof</p>

<a name="127162454"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162454" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127162454">Kevin Buzzard (May 27 2018 at 14:12)</a>:</h4>
<p>and I think there's a strong argument for QR going into mathlib as it's one of the jewels in the crown of mathematics</p>

<a name="127162456"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162456" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127162456">Kevin Buzzard (May 27 2018 at 14:13)</a>:</h4>
<p>[as well as being a special case of Langlands Reciprocity ;-) ]</p>

<a name="127162464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162464" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127162464">Kevin Buzzard (May 27 2018 at 14:13)</a>:</h4>
<p>In the 144 proof we don't need full QR</p>

<a name="127162465"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162465" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127162465">Kevin Buzzard (May 27 2018 at 14:13)</a>:</h4>
<p>but we need Gauss' Lemma and Euler's Criterion</p>

<a name="127162502"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162502" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127162502">Kevin Buzzard (May 27 2018 at 14:14)</a>:</h4>
<p>so we're starting along the road to QR with these.</p>

<a name="127162963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162963" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127162963">Kenny Lau (May 27 2018 at 14:29)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">instance</span> <span class="o">:</span> <span class="n">decidable_linear_ordered_comm_ring</span> <span class="bp">ℤ</span><span class="n">α</span> <span class="o">:=</span>
</pre></div>

<a name="127162964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162964" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127162964">Kenny Lau (May 27 2018 at 14:29)</a>:</h4>
<p><a href="https://github.com/kbuzzard/lean-squares-in-fibonacci/blob/master/src/Zalpha_Zsqrt5.lean#L38" target="_blank" title="https://github.com/kbuzzard/lean-squares-in-fibonacci/blob/master/src/Zalpha_Zsqrt5.lean#L38">https://github.com/kbuzzard/lean-squares-in-fibonacci/blob/master/src/Zalpha_Zsqrt5.lean#L38</a></p>

<a name="127162966"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162966" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127162966">Kenny Lau (May 27 2018 at 14:29)</a>:</h4>
<p><span class="user-mention" data-user-id="111651">@Nicholas Scheel</span> <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> I find embedding into <code>ℤ√5</code> a better idea than embedding into the reals</p>

<a name="127163332"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163332" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127163332">Kevin Buzzard (May 27 2018 at 14:43)</a>:</h4>
<p>Mario's <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mrow><mi mathvariant="double-struck">Z</mi></mrow><mo>[</mo><mi mathvariant="normal">√</mi><mrow><mn>5</mn></mrow><mo>]</mo></mrow><annotation encoding="application/x-tex">\mathbb{Z}[\surd{5}]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.8em;"></span><span class="strut bottom" style="height:1.05em;vertical-align:-0.25em;"></span><span class="base"><span class="mord"><span class="mord mathbb">Z</span></span><span class="mopen">[</span><span class="mord mathrm">√</span><span class="mord"><span class="mord mathrm">5</span></span><span class="mclose">]</span></span></span></span>?</p>

<a name="127163335"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163335" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127163335">Kevin Buzzard (May 27 2018 at 14:43)</a>:</h4>
<p>(why doesn't sqrt work in LaTeX?)</p>

<a name="127163337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163337" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127163337">Kevin Buzzard (May 27 2018 at 14:43)</a>:</h4>
<p>He proved it was an ID?</p>

<a name="127163378"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163378" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127163378">Kenny Lau (May 27 2018 at 14:45)</a>:</h4>
<blockquote>
<p>He proved it was an ID?</p>
</blockquote>
<p>yes</p>

<a name="127163382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163382" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127163382">Kenny Lau (May 27 2018 at 14:45)</a>:</h4>
<p>(althought I didn't use that)</p>

<a name="127163386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163386" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127163386">Kenny Lau (May 27 2018 at 14:45)</a>:</h4>
<p>(I used norm to prove that Zalpha is ID)</p>

<a name="127163387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163387" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127163387">Kevin Buzzard (May 27 2018 at 14:45)</a>:</h4>
<p>So how do you deduce ID from norm? You need that if norm is 0 then term is 0, right?</p>

<a name="127163388"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163388" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127163388">Kenny Lau (May 27 2018 at 14:46)</a>:</h4>
<p>yes</p>

<a name="127163425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163425" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127163425">Kenny Lau (May 27 2018 at 14:46)</a>:</h4>
<p>which is tantamount to proving that sqrt5 is irrational</p>

<a name="127163429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163429" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127163429">Kevin Buzzard (May 27 2018 at 14:46)</a>:</h4>
<p>and so you need to prove irrationality#</p>

<a name="127163430"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163430" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127163430">Kevin Buzzard (May 27 2018 at 14:46)</a>:</h4>
<p>right</p>

<a name="127163431"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163431" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127163431">Kenny Lau (May 27 2018 at 14:46)</a>:</h4>
<p>on hindsight I should have used the embedding</p>

<a name="127163433"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163433" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127163433">Kenny Lau (May 27 2018 at 14:46)</a>:</h4>
<p>but I still want to have the norm</p>

<a name="127163434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163434" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127163434">Kevin Buzzard (May 27 2018 at 14:46)</a>:</h4>
<p>I was suggesting that Mario might have done that already</p>

<a name="127163435"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163435" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127163435">Kenny Lau (May 27 2018 at 14:46)</a>:</h4>
<p>the norm is useful</p>

<a name="127163436"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163436" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127163436">Kevin Buzzard (May 27 2018 at 14:46)</a>:</h4>
<p>Sure</p>

<a name="127163438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163438" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127163438">Kenny Lau (May 27 2018 at 14:46)</a>:</h4>
<p>sure</p>

<a name="127163439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163439" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127163439">Kevin Buzzard (May 27 2018 at 14:46)</a>:</h4>
<p>And your norm commutes with Mario's</p>

<a name="127163445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163445" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127163445">Kevin Buzzard (May 27 2018 at 14:47)</a>:</h4>
<p>so you could have deduced your norm result from Mario's</p>

<a name="127163447"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163447" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127163447">Kevin Buzzard (May 27 2018 at 14:47)</a>:</h4>
<p>and this would have saved you the trouble of proving irrationality of sqrt(5)</p>

<a name="127163448"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163448" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127163448">Kenny Lau (May 27 2018 at 14:47)</a>:</h4>
<p>you see, in my embedding, I multiply the "real value" by 2</p>

<a name="127163449"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163449" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127163449">Kenny Lau (May 27 2018 at 14:47)</a>:</h4>
<p>because alpha is not an element of Z[sqrt5]</p>

<a name="127163450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163450" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127163450">Kenny Lau (May 27 2018 at 14:47)</a>:</h4>
<blockquote>
<p>and this would have saved you the trouble of proving irrationality of sqrt(5)</p>
</blockquote>
<p>I know</p>

<a name="127163488"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163488" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127163488">Kenny Lau (May 27 2018 at 14:48)</a>:</h4>
<p>I'll do it when I finish lunch</p>

<a name="127163491"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163491" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127163491">Kevin Buzzard (May 27 2018 at 14:48)</a>:</h4>
<p>but I guess it's nice to check it every now and then</p>

<a name="127163597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163597" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127163597">Nicholas Scheel (May 27 2018 at 14:53)</a>:</h4>
<p>that’s cool! I’ll have to see how Zsqrt is decidable, I just avoided it because it’s irrational xD</p>

<a name="127163646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163646" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127163646">Nicholas Scheel (May 27 2018 at 14:55)</a>:</h4>
<p>oh duh: <code>def sq_le (a c b d : ℕ) : Prop := c*a*a ≤ d*b*b</code></p>

<a name="127168247"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127168247" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127168247">Kenny Lau (May 27 2018 at 17:35)</a>:</h4>
<p>done</p>

<a name="127168250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127168250" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127168250">Kenny Lau (May 27 2018 at 17:35)</a>:</h4>
<p>now the long proof that 5 is irrational is gone</p>

<a name="127168635"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127168635" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127168635">Kenny Lau (May 27 2018 at 17:50)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">theorem</span> <span class="n">char_eq</span> <span class="o">(</span><span class="n">z</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">z</span> <span class="bp">*</span> <span class="n">z</span> <span class="bp">-</span> <span class="n">z</span> <span class="bp">-</span> <span class="mi">1</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span> <span class="n">z</span> <span class="bp">=</span> <span class="n">α</span> <span class="bp">∨</span> <span class="n">z</span> <span class="bp">=</span> <span class="n">β</span> <span class="o">:=</span>
<span class="k">have</span> <span class="n">H1</span> <span class="o">:</span> <span class="o">(</span><span class="n">z</span> <span class="bp">-</span> <span class="n">α</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">z</span> <span class="bp">-</span> <span class="n">β</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">,</span>
  <span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="err">←</span> <span class="n">H</span><span class="o">,</span> <span class="n">α</span><span class="o">,</span> <span class="n">β</span><span class="o">]</span><span class="bp">;</span> <span class="n">ring</span><span class="o">,</span>
<span class="o">(</span><span class="n">eq_zero_or_eq_zero_of_mul_eq_zero</span> <span class="n">H1</span><span class="o">)</span><span class="bp">.</span><span class="n">cases_on</span>
  <span class="o">(</span><span class="n">or</span><span class="bp">.</span><span class="n">inl</span> <span class="err">∘</span> <span class="n">eq_of_sub_eq_zero</span><span class="o">)</span>
  <span class="o">(</span><span class="n">or</span><span class="bp">.</span><span class="n">inr</span> <span class="err">∘</span> <span class="n">eq_of_sub_eq_zero</span><span class="o">)</span>
</pre></div>

<a name="127168638"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127168638" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127168638">Kenny Lau (May 27 2018 at 17:50)</a>:</h4>
<p>completely pointless theorem</p>

<a name="127168639"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127168639" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127168639">Kenny Lau (May 27 2018 at 17:50)</a>:</h4>
<p>Gal(Zalpha/Z) = C2</p>

<a name="127168646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127168646" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127168646">Mario Carneiro (May 27 2018 at 17:51)</a>:</h4>
<p>I guess <code>z * z - z - 1 = (z - α) * (z - β)</code> is also a way to prove alpha*beta = -1</p>

<a name="127168649"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127168649" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127168649">Kenny Lau (May 27 2018 at 17:51)</a>:</h4>
<p>sure</p>

<a name="127169687"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127169687" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127169687">Kenny Lau (May 27 2018 at 18:24)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">theorem</span> <span class="n">gal</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="n">α</span> <span class="bp">→</span> <span class="bp">ℤ</span><span class="n">α</span><span class="o">)</span> <span class="o">[</span><span class="n">is_ring_hom</span> <span class="n">f</span><span class="o">]</span> <span class="o">:</span> <span class="n">f</span> <span class="bp">=</span> <span class="n">id</span> <span class="bp">∨</span> <span class="n">f</span> <span class="bp">=</span> <span class="n">conj</span> <span class="o">:=</span>
</pre></div>

<a name="127169688"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127169688" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127169688">Kenny Lau (May 27 2018 at 18:24)</a>:</h4>
<p>lol I did it</p>

<a name="127170066"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127170066" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127170066">Kevin Buzzard (May 27 2018 at 18:37)</a>:</h4>
<p>nice!</p>

<a name="127170068"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127170068" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127170068">Kevin Buzzard (May 27 2018 at 18:37)</a>:</h4>
<p>Did you develop any tools for proving polys of degree n have at most n roots?</p>

<a name="127171159"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127171159" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127171159">Kenny Lau (May 27 2018 at 19:12)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">local</span> <span class="kn">notation</span> <span class="bp">`</span><span class="n">α</span><span class="bp">`</span> <span class="o">:=</span> <span class="n">Zalpha</span><span class="bp">.</span><span class="n">units</span><span class="bp">.</span><span class="n">α</span>

<span class="bp">#</span><span class="kn">eval</span> <span class="n">α</span><span class="err">^</span><span class="o">(</span><span class="bp">-</span><span class="mi">3</span><span class="o">:</span><span class="bp">ℤ</span><span class="o">)</span> <span class="c1">-- -3 +   2α</span>
<span class="bp">#</span><span class="kn">eval</span> <span class="n">α</span><span class="err">^</span><span class="o">(</span><span class="bp">-</span><span class="mi">2</span><span class="o">:</span><span class="bp">ℤ</span><span class="o">)</span> <span class="c1">--  2 +  -1α</span>
<span class="bp">#</span><span class="kn">eval</span> <span class="n">α</span><span class="err">^</span><span class="o">(</span><span class="bp">-</span><span class="mi">1</span><span class="o">:</span><span class="bp">ℤ</span><span class="o">)</span> <span class="c1">-- -1 +   1α</span>
<span class="bp">#</span><span class="kn">eval</span> <span class="n">α</span><span class="err">^</span><span class="o">(</span> <span class="mi">0</span><span class="o">:</span><span class="bp">ℤ</span><span class="o">)</span> <span class="c1">--  1 +   0α</span>
<span class="bp">#</span><span class="kn">eval</span> <span class="n">α</span><span class="err">^</span><span class="o">(</span> <span class="mi">1</span><span class="o">:</span><span class="bp">ℤ</span><span class="o">)</span> <span class="c1">--  0 +   1α</span>
<span class="bp">#</span><span class="kn">eval</span> <span class="n">α</span><span class="err">^</span><span class="o">(</span> <span class="mi">2</span><span class="o">:</span><span class="bp">ℤ</span><span class="o">)</span> <span class="c1">--  1 +   1α</span>
<span class="bp">#</span><span class="kn">eval</span> <span class="n">α</span><span class="err">^</span><span class="o">(</span> <span class="mi">3</span><span class="o">:</span><span class="bp">ℤ</span><span class="o">)</span> <span class="c1">--  1 +   2α</span>
<span class="bp">#</span><span class="kn">eval</span> <span class="n">α</span><span class="err">^</span><span class="o">(</span><span class="mi">12</span><span class="o">:</span><span class="bp">ℤ</span><span class="o">)</span> <span class="c1">-- 89 + 144α</span>
</pre></div>

<a name="127171160"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127171160" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127171160">Kenny Lau (May 27 2018 at 19:12)</a>:</h4>
<p>look at what I did</p>

<a name="127171161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127171161" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127171161">Kenny Lau (May 27 2018 at 19:12)</a>:</h4>
<blockquote>
<p>Did you develop any tools for proving polys of degree n have at most n roots?</p>
</blockquote>
<p>I thought Chris is doing that</p>

<a name="127173701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127173701" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127173701">Kenny Lau (May 27 2018 at 20:55)</a>:</h4>
<p>Theorem (reverse mathematics): you need to use induction to prove that L(n) = F(n) + F(n-3).<br>
Proof: <a href="http://www.wolframalpha.com/input/?i=%28%28%CE%B1%5Ex%2B%CE%B2%5Ex%29-%28%28%CE%B1%5Ex-%CE%B2%5Ex%29%2B%28%CE%B1%5E%28x-3%29-%CE%B2%5E%28x-3%29%29%29%2Fsqrt%285%29%29+where+%CE%B1%3D%281%2Bsqrt%285%29%29%2F2%2C%CE%B2%3D%281-sqrt%285%29%29%2F2" target="_blank" title="http://www.wolframalpha.com/input/?i=%28%28%CE%B1%5Ex%2B%CE%B2%5Ex%29-%28%28%CE%B1%5Ex-%CE%B2%5Ex%29%2B%28%CE%B1%5E%28x-3%29-%CE%B2%5E%28x-3%29%29%29%2Fsqrt%285%29%29+where+%CE%B1%3D%281%2Bsqrt%285%29%29%2F2%2C%CE%B2%3D%281-sqrt%285%29%29%2F2">link</a>.</p>

<a name="127173791"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127173791" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127173791">Kenny Lau (May 27 2018 at 20:58)</a>:</h4>
<p>and if you define L(n) := F(n) + F(n-3), you would have to use induction to prove other things later</p>

<a name="127174670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127174670" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127174670">Mario Carneiro (May 27 2018 at 21:36)</a>:</h4>
<p>how are those defined?</p>

<a name="127174808"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127174808" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127174808">Mario Carneiro (May 27 2018 at 21:41)</a>:</h4>
<p>From that plot it looks like it's not even true</p>

<a name="127174857"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127174857" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127174857">Mario Carneiro (May 27 2018 at 21:43)</a>:</h4>
<p>L(3) = 4, F(3)+F(0) = 2</p>

<a name="127176377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127176377" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127176377">Kenny Lau (May 27 2018 at 22:44)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> I'm an idiot. L(n) = 2F(n) + F(n-3).</p>

<a name="127176378"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127176378" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127176378">Kenny Lau (May 27 2018 at 22:44)</a>:</h4>
<p>what am i doing</p>

<a name="127176388"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127176388" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127176388">Kenny Lau (May 27 2018 at 22:45)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> <span class="user-mention" data-user-id="111651">@Nicholas Scheel</span> should we actually call it Zphi instead of Zalpha?</p>

<a name="127176389"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127176389" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127176389">Kenny Lau (May 27 2018 at 22:45)</a>:</h4>
<p>Wikipedia calls its little brother psi</p>

<a name="127177700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127177700" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127177700">Mario Carneiro (May 27 2018 at 23:36)</a>:</h4>
<p>that one is true for the continuous extension too</p>

<a name="127177702"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127177702" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127177702">Mario Carneiro (May 27 2018 at 23:36)</a>:</h4>
<p>I call the little brother phi bar</p>

<a name="127177703"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127177703" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127177703">Mario Carneiro (May 27 2018 at 23:36)</a>:</h4>
<p>because it's the conjugate of phi</p>

<a name="127178931"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127178931" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127178931">Nicholas Scheel (May 28 2018 at 00:24)</a>:</h4>
<p>they’re alpha equivalent so I don’t care ;) feel free to rename it</p>

<a name="127178994"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127178994" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127178994">Kenny Lau (May 28 2018 at 00:27)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> what do you think?</p>

<a name="127182144"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127182144" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127182144">Kenny Lau (May 28 2018 at 02:28)</a>:</h4>
<p>patchily converted everything to Zalpha</p>

<a name="127186344"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127186344" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127186344">Kevin Buzzard (May 28 2018 at 05:12)</a>:</h4>
<p>I don't care about names</p>

<a name="127186347"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127186347" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127186347">Kevin Buzzard (May 28 2018 at 05:12)</a>:</h4>
<p>I call things lemma 3.1</p>

<a name="127186351"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127186351" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81043LargestSquareintheFibonacciSequence.html#127186351">Kevin Buzzard (May 28 2018 at 05:13)</a>:</h4>
<p>What do I know about names</p>


{% endraw %}
