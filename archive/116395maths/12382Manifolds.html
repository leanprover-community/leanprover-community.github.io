---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/116395maths/12382Manifolds.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html">Manifolds</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="165394519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165394519" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165394519">Hoang Le Truong (May 11 2019 at 05:41)</a>:</h4>
<p>I have the definition of manifold over a normed field in Lean. You can see it in the following link<br>
<a href="https://github.com/truonghoangle/manifolds" target="_blank" title="https://github.com/truonghoangle/manifolds">https://github.com/truonghoangle/manifolds</a><br>
If you do not mind, please can you give me advice about it, special name of function or section and approach way to the definition of tangent bundle.</p>

<a name="165394777"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165394777" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165394777">Johan Commelin (May 11 2019 at 05:47)</a>:</h4>
<p>Are you aware of the fact that <span class="user-mention" data-user-id="110050">@Sebastien Gouezel</span> is also working on manifolds? Did you coordinate with him?</p>

<a name="165395019"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165395019" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165395019">Hoang Le Truong (May 11 2019 at 05:54)</a>:</h4>
<p>When I began with manifold, I did not known <span class="user-mention" data-user-id="110050">@Sebastien Gouezel</span>  is also working on manifolds. Now I will contact him.</p>

<a name="165395088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165395088" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165395088">Johan Commelin (May 11 2019 at 05:56)</a>:</h4>
<p>Here is one discussion: <a href="#narrow/stream/116395-maths/topic/Multiple.20differentiability" title="#narrow/stream/116395-maths/topic/Multiple.20differentiability">https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Multiple.20differentiability</a></p>

<a name="165395103"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165395103" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165395103">Johan Commelin (May 11 2019 at 05:57)</a>:</h4>
<p>Here is another one that might be relevant: <a href="#narrow/stream/113488-general/topic/out_param" title="#narrow/stream/113488-general/topic/out_param">https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/out_param</a></p>

<a name="165395192"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165395192" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165395192">Johan Commelin (May 11 2019 at 06:00)</a>:</h4>
<p><span class="user-mention" data-user-id="116065">@Hoang Le Truong</span> Here is another attempt by Patrick: <a href="https://github.com/PatrickMassot/lean-differential-topology" target="_blank" title="https://github.com/PatrickMassot/lean-differential-topology">https://github.com/PatrickMassot/lean-differential-topology</a></p>

<a name="165395262"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165395262" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165395262">Hoang Le Truong (May 11 2019 at 06:00)</a>:</h4>
<p>Thank <span class="user-mention" data-user-id="112680">@Johan Commelin</span> for your information</p>

<a name="165398498"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165398498" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165398498">Sebastien Gouezel (May 11 2019 at 07:33)</a>:</h4>
<p>The current state of thingsI have done on manifolds is in <a href="https://github.com/sgouezel/mathlib/blob/manifold4/src/geometry/manifolds/basic.lean" target="_blank" title="https://github.com/sgouezel/mathlib/blob/manifold4/src/geometry/manifolds/basic.lean">https://github.com/sgouezel/mathlib/blob/manifold4/src/geometry/manifolds/basic.lean</a>. I am going for a more general approach, that would also encompass manifolds with boundaries, or manifolds with corners, or Thurston's (G,X) structures, but essentially the basic definitions are the same as yours, i.e., an atlas such that the changes of charts belong to some class of maps (called a groupoid, as in the fundamental textbook of Kobayashi and Nomizu). What I have done so far:</p>
<ul>
<li>extended the material on derivatives, to get access to a convenient API (PRed in <a href="https://github.com/leanprover-community/mathlib/issues/966" target="_blank" title="https://github.com/leanprover-community/mathlib/issues/966">#966</a>)</li>
<li>defined local equivalences, just like you do except I use genuine functions instead of pfuns, to avoid defining yet another notion of derivatives (and I don't care what the functions do outside of their domains and codomains), and defined a basic interface for them (in <a href="https://github.com/sgouezel/mathlib/blob/manifold4/src/geometry/manifolds/local_equiv.lean" target="_blank" title="https://github.com/sgouezel/mathlib/blob/manifold4/src/geometry/manifolds/local_equiv.lean">https://github.com/sgouezel/mathlib/blob/manifold4/src/geometry/manifolds/local_equiv.lean</a>). The fact that this is a good choice has been questioned by several people on Zulip, who encouraged me to use pfuns as you do, but for now it seems to go rather smoothly -- I need to develop the library further to see what the advantages and drawbacks are.</li>
<li>defined C^n functions, and proved basic properties (invariance under addition, composition, and so on), in <a href="https://github.com/sgouezel/mathlib/blob/manifold4/src/geometry/manifolds/times_cont_diff.lean" target="_blank" title="https://github.com/sgouezel/mathlib/blob/manifold4/src/geometry/manifolds/times_cont_diff.lean">https://github.com/sgouezel/mathlib/blob/manifold4/src/geometry/manifolds/times_cont_diff.lean</a></li>
<li>defined general manifolds based on groupoids. As well as diffeomorphisms (for the groupoid structure), and proved that the inverse or the composition of two diffeomorphisms is a diffeomorphism (this is not so obvious) in <a href="https://github.com/sgouezel/mathlib/blob/manifold4/src/geometry/manifolds/basic.lean" target="_blank" title="https://github.com/sgouezel/mathlib/blob/manifold4/src/geometry/manifolds/basic.lean">https://github.com/sgouezel/mathlib/blob/manifold4/src/geometry/manifolds/basic.lean</a>. Specialized to smooth manifolds, for which I am now defining the tangent space.</li>
</ul>
<p>My goal would be to go up to the Whitney embedding theorem (any smooth real manifold embeds in R^N for large enough N), which is a non-trivial theorem, to stress-test the definitions and the interface.</p>

<a name="165398847"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165398847" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165398847">Sebastien Gouezel (May 11 2019 at 07:44)</a>:</h4>
<p>One important point in library-building, I think, is that writing down definitions is not enough: you need to prove theorems, to see how definitions work out well or not, and what interface you need for the proofs. For instance, the first statement I settled to prove is that the composition of diffeomorphisms is a diffeomorphism. This showed me that I needed to implement a serious interface to local equivs, that now takes over 800 lines. And now defining the tangent space shows me gaps in this interface, that I will have to fill.</p>

<a name="165399819"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165399819" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165399819">Hoang Le Truong (May 11 2019 at 08:11)</a>:</h4>
<p>My goal would be to go up to the Hodge theorem. I also think that the definition is right through the proof of the theorems. For instance about tangent bundle, we have three ways to give the definition.  Moreover, for complex manifold, we have three tangent bundle.  I am struggling between approachable approach on complex, real number and general ways.</p>

<a name="165400014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165400014" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165400014">Johan Commelin (May 11 2019 at 08:17)</a>:</h4>
<p>Do you want to state the Hodge theorem or also prove it?</p>

<a name="165400015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165400015" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165400015">Johan Commelin (May 11 2019 at 08:17)</a>:</h4>
<p>Either of them would be fantastic!</p>

<a name="165400502"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165400502" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165400502">Sebastien Gouezel (May 11 2019 at 08:30)</a>:</h4>
<p>I am going for a general way (over any field), as follows: let <code>charts x</code> be the set of all charts around <code>x</code>. If <code>e</code> and <code>e'</code> are such charts, they yield a linear map from <code>E</code> to <code>E</code>, the derivative of <code>e' o e^{-1}</code>. Take the quotient of <code>(charts x) × E</code> under these identifications, this gives the tangent space. Hopefully, this should be easily generalizable to define exterior or symmetric products of the tangent bundle, opening the way to Riemannian metrics and to differential forms. But before doing the general case, I will stick to tangent spaces for now.</p>

<a name="165400611"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165400611" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165400611">Sebastien Gouezel (May 11 2019 at 08:32)</a>:</h4>
<p>Another definition would be to choose one chart around each point, and only use this one to define the tangent space. This avoid taking a quotient, but it is less canonical. I will have to do it at some point, though, because I will want the derivative of a map to be a bounded linear map between tangent spaces, and for this I need a normed space structure on the tangent space, for which there is no canonical choice.</p>

<a name="165400701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165400701" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165400701">Patrick Massot (May 11 2019 at 08:33)</a>:</h4>
<p>I think there will be painful points in any case, the only question is whether the API will be able to hide them</p>

<a name="165401048"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165401048" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165401048">Sebastien Gouezel (May 11 2019 at 08:40)</a>:</h4>
<p>Yes, it is definitely going to be nontrivial.</p>

<a name="165403659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165403659" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165403659">Hoang Le Truong (May 11 2019 at 09:47)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span>  I want to prove it but first step is to give the statement of the Hodge theorem</p>

<a name="165404064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165404064" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165404064">Hoang Le Truong (May 11 2019 at 09:56)</a>:</h4>
<p><span class="user-mention" data-user-id="110050">@Sebastien Gouezel</span> are you think how definition of tangent space via derivations is good</p>

<a name="165404136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165404136" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165404136">Hoang Le Truong (May 11 2019 at 09:59)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> can you explain detaily about whether the API will be able to hide them</p>

<a name="165404286"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165404286" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165404286">Sebastien Gouezel (May 11 2019 at 10:03)</a>:</h4>
<p>Definition of tangent space via derivations is very nice, but as far as I remember proofs that it behaves well require localizing functions around the point, and while this works well over R this creates problems over C where you don't have partitions of unity. And this construction is really specific to tangent spaces, while the stupid approach using equivalence classes of vectors should be generalizable to other vector bundles.</p>

<a name="165404699"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165404699" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165404699">Kevin Buzzard (May 11 2019 at 10:15)</a>:</h4>
<blockquote>
<p>One important point in library-building, I think, is that writing down definitions is not enough: you need to prove theorems, to see how definitions work out well or not, and what interface you need for the proofs.</p>
</blockquote>
<p>Tom Hales' project does not need proofs, so for this project one <em>might</em> find that writing down definitions is in many cases enough. If the goal is just to formalise statements of theorems then this might provide far fewer demands on the definition-builder.</p>

<a name="165405061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165405061" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165405061">Hoang Le Truong (May 11 2019 at 10:26)</a>:</h4>
<p>With complex maifold we have real tangent bundle, complexified tangent bundle and holomorphic tangent bundle. In fact, we begin with real tangent bundle. So I don't understand what the problems over C is.</p>

<a name="165407103"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165407103" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165407103">Sebastien Gouezel (May 11 2019 at 11:22)</a>:</h4>
<p>You don't need to separate the real case and the complex case: there is a definition which works for both at the same time. So, to minimize work, it is probably better to use this one.</p>

<a name="165883850"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165883850" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165883850">Hoang Le Truong (May 17 2019 at 09:02)</a>:</h4>
<p><span class="user-mention" data-user-id="110050">@Sebastien Gouezel</span> I read carefully the definition of very general manifold. It is very nice. I have question:What is the definition of submanifold? Is the definition of submanifold dependent on model space?</p>

<a name="166246445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166246445" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166246445">Neil Strickland (May 22 2019 at 08:17)</a>:</h4>
<p>Can you comment on why your <code>local_equiv α  β</code> actually involves maps defined on all of <code>α</code> and  <code>β</code>, rather than just the indicated subsets?   This seems to be asking for trouble later.  Among other things, it means that an empty type cannot have a local equivalence with a nonempty one, which is a problem if <code>α</code> and  <code>β</code> arise naturally as subtypes of something else.  Can you not use maps <code>α → roption β</code> and <code>β → roption α</code> or something like that?  That way, the <code>eq_on_source</code> thing would become unnecessary.</p>

<a name="166259295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166259295" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166259295">Sebastien Gouezel (May 22 2019 at 11:35)</a>:</h4>
<p>There are pros and cons to both approaches, i.e. (1): functions defined everywhere, but you don't care about the values outside of the source, and (2): roption, i.e., really kill the values outside of source.</p>
<p>In (1), if functions are equal on the source but different outside, then they are not equal, while you want to think of them as the same function. That's the role of <code>eq_on_source</code>, which is definitely an annoyance.</p>
<p>In (2), your function does not take values in the right space, and this calls for trouble. For instance, if you want to define the derivative of a function <code>f : M -&gt; M' </code> where <code>M</code> and <code>M'</code> are manifolds, what you do is write <code>f</code> in charts, i.e., consider <code>e' o f o e^{-1}</code> where <code>e</code> and <code>e'</code> are charts around <code>x</code>and <code>f x</code>, and then you differentiate. With the roption approach, what you get is a function from <code>E</code> to <code>roption E'</code>, so you can not define the derivative as the limit of <code>(f(x+hv)-f(x))/h</code> when <code>h</code>tends to <code>0</code> (or an equivalent definition using small o) as it does not make sense to subtract elements of <code>roption E'</code>, or to divide them by a scalar. So, you would need to extend many algebraic definitions to <code>roption</code>, or to restrict your function to some suitable set and play some nontrivial dance there. </p>
<p>I have the feeling that (2) will create many more concrete problems than (1). Most of the time, we don't care at all about equality of charts, we just use one given chart and that's it. While having to reproject your function back to <code>E</code>to do some algebraic manipulation happens all the time. That's why I went for (1). But you are not the first person to voice concerns about this choice.</p>

<a name="166260363"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166260363" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166260363">Mario Carneiro (May 22 2019 at 11:53)</a>:</h4>
<p>You can define the derivative when the function is defined on an open set around the target point</p>

<a name="166260436"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166260436" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166260436">Mario Carneiro (May 22 2019 at 11:54)</a>:</h4>
<p>the little o definition with a filter for roption functions actually makes this pretty painless</p>

<a name="166260450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166260450" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166260450">Mario Carneiro (May 22 2019 at 11:54)</a>:</h4>
<p>Jeremy and I worked it out a while ago</p>

<a name="166260990"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166260990" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166260990">Sebastien Gouezel (May 22 2019 at 12:04)</a>:</h4>
<p>You can definitely work it out. The same for continuity: there is already an API for continuity of partial functions, crafted by Jeremy. Except that it is some amount of work. Then when you want to talk about C^k functions, or analytic functions, or Besov functions, or whatever, and even if you have already done it for functions you will need to spend some time to define again the same notions for partial functions (with a well developed API if you want these notions to be usable). This is completely avoided by the approach (1), at the expense of the mild annoyance that equality between charts (which is essentially never used) is not the right notion.</p>

<a name="166261014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166261014" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166261014">Mario Carneiro (May 22 2019 at 12:04)</a>:</h4>
<p>You don't want to lift every algebraic operation to roption exactly; you use the monad structure for that</p>

<a name="166261063"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166261063" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166261063">Mario Carneiro (May 22 2019 at 12:05)</a>:</h4>
<p>I'm not sure it's true to say it's completely avoided; instead you have to build an API for <code>eq_on_bla</code> and <code>local_equiv</code> and such. It's moving the work elsewhere</p>

<a name="166261246"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166261246" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166261246">Sebastien Gouezel (May 22 2019 at 12:08)</a>:</h4>
<p>I think in any case you will need to build an API for <code>local_equiv</code>. Even with partial functions, you will need to bundle two partial functions which are inverse to each other on their respective domains, and see how they compose and so on.</p>

<a name="166261374"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166261374" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166261374">Mario Carneiro (May 22 2019 at 12:10)</a>:</h4>
<p>no, that's equiv of subtypes</p>

<a name="166261712"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166261712" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166261712">Sebastien Gouezel (May 22 2019 at 12:16)</a>:</h4>
<p>Not really, because you want to be able to compose them even when when the target of the first one is not the source of the second one, by automatically taking the intersection of the domains. Composition of roption-valued functions does that automatically, but composition of equivs of subtypes does not.</p>

<a name="166261828"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166261828" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166261828">Mario Carneiro (May 22 2019 at 12:18)</a>:</h4>
<p>that's true. I guess you need to forget about the domains in the types in your case</p>

<a name="166261884"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166261884" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166261884">Mario Carneiro (May 22 2019 at 12:19)</a>:</h4>
<p>still I like the fact that using subtypes gives you topology for free... can roption do the same?</p>

<a name="166262151"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166262151" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166262151">Hoang Le Truong (May 22 2019 at 12:24)</a>:</h4>
<p>2) With the roption approach, I change a function <code>E → roption E</code> to function <code> E → E</code> by <br>
<code>def ext_by_zero(f : β →. α) (z:β) : α := 
if  h:z ∈  f.dom    then f.fn z h else 0</code><br>
When we only work on <code>x ∈ f.dom</code></p>

<a name="166262200"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166262200" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166262200">Hoang Le Truong (May 22 2019 at 12:25)</a>:</h4>
<p>Fisrt I work only with complex field and   definition of <code>manifold ℂ β</code> <code>local_equiv α  β</code> also work only funtions <code>α → β</code>.  But we can change ℂ to any field <code>k</code>.  When we work on field <code>𝔽₁</code> then empty function joint theory as absorbing element.  Therefore I choose <code>local_equiv α  β</code> include empty function</p>

<a name="166262206"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166262206" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166262206">Mario Carneiro (May 22 2019 at 12:25)</a>:</h4>
<p>I think the natural topology on roption A is the one-point compactification</p>

<a name="166262394"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166262394" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166262394">Mario Carneiro (May 22 2019 at 12:28)</a>:</h4>
<p><span class="user-mention" data-user-id="110294">@Johannes Hölzl</span> Do you know a way to do the topology of <code>roption A</code> with filters?</p>

<a name="166270560"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166270560" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166270560">Sebastien Gouezel (May 22 2019 at 14:07)</a>:</h4>
<p>I am still puzzled by my question that started this thread: how come a <code>simp</code>invocation can create a ghost duplication of some objects, that disappears if one adds a <code>rw</code> just before, in <a href="https://github.com/sgouezel/mathlib/blob/f6d6492e7a8b892b4a22fb010fb12d1a4695d38a/src/geometry/manifolds/mderiv.lean#L604" target="_blank" title="https://github.com/sgouezel/mathlib/blob/f6d6492e7a8b892b4a22fb010fb12d1a4695d38a/src/geometry/manifolds/mderiv.lean#L604">https://github.com/sgouezel/mathlib/blob/f6d6492e7a8b892b4a22fb010fb12d1a4695d38a/src/geometry/manifolds/mderiv.lean#L604</a>. Any hint on what is going on would be welcome.</p>

<a name="166369091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166369091" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166369091">Reid Barton (May 23 2019 at 15:02)</a>:</h4>
<p>I wonder whether it would be useful to introduce germs of functions here (a "germ of a function f : X -&gt; Y at x : X" is a neighborhood N of x together with a function N -&gt; Y, modulo the relation that two germs agree if they have a common restriction to a smaller neighborhood). Notions like continuity, derivatives and all higher-order information is local--meaning it only depends on the germ.</p>

<a name="166369956"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166369956" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166369956">Reid Barton (May 23 2019 at 15:11)</a>:</h4>
<p>I guess it's better to only allow continuous functions, so that you can compose germs.</p>

<a name="166370260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166370260" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166370260">Neil Strickland (May 23 2019 at 15:14)</a>:</h4>
<p>I think that it would be best if the foundations of manifolds used sheaves explicitly.  If you don't do it explicitly then I think you end up duplicating a lot of the ideas anyway.  Many of the most popular manifolds are algebraic varieties, and you make the interface with algebraic geometry much smoother if you use similar foundations.  In that context, germs become very natural.</p>

<a name="166370988"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166370988" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166370988">Johan Commelin (May 23 2019 at 15:22)</a>:</h4>
<p>This has been discussed, but Patrick and Sebastien both said that this is not a good strategy for the general theory of manifolds. I trust their judgment.</p>

<a name="166378545"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166378545" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166378545">Kevin Buzzard (May 23 2019 at 16:48)</a>:</h4>
<p>Maybe for them, many of the most popular manifolds are not algebraic varieties.</p>

<a name="166386742"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166386742" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166386742">Sebastien Gouezel (May 23 2019 at 18:28)</a>:</h4>
<p>For me, elliptic curves are surfaces, and they are all the same :)</p>

<a name="166386752"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166386752" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166386752">Kevin Buzzard (May 23 2019 at 18:28)</a>:</h4>
<p>yeah that's not a good sign</p>

<a name="166386778"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166386778" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166386778">Kevin Buzzard (May 23 2019 at 18:28)</a>:</h4>
<p>I spent many years studying their moduli spaces!</p>

<a name="166386798"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166386798" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166386798">Kevin Buzzard (May 23 2019 at 18:29)</a>:</h4>
<p>For you it's the one point set.</p>

<a name="166387124"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166387124" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166387124">Johan Commelin (May 23 2019 at 18:32)</a>:</h4>
<p><span class="user-mention" data-user-id="110050">@Sebastien Gouezel</span> Aren't you interested in varying an almost complex structure on that unique elliptic curve?</p>

<a name="166387241"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166387241" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166387241">Sebastien Gouezel (May 23 2019 at 18:33)</a>:</h4>
<p>Of course I am joking. Teichmüller space is one of my favorite playgrounds.</p>

<a name="166388579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166388579" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166388579">Sebastien Gouezel (May 23 2019 at 18:49)</a>:</h4>
<blockquote>
<p>I wonder whether it would be useful to introduce germs of functions here (a "germ of a function f : X -&gt; Y at x : X" is a neighborhood N of x together with a function N -&gt; Y, modulo the relation that two germs agree if they have a common restriction to a smaller neighborhood). Notions like continuity, derivatives and all higher-order information is local--meaning it only depends on the germ.</p>
</blockquote>
<p>I considered this, or at least introducting predicates <code>locally_equal_at</code> and <code>locally_equal_witin_at</code>. Finally, I decided that it does not help much to simplify it, so I haven't introduced the definition, but I am still using it implicitely at some places, see for instance <a href="https://github.com/sgouezel/mathlib/blob/6d693c310ab036171dabadcf8924e5bc15ec8054/src/geometry/manifolds/mderiv.lean#L552" target="_blank" title="https://github.com/sgouezel/mathlib/blob/6d693c310ab036171dabadcf8924e5bc15ec8054/src/geometry/manifolds/mderiv.lean#L552">https://github.com/sgouezel/mathlib/blob/6d693c310ab036171dabadcf8924e5bc15ec8054/src/geometry/manifolds/mderiv.lean#L552</a></p>

<a name="166392547"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166392547" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166392547">Patrick Massot (May 23 2019 at 19:37)</a>:</h4>
<blockquote>
<p>I think that it would be best if the foundations of manifolds used sheaves explicitly.  If you don't do it explicitly then I think you end up duplicating a lot of the ideas anyway.  Many of the most popular manifolds are algebraic varieties, and you make the interface with algebraic geometry much smoother if you use similar foundations.  In that context, germs become very natural.</p>
</blockquote>
<p>We should have a FAQ dedicated only to this question. This is an old algebraic geometry people fantasy relying on no mathematical content as far as we've seen. Pretending to define smooth manifold as ringed spaces only adds definitions without buying anything, and then the idea stops completely as soon as you want extra structure on your manifold.</p>

<a name="166395885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166395885" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166395885">Neil Strickland (May 23 2019 at 20:17)</a>:</h4>
<p>What extra structure do you have in mind?  You can certainly do vector bundles, tangent bundles, metrics, symplectic structures, connections, curvature, exterior derivatives, almost complex structures very naturally from the ringed space viewpoint.</p>

<a name="166399795"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166399795" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166399795">Sebastien Gouezel (May 23 2019 at 21:02)</a>:</h4>
<p>Triangulations. Flows. Much of Riemannian geometry (for instance geodesic flow or Jacobi fields). Connected sums. Knots and surgery. Open book structure in contact manifolds. Thurston's <code>(G,X)</code> structures. PDEs. Perelman's geometrization theorem (yes, we're aiming high :). And many other things that a true differential geometer would know much better than me (I am more into dynamical systems and probability theory).</p>
<p>Understand me well: I am not saying that none of this can be formalized in terms of ringed spaces. However, when doing anything about these concepts I think it would only come in the way and make things more complicated to state and prove.</p>

<a name="166404433"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166404433" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166404433">Scott Morrison (May 23 2019 at 22:04)</a>:</h4>
<p>There's also the pragmatic point that there are no written sources for anything on Sebastien's list written using the "locally ringed space foundations".</p>

<a name="166404585"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166404585" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166404585">Reid Barton (May 23 2019 at 22:07)</a>:</h4>
<p>I mean, ideally one's foundations should become irrelevant at some stage of the development, though I don't know whether this is going to be the case for everything on Sebastien's list.</p>

<a name="166404798"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166404798" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166404798">Reid Barton (May 23 2019 at 22:11)</a>:</h4>
<p>Well, I guess the main point is that eventually one will want to have the description in terms of atlases regardless of whether it is chosen as the definition or not.</p>

<a name="166425990"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166425990" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166425990">Kevin Buzzard (May 24 2019 at 06:10)</a>:</h4>
<p>This post is beginning to read like my Langlands brain dump from earlier this week. Can we get it into an issue somehow? That would rely on fleshing some of the ideas out</p>

<a name="166427681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166427681" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166427681">Patrick Massot (May 24 2019 at 06:46)</a>:</h4>
<blockquote>
<p>What extra structure do you have in mind?  You can certainly do vector bundles, tangent bundles, metrics, symplectic structures, connections, curvature, exterior derivatives, almost complex structures very naturally from the ringed space viewpoint.</p>
</blockquote>
<p>Do you mean: you can define manifolds as ringed space then derive existence of atlases and do everything naturally from there? If not then could you elaborate? Let's go for simpler stuff. What is your ringed definition of manifolds with boundary for instance?</p>

<a name="166428018"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166428018" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166428018">Johan Commelin (May 24 2019 at 06:55)</a>:</h4>
<p>I've never used manifolds with boundary, so I don't know exactly how functions on them are supposed to behave. But I'll take a stab:<br>
A manifold with boundary of dimension <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base"><span class="mord mathit">n</span></span></span></span> is a locally ringed space <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>X</mi><mo separator="true">,</mo><mrow><mi mathvariant="script">O</mi></mrow><mo>)</mo></mrow><annotation encoding="application/x-tex">(X, \mathcal{O})</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base"><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">O</span></span><span class="mclose">)</span></span></span></span>, such that: there exists an open set <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>U</mi></mrow><annotation encoding="application/x-tex">U</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.10903em;">U</span></span></span></span> with the properties</p>
<ul>
<li>for every point <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo>∈</mo><mi>U</mi></mrow><annotation encoding="application/x-tex">x \in U</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="base"><span class="mord mathit">x</span><span class="mrel">∈</span><span class="mord mathit" style="margin-right:0.10903em;">U</span></span></span></span> there is an open neighbourhood <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>U</mi><mi>x</mi></msub></mrow><annotation encoding="application/x-tex">U_x</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="base"><span class="mord"><span class="mord mathit" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"></span></span></span></span></span></span></span></span> such that the induced LRS <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><msub><mi>U</mi><mi>x</mi></msub><mo separator="true">,</mo><mrow><mi mathvariant="script">O</mi></mrow><msub><mi mathvariant="normal">∣</mi><msub><mi>U</mi><mi>x</mi></msub></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">(U_x, \mathcal{O}|_{U_x})</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1.0001em;vertical-align:-0.2501em;"></span><span class="base"><span class="mopen">(</span><span class="mord"><span class="mord mathit" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"></span></span></span></span></span><span class="mpunct">,</span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">O</span></span><span class="mord"><span class="mord mathrm">∣</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathit mtight" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.10903em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathit mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"></span></span></span></span></span><span class="mclose">)</span></span></span></span> is isomorphic (as LRS) to the standard open <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base"><span class="mord mathit">n</span></span></span></span>-ball with the sheaf of <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>C</mi><mi>k</mi></msup></mrow><annotation encoding="application/x-tex">C^k</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.849108em;"></span><span class="strut bottom" style="height:0.849108em;vertical-align:0em;"></span><span class="base"><span class="mord"><span class="mord mathit" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span></span></span></span> functions on it;</li>
<li>for every point <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo>∉</mo><mi>U</mi></mrow><annotation encoding="application/x-tex">x \notin U</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base"><span class="mord mathit">x</span><span class="mrel">∉</span><span class="mord mathit" style="margin-right:0.10903em;">U</span></span></span></span>, there is an open neighbourhood <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>U</mi><mi>x</mi></msub></mrow><annotation encoding="application/x-tex">U_x</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="base"><span class="mord"><span class="mord mathit" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"></span></span></span></span></span></span></span></span> such that the induced LRS <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><msub><mi>U</mi><mi>x</mi></msub><mo separator="true">,</mo><mrow><mi mathvariant="script">O</mi></mrow><msub><mi mathvariant="normal">∣</mi><msub><mi>U</mi><mi>x</mi></msub></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">(U_x, \mathcal{O}|_{U_x})</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1.0001em;vertical-align:-0.2501em;"></span><span class="base"><span class="mopen">(</span><span class="mord"><span class="mord mathit" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"></span></span></span></span></span><span class="mpunct">,</span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">O</span></span><span class="mord"><span class="mord mathrm">∣</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathit mtight" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.10903em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathit mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"></span></span></span></span></span><span class="mclose">)</span></span></span></span> is isomorphic (as LRS) to the standard half <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base"><span class="mord mathit">n</span></span></span></span>-ball with the sheaf of <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>C</mi><mi>k</mi></msup></mrow><annotation encoding="application/x-tex">C^k</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.849108em;"></span><span class="strut bottom" style="height:0.849108em;vertical-align:0em;"></span><span class="base"><span class="mord"><span class="mord mathit" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span></span></span></span> functions on it.</li>
</ul>

<a name="166428142"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166428142" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166428142">Patrick Massot (May 24 2019 at 06:58)</a>:</h4>
<p>And what is the boundary then?</p>

<a name="166428163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166428163" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166428163">Johan Commelin (May 24 2019 at 06:59)</a>:</h4>
<p>The interior consists of all points that have an open neighbourhood isomorphic to the standard open <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base"><span class="mord mathit">n</span></span></span></span>-ball. The boundary is the complement of the interior.</p>

<a name="166428175"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166428175" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166428175">Johan Commelin (May 24 2019 at 06:59)</a>:</h4>
<p>Or do you mean that you want the boundary as LRS?</p>

<a name="166428282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166428282" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166428282">Johan Commelin (May 24 2019 at 07:01)</a>:</h4>
<p>I guess you can take the induced reduced LRS structure on the closed subset.</p>

<a name="166428399"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166428399" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166428399">Patrick Massot (May 24 2019 at 07:03)</a>:</h4>
<p>I mean how do you recognize the interior using only the sheaf?</p>

<a name="166428453"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166428453" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166428453">Johan Commelin (May 24 2019 at 07:04)</a>:</h4>
<p>What I just said: it's the subspace of points that have a neighbourhood isomorphic to the standard open <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base"><span class="mord mathit">n</span></span></span></span>-ball.</p>

<a name="166428481"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166428481" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166428481">Patrick Massot (May 24 2019 at 07:05)</a>:</h4>
<p>Hint: a function <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.10764em;">f</span></span></span></span> on the half <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base"><span class="mord mathit">n</span></span></span></span>-ball is <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>C</mi><mi>k</mi></msup></mrow><annotation encoding="application/x-tex">C^k</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.849108em;"></span><span class="strut bottom" style="height:0.849108em;vertical-align:0em;"></span><span class="base"><span class="mord"><span class="mord mathit" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span></span></span></span> at <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base"><span class="mord mathit">x</span></span></span></span> is there is an open neighborhood <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>U</mi></mrow><annotation encoding="application/x-tex">U</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.10903em;">U</span></span></span></span> of <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base"><span class="mord mathit">x</span></span></span></span> in <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi mathvariant="double-struck">R</mi><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">\mathbb{R}^n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68889em;"></span><span class="strut bottom" style="height:0.68889em;vertical-align:0em;"></span><span class="base"><span class="mord"><span class="mord"><span class="mord mathbb">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">n</span></span></span></span></span></span></span></span></span></span></span> and a function from <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>U</mi></mrow><annotation encoding="application/x-tex">U</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.10903em;">U</span></span></span></span> to <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mrow><mi mathvariant="double-struck">R</mi></mrow></mrow><annotation encoding="application/x-tex">\mathbb{R}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68889em;"></span><span class="strut bottom" style="height:0.68889em;vertical-align:0em;"></span><span class="base"><span class="mord"><span class="mord mathbb">R</span></span></span></span></span> which restricts to <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.10764em;">f</span></span></span></span></p>

<a name="166428537"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166428537" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166428537">Patrick Massot (May 24 2019 at 07:06)</a>:</h4>
<p>What you define is everything</p>

<a name="166428546"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166428546" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166428546">Patrick Massot (May 24 2019 at 07:06)</a>:</h4>
<p>I think</p>

<a name="166428586"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166428586" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166428586">Patrick Massot (May 24 2019 at 07:07)</a>:</h4>
<p>Hmm, maybe you're saved by topology</p>

<a name="166428598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166428598" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166428598">Johan Commelin (May 24 2019 at 07:07)</a>:</h4>
<blockquote>
<p>Hmm, maybe you're saved by topology</p>
</blockquote>
<p>Yup, that was my guess.</p>

<a name="166428601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166428601" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166428601">Patrick Massot (May 24 2019 at 07:08)</a>:</h4>
<p>The sheaf is useless but the half ball is not homeomorphic to a full ball</p>

<a name="166428655"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166428655" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166428655">Patrick Massot (May 24 2019 at 07:08)</a>:</h4>
<p>That won't save you for manifolds with corners</p>

<a name="166428660"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166428660" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166428660">Johan Commelin (May 24 2019 at 07:08)</a>:</h4>
<p>What is a manifold with corners?</p>

<a name="166428666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166428666" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166428666">Patrick Massot (May 24 2019 at 07:08)</a>:</h4>
<p>Locally modeled on a product of lines and closed half lines</p>

<a name="166428680"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166428680" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166428680">Patrick Massot (May 24 2019 at 07:09)</a>:</h4>
<p>Eg. <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>[</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><msup><mo>]</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">[0, 1]^2</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.8141079999999999em;"></span><span class="strut bottom" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="base"><span class="mopen">[</span><span class="mord mathrm">0</span><span class="mpunct">,</span><span class="mord mathrm">1</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">2</span></span></span></span></span></span></span></span></span></span></span></p>

<a name="166428691"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166428691" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166428691">Johan Commelin (May 24 2019 at 07:09)</a>:</h4>
<blockquote>
<p>Locally modeled on a product of lines and closed half lines</p>
</blockquote>
<p>This sounds suspiciously close to a LRS definition.</p>

<a name="166428740"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166428740" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166428740">Patrick Massot (May 24 2019 at 07:10)</a>:</h4>
<p>The corners are topologically impossible to distinguish from the codimension 1 strata of the boundary, and functions won't help you</p>

<a name="166428752"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166428752" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166428752">Patrick Massot (May 24 2019 at 07:10)</a>:</h4>
<p>This sounds suspiciously close to an atlas deifnition</p>

<a name="166428753"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166428753" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166428753">Neil Strickland (May 24 2019 at 07:10)</a>:</h4>
<p>I mean that:<br>
1. Points of an open set <code>U</code> biject with homomorphisms <code>C^∞(U,ℝ) → ℝ</code> of <code>ℝ</code>-algebras<br>
2. Vector  bundles are the same as locally free modules over the structure sheaf.  Fibres can be recovered by tensoring with characters as in 1.<br>
3. Vector fields are <code>ℝ</code>-linear derivations, and individual tangent vectors are derivations with respect to a character as in 1.<br>
4. The module of one-form fields is dual to the module of vector fields.  The full de Rham complex is the exterior algebra of the one-form fields over the structure sheaf.<br>
5. Connections on a vector bundle are actions of the Lie algebra of vector fields on the module of sections<br>
And so on.</p>
<p>You can make all these definitions in a fairly straightforward and uniform way for any <code>ℝ</code>-algebra, and thus for sheaves of <code>ℝ</code>-algebras.  You can prove properties for the sheaf of smooth functions on <code>ℝⁿ</code>, and deduce that they also hold for any ringed space that is locally isomorphic to that, which is the definition of a manifold.</p>

<a name="166428783"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166428783" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166428783">Johan Commelin (May 24 2019 at 07:11)</a>:</h4>
<blockquote>
<p>The corners are topologically impossible to distinguish from the codimension 1 strata of the boundary, and functions won't help you</p>
</blockquote>
<p>So we define it as a stratified LRS...</p>

<a name="166428851"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166428851" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166428851">Johan Commelin (May 24 2019 at 07:13)</a>:</h4>
<p>It seems to me that the atlas definition also needs extra data. The strata are part of the data, right?</p>

<a name="166428855"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166428855" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166428855">Patrick Massot (May 24 2019 at 07:13)</a>:</h4>
<p>No they are not</p>

<a name="166428858"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166428858" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166428858">Johan Commelin (May 24 2019 at 07:13)</a>:</h4>
<p>Hmm, ok</p>

<a name="166428876"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166428876" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166428876">Patrick Massot (May 24 2019 at 07:13)</a>:</h4>
<p>A diffeomorphism won't send a half plane to a quarter of plane</p>

<a name="166428995"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166428995" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166428995">Patrick Massot (May 24 2019 at 07:15)</a>:</h4>
<p>And of course none of this will bring you <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>G</mi><mo separator="true">,</mo><mi>X</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">(G, X)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base"><span class="mopen">(</span><span class="mord mathit">G</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span></span>-structures (for instance manifolds equipped with an atlas whose coordinate changes are in a given subgroup of <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi><mi>L</mi><mo>(</mo><mi>n</mi><mo separator="true">,</mo><mrow><mi mathvariant="double-struck">R</mi></mrow><mo>)</mo></mrow><annotation encoding="application/x-tex">GL(n, \mathbb{R})</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base"><span class="mord mathit">G</span><span class="mord mathit">L</span><span class="mopen">(</span><span class="mord mathit">n</span><span class="mpunct">,</span><span class="mord"><span class="mord mathbb">R</span></span><span class="mclose">)</span></span></span></span>)</p>

<a name="166429092"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166429092" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166429092">Patrick Massot (May 24 2019 at 07:17)</a>:</h4>
<p>Neil, I'm sure you know this is all a joke. How can you hope to prove anything without reducing to the usual definitions? For instance, how to you equip <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi><mi>M</mi></mrow><annotation encoding="application/x-tex">TM</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.13889em;">T</span><span class="mord mathit" style="margin-right:0.10903em;">M</span></span></span></span> with a manifold structure and prove <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi><mi>M</mi><mo>→</mo><mi>M</mi></mrow><annotation encoding="application/x-tex">TM \to M</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.13889em;">T</span><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mrel">→</span><span class="mord mathit" style="margin-right:0.10903em;">M</span></span></span></span> is a submersion?</p>

<a name="166429163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166429163" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166429163">Patrick Massot (May 24 2019 at 07:19)</a>:</h4>
<p>Anyway, I should go and mark exams instead of feeding trolls</p>

<a name="166429686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/166429686" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#166429686">Neil Strickland (May 24 2019 at 07:28)</a>:</h4>
<p>You certainly need to reduce things to properties of smooth functions on <code>ℝⁿ</code>.  The only question is how to organise reduction to local properties.  Standard books on differential geometry typically do not do this in a very thorough way that would be suitable for formalisation.  If you try to fill in the details, you will end up recreating a lot of sheaf-theoretic stuff.  In my opinion, it would be more efficient to build a decent library of sheaf theory, which will be needed for other reasons anyway, and use that explicitly.</p>


{% endraw %}
