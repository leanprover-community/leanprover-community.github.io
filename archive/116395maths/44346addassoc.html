---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/116395maths/44346addassoc.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/44346addassoc.html">‚Üêadd_assoc</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="166011379"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%E2%86%90add_assoc/near/166011379" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/44346addassoc.html#166011379">Kevin Buzzard (May 19 2019 at 07:39)</a>:</h4>
<p>The rule in general for equality lemmas in Lean seems to be "more complicated thing on the left, less complicated thing on the right". So how come <code>add_assoc : a + b + c = a + (b + c)</code>? The right hand side is more brackety than the left.</p>

<a name="166011629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%E2%86%90add_assoc/near/166011629" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/44346addassoc.html#166011629">Mario Carneiro (May 19 2019 at 07:46)</a>:</h4>
<p>that's a reflection of the defined associativity in the parser, not the complexity of the expression. Both sides have the same complexity</p>

<a name="166011634"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%E2%86%90add_assoc/near/166011634" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/44346addassoc.html#166011634">Kevin Buzzard (May 19 2019 at 07:46)</a>:</h4>
<p>Aah, if I think of things in terms of trees then I don't see the brackets.</p>

<a name="166011637"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%E2%86%90add_assoc/near/166011637" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/44346addassoc.html#166011637">Kevin Buzzard (May 19 2019 at 07:46)</a>:</h4>
<p>So is this a bug in the parser? ;-)</p>

<a name="166011762"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%E2%86%90add_assoc/near/166011762" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/44346addassoc.html#166011762">Keeley Hoek (May 19 2019 at 07:50)</a>:</h4>
<p>Lean 3.5.0c ;)</p>

<a name="166011772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%E2%86%90add_assoc/near/166011772" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/44346addassoc.html#166011772">Kevin Buzzard (May 19 2019 at 07:51)</a>:</h4>
<p>Yeah maybe they could knock up some way of being able to switch between parsers so we could choose our associativities to suit.</p>

<a name="166012153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%E2%86%90add_assoc/near/166012153" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/44346addassoc.html#166012153">Mario Carneiro (May 19 2019 at 08:03)</a>:</h4>
<p>it's because <code>+</code> is defined as <code>infix `+`:65 := has_add.add</code> instead of <code>infixr `+`:65 := has_add.add</code></p>

<a name="166012258"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%E2%86%90add_assoc/near/166012258" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/44346addassoc.html#166012258">Kevin Buzzard (May 19 2019 at 08:04)</a>:</h4>
<p>This I understand. What I am confused about is why the "general rule" is not applied in this setting.</p>


{% endraw %}

{% include archive_update.html %}