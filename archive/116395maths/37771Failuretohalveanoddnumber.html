---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/116395maths/37771Failuretohalveanoddnumber.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/37771Failuretohalveanoddnumber.html">Failure to halve an odd number</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="188975871"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Failure%20to%20halve%20an%20odd%20number/near/188975871" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/37771Failuretohalveanoddnumber.html#188975871">Nicholas McConnell (Feb 24 2020 at 23:04)</a>:</h4>
<p>In Leanprover, what's the best way to show that ¬∃(x:ℤ),(2*x=1) ?  For the sake of proving no number can be both odd and even.</p>

<a name="188976458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Failure%20to%20halve%20an%20odd%20number/near/188976458" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/37771Failuretohalveanoddnumber.html#188976458">Kevin Buzzard (Feb 24 2020 at 23:13)</a>:</h4>
<p>There are lots of ways to do this.</p>

<a name="188976563"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Failure%20to%20halve%20an%20odd%20number/near/188976563" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/37771Failuretohalveanoddnumber.html#188976563">Kevin Buzzard (Feb 24 2020 at 23:14)</a>:</h4>
<p>Probably the easiest way is to learn how to use mathlib's library which deals with division and remainder</p>

<a name="188976582"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Failure%20to%20halve%20an%20odd%20number/near/188976582" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/37771Failuretohalveanoddnumber.html#188976582">Kevin Buzzard (Feb 24 2020 at 23:14)</a>:</h4>
<p>If they're equal then they'll have equal remainder when you divide by two</p>

<a name="188976616"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Failure%20to%20halve%20an%20odd%20number/near/188976616" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/37771Failuretohalveanoddnumber.html#188976616">Kevin Buzzard (Feb 24 2020 at 23:15)</a>:</h4>
<p>But a lemma in the library tells you that 2x has remainder 0 and another one shows 1 has remainder 1</p>

<a name="188976684"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Failure%20to%20halve%20an%20odd%20number/near/188976684" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/37771Failuretohalveanoddnumber.html#188976684">Kevin Buzzard (Feb 24 2020 at 23:15)</a>:</h4>
<p>You might want to browse through something like data.int.modeq but I need to sort out the fact that all the lights just went off in my house</p>

<a name="188987476"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Failure%20to%20halve%20an%20odd%20number/near/188987476" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/37771Failuretohalveanoddnumber.html#188987476">Yufan Lou (Feb 25 2020 at 02:59)</a>:</h4>
<p>omg a black out? are you okay?</p>

<a name="188996294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Failure%20to%20halve%20an%20odd%20number/near/188996294" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/37771Failuretohalveanoddnumber.html#188996294">Kevin Buzzard (Feb 25 2020 at 07:10)</a>:</h4>
<p>They're back on now, just a random glitch</p>

<a name="189066340"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Failure%20to%20halve%20an%20odd%20number/near/189066340" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/37771Failuretohalveanoddnumber.html#189066340">Kevin Buzzard (Feb 25 2020 at 22:06)</a>:</h4>
<p>OK so as I was saying, this is not so hard if you use results in the library. In fact probably <code>data.int.basic</code> has everything you need. Assume such an x exists; then <code>2 * x = 1</code> and we want to prove a contradiction. But we can now use <code>calc</code> to prove that <code>1 = 1 % 2 = (2 * x) % 2 = 0</code> and that's the contradiction we seek. The reason <code>1 % 2 = 1</code> is <code>mod_eq_of_lt</code>, and the reason <code>(2 * x) % 2 = 0</code> is <code>mul_mod_right</code>.</p>

<a name="189086883"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Failure%20to%20halve%20an%20odd%20number/near/189086883" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/37771Failuretohalveanoddnumber.html#189086883">Nicholas McConnell (Feb 26 2020 at 05:15)</a>:</h4>
<p>I tried various things, like</p>
<p>have h : (2*x) % 2 = 0 := mul_mod_right,<br>
have h : (2*x) % 2 = 0 := data.int.basic.mul_mod_right,</p>
<p>and so on.  But none of them worked</p>

<a name="189090588"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Failure%20to%20halve%20an%20odd%20number/near/189090588" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/37771Failuretohalveanoddnumber.html#189090588">Kevin Buzzard (Feb 26 2020 at 07:06)</a>:</h4>
<p>You need to <code>import data.int.basic</code> and then type <code>#check mul_mod_right</code> without hitting enter and then press ctrl-space to search</p>

<a name="189090750"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Failure%20to%20halve%20an%20odd%20number/near/189090750" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/37771Failuretohalveanoddnumber.html#189090750">Kevin Buzzard (Feb 26 2020 at 07:10)</a>:</h4>
<p>and then you find that there is <code>int.mul_mod_right</code> and <code>nat.mul_mod_right</code>. This is a really powerful way to search the library (especially when you get to the point where you can start guessing the names of lemmas).</p>

<a name="189090770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Failure%20to%20halve%20an%20odd%20number/near/189090770" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/37771Failuretohalveanoddnumber.html#189090770">Kevin Buzzard (Feb 26 2020 at 07:11)</a>:</h4>
<p>Now your <code>x</code> is an integer so you want <code>int.mul_mod_right</code> so change <code>#check mul_mod_right</code> to <code>#check int.mul_mod_right</code> and you can see that this function wants explicit integers <code>a</code> and <code>b</code> as input, and then returns a proof that <code>(a * b) % a = 0</code>.</p>

<a name="189090824"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Failure%20to%20halve%20an%20odd%20number/near/189090824" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/37771Failuretohalveanoddnumber.html#189090824">Kevin Buzzard (Feb 26 2020 at 07:12)</a>:</h4>
<p>and we conclude that <code>example (x : ℤ) : (2 * x) % 2 = 0 := int.mul_mod_right 2 x</code> should work</p>

<a name="189090906"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Failure%20to%20halve%20an%20odd%20number/near/189090906" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/37771Failuretohalveanoddnumber.html#189090906">Kevin Buzzard (Feb 26 2020 at 07:14)</a>:</h4>
<p>and <code>example (x : ℤ) : (2 * x) % 2 = 0 := int.mul_mod_right _ _</code> works too (making the elaborator do the work of guessing the inputs to the function) as does <code>example (x : ℤ) : (2 * x) % 2 = 0 := by rw int.mul_mod_right</code> (making the <code>rw</code> tactic do the work)</p>

<a name="189118246"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Failure%20to%20halve%20an%20odd%20number/near/189118246" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/37771Failuretohalveanoddnumber.html#189118246">Nicholas McConnell (Feb 26 2020 at 14:26)</a>:</h4>
<p>Thanks Kevin.  Now I am learning more about Lean :</p>

<a name="189128757"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Failure%20to%20halve%20an%20odd%20number/near/189128757" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/37771Failuretohalveanoddnumber.html#189128757">Kevin Buzzard (Feb 26 2020 at 16:10)</a>:</h4>
<p>Did you get the ctrl-space thing to work? It's a really useful trick. I use it all the time. After a while you can start guessing what things are called -- you know you want <code>(a * b) % a = 0</code> and immediately you guess the lemma is going to have <code>mul_mod</code> in its name, and already <code>#check mul_mod</code> and ctrl-space is giving you a list of things including the answer. <span class="user-mention" data-user-id="112680">@Johan Commelin</span> knows another way of doing this involving Ctrl-P but I can never remember it.</p>

<a name="189128838"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Failure%20to%20halve%20an%20odd%20number/near/189128838" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/37771Failuretohalveanoddnumber.html#189128838">Kevin Buzzard (Feb 26 2020 at 16:11)</a>:</h4>
<p>Ctrl-P and then <code># mul_mod</code> in the box at the top But this seems to produce far more output.</p>

<a name="189613965"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Failure%20to%20halve%20an%20odd%20number/near/189613965" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/37771Failuretohalveanoddnumber.html#189613965">Matt E (Mar 03 2020 at 17:18)</a>:</h4>
<p>how does one perform the search trick in emacs?</p>

<a name="189614219"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Failure%20to%20halve%20an%20odd%20number/near/189614219" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/37771Failuretohalveanoddnumber.html#189614219">Bryan Gin-ge Chen (Mar 03 2020 at 17:21)</a>:</h4>
<p>Maybe C-c C-d?</p>

<a name="189614346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Failure%20to%20halve%20an%20odd%20number/near/189614346" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/37771Failuretohalveanoddnumber.html#189614346">Reid Barton (Mar 03 2020 at 17:22)</a>:</h4>
<p><code>M-.</code> I think</p>

<a name="189614376"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Failure%20to%20halve%20an%20odd%20number/near/189614376" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/37771Failuretohalveanoddnumber.html#189614376">Reid Barton (Mar 03 2020 at 17:23)</a>:</h4>
<p>(assuming Kevin is talking about what I think, and assuming I haven't customized the keybinding somehow)</p>

<a name="189614522"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Failure%20to%20halve%20an%20odd%20number/near/189614522" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/37771Failuretohalveanoddnumber.html#189614522">Matt E (Mar 03 2020 at 17:24)</a>:</h4>
<p><code>M-.</code> is <code>lean-find-definition</code> for me, which doesn't work just on <code>mul_mod_right</code> (it needs a fully qualified identifier). <code>C-c C-d</code> is undefined</p>

<a name="189614663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Failure%20to%20halve%20an%20odd%20number/near/189614663" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/37771Failuretohalveanoddnumber.html#189614663">Bryan Gin-ge Chen (Mar 03 2020 at 17:26)</a>:</h4>
<p>For <code>C-c C-d</code> I was going off of this file, which seems to send a <code>search</code> command to the Lean server (this is what <code>C-p #</code> does in VS Code): <a href="https://github.com/leanprover/lean-mode/blob/master/helm-lean.el#L40" target="_blank" title="https://github.com/leanprover/lean-mode/blob/master/helm-lean.el#L40">https://github.com/leanprover/lean-mode/blob/master/helm-lean.el#L40</a> . But I don't actually use emacs, so I don't know.</p>

<a name="189614731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Failure%20to%20halve%20an%20odd%20number/near/189614731" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/37771Failuretohalveanoddnumber.html#189614731">Reid Barton (Mar 03 2020 at 17:27)</a>:</h4>
<p>Sorry, I should have said <code>M-n</code>--these are all in physical memory for me. I have this:</p>
<div class="codehilite"><pre><span></span>(global-set-key (kbd &quot;M-n&quot;) #&#39;company-complete)
</pre></div>

<a name="189614776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Failure%20to%20halve%20an%20odd%20number/near/189614776" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/37771Failuretohalveanoddnumber.html#189614776">Reid Barton (Mar 03 2020 at 17:27)</a>:</h4>
<p>I also have something about <code>company-lean</code></p>

<a name="189614903"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Failure%20to%20halve%20an%20odd%20number/near/189614903" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/37771Failuretohalveanoddnumber.html#189614903">Reid Barton (Mar 03 2020 at 17:28)</a>:</h4>
<p>I think you need to <code>M-x package-install</code> that</p>

<a name="189614919"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Failure%20to%20halve%20an%20odd%20number/near/189614919" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/37771Failuretohalveanoddnumber.html#189614919">Reid Barton (Mar 03 2020 at 17:28)</a>:</h4>
<p>This is all written down somewhere obvious</p>

<a name="189615322"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Failure%20to%20halve%20an%20odd%20number/near/189615322" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/37771Failuretohalveanoddnumber.html#189615322">Matt E (Mar 03 2020 at 17:33)</a>:</h4>
<p>thanks both</p>

<a name="189615767"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Failure%20to%20halve%20an%20odd%20number/near/189615767" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/37771Failuretohalveanoddnumber.html#189615767">Matt E (Mar 03 2020 at 17:38)</a>:</h4>
<p>helm-lean works nicely</p>


{% endraw %}

{% include archive_update.html %}