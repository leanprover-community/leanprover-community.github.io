---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/116395maths/46074Interfaceforalgebras.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/46074Interfaceforalgebras.html">Interface for algebras</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="183741031"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Interface%20for%20algebras/near/183741031" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/46074Interfaceforalgebras.html#183741031">Chris Hughes (Dec 18 2019 at 11:18)</a>:</h4>
<p>I'm trying to finish off algebraic closure.</p>
<p>The interface for algebras is really difficult to use as soon as there are a lot of fields involved. <br>
Right now I have fields <code>K</code>, <code>L</code> and <code>M</code>, such that <code>algebra K L</code>, <code>algebra L M</code> and <code>algebra K M</code>, and the ring homs all commute, but not by definition.</p>
<p>If want to turn an L-algebra hom from <code>M</code> into a K-algebra hom. Normally I would use <code>alg_hom.comap</code> to do this, but that would require the canonical homs to commute by definition, which they do not. </p>
<p>I feel like maybe algebra should not be a class, and we should just use explicit homs.</p>

<a name="183742041"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Interface%20for%20algebras/near/183742041" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/46074Interfaceforalgebras.html#183742041">Patrick Massot (Dec 18 2019 at 11:33)</a>:</h4>
<p>Maybe related question: can anyone prove</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">ring_theory</span><span class="bp">.</span><span class="n">algebra_operations</span>

<span class="kn">example</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">:</span> <span class="o">(</span><span class="n">algebra</span><span class="bp">.</span><span class="n">to_module</span> <span class="o">:</span> <span class="n">module</span> <span class="bp">â„¤</span> <span class="n">R</span><span class="o">)</span> <span class="bp">=</span> <span class="n">add_comm_group</span><span class="bp">.</span><span class="n">module</span> <span class="o">:=</span> <span class="n">sorry</span>
</pre></div>

<a name="183742253"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Interface%20for%20algebras/near/183742253" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/46074Interfaceforalgebras.html#183742253">Chris Hughes (Dec 18 2019 at 11:36)</a>:</h4>
<p>The solution to that is to redefine the Z-algebra instance so that they're defeq.</p>

<a name="183743730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Interface%20for%20algebras/near/183743730" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/46074Interfaceforalgebras.html#183743730">Patrick Massot (Dec 18 2019 at 12:01)</a>:</h4>
<p>I have no idea how to do that. I know very little about that part of the library.</p>

<a name="183744532"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Interface%20for%20algebras/near/183744532" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/46074Interfaceforalgebras.html#183744532">Chris Hughes (Dec 18 2019 at 12:15)</a>:</h4>
<blockquote>
<p>I have no idea how to do that. I know very little about that part of the library.</p>
</blockquote>
<p><a href="https://github.com/leanprover-community/mathlib/issues/1812" target="_blank" title="https://github.com/leanprover-community/mathlib/issues/1812">#1812</a></p>

<a name="183744978"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Interface%20for%20algebras/near/183744978" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/46074Interfaceforalgebras.html#183744978">Johan Commelin (Dec 18 2019 at 12:21)</a>:</h4>
<blockquote>
<p>I'm trying to finish off algebraic closure.</p>
<p>The interface for algebras is really difficult to use as soon as there are a lot of fields involved. <br>
Right now I have fields <code>K</code>, <code>L</code> and <code>M</code>, such that <code>algebra K L</code>, <code>algebra L M</code> and <code>algebra K M</code>, and the ring homs all commute, but not by definition.</p>
<p>If want to turn an L-algebra hom from <code>M</code> into a K-algebra hom. Normally I would use <code>alg_hom.comap</code> to do this, but that would require the canonical homs to commute by definition, which they do not. </p>
<p>I feel like maybe algebra should not be a class, and we should just use explicit homs.</p>
</blockquote>
<p>This has been a major pain point and major concern for me as well. I have no idea what the library would look like if we use explicit homs. But I fear it won't look like maths as I know it. Otoh, most lean code doesn't look like that anyway...</p>

<a name="183747296"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Interface%20for%20algebras/near/183747296" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/46074Interfaceforalgebras.html#183747296">Johan Commelin (Dec 18 2019 at 12:57)</a>:</h4>
<blockquote>
<blockquote>
<p>I have no idea how to do that. I know very little about that part of the library.</p>
</blockquote>
<p><a href="https://github.com/leanprover-community/mathlib/issues/1812" target="_blank" title="https://github.com/leanprover-community/mathlib/issues/1812">#1812</a></p>
</blockquote>
<p>Thanks, it's on the queue.</p>

<a name="183747309"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Interface%20for%20algebras/near/183747309" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/46074Interfaceforalgebras.html#183747309">Johan Commelin (Dec 18 2019 at 12:57)</a>:</h4>
<p>And merged <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span> [Thank you Travis, thank you Mergify]</p>


{% endraw %}

{% include archive_update.html %}