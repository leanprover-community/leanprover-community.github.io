---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/116395maths/36395nonterminalsimpincomplexlean.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/36395nonterminalsimpincomplexlean.html">non-terminal simp in complex.lean</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="166539332"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/non-terminal%20simp%20in%20complex.lean/near/166539332" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/36395nonterminalsimpincomplexlean.html#166539332">Kevin Buzzard (May 25 2019 at 18:54)</a>:</h4>
<p>The proof that the complex numbers form a ring here</p>
<p><a href="https://github.com/leanprover-community/mathlib/blob/c6a7f300ea43cfc0478e3ee81a141d5288d90df6/src/data/complex/basic.lean#L190" target="_blank" title="https://github.com/leanprover-community/mathlib/blob/c6a7f300ea43cfc0478e3ee81a141d5288d90df6/src/data/complex/basic.lean#L190">https://github.com/leanprover-community/mathlib/blob/c6a7f300ea43cfc0478e3ee81a141d5288d90df6/src/data/complex/basic.lean#L190</a></p>
<p>goes "to check all the axioms, it suffices to show the real and imaginary parts are equal, which we do by <code>ring</code>; however to get the real and imaginary parts into a form where <code>ring</code> will work, we use a non-terminating <code>simp</code>".</p>
<p>I was trying to write <code>complex.lean</code> without looking at <code>complex.lean</code> and I independently decided that the <code>simp, ring</code> idea would be a pretty painless way to do it. But is it bad style? Obviously one could write <code>suffices : blah, by simpa</code> ten or more times, but that would look really inelegant.</p>

<a name="166539426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/non-terminal%20simp%20in%20complex.lean/near/166539426" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/36395nonterminalsimpincomplexlean.html#166539426">Johan Commelin (May 25 2019 at 18:57)</a>:</h4>
<p>What does <code>squeeze_simp</code> say?</p>

<a name="166539585"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/non-terminal%20simp%20in%20complex.lean/near/166539585" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/36395nonterminalsimpincomplexlean.html#166539585">Reid Barton (May 25 2019 at 19:01)</a>:</h4>
<p>Personally I think stuff like <code>simp, refl</code> or <code>simp, ring</code> or <code>simp, cc</code> is fine. It could break, but if it does it will probably be obvious how to repair it.</p>

<a name="166540192"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/non-terminal%20simp%20in%20complex.lean/near/166540192" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/36395nonterminalsimpincomplexlean.html#166540192">Rob Lewis (May 25 2019 at 19:19)</a>:</h4>
<p>The slogan is "avoid nonterminal <code>simp</code>," but the intention is to avoid following a <code>simp</code> call with a tactic that's sensitive to the exact shape of the goal. Minor changes to the simp set are less likely to break <code>ring</code> than <code>rw</code>, <code>apply</code>, etc.</p>


{% endraw %}
