---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/116395maths/03937cardinalsandordinals.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/03937cardinalsandordinals.html">cardinals and ordinals</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="132580778"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinals%20and%20ordinals/near/132580778" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03937cardinalsandordinals.html#132580778">Kenny Lau (Aug 22 2018 at 14:21)</a>:</h4>
<p>In lean they are not sets? i.e. <code>set_theory/zfc.lean</code> and <code>set_theory/cardinal.lean</code> are independent?</p>

<a name="132583263"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinals%20and%20ordinals/near/132583263" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03937cardinalsandordinals.html#132583263">Kenny Lau (Aug 22 2018 at 14:59)</a>:</h4>
<p>so I've written my embedding:</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">set_theory</span><span class="bp">.</span><span class="n">zfc</span> <span class="n">set_theory</span><span class="bp">.</span><span class="n">ordinal</span>

<span class="kn">universe</span> <span class="n">u</span>

<span class="n">noncomputable</span> <span class="n">def</span> <span class="n">ordinal</span><span class="bp">.</span><span class="n">to_Set</span> <span class="o">(</span><span class="n">o</span> <span class="o">:</span> <span class="n">ordinal</span><span class="bp">.</span><span class="o">{</span><span class="n">u</span><span class="o">})</span> <span class="o">:</span> <span class="n">Set</span><span class="bp">.</span><span class="o">{</span><span class="n">u</span><span class="bp">+</span><span class="mi">1</span><span class="o">}</span> <span class="o">:=</span>
<span class="n">quotient</span><span class="bp">.</span><span class="n">mk</span> <span class="err">$</span> <span class="n">ordinal</span><span class="bp">.</span><span class="n">limit_rec_on</span> <span class="n">o</span> <span class="err">∅</span> <span class="o">(</span><span class="bp">λ</span> <span class="bp">_</span> <span class="n">s</span><span class="o">,</span> <span class="n">insert</span> <span class="n">s</span> <span class="n">s</span><span class="o">)</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">L</span> <span class="bp">_</span> <span class="n">ih</span><span class="o">,</span>
<span class="n">pSet</span><span class="bp">.</span><span class="n">Union</span> <span class="err">$</span> <span class="n">pSet</span><span class="bp">.</span><span class="n">mk</span> <span class="o">{</span> <span class="n">o</span> <span class="bp">//</span> <span class="n">o</span> <span class="bp">&lt;</span> <span class="n">L</span> <span class="o">}</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">o&#39;</span><span class="o">,</span> <span class="n">ih</span> <span class="n">o&#39;</span><span class="bp">.</span><span class="mi">1</span> <span class="n">o&#39;</span><span class="bp">.</span><span class="mi">2</span>
</pre></div>

<a name="132583279"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinals%20and%20ordinals/near/132583279" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03937cardinalsandordinals.html#132583279">Kenny Lau (Aug 22 2018 at 14:59)</a>:</h4>
<p>and I wonder if I can do it in <code>pSet.{u}</code></p>

<a name="132599529"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinals%20and%20ordinals/near/132599529" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03937cardinalsandordinals.html#132599529">Kenny Lau (Aug 22 2018 at 20:15)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">set_theory</span><span class="bp">.</span><span class="n">zfc</span> <span class="n">set_theory</span><span class="bp">.</span><span class="n">ordinal</span>

<span class="kn">universe</span> <span class="n">u</span>

<span class="n">attribute</span> <span class="o">[</span><span class="n">elab_as_eliminator</span><span class="o">]</span> <span class="n">well_founded</span><span class="bp">.</span><span class="n">induction</span>

<span class="n">def</span> <span class="n">Well_order</span><span class="bp">.</span><span class="n">to_pSet</span> <span class="o">(</span><span class="n">w</span> <span class="o">:</span> <span class="n">Well_order</span><span class="bp">.</span><span class="o">{</span><span class="n">u</span><span class="o">})</span> <span class="o">:</span> <span class="n">pSet</span><span class="bp">.</span><span class="o">{</span><span class="n">u</span><span class="o">}</span> <span class="o">:=</span>
<span class="n">pSet</span><span class="bp">.</span><span class="n">mk</span> <span class="n">w</span><span class="bp">.</span><span class="mi">1</span> <span class="err">$</span> <span class="n">well_founded</span><span class="bp">.</span><span class="n">fix</span> <span class="o">(</span><span class="bp">@</span><span class="n">is_well_order</span><span class="bp">.</span><span class="n">wf</span> <span class="n">w</span><span class="bp">.</span><span class="mi">1</span> <span class="n">w</span><span class="bp">.</span><span class="mi">2</span> <span class="n">w</span><span class="bp">.</span><span class="mi">3</span><span class="o">)</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">x</span> <span class="n">ih</span><span class="o">,</span>
<span class="n">pSet</span><span class="bp">.</span><span class="n">mk</span> <span class="o">{</span> <span class="n">y</span> <span class="bp">|</span> <span class="n">w</span><span class="bp">.</span><span class="n">r</span> <span class="n">y</span> <span class="n">x</span> <span class="o">}</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">p</span><span class="o">,</span> <span class="n">ih</span> <span class="n">p</span><span class="bp">.</span><span class="mi">1</span> <span class="n">p</span><span class="bp">.</span><span class="mi">2</span>

<span class="kn">theorem</span> <span class="n">ordinal</span><span class="bp">.</span><span class="n">to_Set</span><span class="bp">.</span><span class="n">aux</span> <span class="o">(</span><span class="n">v</span> <span class="n">w</span> <span class="o">:</span> <span class="n">Well_order</span><span class="bp">.</span><span class="o">{</span><span class="n">u</span><span class="o">})</span> <span class="o">(</span><span class="n">e</span> <span class="o">:</span> <span class="n">v</span><span class="bp">.</span><span class="mi">2</span> <span class="err">≃</span><span class="n">o</span> <span class="n">w</span><span class="bp">.</span><span class="mi">2</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">v</span><span class="bp">.</span><span class="mi">1</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">Well_order</span><span class="bp">.</span><span class="n">to_pSet</span> <span class="n">v</span><span class="o">)</span><span class="bp">.</span><span class="n">func</span> <span class="n">x</span> <span class="bp">≈</span> <span class="o">(</span><span class="n">Well_order</span><span class="bp">.</span><span class="n">to_pSet</span> <span class="n">w</span><span class="o">)</span><span class="bp">.</span><span class="n">func</span> <span class="o">(</span><span class="n">e</span> <span class="n">x</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">show</span> <span class="n">pSet</span><span class="bp">.</span><span class="n">equiv</span>
  <span class="o">(</span><span class="n">well_founded</span><span class="bp">.</span><span class="n">fix</span> <span class="o">(</span><span class="bp">@</span><span class="n">is_well_order</span><span class="bp">.</span><span class="n">wf</span> <span class="n">v</span><span class="bp">.</span><span class="mi">1</span> <span class="n">v</span><span class="bp">.</span><span class="mi">2</span> <span class="n">v</span><span class="bp">.</span><span class="mi">3</span><span class="o">)</span>
    <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span> <span class="n">ih</span><span class="o">,</span> <span class="n">pSet</span><span class="bp">.</span><span class="n">mk</span> <span class="o">{</span> <span class="n">y</span> <span class="bp">|</span> <span class="n">v</span><span class="bp">.</span><span class="n">r</span> <span class="n">y</span> <span class="n">x</span> <span class="o">}</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">p</span><span class="o">,</span> <span class="n">ih</span> <span class="n">p</span><span class="bp">.</span><span class="mi">1</span> <span class="n">p</span><span class="bp">.</span><span class="mi">2</span><span class="o">)</span> <span class="n">x</span><span class="o">)</span>
  <span class="o">(</span><span class="n">well_founded</span><span class="bp">.</span><span class="n">fix</span> <span class="o">(</span><span class="bp">@</span><span class="n">is_well_order</span><span class="bp">.</span><span class="n">wf</span> <span class="n">w</span><span class="bp">.</span><span class="mi">1</span> <span class="n">w</span><span class="bp">.</span><span class="mi">2</span> <span class="n">w</span><span class="bp">.</span><span class="mi">3</span><span class="o">)</span>
    <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span> <span class="n">ih</span><span class="o">,</span> <span class="n">pSet</span><span class="bp">.</span><span class="n">mk</span> <span class="o">{</span> <span class="n">y</span> <span class="bp">|</span> <span class="n">w</span><span class="bp">.</span><span class="n">r</span> <span class="n">y</span> <span class="n">x</span> <span class="o">}</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">p</span><span class="o">,</span> <span class="n">ih</span> <span class="n">p</span><span class="bp">.</span><span class="mi">1</span> <span class="n">p</span><span class="bp">.</span><span class="mi">2</span><span class="o">)</span> <span class="o">(</span><span class="n">e</span> <span class="n">x</span><span class="o">)),</span>
<span class="k">from</span> <span class="n">well_founded</span><span class="bp">.</span><span class="n">induction</span> <span class="o">(</span><span class="bp">@</span><span class="n">is_well_order</span><span class="bp">.</span><span class="n">wf</span> <span class="n">v</span><span class="bp">.</span><span class="mi">1</span> <span class="n">v</span><span class="bp">.</span><span class="mi">2</span> <span class="n">v</span><span class="bp">.</span><span class="mi">3</span><span class="o">)</span> <span class="n">x</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">x</span> <span class="n">ih</span><span class="o">,</span>
<span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">well_founded</span><span class="bp">.</span><span class="n">fix_eq</span><span class="o">,</span> <span class="n">well_founded</span><span class="bp">.</span><span class="n">fix_eq</span><span class="o">]</span><span class="bp">;</span>
<span class="k">from</span> <span class="bp">⟨λ</span> <span class="bp">⟨</span><span class="n">y</span><span class="o">,</span> <span class="n">hy</span><span class="bp">⟩</span><span class="o">,</span> <span class="bp">⟨⟨</span><span class="n">e</span> <span class="n">y</span><span class="o">,</span> <span class="o">(</span><span class="n">order_iso</span><span class="bp">.</span><span class="n">ord</span> <span class="n">e</span><span class="o">)</span><span class="bp">.</span><span class="mi">1</span> <span class="n">hy</span><span class="bp">⟩</span><span class="o">,</span> <span class="n">ih</span> <span class="n">y</span> <span class="n">hy</span><span class="bp">⟩</span><span class="o">,</span>
<span class="bp">λ</span> <span class="bp">⟨</span><span class="n">y</span><span class="o">,</span> <span class="n">hy</span><span class="bp">⟩</span><span class="o">,</span> <span class="bp">⟨⟨</span><span class="n">e</span><span class="bp">.</span><span class="n">symm</span> <span class="n">y</span><span class="o">,</span> <span class="k">by</span> <span class="n">simpa</span> <span class="kn">using</span> <span class="o">(</span><span class="n">order_iso</span><span class="bp">.</span><span class="n">ord</span> <span class="n">e</span><span class="bp">.</span><span class="n">symm</span><span class="o">)</span><span class="bp">.</span><span class="mi">1</span> <span class="n">hy</span><span class="bp">⟩</span><span class="o">,</span>
  <span class="k">by</span> <span class="k">have</span> <span class="o">:=</span> <span class="n">ih</span> <span class="o">(</span><span class="n">e</span><span class="bp">.</span><span class="n">symm</span> <span class="n">y</span><span class="o">)</span> <span class="o">(</span><span class="k">by</span> <span class="n">simpa</span> <span class="kn">using</span> <span class="o">(</span><span class="n">order_iso</span><span class="bp">.</span><span class="n">ord</span> <span class="n">e</span><span class="bp">.</span><span class="n">symm</span><span class="o">)</span><span class="bp">.</span><span class="mi">1</span> <span class="n">hy</span><span class="o">)</span><span class="bp">;</span> <span class="n">rw</span> <span class="o">[</span><span class="n">order_iso</span><span class="bp">.</span><span class="n">apply_inverse_apply</span><span class="o">]</span> <span class="n">at</span> <span class="n">this</span><span class="bp">;</span> <span class="k">from</span> <span class="n">this</span><span class="bp">⟩⟩</span>

<span class="n">def</span> <span class="n">ordinal</span><span class="bp">.</span><span class="n">to_Set</span> <span class="o">(</span><span class="n">o</span> <span class="o">:</span> <span class="n">ordinal</span><span class="bp">.</span><span class="o">{</span><span class="n">u</span><span class="o">})</span> <span class="o">:</span> <span class="n">Set</span><span class="bp">.</span><span class="o">{</span><span class="n">u</span><span class="o">}</span> <span class="o">:=</span>
<span class="n">quotient</span><span class="bp">.</span><span class="n">lift_on</span> <span class="n">o</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">w</span><span class="o">,</span> <span class="err">⟦</span><span class="n">Well_order</span><span class="bp">.</span><span class="n">to_pSet</span> <span class="n">w</span><span class="err">⟧</span><span class="o">)</span> <span class="err">$</span> <span class="bp">λ</span> <span class="bp">⟨</span><span class="n">v1</span><span class="o">,</span> <span class="n">v2</span><span class="o">,</span> <span class="n">v3</span><span class="bp">⟩</span> <span class="bp">⟨</span><span class="n">w1</span><span class="o">,</span> <span class="n">w2</span><span class="o">,</span> <span class="n">w3</span><span class="bp">⟩</span> <span class="bp">⟨</span><span class="n">e</span><span class="bp">⟩</span><span class="o">,</span> <span class="n">quotient</span><span class="bp">.</span><span class="n">sound</span>
<span class="bp">⟨λ</span> <span class="n">x</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">e</span> <span class="n">x</span><span class="o">,</span> <span class="n">ordinal</span><span class="bp">.</span><span class="n">to_Set</span><span class="bp">.</span><span class="n">aux</span> <span class="bp">_</span> <span class="bp">_</span> <span class="n">e</span> <span class="n">x</span><span class="bp">⟩</span><span class="o">,</span>
<span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">e</span><span class="bp">.</span><span class="n">symm</span> <span class="n">x</span><span class="o">,</span> <span class="k">by</span> <span class="n">simpa</span> <span class="kn">using</span> <span class="n">ordinal</span><span class="bp">.</span><span class="n">to_Set</span><span class="bp">.</span><span class="n">aux</span> <span class="bp">⟨</span><span class="n">v1</span><span class="o">,</span> <span class="n">v2</span><span class="o">,</span> <span class="n">v3</span><span class="bp">⟩</span> <span class="bp">⟨</span><span class="n">w1</span><span class="o">,</span> <span class="n">w2</span><span class="o">,</span> <span class="n">w3</span><span class="bp">⟩</span> <span class="n">e</span> <span class="o">(</span><span class="n">e</span><span class="bp">.</span><span class="n">symm</span> <span class="n">x</span><span class="o">)</span><span class="bp">⟩⟩</span>
</pre></div>

<a name="132599537"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinals%20and%20ordinals/near/132599537" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03937cardinalsandordinals.html#132599537">Kenny Lau (Aug 22 2018 at 20:15)</a>:</h4>
<p>and I did it in the same universe <span class="user-mention" data-user-id="110049">@Mario Carneiro</span></p>

<a name="132599597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinals%20and%20ordinals/near/132599597" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03937cardinalsandordinals.html#132599597">Kenny Lau (Aug 22 2018 at 20:16)</a>:</h4>
<p>and I still don't think it's a good idea to destruct the <code>Well_order</code> in the definition of the setoid of ordinal</p>

<a name="132601476"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinals%20and%20ordinals/near/132601476" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03937cardinalsandordinals.html#132601476">Kenny Lau (Aug 22 2018 at 20:54)</a>:</h4>
<p>and after 38 minutes, the other direction:</p>

<a name="132601478"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinals%20and%20ordinals/near/132601478" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03937cardinalsandordinals.html#132601478">Kenny Lau (Aug 22 2018 at 20:54)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">def</span> <span class="n">pSet</span><span class="bp">.</span><span class="n">type</span><span class="bp">.</span><span class="n">setoid</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">pSet</span><span class="bp">.</span><span class="o">{</span><span class="n">u</span><span class="o">})</span> <span class="o">:</span> <span class="n">setoid</span> <span class="n">p</span><span class="bp">.</span><span class="n">type</span> <span class="o">:=</span>
<span class="bp">⟨λ</span> <span class="n">i</span> <span class="n">j</span><span class="o">,</span> <span class="err">⟦</span><span class="n">p</span><span class="bp">.</span><span class="n">func</span> <span class="n">i</span><span class="err">⟧</span> <span class="bp">=</span> <span class="err">⟦</span><span class="n">p</span><span class="bp">.</span><span class="n">func</span> <span class="n">j</span><span class="err">⟧</span><span class="o">,</span> <span class="bp">λ</span> <span class="n">i</span><span class="o">,</span> <span class="n">rfl</span><span class="o">,</span> <span class="bp">λ</span> <span class="n">i</span> <span class="n">j</span><span class="o">,</span> <span class="n">eq</span><span class="bp">.</span><span class="n">symm</span><span class="o">,</span> <span class="bp">λ</span> <span class="n">i</span> <span class="n">j</span> <span class="n">k</span><span class="o">,</span> <span class="n">eq</span><span class="bp">.</span><span class="n">trans</span><span class="bp">⟩</span>

<span class="n">local</span> <span class="n">attribute</span> <span class="o">[</span><span class="kn">instance</span><span class="o">]</span> <span class="n">pSet</span><span class="bp">.</span><span class="n">type</span><span class="bp">.</span><span class="n">setoid</span>

<span class="n">def</span> <span class="n">Set</span><span class="bp">.</span><span class="n">cardinal</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">Set</span><span class="bp">.</span><span class="o">{</span><span class="n">u</span><span class="o">})</span> <span class="o">:</span> <span class="n">cardinal</span><span class="bp">.</span><span class="o">{</span><span class="n">u</span><span class="o">}</span> <span class="o">:=</span>
<span class="n">quotient</span><span class="bp">.</span><span class="n">lift_on</span> <span class="n">s</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">p</span><span class="o">,</span> <span class="n">cardinal</span><span class="bp">.</span><span class="n">mk</span> <span class="err">$</span> <span class="n">quotient</span> <span class="err">$</span> <span class="n">pSet</span><span class="bp">.</span><span class="n">type</span><span class="bp">.</span><span class="n">setoid</span> <span class="n">p</span><span class="o">)</span> <span class="err">$</span>
<span class="bp">λ</span> <span class="bp">⟨</span><span class="n">p1</span><span class="o">,</span> <span class="n">p2</span><span class="bp">⟩</span> <span class="bp">⟨</span><span class="n">q1</span><span class="o">,</span> <span class="n">q2</span><span class="bp">⟩</span> <span class="n">H</span><span class="o">,</span> <span class="n">quotient</span><span class="bp">.</span><span class="n">sound</span> <span class="err">$</span> <span class="n">nonempty</span><span class="bp">.</span><span class="n">intro</span>
<span class="o">{</span> <span class="n">to_fun</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">quotient</span><span class="bp">.</span><span class="n">lift_on</span> <span class="n">x</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">i</span><span class="o">,</span> <span class="bp">@@</span><span class="n">quotient</span><span class="bp">.</span><span class="n">mk</span> <span class="o">(</span><span class="n">pSet</span><span class="bp">.</span><span class="n">type</span><span class="bp">.</span><span class="n">setoid</span> <span class="err">$</span> <span class="n">pSet</span><span class="bp">.</span><span class="n">mk</span> <span class="n">q1</span> <span class="n">q2</span><span class="o">)</span> <span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">some</span> <span class="o">(</span><span class="n">H</span><span class="bp">.</span><span class="mi">1</span> <span class="n">i</span><span class="o">)))</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">i</span> <span class="n">j</span> <span class="n">H&#39;</span><span class="o">,</span>
    <span class="n">quotient</span><span class="bp">.</span><span class="n">sound</span> <span class="err">$</span>
    <span class="k">calc</span>  <span class="err">⟦</span><span class="n">q2</span> <span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">some</span> <span class="o">(</span><span class="n">H</span><span class="bp">.</span><span class="mi">1</span> <span class="n">i</span><span class="o">))</span><span class="err">⟧</span>
        <span class="bp">=</span> <span class="err">⟦</span><span class="n">p2</span> <span class="n">i</span><span class="err">⟧</span> <span class="o">:</span> <span class="n">eq</span><span class="bp">.</span><span class="n">symm</span> <span class="o">(</span><span class="n">quotient</span><span class="bp">.</span><span class="n">sound</span> <span class="err">$</span> <span class="n">classical</span><span class="bp">.</span><span class="n">some_spec</span> <span class="o">(</span><span class="n">H</span><span class="bp">.</span><span class="mi">1</span> <span class="n">i</span><span class="o">))</span>
    <span class="bp">...</span> <span class="bp">=</span> <span class="err">⟦</span><span class="n">p2</span> <span class="n">j</span><span class="err">⟧</span> <span class="o">:</span> <span class="n">H&#39;</span>
    <span class="bp">...</span> <span class="bp">=</span> <span class="err">⟦</span><span class="n">q2</span> <span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">some</span> <span class="o">(</span><span class="n">H</span><span class="bp">.</span><span class="mi">1</span> <span class="n">j</span><span class="o">))</span><span class="err">⟧</span> <span class="o">:</span> <span class="n">quotient</span><span class="bp">.</span><span class="n">sound</span> <span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">some_spec</span> <span class="o">(</span><span class="n">H</span><span class="bp">.</span><span class="mi">1</span> <span class="n">j</span><span class="o">)),</span>
  <span class="n">inv_fun</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">quotient</span><span class="bp">.</span><span class="n">lift_on</span> <span class="n">x</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">i</span><span class="o">,</span> <span class="bp">@@</span><span class="n">quotient</span><span class="bp">.</span><span class="n">mk</span> <span class="o">(</span><span class="n">pSet</span><span class="bp">.</span><span class="n">type</span><span class="bp">.</span><span class="n">setoid</span> <span class="err">$</span> <span class="n">pSet</span><span class="bp">.</span><span class="n">mk</span> <span class="n">p1</span> <span class="n">p2</span><span class="o">)</span> <span class="err">$</span> <span class="n">classical</span><span class="bp">.</span><span class="n">some</span> <span class="err">$</span> <span class="n">H</span><span class="bp">.</span><span class="mi">2</span> <span class="n">i</span><span class="o">)</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">i</span> <span class="n">j</span> <span class="n">H&#39;</span><span class="o">,</span>
    <span class="n">quotient</span><span class="bp">.</span><span class="n">sound</span> <span class="err">$</span>
    <span class="k">calc</span>  <span class="err">⟦</span><span class="n">p2</span> <span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">some</span> <span class="o">(</span><span class="n">H</span><span class="bp">.</span><span class="mi">2</span> <span class="n">i</span><span class="o">))</span><span class="err">⟧</span>
        <span class="bp">=</span> <span class="err">⟦</span><span class="n">q2</span> <span class="n">i</span><span class="err">⟧</span> <span class="o">:</span> <span class="n">quotient</span><span class="bp">.</span><span class="n">sound</span> <span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">some_spec</span> <span class="o">(</span><span class="n">H</span><span class="bp">.</span><span class="mi">2</span> <span class="n">i</span><span class="o">))</span>
    <span class="bp">...</span> <span class="bp">=</span> <span class="err">⟦</span><span class="n">q2</span> <span class="n">j</span><span class="err">⟧</span> <span class="o">:</span> <span class="n">H&#39;</span>
    <span class="bp">...</span> <span class="bp">=</span> <span class="err">⟦</span><span class="n">p2</span> <span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">some</span> <span class="o">(</span><span class="n">H</span><span class="bp">.</span><span class="mi">2</span> <span class="n">j</span><span class="o">))</span><span class="err">⟧</span> <span class="o">:</span> <span class="n">eq</span><span class="bp">.</span><span class="n">symm</span> <span class="o">(</span><span class="n">quotient</span><span class="bp">.</span><span class="n">sound</span> <span class="err">$</span> <span class="n">classical</span><span class="bp">.</span><span class="n">some_spec</span> <span class="o">(</span><span class="n">H</span><span class="bp">.</span><span class="mi">2</span> <span class="n">j</span><span class="o">)),</span>
  <span class="n">left_inv</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">i</span><span class="o">,</span> <span class="n">quotient</span><span class="bp">.</span><span class="n">induction_on</span> <span class="n">i</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">i</span><span class="o">,</span> <span class="n">quotient</span><span class="bp">.</span><span class="n">sound</span> <span class="err">$</span>
    <span class="k">calc</span>  <span class="err">⟦</span><span class="n">p2</span> <span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">some</span> <span class="o">(</span><span class="n">H</span><span class="bp">.</span><span class="mi">2</span> <span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">some</span> <span class="o">(</span><span class="n">H</span><span class="bp">.</span><span class="mi">1</span> <span class="n">i</span><span class="o">))))</span><span class="err">⟧</span>
        <span class="bp">=</span> <span class="err">⟦</span><span class="n">q2</span> <span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">some</span> <span class="o">(</span><span class="n">H</span><span class="bp">.</span><span class="mi">1</span> <span class="n">i</span><span class="o">))</span><span class="err">⟧</span> <span class="o">:</span> <span class="n">quotient</span><span class="bp">.</span><span class="n">sound</span> <span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">some_spec</span> <span class="o">(</span><span class="n">H</span><span class="bp">.</span><span class="mi">2</span> <span class="bp">_</span><span class="o">))</span>
    <span class="bp">...</span> <span class="bp">=</span> <span class="err">⟦</span><span class="n">p2</span> <span class="n">i</span><span class="err">⟧</span> <span class="o">:</span> <span class="n">eq</span><span class="bp">.</span><span class="n">symm</span> <span class="o">(</span><span class="n">quotient</span><span class="bp">.</span><span class="n">sound</span> <span class="err">$</span> <span class="n">classical</span><span class="bp">.</span><span class="n">some_spec</span> <span class="o">(</span><span class="n">H</span><span class="bp">.</span><span class="mi">1</span> <span class="n">i</span><span class="o">)),</span>
  <span class="n">right_inv</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">i</span><span class="o">,</span> <span class="n">quotient</span><span class="bp">.</span><span class="n">induction_on</span> <span class="n">i</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">i</span><span class="o">,</span> <span class="n">quotient</span><span class="bp">.</span><span class="n">sound</span> <span class="err">$</span>
    <span class="k">calc</span>  <span class="err">⟦</span><span class="n">q2</span> <span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">some</span> <span class="o">(</span><span class="n">H</span><span class="bp">.</span><span class="mi">1</span> <span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">some</span> <span class="o">(</span><span class="n">H</span><span class="bp">.</span><span class="mi">2</span> <span class="n">i</span><span class="o">))))</span><span class="err">⟧</span>
        <span class="bp">=</span> <span class="err">⟦</span><span class="n">p2</span> <span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">some</span> <span class="o">(</span><span class="n">H</span><span class="bp">.</span><span class="mi">2</span> <span class="n">i</span><span class="o">))</span><span class="err">⟧</span> <span class="o">:</span> <span class="n">eq</span><span class="bp">.</span><span class="n">symm</span> <span class="o">(</span><span class="n">quotient</span><span class="bp">.</span><span class="n">sound</span> <span class="err">$</span> <span class="n">classical</span><span class="bp">.</span><span class="n">some_spec</span> <span class="o">(</span><span class="n">H</span><span class="bp">.</span><span class="mi">1</span> <span class="bp">_</span><span class="o">))</span>
    <span class="bp">...</span> <span class="bp">=</span> <span class="err">⟦</span><span class="n">q2</span> <span class="n">i</span><span class="err">⟧</span> <span class="o">:</span> <span class="n">quotient</span><span class="bp">.</span><span class="n">sound</span> <span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">some_spec</span> <span class="o">(</span><span class="n">H</span><span class="bp">.</span><span class="mi">2</span> <span class="n">i</span><span class="o">))</span> <span class="o">}</span>
</pre></div>

<a name="132602524"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinals%20and%20ordinals/near/132602524" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03937cardinalsandordinals.html#132602524">Kenny Lau (Aug 22 2018 at 21:15)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> should I develop on this and then PR?</p>

<a name="132605696"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinals%20and%20ordinals/near/132605696" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03937cardinalsandordinals.html#132605696">Kenny Lau (Aug 22 2018 at 22:32)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">theorem</span> <span class="n">Well_order</span><span class="bp">.</span><span class="n">to_pSet</span><span class="bp">.</span><span class="n">exact</span> <span class="o">(</span><span class="n">w</span> <span class="o">:</span> <span class="n">Well_order</span><span class="bp">.</span><span class="o">{</span><span class="n">u</span><span class="o">})</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">w</span><span class="bp">.</span><span class="mi">1</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">∀</span> <span class="n">y</span><span class="o">,</span> <span class="err">⟦</span><span class="n">w</span><span class="bp">.</span><span class="n">to_pSet</span><span class="bp">.</span><span class="n">func</span> <span class="n">x</span><span class="err">⟧</span> <span class="bp">=</span> <span class="err">⟦</span><span class="n">w</span><span class="bp">.</span><span class="n">to_pSet</span><span class="bp">.</span><span class="n">func</span> <span class="n">y</span><span class="err">⟧</span> <span class="bp">→</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span> <span class="o">:=</span>
<span class="n">well_founded</span><span class="bp">.</span><span class="n">induction</span> <span class="o">(</span><span class="bp">@</span><span class="n">is_well_order</span><span class="bp">.</span><span class="n">wf</span> <span class="n">w</span><span class="bp">.</span><span class="mi">1</span> <span class="n">w</span><span class="bp">.</span><span class="mi">2</span> <span class="n">w</span><span class="bp">.</span><span class="mi">3</span><span class="o">)</span> <span class="n">x</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">x</span> <span class="n">ih</span> <span class="n">y</span> <span class="n">H</span><span class="o">,</span>
<span class="k">begin</span>
  <span class="n">replace</span> <span class="n">H</span> <span class="o">:=</span> <span class="n">quotient</span><span class="bp">.</span><span class="n">exact</span> <span class="n">H</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">Well_order</span><span class="bp">.</span><span class="n">to_pSet</span><span class="bp">.</span><span class="n">def</span><span class="o">,</span> <span class="n">Well_order</span><span class="bp">.</span><span class="n">to_pSet</span><span class="bp">.</span><span class="n">def</span><span class="o">]</span> <span class="n">at</span> <span class="n">H</span><span class="o">,</span>
  <span class="n">letI</span> <span class="o">:=</span> <span class="n">w</span><span class="bp">.</span><span class="mi">3</span><span class="o">,</span>
  <span class="n">rcases</span> <span class="n">is_trichotomous</span><span class="bp">.</span><span class="n">trichotomous</span> <span class="n">w</span><span class="bp">.</span><span class="mi">2</span> <span class="n">x</span> <span class="n">y</span> <span class="k">with</span> <span class="n">h</span> <span class="bp">|</span> <span class="n">h</span> <span class="bp">|</span> <span class="n">h</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">rcases</span> <span class="n">H</span><span class="bp">.</span><span class="mi">2</span> <span class="bp">⟨</span><span class="n">x</span><span class="o">,</span> <span class="n">h</span><span class="bp">⟩</span> <span class="k">with</span> <span class="bp">⟨⟨</span><span class="n">z</span><span class="o">,</span> <span class="n">hzx</span><span class="bp">⟩</span><span class="o">,</span> <span class="n">h1</span><span class="bp">⟩</span><span class="o">,</span>
    <span class="n">specialize</span> <span class="n">ih</span> <span class="n">z</span> <span class="n">hzx</span> <span class="n">x</span> <span class="o">(</span><span class="n">quotient</span><span class="bp">.</span><span class="n">sound</span> <span class="n">h1</span><span class="o">),</span>
    <span class="n">exfalso</span><span class="o">,</span>
    <span class="n">subst</span> <span class="n">ih</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">is_irrefl</span><span class="bp">.</span><span class="n">irrefl</span> <span class="n">w</span><span class="bp">.</span><span class="n">r</span> <span class="bp">_</span> <span class="n">hzx</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">exact</span> <span class="n">h</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">rcases</span> <span class="n">H</span><span class="bp">.</span><span class="mi">1</span> <span class="bp">⟨</span><span class="n">y</span><span class="o">,</span> <span class="n">h</span><span class="bp">⟩</span> <span class="k">with</span> <span class="bp">⟨⟨</span><span class="n">z</span><span class="o">,</span> <span class="n">hzy</span><span class="bp">⟩</span><span class="o">,</span> <span class="n">h1</span><span class="bp">⟩</span><span class="o">,</span>
    <span class="n">specialize</span> <span class="n">ih</span> <span class="n">y</span> <span class="n">h</span> <span class="n">z</span> <span class="o">(</span><span class="n">quotient</span><span class="bp">.</span><span class="n">sound</span> <span class="n">h1</span><span class="o">),</span>
    <span class="n">exfalso</span><span class="o">,</span>
    <span class="n">subst</span> <span class="n">ih</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">is_irrefl</span><span class="bp">.</span><span class="n">irrefl</span> <span class="n">w</span><span class="bp">.</span><span class="n">r</span> <span class="bp">_</span> <span class="n">hzy</span> <span class="o">}</span>
<span class="kn">end</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">cardinal</span><span class="bp">.</span><span class="o">{</span><span class="n">u</span><span class="o">})</span> <span class="o">:</span> <span class="n">c</span><span class="bp">.</span><span class="n">ord</span><span class="bp">.</span><span class="n">to_Set</span><span class="bp">.</span><span class="n">to_cardinal</span> <span class="bp">=</span> <span class="n">c</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">apply</span> <span class="n">quotient</span><span class="bp">.</span><span class="n">induction_on</span> <span class="n">c</span><span class="o">,</span>
  <span class="n">intro</span> <span class="n">c</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:=</span> <span class="n">cardinal</span><span class="bp">.</span><span class="n">ord_eq</span> <span class="n">c</span><span class="o">,</span>
  <span class="n">rcases</span> <span class="n">this</span> <span class="k">with</span> <span class="bp">⟨</span><span class="n">r</span><span class="o">,</span> <span class="n">wo</span><span class="o">,</span> <span class="n">H</span><span class="bp">⟩</span><span class="o">,</span>
  <span class="n">simp</span> <span class="o">[</span><span class="n">H</span><span class="o">,</span> <span class="n">ordinal</span><span class="bp">.</span><span class="n">type</span><span class="o">,</span> <span class="n">ordinal</span><span class="bp">.</span><span class="n">to_Set</span><span class="o">],</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">Set</span><span class="bp">.</span><span class="n">mk</span><span class="o">,</span> <span class="n">Set</span><span class="bp">.</span><span class="n">to_cardinal</span><span class="o">,</span> <span class="n">quotient</span><span class="bp">.</span><span class="n">lift_on_beta</span><span class="o">],</span>
  <span class="n">apply</span> <span class="n">quotient</span><span class="bp">.</span><span class="n">sound</span><span class="o">,</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="n">fapply</span> <span class="n">equiv</span><span class="bp">.</span><span class="n">mk</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">fapply</span> <span class="n">quotient</span><span class="bp">.</span><span class="n">lift</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">exact</span> <span class="n">id</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">intros</span> <span class="n">x</span> <span class="n">y</span> <span class="n">H</span><span class="o">,</span>
      <span class="n">exact</span> <span class="n">Well_order</span><span class="bp">.</span><span class="n">to_pSet</span><span class="bp">.</span><span class="n">exact</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="n">H</span> <span class="o">}</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">exact</span> <span class="n">quotient</span><span class="bp">.</span><span class="n">mk</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">intro</span> <span class="n">x</span><span class="o">,</span>
    <span class="n">apply</span> <span class="n">quotient</span><span class="bp">.</span><span class="n">induction_on</span> <span class="n">x</span><span class="o">,</span>
    <span class="n">intro</span> <span class="n">x</span><span class="o">,</span>
    <span class="n">refl</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">intro</span> <span class="n">x</span><span class="o">,</span> <span class="n">refl</span> <span class="o">}</span>
<span class="kn">end</span>
</pre></div>

<a name="132605703"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinals%20and%20ordinals/near/132605703" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03937cardinalsandordinals.html#132605703">Kenny Lau (Aug 22 2018 at 22:33)</a>:</h4>
<p>that's the round trip in one direction</p>


{% endraw %}
