---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/116395maths/05618bigop.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html">bigop</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="125509497"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125509497" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125509497">Patrick Massot (Apr 21 2018 at 23:34)</a>:</h4>
<p>I proved the first lemma of my new bigop lib!</p>

<a name="125509498"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125509498" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125509498">Patrick Massot (Apr 21 2018 at 23:34)</a>:</h4>
<p><a href="https://github.com/PatrickMassot/lean-scratchpad/blob/01776fcb1eedc65df32e457427d06feacb321910/src/bigop.lean#L107" target="_blank" title="https://github.com/PatrickMassot/lean-scratchpad/blob/01776fcb1eedc65df32e457427d06feacb321910/src/bigop.lean#L107">https://github.com/PatrickMassot/lean-scratchpad/blob/01776fcb1eedc65df32e457427d06feacb321910/src/bigop.lean#L107</a></p>

<a name="125509501"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125509501" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125509501">Patrick Massot (Apr 21 2018 at 23:34)</a>:</h4>
<p>I'm so happy <span class="emoji emoji-1f604" title="smile">:smile:</span></p>

<a name="125509515"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125509515" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125509515">Patrick Massot (Apr 21 2018 at 23:35)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> Could you have a look to tell me if I started wrong, before I try to prove 50 more lemmas of this kind?</p>

<a name="125509519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125509519" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125509519">Patrick Massot (Apr 21 2018 at 23:35)</a>:</h4>
<p>I think you can simply copy and paste the content of this file</p>

<a name="125509559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125509559" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125509559">Patrick Massot (Apr 21 2018 at 23:36)</a>:</h4>
<p>It depends on nothing but mathlib</p>

<a name="125509570"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125509570" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125509570">Patrick Massot (Apr 21 2018 at 23:37)</a>:</h4>
<p>I'm especially curious about what you think about using <code>is_associative</code> and <code>is_left_id</code> here</p>

<a name="125509613"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125509613" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125509613">Patrick Massot (Apr 21 2018 at 23:38)</a>:</h4>
<p>Usually I love the old algebraic hierarchy but here it seems to me I wanted something directly attached to the operation</p>

<a name="125509616"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125509616" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125509616">Kenny Lau (Apr 21 2018 at 23:38)</a>:</h4>
<p>btw <code>[∀ i, decidable $ P i]</code> is just <code>[decidable_pred P]</code></p>

<a name="125509621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125509621" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125509621">Patrick Massot (Apr 21 2018 at 23:39)</a>:</h4>
<p>Good to know, thanks!</p>

<a name="125509673"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125509673" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125509673">Patrick Massot (Apr 21 2018 at 23:40)</a>:</h4>
<p>I hope you noticed my effort not to use the usual <code>non computable theory</code>/<code>local attribute [instance] classical.prop_decidable</code></p>

<a name="125509676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125509676" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125509676">Patrick Massot (Apr 21 2018 at 23:40)</a>:</h4>
<p>Actually I needed it in order to compute 5! in the examples...</p>

<a name="125509677"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125509677" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125509677">Kenny Lau (Apr 21 2018 at 23:40)</a>:</h4>
<p>:D</p>

<a name="125509679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125509679" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125509679">Kenny Lau (Apr 21 2018 at 23:41)</a>:</h4>
<p>did you?</p>

<a name="125509685"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125509685" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125509685">Kenny Lau (Apr 21 2018 at 23:41)</a>:</h4>
<p>I removed the <code>open classical</code> at the top and everything worked fine</p>

<a name="125509686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125509686" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125509686">Kenny Lau (Apr 21 2018 at 23:41)</a>:</h4>
<p>and how does noncomputable things help with computation</p>

<a name="125509688"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125509688" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125509688">Patrick Massot (Apr 21 2018 at 23:41)</a>:</h4>
<p>Right, I forgot to erase that line</p>

<a name="125509730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125509730" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125509730">Patrick Massot (Apr 21 2018 at 23:42)</a>:</h4>
<p>Which is the third line that is normally on top of all my Lean file before I start writing anything else</p>

<a name="125509740"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125509740" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125509740">Kenny Lau (Apr 21 2018 at 23:43)</a>:</h4>
<p>feature request: make it work with finset if your <code>op</code> is commutative</p>

<a name="125509789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125509789" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125509789">Patrick Massot (Apr 21 2018 at 23:45)</a>:</h4>
<p><span class="user-mention" data-user-id="110172">@Assia Mahboubi</span> could you have a look at this <a href="https://github.com/PatrickMassot/lean-scratchpad/blob/01776fcb1eedc65df32e457427d06feacb321910/src/bigop.lean" target="_blank" title="https://github.com/PatrickMassot/lean-scratchpad/blob/01776fcb1eedc65df32e457427d06feacb321910/src/bigop.lean">https://github.com/PatrickMassot/lean-scratchpad/blob/01776fcb1eedc65df32e457427d06feacb321910/src/bigop.lean</a> and tell me if this tiny starts means I can forget about the canonical instance propaganda, and Lean type class is doing just fine for the purpose of porting the bigop lib from Coq to Lean?</p>

<a name="125509829"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125509829" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125509829">Patrick Massot (Apr 21 2018 at 23:46)</a>:</h4>
<blockquote>
<p>feature request: make it work with finset if your <code>op</code> is commutative</p>
</blockquote>
<p>Of course that on the TODO list</p>

<a name="125510402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125510402" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125510402">Mario Carneiro (Apr 22 2018 at 00:07)</a>:</h4>
<p>I think that <code>apply_bigop</code> can be removed and replaced by <code>list.foldr</code> of <code>list.filter</code>, although the notations seem okay (very stylish)</p>

<a name="125510443"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125510443" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125510443">Mario Carneiro (Apr 22 2018 at 00:08)</a>:</h4>
<p>I wonder if the new lean 4 parser will permit stuff like python list comprehensions</p>

<a name="125510595"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125510595" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125510595">Mario Carneiro (Apr 22 2018 at 00:14)</a>:</h4>
<p>comparison:</p>
<div class="codehilite"><pre><span></span>/- python
&gt;&gt;&gt; [(x, y) for x in [1,2,3] for y in [3,1,4] if x != y]
[(1, 3), (1, 4), (2, 3), (2, 1), (2, 4), (3, 1), (3, 4)]
-/
#eval do x ← [1,2,3], y ← [3,1,4], guard (x ≠ y), return (x, y)
-- [(1, 3), (1, 4), (2, 3), (2, 1), (2, 4), (3, 1), (3, 4)]
</pre></div>

<a name="125523815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125523815" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125523815">Patrick Massot (Apr 22 2018 at 09:29)</a>:</h4>
<blockquote>
<p>I think that <code>apply_bigop</code> can be removed and replaced by <code>list.foldr</code> of <code>list.filter</code>, although the notations seem okay (very stylish)</p>
</blockquote>
<p>Do you suggest I write <code>def apply_bigop  := foldr (λ i, op (F i)) nil (filter P r)</code> or completely remove <code>apply_bigop</code> and copy-paste the RHS everywhere I had <code>apply_bigop</code>?</p>

<a name="125523821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125523821" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125523821">Patrick Massot (Apr 22 2018 at 09:29)</a>:</h4>
<blockquote>
<p>I wonder if the new lean 4 parser will permit stuff like python list comprehensions</p>
</blockquote>
<p>If this happens it will become very hard to come up with something that Lean doesn't do great.</p>

<a name="125531677"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125531677" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125531677">Patrick Massot (Apr 22 2018 at 14:50)</a>:</h4>
<p>I created a separate repo, the new place to look at is <a href="https://github.com/PatrickMassot/bigop/blob/master/src/bigop.lean" target="_blank" title="https://github.com/PatrickMassot/bigop/blob/master/src/bigop.lean">https://github.com/PatrickMassot/bigop/blob/master/src/bigop.lean</a></p>

<a name="125531681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125531681" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125531681">Patrick Massot (Apr 22 2018 at 14:50)</a>:</h4>
<p>Every help is welcome</p>

<a name="125570257"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125570257" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125570257">Patrick Massot (Apr 23 2018 at 14:03)</a>:</h4>
<p>Writing lemmas with minimal hypotheses is so fun. I find myself having lemmas assuming <code>op</code> is associative with an element <code>nil</code> which is a left identity (<code>op nil a = a</code> for all <code>a</code>) but not a right identity. Then I keep the same hypothesis for the next lemma I find myself surprised to see I actually need right identity this time.</p>

<a name="125570261"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125570261" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125570261">Patrick Massot (Apr 23 2018 at 14:03)</a>:</h4>
<p>I feel I'm Bourbaki</p>

<a name="125570264"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125570264" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125570264">Kenny Lau (Apr 23 2018 at 14:03)</a>:</h4>
<p>I thought someone doesn't care about which axioms we use</p>

<a name="125570312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125570312" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125570312">Patrick Massot (Apr 23 2018 at 14:04)</a>:</h4>
<p>It's not about axioms, it's about hypotheses</p>

<a name="125570314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125570314" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125570314">Kenny Lau (Apr 23 2018 at 14:04)</a>:</h4>
<p>aha</p>

<a name="125570316"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125570316" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125570316">Kenny Lau (Apr 23 2018 at 14:04)</a>:</h4>
<p>I fail to see any difference</p>

<a name="125570328"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125570328" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125570328">Kenny Lau (Apr 23 2018 at 14:05)</a>:</h4>
<p>assuming AoC, omega &lt;= a implies a^2 = a</p>

<a name="125575621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125575621" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125575621">Kevin Buzzard (Apr 23 2018 at 15:59)</a>:</h4>
<p>hypotheses are what you need to make your lemmas work. Axioms are what you need to make everything work.</p>

<a name="125575735"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125575735" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125575735">Patrick Massot (Apr 23 2018 at 16:01)</a>:</h4>
<p>Oh, I have proof containing <code>rw assoc op,  rw ← assoc op, </code></p>

<a name="125575784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125575784" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125575784">Patrick Massot (Apr 23 2018 at 16:02)</a>:</h4>
<p>and it's not simplifiable</p>

<a name="125576872"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125576872" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125576872">Kevin Buzzard (Apr 23 2018 at 16:24)</a>:</h4>
<p>That can happen if you have more than two multiplications</p>

<a name="125576877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125576877" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125576877">Kevin Buzzard (Apr 23 2018 at 16:24)</a>:</h4>
<p>because it just finds the first match</p>

<a name="125576880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125576880" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125576880">Patrick Massot (Apr 23 2018 at 16:24)</a>:</h4>
<p>sure</p>

<a name="125576884"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125576884" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125576884">Patrick Massot (Apr 23 2018 at 16:24)</a>:</h4>
<p>that's what is happening here</p>

<a name="125576885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125576885" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125576885">Kevin Buzzard (Apr 23 2018 at 16:24)</a>:</h4>
<p>I suspect <code>a * (b * c) = (d * e) * f</code> would work, right?</p>

<a name="125576887"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125576887" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125576887">Kevin Buzzard (Apr 23 2018 at 16:24)</a>:</h4>
<p>But I agree it looks funny :-)</p>

<a name="125576888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125576888" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125576888">Patrick Massot (Apr 23 2018 at 16:24)</a>:</h4>
<p>it still looks funny</p>

<a name="125576891"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125576891" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125576891">Kevin Buzzard (Apr 23 2018 at 16:25)</a>:</h4>
<p>heh</p>

<a name="125577124"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125577124" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125577124">Patrick Massot (Apr 23 2018 at 16:29)</a>:</h4>
<p>That one is also cute in a different direction: <code>simp [H', H h (by simp)]</code></p>

<a name="125577154"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125577154" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125577154">Patrick Massot (Apr 23 2018 at 16:29)</a>:</h4>
<p>nested <code>simp</code>!</p>

<a name="125595701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125595701" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125595701">Patrick Massot (Apr 24 2018 at 00:22)</a>:</h4>
<p>Two more lemmas tonight, culminating with <a href="https://github.com/PatrickMassot/bigop/blob/master/src/bigop.lean#L165" target="_blank" title="https://github.com/PatrickMassot/bigop/blob/master/src/bigop.lean#L165">https://github.com/PatrickMassot/bigop/blob/master/src/bigop.lean#L165</a>. The needs some polishing but the statement is nice.</p>

<a name="125595848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125595848" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125595848">Andrew Ashworth (Apr 24 2018 at 00:27)</a>:</h4>
<p>Will you eventually also formalize Kantorovitch’s theorem? The bigop paper mentions a whole bunch of results that seem to follow easily</p>

<a name="125609667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125609667" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125609667">Patrick Massot (Apr 24 2018 at 08:11)</a>:</h4>
<p>I'm not interested in numerical analysis but I certainly intend to continue working on (multi-variable) calculus at some point. And I really hope we will have some linear algebra in the not too far distant future (it's a bit embarrassing to have schemes but no finite dimensional vector spaces...)</p>

<a name="125611380"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125611380" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125611380">Kevin Buzzard (Apr 24 2018 at 09:00)</a>:</h4>
<p>Did you see the short proof of Cayley-Hamilton Patrick? I can't remember where I saw it -- was it actually in the paper you're reading?</p>

<a name="125612752"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125612752" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125612752">Patrick Massot (Apr 24 2018 at 09:36)</a>:</h4>
<p>It's mentioned in that paper but not spelled out</p>

<a name="125612754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125612754" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125612754">Patrick Massot (Apr 24 2018 at 09:36)</a>:</h4>
<p>I've already seen it though</p>

<a name="125612769"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/125612769" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#125612769">Patrick Massot (Apr 24 2018 at 09:37)</a>:</h4>
<p>But now I really need to work (understand an old paper by DBA Epstein which is not formalized, not even in automath)</p>

<a name="127198065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/127198065" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#127198065">Assia Mahboubi (May 28 2018 at 09:51)</a>:</h4>
<p>HI <span class="user-mention" data-user-id="110031">@Patrick Massot</span>! Cool, this looks really promising! However, I am afraid that the potential problems will not show up at this stage (if ever).  The tricky part is the predictability and robustness of the algorithm inferring the <em>instances</em>. So for instance (foobar example) when writing \sum_(1 &lt; p &lt;= n | p prime) f ( \prod(x \ I_n) x),  i.e. you have to infer and combine different instances of monoids, on different types.</p>

<a name="127198398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/127198398" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#127198398">Patrick Massot (May 28 2018 at 09:58)</a>:</h4>
<p>Hi Assia! Of course I have no idea how predictable and robust is the algorithm here. I only tried to use my lemmas in <a href="https://github.com/PatrickMassot/lean-scratchpad/blob/master/src/support.lean" target="_blank" title="https://github.com/PatrickMassot/lean-scratchpad/blob/master/src/support.lean">https://github.com/PatrickMassot/lean-scratchpad/blob/master/src/support.lean</a> where I got completely stuck because of natural numbers arithmetic (with the crazy non-properties of substraction). So I gave up and wait for <a href="https://github.com/skbaek/qelim" target="_blank" title="https://github.com/skbaek/qelim">https://github.com/skbaek/qelim</a> to become usable</p>

<a name="127198413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/127198413" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#127198413">Assia Mahboubi (May 28 2018 at 09:59)</a>:</h4>
<p>Thinking about more concrete benchmarks. A first test case could be the definition of the determinant of a matrix, as the sum over the elements of the symetric group, etc. Another good one might be Cayley Hamilton and friends (juggling with matrices of polynomials and polynomials over matrices).</p>

<a name="127198587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/127198587" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#127198587">Patrick Massot (May 28 2018 at 10:03)</a>:</h4>
<p>Ok, I will probably try to define determinants. Of course the problem is everything takes forever, and I also have real work to do...</p>

<a name="127198673"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bigop/near/127198673" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/05618bigop.html#127198673">Patrick Massot (May 28 2018 at 10:04)</a>:</h4>
<p>And it's lunch time</p>


{% endraw %}
