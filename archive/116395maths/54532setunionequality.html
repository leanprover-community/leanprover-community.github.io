---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/116395maths/54532setunionequality.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html">set union equality</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="125683378"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125683378" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125683378">Kevin Buzzard (Apr 25 2018 at 20:00)</a>:</h4>
<p><code>example (X : Type) (R : Type) (D : R → set X) (γ : Type) (f : γ → R) :
  ⋃₀(D '' set.range f) = ⋃ (i : γ), D (f i) := sorry</code></p>

<a name="125683386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125683386" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125683386">Kevin Buzzard (Apr 25 2018 at 20:00)</a>:</h4>
<p>I was rather hoping simp would do this one...</p>

<a name="125683389"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125683389" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125683389">Kevin Buzzard (Apr 25 2018 at 20:00)</a>:</h4>
<p>is there some lemma?</p>

<a name="125683403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125683403" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125683403">Kevin Buzzard (Apr 25 2018 at 20:01)</a>:</h4>
<p>or do I stick with my 25 line tactic proof :-/</p>

<a name="125683516"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125683516" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125683516">Mario Carneiro (Apr 25 2018 at 20:03)</a>:</h4>
<p>use <code>D '' range f = range (D o f)</code> and then hopefully <code>U range f = U i, f i</code> is a theorem</p>

<a name="125683659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125683659" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125683659">Kenny Lau (Apr 25 2018 at 20:06)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">set</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">(</span><span class="n">D</span> <span class="o">:</span> <span class="n">R</span> <span class="bp">→</span> <span class="n">set</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">γ</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">γ</span> <span class="bp">→</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span>
  <span class="err">⋃₀</span><span class="o">(</span><span class="n">D</span> <span class="err">&#39;&#39;</span> <span class="n">set</span><span class="bp">.</span><span class="n">range</span> <span class="n">f</span><span class="o">)</span> <span class="bp">=</span> <span class="err">⋃</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">γ</span><span class="o">),</span> <span class="n">D</span> <span class="o">(</span><span class="n">f</span> <span class="n">i</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">set</span><span class="bp">.</span><span class="n">ext</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">z</span><span class="o">,</span> <span class="bp">⟨λ</span> <span class="bp">⟨</span><span class="n">x1</span><span class="o">,</span> <span class="bp">⟨⟨</span><span class="n">x2</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">x3</span><span class="o">,</span> <span class="n">h1</span><span class="bp">⟩</span><span class="o">,</span> <span class="n">h2</span><span class="bp">⟩</span><span class="o">,</span> <span class="n">h3</span><span class="bp">⟩⟩</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">x1</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">x3</span><span class="o">,</span> <span class="n">h2</span> <span class="bp">▸</span> <span class="n">h1</span> <span class="bp">▸</span> <span class="n">rfl</span><span class="bp">⟩</span><span class="o">,</span> <span class="n">h3</span><span class="bp">⟩</span><span class="o">,</span>
<span class="bp">λ</span> <span class="bp">⟨</span><span class="n">x1</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">x2</span><span class="o">,</span> <span class="n">h1</span><span class="bp">⟩</span><span class="o">,</span> <span class="n">h3</span><span class="bp">⟩</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">x1</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">f</span> <span class="n">x2</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">x2</span><span class="o">,</span> <span class="n">rfl</span><span class="bp">⟩</span><span class="o">,</span> <span class="n">h1</span><span class="bp">.</span><span class="n">symm</span><span class="bp">⟩</span><span class="o">,</span> <span class="n">h3</span><span class="bp">⟩⟩</span>
</pre></div>

<a name="125683764"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125683764" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125683764">Kevin Buzzard (Apr 25 2018 at 20:08)</a>:</h4>
<p>That's my 25 line tactic proof!</p>

<a name="125683768"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125683768" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125683768">Kenny Lau (Apr 25 2018 at 20:08)</a>:</h4>
<p>interesting</p>

<a name="125683776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125683776" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125683776">Kevin Buzzard (Apr 25 2018 at 20:08)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="k">begin</span>
  <span class="n">apply</span> <span class="n">set</span><span class="bp">.</span><span class="n">ext</span><span class="o">,</span>
  <span class="n">intro</span> <span class="n">x</span><span class="o">,</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="n">intro</span> <span class="n">H</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">H</span> <span class="k">with</span> <span class="n">V</span> <span class="n">HV</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">HV</span> <span class="k">with</span> <span class="n">HV</span> <span class="n">HX</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">HV</span> <span class="k">with</span> <span class="n">r</span> <span class="n">HR</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">HR</span><span class="bp">.</span><span class="mi">1</span> <span class="k">with</span> <span class="n">i</span> <span class="n">Hi</span><span class="o">,</span>
  <span class="n">existsi</span> <span class="n">V</span><span class="o">,</span>
  <span class="n">existsi</span> <span class="bp">_</span><span class="o">,</span>
  <span class="n">assumption</span><span class="o">,</span>
  <span class="n">simp</span><span class="o">,</span>
  <span class="n">existsi</span> <span class="n">i</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">Hi</span><span class="o">,</span><span class="n">rw</span> <span class="n">HR</span><span class="bp">.</span><span class="mi">2</span><span class="o">,</span>

  <span class="n">intro</span> <span class="n">H</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">H</span> <span class="k">with</span> <span class="n">V</span> <span class="n">HV</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">HV</span> <span class="k">with</span> <span class="n">HV</span> <span class="n">Hx</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">HV</span> <span class="k">with</span> <span class="n">i</span> <span class="n">Hi</span><span class="o">,</span>
  <span class="n">existsi</span> <span class="n">V</span><span class="o">,</span>
  <span class="n">existsi</span> <span class="bp">_</span><span class="o">,</span>
  <span class="n">assumption</span><span class="o">,</span>
  <span class="n">existsi</span> <span class="o">(</span><span class="n">f</span> <span class="n">i</span><span class="o">),</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="n">simp</span><span class="o">,</span>
  <span class="n">existsi</span> <span class="n">i</span><span class="o">,</span>
  <span class="n">refl</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">Hi</span><span class="o">,</span>
<span class="kn">end</span>
</pre></div>

<a name="125683779"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125683779" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125683779">Kenny Lau (Apr 25 2018 at 20:08)</a>:</h4>
<p>use <code>rcases</code> :P</p>

<a name="125683783"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125683783" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125683783">Kevin Buzzard (Apr 25 2018 at 20:08)</a>:</h4>
<p>It must be, because we both start with the same line and then do nothing</p>

<a name="125683795"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125683795" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125683795">Kevin Buzzard (Apr 25 2018 at 20:09)</a>:</h4>
<p>other than following our nose</p>

<a name="125685487"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125685487" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125685487">Kevin Buzzard (Apr 25 2018 at 20:42)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">(</span><span class="n">D</span> <span class="o">:</span> <span class="n">R</span> <span class="bp">→</span> <span class="n">set</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">γ</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">γ</span> <span class="bp">→</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span>
  <span class="err">⋃₀</span><span class="o">(</span><span class="n">D</span> <span class="err">&#39;&#39;</span> <span class="n">set</span><span class="bp">.</span><span class="n">range</span> <span class="n">f</span><span class="o">)</span> <span class="bp">=</span> <span class="err">⋃</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">γ</span><span class="o">),</span> <span class="n">D</span> <span class="o">(</span><span class="n">f</span> <span class="n">i</span><span class="o">)</span> <span class="o">:=</span>
  <span class="k">begin</span>
  <span class="n">rw</span> <span class="o">[</span><span class="err">←</span><span class="n">set</span><span class="bp">.</span><span class="n">image_univ</span><span class="o">,</span><span class="err">←</span><span class="n">set</span><span class="bp">.</span><span class="n">image_comp</span><span class="o">],</span>
  <span class="k">show</span> <span class="err">⋃₀</span><span class="o">(</span><span class="n">D</span> <span class="err">∘</span> <span class="n">f</span> <span class="err">&#39;&#39;</span> <span class="n">set</span><span class="bp">.</span><span class="n">univ</span><span class="o">)</span> <span class="bp">=</span> <span class="err">⋃</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">γ</span><span class="o">),</span> <span class="o">(</span><span class="n">D</span> <span class="err">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">i</span><span class="o">,</span>
  <span class="n">simp</span> <span class="o">[</span><span class="n">set</span><span class="bp">.</span><span class="n">Union_eq_sUnion_image</span><span class="o">],</span>
  <span class="kn">end</span>
</pre></div>

<a name="125685555"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125685555" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125685555">Kevin Buzzard (Apr 25 2018 at 20:44)</a>:</h4>
<p>don't even need the show</p>

<a name="125685585"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125685585" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125685585">Kevin Buzzard (Apr 25 2018 at 20:45)</a>:</h4>
<p>Mario's insight is that we reduce the number of functions from 2 to 1 and then simp can handle it</p>

<a name="125685871"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125685871" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125685871">Kenny Lau (Apr 25 2018 at 20:50)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">set</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">(</span><span class="n">D</span> <span class="o">:</span> <span class="n">R</span> <span class="bp">→</span> <span class="n">set</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">γ</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">γ</span> <span class="bp">→</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span>
  <span class="err">⋃₀</span><span class="o">(</span><span class="n">D</span> <span class="err">&#39;&#39;</span> <span class="n">set</span><span class="bp">.</span><span class="n">range</span> <span class="n">f</span><span class="o">)</span> <span class="bp">=</span> <span class="err">⋃</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">γ</span><span class="o">),</span> <span class="n">D</span> <span class="o">(</span><span class="n">f</span> <span class="n">i</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">set</span><span class="bp">.</span><span class="n">Union_eq_sUnion_image</span><span class="o">,</span> <span class="err">←</span> <span class="n">set</span><span class="bp">.</span><span class="n">range_comp</span><span class="o">]</span>
</pre></div>

<a name="125685873"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125685873" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125685873">Kenny Lau (Apr 25 2018 at 20:50)</a>:</h4>
<p>do I win?</p>

<a name="125686366"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125686366" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125686366">Kevin Buzzard (Apr 25 2018 at 20:59)</a>:</h4>
<p><a href="/user_uploads/3121/wqULCViCYbpmWIeiX5WCeQ76/IMG_20180425_113712650.jpg" target="_blank" title="IMG_20180425_113712650.jpg">IMG_20180425_113712650.jpg</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/wqULCViCYbpmWIeiX5WCeQ76/IMG_20180425_113712650.jpg" target="_blank" title="IMG_20180425_113712650.jpg"><img src="/user_uploads/3121/wqULCViCYbpmWIeiX5WCeQ76/IMG_20180425_113712650.jpg"></a></div>

<a name="125686376"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125686376" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125686376">Kevin Buzzard (Apr 25 2018 at 20:59)</a>:</h4>
<p>saw that on the way in today and thought of you</p>

<a name="125697140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125697140" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125697140">Scott Morrison (Apr 26 2018 at 01:06)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> your 25 line tactic proof doesn't seem to work (fails at <code>cases H with V HV,</code>). I was curious how my tactics cope with this one. :-)</p>

<a name="125697303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125697303" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125697303">Mario Carneiro (Apr 26 2018 at 01:11)</a>:</h4>
<p>works for me</p>

<a name="125697366"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125697366" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125697366">Mario Carneiro (Apr 26 2018 at 01:12)</a>:</h4>
<div class="codehilite"><pre><span></span>import data.set.lattice

example (X : Type) (R : Type) (D : R → set X) (γ : Type) (f : γ → R) :
  ⋃₀(D &#39;&#39; set.range f) = ⋃ (i : γ), D (f i) :=
begin
  apply set.ext,
  ... +25 lines
end
</pre></div>

<a name="125712128"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712128" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712128">Kevin Buzzard (Apr 26 2018 at 09:34)</a>:</h4>
<p>Simon's code in the cases thread didn't work for me without a minor fix</p>

<a name="125712129"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712129" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712129">Kevin Buzzard (Apr 26 2018 at 09:34)</a>:</h4>
<p>I wonder whether we are using different versions of Lean</p>

<a name="125712137"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712137" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712137">Mario Carneiro (Apr 26 2018 at 09:35)</a>:</h4>
<p>I'm running 04-20 now, along with the latest mathlib. Are you?</p>

<a name="125712138"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712138" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712138">Kevin Buzzard (Apr 26 2018 at 09:35)</a>:</h4>
<p>you are no doubt bleeding edge, I am enjoying the stability of 4-06</p>

<a name="125712140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712140" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712140">Kevin Buzzard (Apr 26 2018 at 09:35)</a>:</h4>
<p>Upgrading is such a chore</p>

<a name="125712141"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712141" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712141">Kevin Buzzard (Apr 26 2018 at 09:35)</a>:</h4>
<p>I need to do it on three machines</p>

<a name="125712142"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712142" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712142">Kevin Buzzard (Apr 26 2018 at 09:35)</a>:</h4>
<p>and make all the olean files</p>

<a name="125712144"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712144" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712144">Kevin Buzzard (Apr 26 2018 at 09:35)</a>:</h4>
<p>and I just want to concentrate on getting schemes done</p>

<a name="125712184"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712184" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712184">Kevin Buzzard (Apr 26 2018 at 09:36)</a>:</h4>
<p>Everything is taking longer than expected</p>

<a name="125712188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712188" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712188">Kevin Buzzard (Apr 26 2018 at 09:36)</a>:</h4>
<p>because I have a bunch of commutative diagrams / exact sequences</p>

<a name="125712189"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712189" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712189">Kevin Buzzard (Apr 26 2018 at 09:36)</a>:</h4>
<p>and I continually want to replace an object with a canonically isomorphic object</p>

<a name="125712190"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712190" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712190">Kevin Buzzard (Apr 26 2018 at 09:36)</a>:</h4>
<p>and claim that everything is still commutative / exact</p>

<a name="125712195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712195" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712195">Kevin Buzzard (Apr 26 2018 at 09:37)</a>:</h4>
<p>I hate computers</p>

<a name="125712206"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712206" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712206">Kevin Buzzard (Apr 26 2018 at 09:37)</a>:</h4>
<p>In maths you just say it works and nobody even notices</p>

<a name="125712261"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712261" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712261">Mario Carneiro (Apr 26 2018 at 09:38)</a>:</h4>
<p>My instinct always says there's a proof architectural solution to such problems</p>

<a name="125712268"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712268" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712268">Mario Carneiro (Apr 26 2018 at 09:39)</a>:</h4>
<p>but sometimes you just have to do it the long way a few times before you can see the pattern</p>

<a name="125712269"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712269" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712269">Mario Carneiro (Apr 26 2018 at 09:39)</a>:</h4>
<p>but once you identify the pattern, it's a short hop to formalized patterns and then lemmas that save you the boilerplate work</p>

<a name="125712538"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712538" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712538">Kevin Buzzard (Apr 26 2018 at 09:48)</a>:</h4>
<p>It is that way of thinking which led me to all this "unique-R-algebra-hom" stuff</p>

<a name="125712543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712543" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712543">Kevin Buzzard (Apr 26 2018 at 09:49)</a>:</h4>
<p>The proofs that the diagrams commute are just "this is a map with a property, so it's the only map with the property, so it's equal to the map we want"</p>

<a name="125712549"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712549" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712549">Kevin Buzzard (Apr 26 2018 at 09:49)</a>:</h4>
<p>I think a mathematician would instinctively prove commutativity using a diagram chase</p>

<a name="125712552"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712552" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712552">Kevin Buzzard (Apr 26 2018 at 09:49)</a>:</h4>
<p>"where does this element go? This way it goes here, that way it goes there, oh look they're the same"</p>

<a name="125712555"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712555" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712555">Kevin Buzzard (Apr 26 2018 at 09:50)</a>:</h4>
<p>but seeing as I have a pathological fear of quotient types I had to find another way</p>

<a name="125712597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712597" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712597">Mario Carneiro (Apr 26 2018 at 09:50)</a>:</h4>
<p>I think that was a good idea on your part</p>

<a name="125712599"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712599" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712599">Kevin Buzzard (Apr 26 2018 at 09:50)</a>:</h4>
<p>I don't think my universal property methods are much quicker</p>

<a name="125712601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712601" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712601">Kevin Buzzard (Apr 26 2018 at 09:50)</a>:</h4>
<p>in the sense that if I asked Kenny to prove the diagrams commute he would just do the chase</p>

<a name="125712602"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712602" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712602">Kevin Buzzard (Apr 26 2018 at 09:50)</a>:</h4>
<p>and the proof would be about as long, I suspect</p>

<a name="125712603"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712603" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712603">Kevin Buzzard (Apr 26 2018 at 09:51)</a>:</h4>
<p>but my methods are easier to explain</p>

<a name="125712608"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712608" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712608">Mario Carneiro (Apr 26 2018 at 09:51)</a>:</h4>
<p>I think Kenny is good at getting to the end, but he needs to work on his long game</p>

<a name="125712609"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712609" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712609">Kevin Buzzard (Apr 26 2018 at 09:51)</a>:</h4>
<p>they just involve setting type class inference resolution depth to 93 occasionally ;-)</p>

<a name="125712654"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712654" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712654">Mario Carneiro (Apr 26 2018 at 09:52)</a>:</h4>
<p>there is a lot more possibility for "golfing" at the large scale, planning out the right lemmas that give you the most bang for the buck</p>

<a name="125712668"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712668" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712668">Mario Carneiro (Apr 26 2018 at 09:53)</a>:</h4>
<p>and that's where stuff like <code>is_unique_R_hom</code> come in</p>

<a name="125712717"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712717" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712717">Mario Carneiro (Apr 26 2018 at 09:54)</a>:</h4>
<p>I think the difference between Kenny's and my answer to your union-image-range question demonstrate this well</p>

<a name="125712726"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712726" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712726">Mario Carneiro (Apr 26 2018 at 09:55)</a>:</h4>
<p>on the one hand you can use matches and rfl and anonymous instances to just write out the whole thing from first principles, it's not so hard</p>

<a name="125712729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712729" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712729">Mario Carneiro (Apr 26 2018 at 09:55)</a>:</h4>
<p>and on the other you could chain together two lemmas that were written exactly for the purpose</p>

<a name="125712781"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712781" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712781">Mario Carneiro (Apr 26 2018 at 09:57)</a>:</h4>
<p>I think it's a bit unfortunate that proofs from lemmas lose a lot relative to proofs using basic dependent type theory simply because they have names (and lean's naming convention averages 20 characters or so)</p>

<a name="125712827"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125712827" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125712827">Mario Carneiro (Apr 26 2018 at 09:58)</a>:</h4>
<p>which is a bit misleading since something like <code>λ ⟨a, b⟩,</code> is actually quite a bit more complicated under the hood than it looks</p>

<a name="125713016"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125713016" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125713016">Kevin Buzzard (Apr 26 2018 at 10:04)</a>:</h4>
<p>In practice, my current problem is that I now know enough about the system to be able to prove these things from first principles, I know that ideally this is not what I should be doing, but I do not have an encyclopedic knowledge of the lemmas which are there and to be honest I am unclear about the roadmap for getting this knowledge.</p>

<a name="125713017"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125713017" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125713017">Kevin Buzzard (Apr 26 2018 at 10:04)</a>:</h4>
<p>I am not even sure this qualifies as a "problem"</p>

<a name="125713020"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125713020" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125713020">Kevin Buzzard (Apr 26 2018 at 10:04)</a>:</h4>
<p>but we saw it twice yesterday</p>

<a name="125713032"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125713032" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125713032">Kevin Buzzard (Apr 26 2018 at 10:05)</a>:</h4>
<p>My ability to retain information is not what it was; I can read the source code and think "oh that is cool" but then not remember everything that is there, unlike when I was in my 20s</p>

<a name="125713034"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125713034" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125713034">Kevin Buzzard (Apr 26 2018 at 10:06)</a>:</h4>
<p>I need to develop (as Kenny once pointed out) a good feeling for "what _should_ be there"</p>

<a name="125713071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125713071" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125713071">Kevin Buzzard (Apr 26 2018 at 10:06)</a>:</h4>
<p>and then simply check that it is</p>

<a name="125713078"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125713078" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125713078">Kevin Buzzard (Apr 26 2018 at 10:06)</a>:</h4>
<p>Having said all that, I would rather be here than where I was 6 months ago</p>

<a name="125713079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125713079" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125713079">Kevin Buzzard (Apr 26 2018 at 10:06)</a>:</h4>
<p>where I had to ask because I simply had no idea how to prove what I needed</p>

<a name="125713198"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125713198" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125713198">Mario Carneiro (Apr 26 2018 at 10:10)</a>:</h4>
<p>I agree with kenny's quote. I certainly don't remember all the lemmas in mathlib, I just think about the things that should exist and make sure they are actually there. Your question about the union-image-range seems like a step in the right direction, you are getting the sense for what form the lemmas should take, but in that case union-image-range is three things and I like lemmas to talk about two things</p>

<a name="125713211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125713211" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125713211">Kevin Buzzard (Apr 26 2018 at 10:11)</a>:</h4>
<p>One thing that has helped me terrifically is trying to use Kenny's localization work, because it was written in a completely different style to mathlib. Rather than being written by someone who knew everything and wanted to write an interface, it was written by someone who knew nothing and was learning the material.</p>

<a name="125713250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125713250" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125713250">Kevin Buzzard (Apr 26 2018 at 10:12)</a>:</h4>
<p>In practice I said to Kenny "can you please give me a function which given a ring R and a multiplicative subset S, returns the ring R[1/S]"</p>

<a name="125713251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125713251" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125713251">Mario Carneiro (Apr 26 2018 at 10:12)</a>:</h4>
<p>As far as what you should learn by reading printouts, I would say focus on definitions, that's the core around which the lemmas are built</p>

<a name="125713254"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125713254" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125713254">Kevin Buzzard (Apr 26 2018 at 10:12)</a>:</h4>
<p>and he said "sure" and a day or so later I had that ring</p>

<a name="125713257"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125713257" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125713257">Kevin Buzzard (Apr 26 2018 at 10:12)</a>:</h4>
<p>and then I realised I could do nothing with it</p>

<a name="125713259"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125713259" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125713259">Kevin Buzzard (Apr 26 2018 at 10:13)</a>:</h4>
<p>so I kept asking for more and he kept making it (basically by return of post)</p>

<a name="125713269"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125713269" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125713269">Kevin Buzzard (Apr 26 2018 at 10:13)</a>:</h4>
<p>and by the end of it I had a feeling for what it meant to build a mathlib file</p>

<a name="125713313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125713313" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125713313">Mario Carneiro (Apr 26 2018 at 10:14)</a>:</h4>
<p>writing for others is definitely harder than writing for yourself</p>

<a name="125713314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125713314" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125713314">Kevin Buzzard (Apr 26 2018 at 10:14)</a>:</h4>
<p>focus on definitions -- thanks for the tip!</p>

<a name="125713319"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125713319" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125713319">Kevin Buzzard (Apr 26 2018 at 10:14)</a>:</h4>
<p>writing for others -- Kenny and I have worked really well as a team, I knew the maths and he did the dirty work</p>

<a name="125713322"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125713322" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125713322">Mario Carneiro (Apr 26 2018 at 10:14)</a>:</h4>
<p>you can look at the lemmas, but your reaction to them should be "oh, well of course"</p>

<a name="125713381"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125713381" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125713381">Kevin Buzzard (Apr 26 2018 at 10:17)</a>:</h4>
<p>and the really cool thing about the localization stuff was once he'd done the really primitive dirty work of proving that some map had some universal property, all the other universal properties which people used in practice could be deduced from Kenny's, and I could write that code myself</p>

<a name="125713386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125713386" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125713386">Kevin Buzzard (Apr 26 2018 at 10:17)</a>:</h4>
<p>you have probably seen this phenomenon before</p>

<a name="125713388"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125713388" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125713388">Kevin Buzzard (Apr 26 2018 at 10:17)</a>:</h4>
<p>technical code full of [[ ]] and quot.sound or whatever to get stuff off the ground</p>

<a name="125713389"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125713389" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125713389">Kevin Buzzard (Apr 26 2018 at 10:17)</a>:</h4>
<p>but then the proofs get more conceptual after a while</p>

<a name="125713390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125713390" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125713390">Mario Carneiro (Apr 26 2018 at 10:17)</a>:</h4>
<p>oh yes</p>

<a name="125713430"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125713430" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125713430">Mario Carneiro (Apr 26 2018 at 10:18)</a>:</h4>
<p>I expect that outside the free_group file we will never see <code>list (A x bool)</code></p>

<a name="125713434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125713434" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125713434">Kevin Buzzard (Apr 26 2018 at 10:18)</a>:</h4>
<p>it's been a fascinating learning experience.</p>

<a name="125718755"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125718755" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125718755">Scott Morrison (Apr 26 2018 at 13:14)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">(</span><span class="n">D</span> <span class="o">:</span> <span class="n">R</span> <span class="bp">→</span> <span class="n">set</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">γ</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">γ</span> <span class="bp">→</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span>
  <span class="err">⋃₀</span><span class="o">(</span><span class="n">D</span> <span class="err">&#39;&#39;</span> <span class="n">set</span><span class="bp">.</span><span class="n">range</span> <span class="n">f</span><span class="o">)</span> <span class="bp">=</span> <span class="err">⋃</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">γ</span><span class="o">),</span> <span class="n">D</span> <span class="o">(</span><span class="n">f</span> <span class="n">i</span><span class="o">)</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">obviously</span>
</pre></div>

<a name="125732464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125732464" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125732464">Kevin Buzzard (Apr 26 2018 at 18:53)</a>:</h4>
<p>Well it does look obvious to me.</p>

<a name="125732467"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125732467" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125732467">Kevin Buzzard (Apr 26 2018 at 18:53)</a>:</h4>
<p>I think we are probably a long way from a tactic which will be able to prove everything which looks obvious to me</p>

<a name="125732471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125732471" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125732471">Kevin Buzzard (Apr 26 2018 at 18:53)</a>:</h4>
<p>but I want to start along down that road.</p>

<a name="125732521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125732521" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125732521">Patrick Massot (Apr 26 2018 at 18:54)</a>:</h4>
<p>Kevin,  you may have missed the point</p>

<a name="125732527"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125732527" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125732527">Patrick Massot (Apr 26 2018 at 18:54)</a>:</h4>
<p>Scott <em>does</em> have a tactic called <code>obviously</code> which does the job here</p>

<a name="125732559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125732559" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125732559">Patrick Massot (Apr 26 2018 at 18:55)</a>:</h4>
<p><a href="https://github.com/semorrison/lean-tidy/blob/f2303e5376c3520d4432fd073fdb1fd0dfb1f8a8/examples/20180426-kbuzzard.lean" target="_blank" title="https://github.com/semorrison/lean-tidy/blob/f2303e5376c3520d4432fd073fdb1fd0dfb1f8a8/examples/20180426-kbuzzard.lean">https://github.com/semorrison/lean-tidy/blob/f2303e5376c3520d4432fd073fdb1fd0dfb1f8a8/examples/20180426-kbuzzard.lean</a></p>

<a name="125732580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125732580" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125732580">Patrick Massot (Apr 26 2018 at 18:55)</a>:</h4>
<p><a href="https://github.com/semorrison/lean-tidy/blob/b8c6661d4ea74d5e8b5df25b2225f4353e5c6bf5/src/tidy/tidy.lean#L136" target="_blank" title="https://github.com/semorrison/lean-tidy/blob/b8c6661d4ea74d5e8b5df25b2225f4353e5c6bf5/src/tidy/tidy.lean#L136">https://github.com/semorrison/lean-tidy/blob/b8c6661d4ea74d5e8b5df25b2225f4353e5c6bf5/src/tidy/tidy.lean#L136</a></p>

<a name="125732772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125732772" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125732772">Kevin Buzzard (Apr 26 2018 at 18:59)</a>:</h4>
<p>right</p>

<a name="125732776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125732776" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125732776">Kevin Buzzard (Apr 26 2018 at 19:00)</a>:</h4>
<p>but unfortunately I suspect that it will not prove _everything_ which is obvious</p>

<a name="125732826"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125732826" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125732826">Patrick Massot (Apr 26 2018 at 19:00)</a>:</h4>
<p>He's working on it</p>

<a name="125732858"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125732858" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125732858">Kevin Buzzard (Apr 26 2018 at 19:01)</a>:</h4>
<p>In particular I bet it won't prove that if there exists a,b,c,d nats with <code>a^2+b^2+c^2+d^2 = 2n</code> then there exists <code>w x y z</code> nats with <code>w^2+x^2+y^2+z^2=2n</code> and <code>w^2+x^2</code> even</p>

<a name="125750337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125750337" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125750337">Scott Morrison (Apr 27 2018 at 02:13)</a>:</h4>
<p>It would be nice to have a better name than <code>obviously</code>. Suggestions welcome. <code>follow_your_nose</code> is a a possibility :-)</p>

<a name="125750401"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125750401" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125750401">Scott Morrison (Apr 27 2018 at 02:15)</a>:</h4>
<p>I think your <code>a^2+b^2+c^2+d^2 = 2n</code> is far from "obvious" in this sense. I mean, it's easy, but I don't think "let's think about the parity of the numbers, and the multiplicities of the parities, and solve the problem merely by permuting" counts as "following your nose".</p>

<a name="125750639"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125750639" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125750639">Simon Hudon (Apr 27 2018 at 02:23)</a>:</h4>
<p><code>left_as_an_exercise_to_the_reader</code></p>

<a name="125750695"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125750695" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125750695">Simon Hudon (Apr 27 2018 at 02:24)</a>:</h4>
<p>Or <code>beside_the_point</code></p>

<a name="125750703"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125750703" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125750703">Simon Hudon (Apr 27 2018 at 02:25)</a>:</h4>
<p>or <code>omitted</code></p>

<a name="125751085"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125751085" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125751085">Mario Carneiro (Apr 27 2018 at 02:37)</a>:</h4>
<p>I think <code>by beside_the_point</code> is a hilarious substitute for <code>sorry</code></p>

<a name="125751140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125751140" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125751140">Mario Carneiro (Apr 27 2018 at 02:38)</a>:</h4>
<p>but none of those suggest that the proof is actually done automatically</p>

<a name="125751148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125751148" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125751148">Simon Hudon (Apr 27 2018 at 02:38)</a>:</h4>
<p>How about <code>magic</code> or <code>automagic</code>? :D</p>

<a name="125751215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125751215" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125751215">Simon Hudon (Apr 27 2018 at 02:40)</a>:</h4>
<p>I think I might like <code>chocolate</code> even better, since Uncyclopedia mentions it's a respectable proof technique:</p>
<p><a href="http://uncyclopedia.wikia.com/wiki/Proof" target="_blank" title="http://uncyclopedia.wikia.com/wiki/Proof">http://uncyclopedia.wikia.com/wiki/Proof</a></p>

<a name="125752084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125752084" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125752084">Mario Carneiro (Apr 27 2018 at 03:10)</a>:</h4>
<p>Here's a nice proof of that statement: Given any three numbers <code>a b c</code>, I claim that the sum of two of them is even. If <code>a+b</code> is odd, and <code>a+c</code> is odd, and <code>b+c</code> is odd, then <code>(a+b)+(a+c)+(b+c)=2*(a+b+c)</code> is odd, a contradiction.</p>

<a name="125752135"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125752135" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125752135">Mario Carneiro (Apr 27 2018 at 03:12)</a>:</h4>
<p>To do this formally you only need to know that every number is even or odd and apply it three times, and then do some simple algebra at the end</p>

<a name="125752144"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/set%20union%20equality/near/125752144" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/54532setunionequality.html#125752144">Mario Carneiro (Apr 27 2018 at 03:12)</a>:</h4>
<p>also you have to know parity rules for adding even and odd</p>


{% endraw %}
