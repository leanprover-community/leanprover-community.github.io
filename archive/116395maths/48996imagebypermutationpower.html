---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/116395maths/48996imagebypermutationpower.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html">image by permutation power</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="125188730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125188730" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125188730">Patrick Massot (Apr 17 2018 at 09:02)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">variables</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">perm</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">U</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">)</span>
<span class="bp">#</span><span class="kn">check</span> <span class="n">g</span> <span class="err">&#39;&#39;</span> <span class="n">U</span>         <span class="c1">-- set α</span>
<span class="bp">#</span><span class="kn">check</span> <span class="n">g</span><span class="err">^</span><span class="n">i</span>             <span class="c1">-- perm α</span>
<span class="bp">#</span><span class="kn">check</span> <span class="n">g</span><span class="err">^</span><span class="n">i</span> <span class="err">&#39;&#39;</span> <span class="n">U</span>     <span class="c1">-- maximum class-instance resolution depth has been reached</span>
</pre></div>


<p>I tried adding various type annotations and parentheses, getting a variety of error messages but no luck</p>

<a name="125188792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125188792" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125188792">Patrick Massot (Apr 17 2018 at 09:04)</a>:</h4>
<p>Trying <code>(g^i) '' U</code> is probably a better start</p>

<a name="125188794"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125188794" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125188794">Patrick Massot (Apr 17 2018 at 09:04)</a>:</h4>
<p>But then g is coerced to function too early</p>

<a name="125188808"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125188808" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125188808">Patrick Massot (Apr 17 2018 at 09:05)</a>:</h4>
<p>Is this related to the recent changes to powers?</p>

<a name="125188854"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125188854" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125188854">Mario Carneiro (Apr 17 2018 at 09:07)</a>:</h4>
<p>did you try <code>((g^i:perm α):set α) '' U</code>?</p>

<a name="125188856"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125188856" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125188856">Kenny Lau (Apr 17 2018 at 09:07)</a>:</h4>
<p>but g^i isn't a set</p>

<a name="125188901"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125188901" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125188901">Patrick Massot (Apr 17 2018 at 09:08)</a>:</h4>
<p>He means <code>(g^i : perm α) '' U : set α</code></p>

<a name="125188902"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125188902" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125188902">Patrick Massot (Apr 17 2018 at 09:08)</a>:</h4>
<p>That works indeed</p>

<a name="125188905"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125188905" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125188905">Mario Carneiro (Apr 17 2018 at 09:08)</a>:</h4>
<p>huh. You're right, that's nonsense, but lean is okay with it for some reason</p>

<a name="125188915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125188915" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125188915">Patrick Massot (Apr 17 2018 at 09:09)</a>:</h4>
<p>Of course I tried <code>(g^i : perm α) '' U</code></p>

<a name="125188960"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125188960" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125188960">Patrick Massot (Apr 17 2018 at 09:10)</a>:</h4>
<p>But didn't think of giving <code>: set α</code> at the end</p>

<a name="125188966"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125188966" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125188966">Mario Carneiro (Apr 17 2018 at 09:10)</a>:</h4>
<p>This is weird. Apparently the second type ascription isn't checked at all, the only important thing is that it's a function type so <code>coe_fn</code> is inserted</p>

<a name="125188968"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125188968" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125188968">Mario Carneiro (Apr 17 2018 at 09:10)</a>:</h4>
<div class="codehilite"><pre><span></span>#check ((g^i:perm α):_ → unit) &#39;&#39; U --ok
</pre></div>

<a name="125188969"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125188969" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125188969">Patrick Massot (Apr 17 2018 at 09:10)</a>:</h4>
<p>At least I can continue. But I'd be interested in a shorter way</p>

<a name="125188972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125188972" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125188972">Patrick Massot (Apr 17 2018 at 09:10)</a>:</h4>
<p>wow</p>

<a name="125188973"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125188973" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125188973">Patrick Massot (Apr 17 2018 at 09:10)</a>:</h4>
<p>strange</p>

<a name="125189026"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125189026" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125189026">Patrick Massot (Apr 17 2018 at 09:12)</a>:</h4>
<p><code>#check (↑(g^i : perm α)) '' U </code> also works</p>

<a name="125189033"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125189033" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125189033">Patrick Massot (Apr 17 2018 at 09:13)</a>:</h4>
<p><code>#check ↑(g^i) '' U</code> also!</p>

<a name="125189037"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125189037" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125189037">Mario Carneiro (Apr 17 2018 at 09:13)</a>:</h4>
<p><code>#check ⇑(g^i) '' U</code></p>

<a name="125189102"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125189102" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125189102">Patrick Massot (Apr 17 2018 at 09:15)</a>:</h4>
<p>Do you understand what happens?</p>

<a name="125189157"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125189157" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125189157">Patrick Massot (Apr 17 2018 at 09:17)</a>:</h4>
<p>Actually I think it's not so far from stuff we already saw (but without me understanding enough to handle new instances of the problem)</p>

<a name="125189199"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125189199" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125189199">Mario Carneiro (Apr 17 2018 at 09:18)</a>:</h4>
<p>The explicit coercion gives no information to the expected type on the inside, so <code>g^i : _</code> is inferred to <code>g^i : perm A</code> (usually it goes the other way around), so <code>⇑(g^i)</code> gets the coe_fn instance for <code>perm A</code> which is <code>A -&gt; A</code>, and it's simple from then on</p>

<a name="125189254"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125189254" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125189254">Patrick Massot (Apr 17 2018 at 09:20)</a>:</h4>
<p>And what happens when it does not work?</p>

<a name="125189263"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125189263" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125189263">Patrick Massot (Apr 17 2018 at 09:21)</a>:</h4>
<p>I mean when we don't help Lean at all</p>

<a name="125189364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125189364" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125189364">Mario Carneiro (Apr 17 2018 at 09:24)</a>:</h4>
<p>Without a literal arrow, it first assumes the types match up. So <code>(g^i) '' U : _</code> infers <code>set ?B</code> where <code>g^i : A -&gt; ?B</code> (using <code>U : set A</code>). By the type of <code>^</code> we get <code>g : A -&gt; ?B</code> and <code>i : ?C</code> which solves to <code>i : nat</code> and a coercion is inserted for <code>g</code> so <code>⇑g : A -&gt; A</code>. Finally, it tries to find <code>has_pow (A -&gt; A) nat</code> and no such instance exists.</p>

<a name="125189513"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125189513" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125189513">Patrick Massot (Apr 17 2018 at 09:29)</a>:</h4>
<p>Thanks</p>

<a name="125189574"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125189574" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125189574">Patrick Massot (Apr 17 2018 at 09:30)</a>:</h4>
<p>Would it make any sense to try to define a coercion from <code>perm X</code> to <code>set X -&gt; set X</code> and hope Lean would use that if I write <code>g U</code> or <code>g^i U</code>?</p>

<a name="125189585"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125189585" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125189585">Mario Carneiro (Apr 17 2018 at 09:31)</a>:</h4>
<p>The original instance resolution overflow is due to <code>g^i '' U</code> which by precedence quirks means <code>g ^ (i '' U)</code>; it gets caught in a loop looking for <code>has_coe_to_fun nat</code> for some reason</p>

<a name="125189597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125189597" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125189597">Patrick Massot (Apr 17 2018 at 09:31)</a>:</h4>
<p>Yes, I understood that bit</p>

<a name="125189642"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125189642" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125189642">Mario Carneiro (Apr 17 2018 at 09:32)</a>:</h4>
<p>No, <code>coe_fn</code> only takes one argument, the domain, unlike <code>coe</code> which has domain and target</p>

<a name="125189652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125189652" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125189652">Patrick Massot (Apr 17 2018 at 09:32)</a>:</h4>
<p>Not sure why <code>''</code> has higher precedence than <code>^</code> though</p>

<a name="125189653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125189653" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125189653">Mario Carneiro (Apr 17 2018 at 09:32)</a>:</h4>
<p>so you can only coerce to one kind of function for a given object</p>

<a name="125189661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125189661" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125189661">Patrick Massot (Apr 17 2018 at 09:32)</a>:</h4>
<p>What about using the general <code>has_coe</code>?</p>

<a name="125189671"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125189671" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125189671">Mario Carneiro (Apr 17 2018 at 09:33)</a>:</h4>
<p>it's way too underdetermined, I think</p>

<a name="125189676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125189676" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125189676">Patrick Massot (Apr 17 2018 at 09:33)</a>:</h4>
<p>That's what I feared</p>

<a name="125189678"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125189678" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125189678">Mario Carneiro (Apr 17 2018 at 09:33)</a>:</h4>
<p>Any function can be treated as a set function by applying <code>image</code></p>

<a name="125189681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125189681" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125189681">Mario Carneiro (Apr 17 2018 at 09:33)</a>:</h4>
<p>it's basically just a functor</p>

<a name="125189684"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125189684" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125189684">Mario Carneiro (Apr 17 2018 at 09:33)</a>:</h4>
<p>and there are loads of those</p>

<a name="125189686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125189686" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125189686">Kenny Lau (Apr 17 2018 at 09:33)</a>:</h4>
<p>I heard functor</p>

<a name="125189728"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125189728" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125189728">Patrick Massot (Apr 17 2018 at 09:34)</a>:</h4>
<p>Even without the perm layer, this <code>f '' U</code> notation is definitely the part of my file that looks further away from usual mathematical notation</p>

<a name="125189741"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125189741" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125189741">Mario Carneiro (Apr 17 2018 at 09:34)</a>:</h4>
<p>I know at least one math book which uses double open quotes as an infix operator for image</p>

<a name="125189744"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125189744" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125189744">Patrick Massot (Apr 17 2018 at 09:35)</a>:</h4>
<p>really?</p>

<a name="125189754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125189754" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125189754">Mario Carneiro (Apr 17 2018 at 09:35)</a>:</h4>
<p>Takeuti-Zaring Axiomatic Set Theory :P</p>

<a name="125189760"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125189760" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125189760">Patrick Massot (Apr 17 2018 at 09:35)</a>:</h4>
<p>I guess it makes sense to have some kind of specific notation for beginners</p>

<a name="125189762"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125189762" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125189762">Patrick Massot (Apr 17 2018 at 09:35)</a>:</h4>
<p>I see</p>

<a name="125189764"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125189764" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125189764">Patrick Massot (Apr 17 2018 at 09:35)</a>:</h4>
<p>that kind of books</p>

<a name="125189766"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125189766" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125189766">Mario Carneiro (Apr 17 2018 at 09:35)</a>:</h4>
<p>I think it's more about unambiguous notation</p>

<a name="125189767"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125189767" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125189767">Mario Carneiro (Apr 17 2018 at 09:36)</a>:</h4>
<p>it's not a beginners book</p>

<a name="125189808"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125189808" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125189808">Patrick Massot (Apr 17 2018 at 09:36)</a>:</h4>
<p>It seems to be a set theory book</p>

<a name="125189814"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125189814" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125189814">Patrick Massot (Apr 17 2018 at 09:37)</a>:</h4>
<p>of course if you pretend to be serious when you say everything is a set then you need contortions everywhere</p>

<a name="125189821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125189821" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125189821">Mario Carneiro (Apr 17 2018 at 09:37)</a>:</h4>
<p>Or if you pretend to be serious when you say everything you write is well typed</p>

<a name="125192260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192260" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192260">Kevin Buzzard (Apr 17 2018 at 10:58)</a>:</h4>
<p>This is all (both Patrick's coercion issue and the weird '' notation) part of one underlying problem.</p>

<a name="125192262"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192262" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192262">Kevin Buzzard (Apr 17 2018 at 10:58)</a>:</h4>
<p>Mathematicians have developed a really good system for overloading notation</p>

<a name="125192274"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192274" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192274">Kevin Buzzard (Apr 17 2018 at 10:59)</a>:</h4>
<p>Patrick is exactly right about '' -- I've never seen it used to mean image so it doesn't surprise me that he hasn't, and it also doesn't surprise me that the only place Mario has is some set theory book (as opposed to what Patrick and I would call mathematics)</p>

<a name="125192283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192283" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192283">Kevin Buzzard (Apr 17 2018 at 10:59)</a>:</h4>
<p>In maths the notation for the image of U under f : X -&gt; Y is of course just f(U)</p>

<a name="125192284"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192284" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192284">Kevin Buzzard (Apr 17 2018 at 10:59)</a>:</h4>
<p>but I am well aware that life is not so easy in Lean</p>

<a name="125192329"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192329" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192329">Kevin Buzzard (Apr 17 2018 at 11:00)</a>:</h4>
<p>What the current fix seems to be is this exotic type class system plus clever coercions</p>

<a name="125192331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192331" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192331">Kevin Buzzard (Apr 17 2018 at 11:00)</a>:</h4>
<p>I must be frank</p>

<a name="125192332"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192332" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192332">Kevin Buzzard (Apr 17 2018 at 11:00)</a>:</h4>
<p>I am not sure that it scales</p>

<a name="125192335"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192335" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192335">Kevin Buzzard (Apr 17 2018 at 11:00)</a>:</h4>
<p>I have seen problems with diamonds</p>

<a name="125192337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192337" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192337">Kevin Buzzard (Apr 17 2018 at 11:00)</a>:</h4>
<p>I have seen problems with the wrong coercion being chosen</p>

<a name="125192343"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192343" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192343">Kevin Buzzard (Apr 17 2018 at 11:00)</a>:</h4>
<p>so my instinct is to</p>

<a name="125192345"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192345" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192345">Kevin Buzzard (Apr 17 2018 at 11:00)</a>:</h4>
<p>(a) give up type classes to a large extent</p>

<a name="125192346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192346" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192346">Kevin Buzzard (Apr 17 2018 at 11:01)</a>:</h4>
<p>and (b) to give up on mathematician's overloading</p>

<a name="125192353"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192353" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192353">Kevin Buzzard (Apr 17 2018 at 11:01)</a>:</h4>
<p>With my schemes repo I've not made any attempt to do anything clever like this</p>

<a name="125192355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192355" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192355">Kevin Buzzard (Apr 17 2018 at 11:01)</a>:</h4>
<p>If F is a sheaf then F is not the function on open sets, it's some other thing</p>

<a name="125192358"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192358" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192358">Kevin Buzzard (Apr 17 2018 at 11:01)</a>:</h4>
<p>and I have F.whatever_i_called_it for the function</p>

<a name="125192399"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192399" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192399">Kevin Buzzard (Apr 17 2018 at 11:02)</a>:</h4>
<p>It looks a bit messier</p>

<a name="125192402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192402" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192402">Kevin Buzzard (Apr 17 2018 at 11:02)</a>:</h4>
<p>but I am coming round to the idea that it is not the end of the world to actually begin distinguishing between these things</p>

<a name="125192413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192413" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192413">Kevin Buzzard (Apr 17 2018 at 11:02)</a>:</h4>
<p>In particular if I were writing the code Patrick is writing I simply would not attempt to identify the permutation, the bijection and the function</p>

<a name="125192416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192416" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192416">Kevin Buzzard (Apr 17 2018 at 11:03)</a>:</h4>
<p>they would all be different notation</p>

<a name="125192420"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192420" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192420">Kevin Buzzard (Apr 17 2018 at 11:03)</a>:</h4>
<p>and I would not moan about ''</p>

<a name="125192422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192422" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192422">Kevin Buzzard (Apr 17 2018 at 11:03)</a>:</h4>
<p>because f(U) doesn't really make sense</p>

<a name="125192424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192424" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192424">Kevin Buzzard (Apr 17 2018 at 11:03)</a>:</h4>
<p>The reason for me is a practical one</p>

<a name="125192425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192425" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192425">Kevin Buzzard (Apr 17 2018 at 11:03)</a>:</h4>
<p>I just want to write code that works</p>

<a name="125192465"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192465" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192465">Kevin Buzzard (Apr 17 2018 at 11:04)</a>:</h4>
<p>so I don't want to get bogged down with all the issues Patrick is running into just to make it look more like mathematics</p>

<a name="125192471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192471" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192471">Sean Leather (Apr 17 2018 at 11:04)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> I think you should be sure that you're distinguishing between coercion issues and type class issues. I'm not sure they're the same.</p>

<a name="125192477"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192477" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192477">Kevin Buzzard (Apr 17 2018 at 11:05)</a>:</h4>
<p>You're right</p>

<a name="125192481"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192481" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192481">Kevin Buzzard (Apr 17 2018 at 11:05)</a>:</h4>
<p>but in some sense they are both solved by filling in the answers myself</p>

<a name="125192482"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192482" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192482">Kevin Buzzard (Apr 17 2018 at 11:05)</a>:</h4>
<p>and in all cases I know the answers</p>

<a name="125192483"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192483" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192483">Kevin Buzzard (Apr 17 2018 at 11:05)</a>:</h4>
<p>the issue is that they are both issues</p>

<a name="125192484"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192484" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192484">Kevin Buzzard (Apr 17 2018 at 11:05)</a>:</h4>
<p>and I don't want to be dealing with issues</p>

<a name="125192485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192485" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192485">Kevin Buzzard (Apr 17 2018 at 11:05)</a>:</h4>
<p>and filling in the answers myself resolves them</p>

<a name="125192524"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192524" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192524">Kevin Buzzard (Apr 17 2018 at 11:06)</a>:</h4>
<p>I am very happy with how <code>{ H : blah}</code> works</p>

<a name="125192531"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192531" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192531">Kevin Buzzard (Apr 17 2018 at 11:06)</a>:</h4>
<p>because if I have <code>{U : set X} (OU : is_open U)</code> then Lean is going to be able to guess what U is</p>

<a name="125192540"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192540" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192540">Kevin Buzzard (Apr 17 2018 at 11:07)</a>:</h4>
<p>but I am becoming more and more suspicious of user-added coercions</p>

<a name="125192542"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192542" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192542">Kevin Buzzard (Apr 17 2018 at 11:07)</a>:</h4>
<p>I cannot see a viable way of stopping different users creating loops</p>

<a name="125192543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192543" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192543">Kevin Buzzard (Apr 17 2018 at 11:07)</a>:</h4>
<p>What if person X and person Y are both interested in widgets and foos</p>

<a name="125192545"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192545" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192545">Kevin Buzzard (Apr 17 2018 at 11:07)</a>:</h4>
<p>but one of them is more widgety</p>

<a name="125192556"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192556" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192556">Kevin Buzzard (Apr 17 2018 at 11:07)</a>:</h4>
<p>and one more fooey</p>

<a name="125192594"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192594" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192594">Kevin Buzzard (Apr 17 2018 at 11:08)</a>:</h4>
<p>so one has some coercion from widgets to foos</p>

<a name="125192599"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192599" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192599">Kevin Buzzard (Apr 17 2018 at 11:08)</a>:</h4>
<p>and the other a coercion from foos to widgets</p>

<a name="125192601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192601" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192601">Kevin Buzzard (Apr 17 2018 at 11:08)</a>:</h4>
<p>and all of a sudden we have two pieces of incompatible code</p>

<a name="125192613"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192613" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192613">Kevin Buzzard (Apr 17 2018 at 11:09)</a>:</h4>
<p>user-added type class inference I guess I'm talking about here</p>

<a name="125192619"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192619" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192619">Kevin Buzzard (Apr 17 2018 at 11:09)</a>:</h4>
<p>but I am also avoiding has_coe_to_fun</p>

<a name="125192663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192663" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192663">Kevin Buzzard (Apr 17 2018 at 11:10)</a>:</h4>
<p>and this more cautious approach solved a lot of problems for me</p>

<a name="125192665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192665" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192665">Sean Leather (Apr 17 2018 at 11:10)</a>:</h4>
<p>I agree with what you're saying in a purely practical sense. However, I think it stems in general from Lean using elaboration (esp. but not solely via coercions and type-class instance resolution) to guess what you mean. It gets it right most of the time, but it's those few times that it doesn't that wind up frustrating you.</p>

<a name="125192677"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192677" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192677">Kevin Buzzard (Apr 17 2018 at 11:11)</a>:</h4>
<p>I think that what happened was that in these cases where it didn't work I first got completely stuck</p>

<a name="125192678"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192678" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192678">Kevin Buzzard (Apr 17 2018 at 11:11)</a>:</h4>
<p>and then I learnt how to unravel things in some cases</p>

<a name="125192679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192679" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192679">Kevin Buzzard (Apr 17 2018 at 11:11)</a>:</h4>
<p>and then I got used to the unravelling</p>

<a name="125192680"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125192680" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125192680">Kevin Buzzard (Apr 17 2018 at 11:11)</a>:</h4>
<p>and then I figured unravelling wasn't so bad</p>

<a name="125193991"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125193991" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125193991">Patrick Massot (Apr 17 2018 at 11:58)</a>:</h4>
<p>I'm not convinced unraveling everything will scale</p>

<a name="125194000"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125194000" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125194000">Patrick Massot (Apr 17 2018 at 11:59)</a>:</h4>
<p>And, up to now, I've always been able to solve those kind of issue (well, Mario has always been able...)</p>

<a name="125194004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125194004" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125194004">Patrick Massot (Apr 17 2018 at 11:59)</a>:</h4>
<p>And I'm very happy to see how it looks like now</p>

<a name="125194058"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/image%20by%20permutation%20power/near/125194058" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48996imagebypermutationpower.html#125194058">Patrick Massot (Apr 17 2018 at 12:00)</a>:</h4>
<p>Ok, it's summer here and I have a lot of maths to read. I'll be trying the IHES garden as a working place, without bringing a computer. See you. <span class="emoji emoji-1f60e" title="sunglasses">:sunglasses:</span></p>


{% endraw %}

{% include archive_update.html %}