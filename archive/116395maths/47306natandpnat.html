---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/116395maths/47306natandpnat.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html">nat and pnat</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="127168435"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127168435" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127168435">Kevin Buzzard (May 27 2018 at 15:42)</a>:</h4>
<p>Should I not be using these functions:</p>

<a name="127168436"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127168436" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127168436">Kevin Buzzard (May 27 2018 at 15:42)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">definition</span> <span class="n">plus_to_nat</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ+</span><span class="o">)</span> <span class="o">:=</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span>
<span class="kn">definition</span> <span class="n">nat_to_plus</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:=</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ+</span><span class="o">)</span>

<span class="c1">-- example (n : ℕ+) : nat_to_plus (plus_to_nat n) = n := by simp -- fails</span>
</pre></div>

<a name="127168437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127168437" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127168437">Kevin Buzzard (May 27 2018 at 15:42)</a>:</h4>
<p>Not only are we no longer refl, we are not even simp apparently</p>

<a name="127168438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127168438" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127168438">Kevin Buzzard (May 27 2018 at 15:42)</a>:</h4>
<p>Is that because simp won't unfold my definition by default?</p>

<a name="127168444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127168444" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127168444">Kevin Buzzard (May 27 2018 at 15:43)</a>:</h4>
<p>I am trying to make working with pnat easier. Nobody like a subtype.</p>

<a name="127168445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127168445" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127168445">Kevin Buzzard (May 27 2018 at 15:43)</a>:</h4>
<p>But I really want it to be easy to work with</p>

<a name="127168492"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127168492" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127168492">Kevin Buzzard (May 27 2018 at 15:45)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="bp">@</span><span class="o">[</span><span class="kn">reducible</span><span class="o">]</span> <span class="kn">definition</span> <span class="n">plus_to_nat</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ+</span><span class="o">)</span> <span class="o">:=</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span>
<span class="bp">@</span><span class="o">[</span><span class="kn">reducible</span><span class="o">]</span> <span class="kn">definition</span> <span class="n">nat_to_plus</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:=</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ+</span><span class="o">)</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ+</span><span class="o">)</span> <span class="o">:</span> <span class="n">nat_to_plus</span> <span class="o">(</span><span class="n">plus_to_nat</span> <span class="n">n</span><span class="o">)</span> <span class="bp">=</span> <span class="n">n</span> <span class="o">:=</span> <span class="k">begin</span>
<span class="n">unfold</span> <span class="n">nat_to_plus</span> <span class="n">plus_to_nat</span><span class="o">,</span> <span class="c1">-- still need to do this</span>
<span class="n">simp</span><span class="o">,</span>
<span class="kn">end</span>
</pre></div>


<p>What am I doing wrong? Should those functions not have names and I am expected to always use coercion?</p>

<a name="127168493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127168493" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127168493">Mario Carneiro (May 27 2018 at 15:45)</a>:</h4>
<p>The functions have names</p>

<a name="127168494"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127168494" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127168494">Mario Carneiro (May 27 2018 at 15:45)</a>:</h4>
<p>Have you looked at <code>pnat.lean</code>?</p>

<a name="127168854"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127168854" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127168854">Kevin Buzzard (May 27 2018 at 15:58)</a>:</h4>
<p>I have</p>

<a name="127168860"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127168860" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127168860">Kevin Buzzard (May 27 2018 at 15:58)</a>:</h4>
<p>Oh I see, you're saying don't make new names for old functions</p>

<a name="127168862"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127168862" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127168862">Kevin Buzzard (May 27 2018 at 15:58)</a>:</h4>
<p>because the old ones will have been made better</p>

<a name="127168873"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127168873" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127168873">Mario Carneiro (May 27 2018 at 15:59)</a>:</h4>
<p>By the way I'm revising pnat right now</p>

<a name="127168877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127168877" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127168877">Mario Carneiro (May 27 2018 at 15:59)</a>:</h4>
<p>to remove that funny coercion</p>

<a name="127168938"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127168938" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127168938">Kevin Buzzard (May 27 2018 at 16:00)</a>:</h4>
<p>So am I supposed to refer to these functions as <code>coe_nat_pnat</code> and <code>coe_pnat_nat</code> if I ever talk about them?</p>

<a name="127168954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127168954" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127168954">Kevin Buzzard (May 27 2018 at 16:01)</a>:</h4>
<p>wait those aren't the functions</p>

<a name="127168998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127168998" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127168998">Kevin Buzzard (May 27 2018 at 16:02)</a>:</h4>
<p><code>nat.to_pnat'</code> and <code>subtype.val</code> are the rather unsexy  names of the functions</p>

<a name="127169005"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169005" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169005">Kevin Buzzard (May 27 2018 at 16:02)</a>:</h4>
<p>Is the idea behind coercion that I do not ever mention these names?</p>

<a name="127169006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169006" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169006">Mario Carneiro (May 27 2018 at 16:02)</a>:</h4>
<p>yes</p>

<a name="127169012"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169012" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169012">Mario Carneiro (May 27 2018 at 16:02)</a>:</h4>
<p><code>nat.to_pnat'</code> is going to be used instead of the coercion</p>

<a name="127169014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169014" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169014">Mario Carneiro (May 27 2018 at 16:02)</a>:</h4>
<p>but the other coercion will stay</p>

<a name="127169016"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169016" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169016">Kevin Buzzard (May 27 2018 at 16:03)</a>:</h4>
<p>and what happens when I end up with <code>↑↑↑↑↑n</code>?</p>

<a name="127169024"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169024" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169024">Mario Carneiro (May 27 2018 at 16:03)</a>:</h4>
<p>what are those coercions?</p>

<a name="127169025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169025" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169025">Kevin Buzzard (May 27 2018 at 16:03)</a>:</h4>
<p>Oh -- you're removing the instance?</p>

<a name="127169029"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169029" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169029">Kevin Buzzard (May 27 2018 at 16:03)</a>:</h4>
<p>the coercion from nat to pnat?</p>

<a name="127169032"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169032" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169032">Mario Carneiro (May 27 2018 at 16:03)</a>:</h4>
<p>yes</p>

<a name="127169033"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169033" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169033">Kevin Buzzard (May 27 2018 at 16:03)</a>:</h4>
<p>Oh great</p>

<a name="127169080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169080" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169080">Kevin Buzzard (May 27 2018 at 16:04)</a>:</h4>
<p>you will really break Reid's code which I'm trying to maintain :-)</p>

<a name="127169084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169084" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169084">Kevin Buzzard (May 27 2018 at 16:04)</a>:</h4>
<p>I can't help but think that this is good though</p>

<a name="127169093"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169093" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169093">Kevin Buzzard (May 27 2018 at 16:05)</a>:</h4>
<p>So you'll replace it with a dependent coercion which typechecks but when it actually runs it will ask the type class resolution system for a proof that n &gt; 0?</p>

<a name="127169136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169136" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169136">Kevin Buzzard (May 27 2018 at 16:06)</a>:</h4>
<p>and then the coercion from pnat to nat to pnat will become refl</p>

<a name="127169140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169140" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169140">Kevin Buzzard (May 27 2018 at 16:06)</a>:</h4>
<p>or some other cool new system</p>

<a name="127169144"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169144" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169144">Kevin Buzzard (May 27 2018 at 16:07)</a>:</h4>
<p>I don't know if the typeclass resolution system will be the right thing</p>

<a name="127169149"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169149" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169149">Kevin Buzzard (May 27 2018 at 16:07)</a>:</h4>
<p>I want it to check the properties of all the pnats it can see :-)</p>

<a name="127169152"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169152" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169152">Kevin Buzzard (May 27 2018 at 16:07)</a>:</h4>
<p>and then use known lemmas like a&gt;0 and b&gt;0 implies a+b&gt;0</p>

<a name="127169187"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169187" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169187">Kevin Buzzard (May 27 2018 at 16:08)</a>:</h4>
<p>Can it work like that? That's how it works in a mathematician's head</p>

<a name="127169193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169193" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169193">Mario Carneiro (May 27 2018 at 16:08)</a>:</h4>
<p>that is not at all what I'm suggesting :)</p>

<a name="127169194"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169194" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169194">Kevin Buzzard (May 27 2018 at 16:08)</a>:</h4>
<p>thought not</p>

<a name="127169195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169195" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169195">Mario Carneiro (May 27 2018 at 16:08)</a>:</h4>
<p>I'm just removing the nat_pnat coercion, that's it</p>

<a name="127169196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169196" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169196">Kevin Buzzard (May 27 2018 at 16:08)</a>:</h4>
<p>less ambitious</p>

<a name="127169204"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169204" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169204">Mario Carneiro (May 27 2018 at 16:09)</a>:</h4>
<p>there is a coercion that asks dec_trivial for the positivity proof</p>

<a name="127169205"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169205" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169205">Kevin Buzzard (May 27 2018 at 16:09)</a>:</h4>
<p>What is stopping my idea above being built into Lean 7?</p>

<a name="127169206"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169206" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169206">Mario Carneiro (May 27 2018 at 16:09)</a>:</h4>
<p>that's <code>nat.to_pnat</code></p>

<a name="127169207"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169207" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169207">Kevin Buzzard (May 27 2018 at 16:09)</a>:</h4>
<p>Oh yeah I saw that</p>

<a name="127169208"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169208" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169208">Kevin Buzzard (May 27 2018 at 16:09)</a>:</h4>
<p>you fill in the hole with a tactic</p>

<a name="127169209"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169209" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169209">Kevin Buzzard (May 27 2018 at 16:09)</a>:</h4>
<p>I see</p>

<a name="127169211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169211" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169211">Mario Carneiro (May 27 2018 at 16:09)</a>:</h4>
<p>it could ask some other tactic, like simp</p>

<a name="127169213"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169213" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169213">Kevin Buzzard (May 27 2018 at 16:09)</a>:</h4>
<p>so at some point you might want to get hold of a proof</p>

<a name="127169215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169215" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169215">Kevin Buzzard (May 27 2018 at 16:09)</a>:</h4>
<p>and you have loads of options</p>

<a name="127169217"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169217" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169217">Mario Carneiro (May 27 2018 at 16:09)</a>:</h4>
<p>and then it would do some kind of a+b&gt;0 thing</p>

<a name="127169218"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169218" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169218">Kevin Buzzard (May 27 2018 at 16:09)</a>:</h4>
<p>you could ask the type class dude</p>

<a name="127169258"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169258" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169258">Kevin Buzzard (May 27 2018 at 16:10)</a>:</h4>
<p>or a tactic</p>

<a name="127169264"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169264" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169264">Kevin Buzzard (May 27 2018 at 16:10)</a>:</h4>
<p>or you could pester the user</p>

<a name="127169267"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169267" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169267">Kevin Buzzard (May 27 2018 at 16:10)</a>:</h4>
<p>But I'm a busy guy and I don't want to be pestered</p>

<a name="127169268"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169268" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169268">Mario Carneiro (May 27 2018 at 16:10)</a>:</h4>
<p>But I hope that people provide a positivity proof of a+b just by adding a b : pnat</p>

<a name="127169272"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169272" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169272">Kevin Buzzard (May 27 2018 at 16:10)</a>:</h4>
<p>Yes</p>

<a name="127169274"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169274" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169274">Kevin Buzzard (May 27 2018 at 16:10)</a>:</h4>
<p>so in some sense my example was not good</p>

<a name="127169276"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169276" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169276">Mario Carneiro (May 27 2018 at 16:11)</a>:</h4>
<p>as long as you stay in pnat world it's all good</p>

<a name="127169277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169277" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169277">Kevin Buzzard (May 27 2018 at 16:11)</a>:</h4>
<p>but how about "n^2 + 1 : pnat"</p>

<a name="127169280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169280" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169280">Kevin Buzzard (May 27 2018 at 16:11)</a>:</h4>
<p>if n is a nat</p>

<a name="127169283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169283" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169283">Kevin Buzzard (May 27 2018 at 16:11)</a>:</h4>
<p>A mathematician would be able to do that</p>

<a name="127169284"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169284" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169284">Mario Carneiro (May 27 2018 at 16:11)</a>:</h4>
<p>that's <code>succ_pnat</code></p>

<a name="127169286"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169286" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169286">Kevin Buzzard (May 27 2018 at 16:11)</a>:</h4>
<p>damn you</p>

<a name="127169288"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169288" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169288">Kevin Buzzard (May 27 2018 at 16:11)</a>:</h4>
<p>What about (n + 4 + n : pnat)</p>

<a name="127169326"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169326" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169326">Mario Carneiro (May 27 2018 at 16:12)</a>:</h4>
<p>but I think there is space for add_pnat_left : N -&gt; N+ -&gt; N+</p>

<a name="127169327"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169327" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169327">Kevin Buzzard (May 27 2018 at 16:12)</a>:</h4>
<p>A mathematician could do that</p>

<a name="127169331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169331" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169331">Kevin Buzzard (May 27 2018 at 16:12)</a>:</h4>
<p>what about (4 + n : pnat)</p>

<a name="127169333"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169333" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169333">Mario Carneiro (May 27 2018 at 16:12)</a>:</h4>
<p>that would cover your example</p>

<a name="127169334"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169334" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169334">Kevin Buzzard (May 27 2018 at 16:12)</a>:</h4>
<p>I see</p>

<a name="127169335"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169335" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169335">Kevin Buzzard (May 27 2018 at 16:12)</a>:</h4>
<p>But can we get the coercion to do it?</p>

<a name="127169337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169337" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169337">Kevin Buzzard (May 27 2018 at 16:12)</a>:</h4>
<p>Why is the coercion system part of type class resolution?</p>

<a name="127169339"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169339" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169339">Kevin Buzzard (May 27 2018 at 16:12)</a>:</h4>
<p>could it be its own system?</p>

<a name="127169341"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169341" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169341">Mario Carneiro (May 27 2018 at 16:12)</a>:</h4>
<p>no, the old coercion did that by cheating</p>

<a name="127169346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169346" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169346">Mario Carneiro (May 27 2018 at 16:13)</a>:</h4>
<p>you can still use <code>nat.to_pnat'</code> if you don't want to be bothered</p>

<a name="127169347"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169347" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169347">Kevin Buzzard (May 27 2018 at 16:13)</a>:</h4>
<p>So how do I get (4 + n : pnat) to work?</p>

<a name="127169349"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169349" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169349">Mario Carneiro (May 27 2018 at 16:13)</a>:</h4>
<p>(4+n).to_pnat'</p>

<a name="127169395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169395" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169395">Kevin Buzzard (May 27 2018 at 16:15)</a>:</h4>
<p>But that's bad</p>

<a name="127169398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169398" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169398">Kevin Buzzard (May 27 2018 at 16:15)</a>:</h4>
<p>because the value is now not defeq to 4+n</p>

<a name="127169400"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169400" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169400">Mario Carneiro (May 27 2018 at 16:15)</a>:</h4>
<p>Really there's no need to use <code>to_pnat</code> unless you care that the nat component is defeq to the given arg</p>

<a name="127169401"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169401" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169401">Kevin Buzzard (May 27 2018 at 16:15)</a>:</h4>
<p>`to_pnat' is not the function I had in mind</p>

<a name="127169403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169403" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169403">Mario Carneiro (May 27 2018 at 16:15)</a>:</h4>
<p>the point is that it works when the input made sense</p>

<a name="127169405"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169405" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169405">Kevin Buzzard (May 27 2018 at 16:15)</a>:</h4>
<p>The function I had in mind sends <code>4 + n</code> to a pnat whose value is 4 + n</p>

<a name="127169406"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169406" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169406">Mario Carneiro (May 27 2018 at 16:15)</a>:</h4>
<p>it's like nat.sub</p>

<a name="127169408"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169408" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169408">Kevin Buzzard (May 27 2018 at 16:16)</a>:</h4>
<p>We are missing a function</p>

<a name="127169448"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169448" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169448">Kevin Buzzard (May 27 2018 at 16:16)</a>:</h4>
<p>That's what causes the problem</p>

<a name="127169449"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169449" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169449">Kevin Buzzard (May 27 2018 at 16:16)</a>:</h4>
<p>Definitional equality is so important to you guys</p>

<a name="127169451"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169451" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169451">Kevin Buzzard (May 27 2018 at 16:16)</a>:</h4>
<p>and I don't want to throw it away here</p>

<a name="127169453"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169453" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169453">Mario Carneiro (May 27 2018 at 16:16)</a>:</h4>
<p>that function exists too</p>

<a name="127169454"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169454" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169454">Mario Carneiro (May 27 2018 at 16:16)</a>:</h4>
<p>that's <code>nat.to_pnat</code></p>

<a name="127169457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169457" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169457">Mario Carneiro (May 27 2018 at 16:16)</a>:</h4>
<p>that's why there's two versions</p>

<a name="127169463"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169463" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169463">Mario Carneiro (May 27 2018 at 16:17)</a>:</h4>
<p>or just <code>pnat.mk</code></p>

<a name="127169464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169464" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169464">Mario Carneiro (May 27 2018 at 16:17)</a>:</h4>
<p>i.e. the constructor</p>

<a name="127169466"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169466" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169466">Kevin Buzzard (May 27 2018 at 16:17)</a>:</h4>
<p><code>example (n : ℕ) : ℕ+ := nat.to_pnat (4 + n)</code></p>

<a name="127169467"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169467" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169467">Kevin Buzzard (May 27 2018 at 16:17)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">exact</span> <span class="n">tactic</span> <span class="n">failed</span><span class="o">,</span> <span class="n">type</span> <span class="n">mismatch</span><span class="o">,</span> <span class="n">given</span> <span class="n">expression</span> <span class="n">has</span> <span class="n">type</span>
  <span class="n">true</span>
<span class="n">but</span> <span class="n">is</span> <span class="n">expected</span> <span class="n">to</span> <span class="k">have</span> <span class="n">type</span>
  <span class="n">as_true</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">)</span>
<span class="n">state</span><span class="o">:</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span>
<span class="err">⊢</span> <span class="n">as_true</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">)</span>
<span class="n">state</span><span class="o">:</span>
<span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span>
<span class="err">⊢</span> <span class="mi">4</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">&gt;</span> <span class="mi">0</span>
</pre></div>

<a name="127169471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169471" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169471">Mario Carneiro (May 27 2018 at 16:17)</a>:</h4>
<p>but that one gives you a proof obligation</p>

<a name="127169472"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169472" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169472">Kevin Buzzard (May 27 2018 at 16:18)</a>:</h4>
<p>But 4 + n &gt; 0 is true by schookid</p>

<a name="127169510"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169510" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169510">Mario Carneiro (May 27 2018 at 16:18)</a>:</h4>
<p>and you'd better prove it</p>

<a name="127169513"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169513" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169513">Kevin Buzzard (May 27 2018 at 16:18)</a>:</h4>
<p>It's true by schoolkid</p>

<a name="127169514"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169514" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169514">Mario Carneiro (May 27 2018 at 16:18)</a>:</h4>
<p><code>nat.to_pnat (4 + n) (by schoolkid)</code></p>

<a name="127169516"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169516" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169516">Kevin Buzzard (May 27 2018 at 16:18)</a>:</h4>
<p>I really want this schoolkid tactic</p>

<a name="127169517"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169517" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169517">Kevin Buzzard (May 27 2018 at 16:18)</a>:</h4>
<p>Mathematicians want to pass over schoolkid stuff without any comment</p>

<a name="127169518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169518" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169518">Kevin Buzzard (May 27 2018 at 16:19)</a>:</h4>
<p>I see</p>

<a name="127169524"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169524" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169524">Mario Carneiro (May 27 2018 at 16:19)</a>:</h4>
<p>the scope of things you could write there is unbounded</p>

<a name="127169527"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169527" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169527">Mario Carneiro (May 27 2018 at 16:19)</a>:</h4>
<p>At some point you have to actually prove things</p>

<a name="127169572"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169572" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169572">Mario Carneiro (May 27 2018 at 16:20)</a>:</h4>
<p>If you don't care to prove that statement, you can use <code>(4+n).to_pnat'</code></p>

<a name="127169574"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169574" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169574">Kevin Buzzard (May 27 2018 at 16:20)</a>:</h4>
<p>rofl</p>

<a name="127169575"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169575" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169575">Mario Carneiro (May 27 2018 at 16:20)</a>:</h4>
<p>unless it's an important definition you are going to unfold later, I doubt you will even notice the difference</p>

<a name="127169576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169576" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169576">Kevin Buzzard (May 27 2018 at 16:20)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">pnat</span>
<span class="bp">#</span><span class="kn">check</span> <span class="n">nat</span><span class="bp">.</span><span class="n">to_pnat</span> <span class="c1">-- chaos ensues</span>
</pre></div>

<a name="127169578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169578" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169578">Kevin Buzzard (May 27 2018 at 16:20)</a>:</h4>
<p>I think #check might have dealt with that one better</p>

<a name="127169586"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169586" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169586">Kevin Buzzard (May 27 2018 at 16:21)</a>:</h4>
<p>Is that a bug?</p>

<a name="127169587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169587" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169587">Kevin Buzzard (May 27 2018 at 16:21)</a>:</h4>
<p><code>#check @nat.to_pnat</code> works fine</p>

<a name="127169627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169627" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169627">Kevin Buzzard (May 27 2018 at 16:22)</a>:</h4>
<p>you went for exact_dec_trivial??</p>

<a name="127169628"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169628" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169628">Kevin Buzzard (May 27 2018 at 16:22)</a>:</h4>
<p>Not even simp?</p>

<a name="127169631"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169631" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169631">Kevin Buzzard (May 27 2018 at 16:22)</a>:</h4>
<p><code>def to_pnat (n : ℕ) (h : n &gt; 0 . tactic.exact_dec_trivial) : ℕ+ := ⟨n, h⟩</code></p>

<a name="127169632"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169632" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169632">Mario Carneiro (May 27 2018 at 16:22)</a>:</h4>
<p>Those are incomparable tactics</p>

<a name="127169634"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169634" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169634">Kevin Buzzard (May 27 2018 at 16:23)</a>:</h4>
<p>I think you should use sledgehammer</p>

<a name="127169639"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169639" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169639">Kevin Buzzard (May 27 2018 at 16:23)</a>:</h4>
<p>We want this coercion to <em>work</em>!</p>

<a name="127169644"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169644" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169644">Kevin Buzzard (May 27 2018 at 16:23)</a>:</h4>
<p><code>to_pnat</code> : 3/10. Must try harder to coerce.</p>

<a name="127169645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169645" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169645">Mario Carneiro (May 27 2018 at 16:23)</a>:</h4>
<p>this is a basic function, it's not my job to select my favorite finishing tactic and introduce dependencies early in the development</p>

<a name="127169689"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169689" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169689">Kevin Buzzard (May 27 2018 at 16:24)</a>:</h4>
<p>Dependencies?!</p>

<a name="127169692"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169692" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169692">Kevin Buzzard (May 27 2018 at 16:24)</a>:</h4>
<p>We want it to <em>work</em>!</p>

<a name="127169695"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169695" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169695">Kevin Buzzard (May 27 2018 at 16:24)</a>:</h4>
<p>So in fact you are suggesting that I should write "mathematicians mode"</p>

<a name="127169700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169700" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169700">Kevin Buzzard (May 27 2018 at 16:25)</a>:</h4>
<p>where we put the coercion back but we use by schoolkid</p>

<a name="127169703"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169703" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169703">Mario Carneiro (May 27 2018 at 16:25)</a>:</h4>
<p>The thing about auto params is that they can't be changed later</p>

<a name="127169704"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169704" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169704">Kevin Buzzard (May 27 2018 at 16:25)</a>:</h4>
<p>right</p>

<a name="127169706"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169706" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169706">Kevin Buzzard (May 27 2018 at 16:25)</a>:</h4>
<p>I am seriously suggesting a "mathematicians overlay"</p>

<a name="127169707"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169707" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169707">Kevin Buzzard (May 27 2018 at 16:25)</a>:</h4>
<p>I was thinking about this earlier when chatting to Kenny and Chris</p>

<a name="127169708"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169708" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169708">Kevin Buzzard (May 27 2018 at 16:25)</a>:</h4>
<p>So there's a coercion from nat to pnat</p>

<a name="127169709"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169709" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169709">Kevin Buzzard (May 27 2018 at 16:25)</a>:</h4>
<p>(although it might not last long)</p>

<a name="127169748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169748" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169748">Kevin Buzzard (May 27 2018 at 16:26)</a>:</h4>
<p>and so of course my first question is "what the hell are you going to do with zero"</p>

<a name="127169749"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169749" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169749">Kevin Buzzard (May 27 2018 at 16:26)</a>:</h4>
<p>because of course you can use nat.rec to define it, and succ n goes to succ n together with the proof that succ n &gt; 0</p>

<a name="127169752"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169752" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169752">Kevin Buzzard (May 27 2018 at 16:27)</a>:</h4>
<p>and 0 goes to...this is just stupid</p>

<a name="127169755"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169755" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169755">Kevin Buzzard (May 27 2018 at 16:27)</a>:</h4>
<p>So I think you should send 0 to 37</p>

<a name="127169756"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169756" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169756">Kenny Lau (May 27 2018 at 16:27)</a>:</h4>
<p><code>nat -&gt; option pnat</code> problem solved</p>

<a name="127169757"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169757" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169757">Kevin Buzzard (May 27 2018 at 16:27)</a>:</h4>
<p>I think that that's a much better instance for the coercion because I think it better represents what is happening</p>

<a name="127169797"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169797" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169797">Kevin Buzzard (May 27 2018 at 16:28)</a>:</h4>
<p>At the places it was supposed to be defined, it does what it is supposed to do</p>

<a name="127169800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169800" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169800">Kevin Buzzard (May 27 2018 at 16:28)</a>:</h4>
<p>and it sends everything else to 37</p>

<a name="127169803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169803" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169803">Mario Carneiro (May 27 2018 at 16:28)</a>:</h4>
<p>That's a weird option for a <em>coercion</em></p>

<a name="127169807"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169807" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169807">Kevin Buzzard (May 27 2018 at 16:28)</a>:</h4>
<p>I don't see why it's any weirder than 1</p>

<a name="127169808"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169808" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169808">Mario Carneiro (May 27 2018 at 16:28)</a>:</h4>
<p>It's not even making a pnat?</p>

<a name="127169809"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169809" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169809">Andrew Ashworth (May 27 2018 at 16:28)</a>:</h4>
<p>how often do you move between nat and pnat? I feel like most people, once working with pnats, will continue to deal only in pnats</p>

<a name="127169812"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169812" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169812">Kevin Buzzard (May 27 2018 at 16:28)</a>:</h4>
<p>Oh sorry</p>

<a name="127169814"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169814" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169814">Kevin Buzzard (May 27 2018 at 16:29)</a>:</h4>
<p>I'll make it a pnat, sure</p>

<a name="127169819"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169819" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169819">Andrew Ashworth (May 27 2018 at 16:29)</a>:</h4>
<p>in that case explicitly providing the proof obligation <code>n &gt; 0</code> is not such a burden</p>

<a name="127169820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169820" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169820">Mario Carneiro (May 27 2018 at 16:29)</a>:</h4>
<p>Of course pnat is inhabited, so we can use iget on that...</p>

<a name="127169821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169821" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169821">Kevin Buzzard (May 27 2018 at 16:29)</a>:</h4>
<p>but I just want to make the point that if you're coercing then you'd better realise that if you do this on 0 then you just did something stupid</p>

<a name="127169822"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169822" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169822">Mario Carneiro (May 27 2018 at 16:29)</a>:</h4>
<p>OF COURSE</p>

<a name="127169824"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169824" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169824">Kevin Buzzard (May 27 2018 at 16:29)</a>:</h4>
<p>But I think that if the coercion did that</p>

<a name="127169825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169825" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169825">Kevin Buzzard (May 27 2018 at 16:29)</a>:</h4>
<p>then I think it would force people to write better code</p>

<a name="127169828"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169828" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169828">Kevin Buzzard (May 27 2018 at 16:30)</a>:</h4>
<p>because they wouldn't do the lazy junk theorem thing which you do</p>

<a name="127169833"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169833" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169833">Mario Carneiro (May 27 2018 at 16:30)</a>:</h4>
<p>coercions don't have that luxury</p>

<a name="127169872"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169872" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169872">Kevin Buzzard (May 27 2018 at 16:30)</a>:</h4>
<p>oh really</p>

<a name="127169873"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169873" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169873">Kenny Lau (May 27 2018 at 16:30)</a>:</h4>
<div class="codehilite"><pre><span></span>def coe (n):
  assert (n &gt; 0)
  return [code]
</pre></div>

<a name="127169874"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169874" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169874">Mario Carneiro (May 27 2018 at 16:30)</a>:</h4>
<p>They are functions A -&gt; B, where the user gets to pick A and B</p>

<a name="127169875"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169875" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169875">Kenny Lau (May 27 2018 at 16:30)</a>:</h4>
<p>Python style</p>

<a name="127169878"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169878" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169878">Kenny Lau (May 27 2018 at 16:30)</a>:</h4>
<p>we should have errors in Lean</p>

<a name="127169882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169882" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169882">Mario Carneiro (May 27 2018 at 16:30)</a>:</h4>
<p>That's called monadic programming</p>

<a name="127169885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169885" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169885">Mario Carneiro (May 27 2018 at 16:31)</a>:</h4>
<p>mathematicians don't want to deal with that</p>

<a name="127169889"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169889" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169889">Kevin Buzzard (May 27 2018 at 16:31)</a>:</h4>
<p>so I'm sending nat to pnat, where everything positive goes to the correct thing (including defeq) and 0 goes to 37</p>

<a name="127169891"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169891" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169891">Mario Carneiro (May 27 2018 at 16:31)</a>:</h4>
<p>sure</p>

<a name="127169892"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169892" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169892">Kevin Buzzard (May 27 2018 at 16:31)</a>:</h4>
<p>because then <em>none</em> of the junk theorems would work</p>

<a name="127169893"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169893" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169893">Kenny Lau (May 27 2018 at 16:31)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> I think you want something like <code>nat.rec 37 id</code> where you replace <code>id</code> with the appropriate thing so it works <code>defeq</code></p>

<a name="127169894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169894" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169894">Kevin Buzzard (May 27 2018 at 16:31)</a>:</h4>
<p>and you would be forced to carry around the proof that n &gt; 0 properly</p>

<a name="127169895"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169895" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169895">Mario Carneiro (May 27 2018 at 16:32)</a>:</h4>
<p>I don't think I prove any junk theorems about to_pnat'</p>

<a name="127169935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169935" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169935">Kevin Buzzard (May 27 2018 at 16:32)</a>:</h4>
<p>no but that's why you computer scientists tell us that functions should be total</p>

<a name="127169936"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169936" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169936">Mario Carneiro (May 27 2018 at 16:32)</a>:</h4>
<p>but I think you are making an issue where none exists here</p>

<a name="127169938"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169938" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169938">Kevin Buzzard (May 27 2018 at 16:32)</a>:</h4>
<p>I am suggesting that real.sqrt should send all negative reals to 37</p>

<a name="127169939"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169939" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169939">Mario Carneiro (May 27 2018 at 16:32)</a>:</h4>
<p>There are options available, pick your favorite</p>

<a name="127169940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169940" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169940">Kevin Buzzard (May 27 2018 at 16:32)</a>:</h4>
<p>I think that 0 is the worst option</p>

<a name="127169946"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169946" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169946">Kenny Lau (May 27 2018 at 16:33)</a>:</h4>
<blockquote>
<p>because then <em>none</em> of the junk theorems would work</p>
</blockquote>
<p>except the one which says <code>(0 : pnat) = 37</code> :P</p>

<a name="127169948"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169948" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169948">Kevin Buzzard (May 27 2018 at 16:33)</a>:</h4>
<p>because it maximises the chance that the human prover doesn't spot their error</p>

<a name="127169950"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169950" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169950">Mario Carneiro (May 27 2018 at 16:33)</a>:</h4>
<p>Don't worry, they will notice</p>

<a name="127169952"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169952" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169952">Mario Carneiro (May 27 2018 at 16:33)</a>:</h4>
<p>you can't finish the proof if your model is wrong</p>

<a name="127169989"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169989" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169989">Kevin Buzzard (May 27 2018 at 16:34)</a>:</h4>
<p>That one time you take a square root and you forget to check the argument was non-negative</p>

<a name="127169992"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169992" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169992">Mario Carneiro (May 27 2018 at 16:34)</a>:</h4>
<p>then your theorem fails</p>

<a name="127169993"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169993" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169993">Kevin Buzzard (May 27 2018 at 16:34)</a>:</h4>
<p>you will discover this the very next time you try and use the square root</p>

<a name="127169995"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169995" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169995">Kevin Buzzard (May 27 2018 at 16:34)</a>:</h4>
<p>that's the point</p>

<a name="127169997"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169997" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169997">Kevin Buzzard (May 27 2018 at 16:34)</a>:</h4>
<p>it fails earlier</p>

<a name="127169998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127169998" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127169998">Mario Carneiro (May 27 2018 at 16:34)</a>:</h4>
<p>and you come here and ask about it</p>

<a name="127170001"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127170001" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127170001">Kevin Buzzard (May 27 2018 at 16:34)</a>:</h4>
<p>which is a good thing</p>

<a name="127170002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127170002" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127170002">Kevin Buzzard (May 27 2018 at 16:34)</a>:</h4>
<p>not me asking :-)</p>

<a name="127170003"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127170003" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127170003">Kevin Buzzard (May 27 2018 at 16:34)</a>:</h4>
<p>the failure</p>

<a name="127170004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127170004" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127170004">Mario Carneiro (May 27 2018 at 16:34)</a>:</h4>
<p>but composition is a really nice way to write expressions, and I don't want to lose it</p>

<a name="127170011"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127170011" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127170011">Kevin Buzzard (May 27 2018 at 16:35)</a>:</h4>
<p>because the error says "x isn't 37" and I look at it and think "37? What the...Oh! I didn't check it wasn't negative!"</p>

<a name="127170012"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127170012" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127170012">Kenny Lau (May 27 2018 at 16:35)</a>:</h4>
<p>lol 37</p>

<a name="127170013"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127170013" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127170013">Mario Carneiro (May 27 2018 at 16:35)</a>:</h4>
<p>Obviously removing the coercion solves all these problems</p>

<a name="127170014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127170014" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127170014">Kenny Lau (May 27 2018 at 16:35)</a>:</h4>
<p>as if x&lt;0 is decidable</p>

<a name="127170015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127170015" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127170015">Kevin Buzzard (May 27 2018 at 16:35)</a>:</h4>
<p>It _has_ to be 37</p>

<a name="127170016"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127170016" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127170016">Kenny Lau (May 27 2018 at 16:35)</a>:</h4>
<p>they won't ever give 37 to you</p>

<a name="127170017"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127170017" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127170017">Kenny Lau (May 27 2018 at 16:35)</a>:</h4>
<p>x&lt;0 is not decidable</p>

<a name="127170018"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127170018" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127170018">Mario Carneiro (May 27 2018 at 16:35)</a>:</h4>
<p>yes it is, it's false</p>

<a name="127170019"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127170019" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127170019">Kevin Buzzard (May 27 2018 at 16:35)</a>:</h4>
<p>rofl you should have seen the original version of complex.lean</p>

<a name="127170048"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127170048" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127170048">Kevin Buzzard (May 27 2018 at 16:36)</a>:</h4>
<p>I had to prove it was inhabited</p>

<a name="127170060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127170060" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127170060">Kevin Buzzard (May 27 2018 at 16:36)</a>:</h4>
<p>but I changed it before I made the PR</p>

<a name="127170061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127170061" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127170061">Kevin Buzzard (May 27 2018 at 16:36)</a>:</h4>
<p>You're right, I'd never have got away with it</p>

<a name="127170069"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127170069" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127170069">Mario Carneiro (May 27 2018 at 16:37)</a>:</h4>
<p>When I removed the coercion, there was one place where it appeared in mathlib</p>

<a name="127170119"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127170119" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127170119">Mario Carneiro (May 27 2018 at 16:38)</a>:</h4>
<p>I had to define a positive sequence that converged to zero, and used (n:ℕ+)⁻¹</p>

<a name="127170127"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127170127" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127170127">Mario Carneiro (May 27 2018 at 16:39)</a>:</h4>
<p>I think that's a good example of use, since it doesn't matter what the value is at zero, it's just a value</p>

<a name="127172155"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127172155" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127172155">Johan Commelin (May 27 2018 at 17:53)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> I'm a bit confused. With division by zero, or subtraction of nat's you say "just get over it, there is a footnote explaining some edge cases". Why isn't that enough here? Why don't you want to define <code>x / 0</code> as 37? (I actually prefer 57, since that is Grothendieck's prime...)</p>

<a name="127172198"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127172198" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127172198">Johan Commelin (May 27 2018 at 17:54)</a>:</h4>
<p>Or similarly <code>(3 : nat) - (5 : nat)</code>. That should also be <code>57</code>, I think...</p>

<a name="127180246"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127180246" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127180246">Kenny Lau (May 27 2018 at 23:14)</a>:</h4>
<p><a href="https://github.com/leanprover/mathlib/blob/master/data/pnat.lean" target="_blank" title="https://github.com/leanprover/mathlib/blob/master/data/pnat.lean">https://github.com/leanprover/mathlib/blob/master/data/pnat.lean</a></p>

<a name="127180248"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127180248" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127180248">Kenny Lau (May 27 2018 at 23:14)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> congratulations, it has been removed</p>

<a name="127188139"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/nat%20and%20pnat/near/127188139" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/47306natandpnat.html#127188139">Kevin Buzzard (May 28 2018 at 04:19)</a>:</h4>
<p>Maybe one day it will come back with super powers</p>


{% endraw %}
