---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html">Link between sequential and epsilon/delta versions</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="192850334"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192850334" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192850334">Ryan Lahfa (Apr 03 2020 at 19:04)</a>:</h4>
<p>In real analysis, we often encounter sequential version of usual epsilon/delta definitions.</p>
<p>For example, sequential continuity, sequential uniform continuity, accumulation point of a set/sequence, inf/sup.</p>
<p>I have multiple questions Lean and non-Lean ones:</p>
<p>(1) It looks like we can often write a dual sequential version of many epsilon/delta definitions, is there a name for this? Is there a concept? Can we give a "normal form" to those definitions?<br>
(2) It looks like that the equivalence theorem between a sequential version and an epsilon/delta one is also independent of the concept and relies more on the form of the definition rather than on its contents, so, we should be able to produce the equivalence theorem given just a general version of such definitions, right? (under some assumption of choice for sequential → epsilon/delta).<br>
(3) Is this something I could formalize in Lean? Would it be better to go for a type class in such cases?</p>
<p>Maybe, this question is not very relevant because it's impossible to have a general form of sequential version of definitions or things like that.</p>
<p>To give precise examples, here are definitions:</p>
<p>Accumulation point <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span></span></span></span> of a sequence <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span>:</p>
<p>Epsilon/Delta: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∀</mi><mi>ε</mi><mo>&gt;</mo><mn>0</mn><mo separator="true">,</mo><mi mathvariant="normal">∀</mi><mi>n</mi><mo>≥</mo><mn>0</mn><mo separator="true">,</mo><mi mathvariant="normal">∃</mi><mi>N</mi><mo>≥</mo><mi>n</mi><mo separator="true">,</mo><mo stretchy="false">∣</mo><msub><mi>x</mi><mi>n</mi></msub><mo>−</mo><mi>a</mi><mo stretchy="false">∣</mo><mo>&lt;</mo><mi>ε</mi></mrow><annotation encoding="application/x-tex">\forall \varepsilon &gt; 0, \forall n \geq 0, \exists N \geq n, \lvert x_n - a\rvert &lt; \varepsilon</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.73354em;vertical-align:-0.0391em;"></span><span class="mord">∀</span><span class="mord mathdefault">ε</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">∀</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">∃</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">∣</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mclose">∣</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">ε</span></span></span></span><br>
Sequence form: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∃</mi><mi>y</mi><mo>∈</mo><mi>x</mi><mo stretchy="false">(</mo><mi mathvariant="double-struck">N</mi><msup><mo stretchy="false">)</mo><mi mathvariant="double-struck">N</mi></msup><mo separator="true">,</mo><msub><mo><mi>lim</mi><mo>⁡</mo></mo><mrow><mi>n</mi><mo>→</mo><mo>+</mo><mi mathvariant="normal">∞</mi></mrow></msub><msub><mi>y</mi><mi>n</mi></msub><mo>=</mo><mi>a</mi></mrow><annotation encoding="application/x-tex">\exists y \in x(\mathbb{N})^{\mathbb{N}}, \lim_{n \to +\infty} y_n = a</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">∃</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0952229999999998em;vertical-align:-0.25em;"></span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord"><span class="mord mathbb">N</span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.845223em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathbb mtight">N</span></span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop">lim</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.25833100000000003em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mrel mtight">→</span><span class="mord mtight">+</span><span class="mord mtight">∞</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span></span></span></span></p>
<p>Sup:<br>
We say that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>=</mo><mi>sup</mi><mo>⁡</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">a = \sup A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mop">sup</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">A</span></span></span></span> if:</p>
<p>Epsilon/Delta: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∀</mi><mi>ε</mi><mo>&gt;</mo><mn>0</mn><mo separator="true">,</mo><mi mathvariant="normal">∃</mi><mi>x</mi><mo>∈</mo><mi>A</mi><mo separator="true">,</mo><mi>a</mi><mo>−</mo><mi>ε</mi><mo>&lt;</mo><mi>x</mi><mo>≤</mo><mi>a</mi></mrow><annotation encoding="application/x-tex">\forall \varepsilon &gt; 0, \exists x \in A, a - \varepsilon &lt; x \leq a</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.73354em;vertical-align:-0.0391em;"></span><span class="mord">∀</span><span class="mord mathdefault">ε</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">∃</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">ε</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span></span></span></span><br>
Sequence form: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∃</mi><mi>y</mi><mo>∈</mo><msup><mi>A</mi><mi mathvariant="double-struck">N</mi></msup><mo separator="true">,</mo><msub><mo><mi>lim</mi><mo>⁡</mo></mo><mrow><mi>n</mi><mo>→</mo><mo>+</mo><mi mathvariant="normal">∞</mi></mrow></msub><msub><mi>y</mi><mi>n</mi></msub><mo>=</mo><mi>a</mi></mrow><annotation encoding="application/x-tex">\exists y \in A^{\mathbb{N}}, \lim_{n \to +\infty} y_n = a</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">∃</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0535539999999999em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.845223em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathbb mtight">N</span></span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop">lim</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.25833100000000003em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mrel mtight">→</span><span class="mord mtight">+</span><span class="mord mtight">∞</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span></span></span></span></p>
<p>Continuity:<br>
We say that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>:</mo><mi>A</mi><mo>→</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">f : A \to B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span> is continuous at <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>∈</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">x \in A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span> if:</p>
<p>Epsilon/delta: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∀</mi><mi>ε</mi><mo>&gt;</mo><mn>0</mn><mo separator="true">,</mo><mi mathvariant="normal">∃</mi><mi>δ</mi><mo>&gt;</mo><mn>0</mn><mo separator="true">,</mo><mi mathvariant="normal">∀</mi><mi>y</mi><mo>∈</mo><mi>A</mi><mo separator="true">,</mo><mo stretchy="false">∣</mo><mi>x</mi><mo>−</mo><mi>y</mi><mo stretchy="false">∣</mo><mo>≤</mo><mi>δ</mi><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mo stretchy="false">∣</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>−</mo><mi>f</mi><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo><mo stretchy="false">∣</mo><mo>≤</mo><mi>ε</mi></mrow><annotation encoding="application/x-tex">\forall \varepsilon &gt; 0, \exists \delta &gt; 0, \forall y \in A, \lvert x - y \rvert \leq \delta \implies \lvert f(x) - f(y) \rvert \leq \varepsilon</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.73354em;vertical-align:-0.0391em;"></span><span class="mord">∀</span><span class="mord mathdefault">ε</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">∃</span><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">∀</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">∣</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">∣</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.71844em;vertical-align:-0.024em;"></span><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">∣</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mclose">∣</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">ε</span></span></span></span><br>
Sequence form: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∀</mi><mi>x</mi><mo>∈</mo><msup><mi>A</mi><mi mathvariant="double-struck">N</mi></msup><mo separator="true">,</mo><mrow><mo fence="true">(</mo><msub><mo><mi>lim</mi><mo>⁡</mo></mo><mrow><mi>n</mi><mo>→</mo><mo>+</mo><mi mathvariant="normal">∞</mi></mrow></msub><msub><mi>x</mi><mi>n</mi></msub><mo>=</mo><mi>x</mi><mo fence="true">)</mo></mrow><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mrow><mo fence="true">(</mo><msub><mo><mi>lim</mi><mo>⁡</mo></mo><mrow><mi>n</mi><mo>→</mo><mo>+</mo><mi mathvariant="normal">∞</mi></mrow></msub><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>n</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\forall x \in A^{\mathbb{N}}, \left(\lim_{n \to +\infty} x_n = x\right) \implies \left(\lim_{n \to +\infty} f(x_n) = f(x)\right)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.73354em;vertical-align:-0.0391em;"></span><span class="mord">∀</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0952229999999998em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.845223em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathbb mtight">N</span></span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mop"><span class="mop">lim</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.25833100000000003em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mrel mtight">→</span><span class="mord mtight">+</span><span class="mord mtight">∞</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathdefault">x</span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mop"><span class="mop">lim</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.25833100000000003em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mrel mtight">→</span><span class="mord mtight">+</span><span class="mord mtight">∞</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span></p>

<a name="192853914"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192853914" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192853914">Mario Carneiro (Apr 03 2020 at 19:35)</a>:</h4>
<p>Filters are the unifying abstraction here</p>

<a name="192854134"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192854134" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192854134">Mario Carneiro (Apr 03 2020 at 19:37)</a>:</h4>
<p>In general topological spaces, sequential versions of many concepts exist and are different from the usual ones</p>

<a name="192854147"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192854147" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192854147">Ryan Lahfa (Apr 03 2020 at 19:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192853914" title="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192853914">said</a>:</p>
<blockquote>
<p>Filters are the unifying abstraction here</p>
</blockquote>
<p>I wanted to avoid those :D… But I guess this is it</p>

<a name="192854319"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192854319" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192854319">Mario Carneiro (Apr 03 2020 at 19:39)</a>:</h4>
<p>Given a sequence there is a filter defined by "containing cofinitely many of the points of the sequence", and a limit of the filter is the same as a limit of the sequence</p>

<a name="192854705"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192854705" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192854705">Mario Carneiro (Apr 03 2020 at 19:42)</a>:</h4>
<blockquote>
<p>(1) It looks like we can often write a dual sequential version of many epsilon/delta definitions, is there a name for this? Is there a concept? Can we give a "normal form" to those definitions?</p>
</blockquote>
<p>Actually, the logical manipulation you are doing to the definitions to get this is well known elsewhere as "skolemization", the interchanging of <code>\all x, \exists y, P x y</code> with <code>\ex f, \forall x, P x (f x)</code></p>

<a name="192854752"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192854752" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192854752">Ryan Lahfa (Apr 03 2020 at 19:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192854705" title="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192854705">said</a>:</p>
<blockquote>
<blockquote>
<p>(1) It looks like we can often write a dual sequential version of many epsilon/delta definitions, is there a name for this? Is there a concept? Can we give a "normal form" to those definitions?</p>
</blockquote>
<p>Actually, the logical manipulation you are doing to the definitions to get this is well known elsewhere as "skolemization", the interchanging of <code>\all x, \exists y, P x y</code> with <code>\ex f, \forall x, P x (f x)</code></p>
</blockquote>
<p>Okay, I was remembering something in terms of "skolemization" and logic, but could not find what I needed. Thank you so much!</p>

<a name="192854885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192854885" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192854885">Mario Carneiro (Apr 03 2020 at 19:44)</a>:</h4>
<p>although in order to make them sequences there is an additional step where you weaken the real number epsilon quantifier to an equivalent natural number quantifier</p>

<a name="192854922"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192854922" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192854922">Mario Carneiro (Apr 03 2020 at 19:44)</a>:</h4>
<p>(which is where the difference is in general, non first countable topological spaces)</p>

<a name="192855130"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192855130" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192855130">Ryan Lahfa (Apr 03 2020 at 19:46)</a>:</h4>
<p>Okay, it makes a lot of sense now, thank you!</p>

<a name="192855940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192855940" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192855940">Ryan Lahfa (Apr 03 2020 at 19:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192854705" title="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192854705">said</a>:</p>
<blockquote>
<blockquote>
<p>(1) It looks like we can often write a dual sequential version of many epsilon/delta definitions, is there a name for this? Is there a concept? Can we give a "normal form" to those definitions?</p>
</blockquote>
<p>Actually, the logical manipulation you are doing to the definitions to get this is well known elsewhere as "skolemization", the interchanging of <code>\all x, \exists y, P x y</code> with <code>\ex f, \forall x, P x (f x)</code></p>
</blockquote>
<p>BTW, is there any skolemization lemma in Lean?</p>

<a name="192856726"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192856726" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192856726">Alex J. Best (Apr 03 2020 at 20:00)</a>:</h4>
<p><code>classical.skolem</code> in core lean?</p>

<a name="192857201"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192857201" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192857201">Kevin Buzzard (Apr 03 2020 at 20:04)</a>:</h4>
<p>If you're formalising analysis in tactic mode you might never need to use terms such as this though</p>

<a name="192857651"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192857651" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192857651">Ryan Lahfa (Apr 03 2020 at 20:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192857201" title="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192857201">said</a>:</p>
<blockquote>
<p>If you're formalising analysis in tactic mode you might never need to use terms such as this though</p>
</blockquote>
<p>Why?</p>

<a name="192857770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192857770" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192857770">Ryan Lahfa (Apr 03 2020 at 20:09)</a>:</h4>
<p>My problem is I often run into those dual definitions when I'm attempting to proof stuff.</p>
<p>And, when let's say I have a proof of having an accumulation point in an epsilon/delta-style, I'm not sure how to convert it into a sequence-style proof easily without writing a lot of machinery (?).</p>

<a name="192858916"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192858916" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192858916">Patrick Massot (Apr 03 2020 at 20:21)</a>:</h4>
<p>You shouldn't be afraid of filters. They are much nicer than epsiloneries.</p>

<a name="192859263"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192859263" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192859263">Ryan Lahfa (Apr 03 2020 at 20:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110031">Patrick Massot</span> <a href="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192858916" title="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192858916">said</a>:</p>
<blockquote>
<p>You shouldn't be afraid of filters. They are much nicer than epsiloneries.</p>
</blockquote>
<p>All the contrary, I love them; but I am not allowed to use them because of most students (and maybe non-topologists teachers) which do not understand them very well</p>
<p>But at the same time, I'm frustrated with repeating the same boring &amp; technical proofs…</p>

<a name="192862249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192862249" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192862249">Kevin Buzzard (Apr 03 2020 at 20:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="262143">Ryan Lahfa</span> <a href="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192857651" title="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192857651">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192857201" title="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192857201">said</a>:</p>
<blockquote>
<p>If you're formalising analysis in tactic mode you might never need to use terms such as this though</p>
</blockquote>
<p>Why?</p>
</blockquote>
<p>Because we have tactics like <code>choose</code>.</p>

<a name="192862576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192862576" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192862576">Ryan Lahfa (Apr 03 2020 at 20:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192862249" title="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192862249">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="262143">Ryan Lahfa</span> <a href="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192857651" title="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192857651">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192857201" title="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192857201">said</a>:</p>
<blockquote>
<p>If you're formalising analysis in tactic mode you might never need to use terms such as this though</p>
</blockquote>
<p>Why?</p>
</blockquote>
<p>Because we have tactics like <code>choose</code>.</p>
</blockquote>
<p>Wow. That's awesome!</p>

<a name="192868387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192868387" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192868387">Ryan Lahfa (Apr 03 2020 at 21:53)</a>:</h4>
<p>Though, I come back with an MWE because I didn't succeed to make <code>choose</code> work well.</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">set</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">set</span><span class="bp">.</span><span class="n">finite</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">real</span><span class="bp">.</span><span class="n">basic</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">finset</span>
<span class="kn">import</span> <span class="n">order</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span>

<span class="n">noncomputable</span> <span class="n">theory</span>
<span class="n">open_locale</span> <span class="n">classical</span>
<span class="kn">open</span> <span class="n">set</span>

<span class="n">class</span> <span class="n">metric_space</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">d</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span>
<span class="o">(</span><span class="n">d_pos</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">d</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">)</span>
<span class="o">(</span><span class="n">presep</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">x</span><span class="bp">=</span><span class="n">y</span> <span class="bp">→</span> <span class="n">d</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">)</span>
<span class="o">(</span><span class="n">sep</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">d</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">→</span>  <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span><span class="o">)</span>
<span class="o">(</span><span class="n">sym</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">d</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">d</span> <span class="n">y</span> <span class="n">x</span><span class="o">)</span>
<span class="o">(</span><span class="n">triangle</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">,</span> <span class="n">d</span> <span class="n">x</span> <span class="n">z</span> <span class="bp">≤</span> <span class="n">d</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">+</span> <span class="n">d</span> <span class="n">y</span> <span class="n">z</span><span class="o">)</span>

<span class="kn">variables</span> <span class="o">{</span><span class="n">X</span><span class="o">:</span><span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">metric_space</span> <span class="n">X</span><span class="o">]</span>

<span class="kn">open</span> <span class="n">metric_space</span>

<span class="n">def</span> <span class="n">converge</span> <span class="o">(</span><span class="n">x</span><span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">l</span> <span class="o">:</span> <span class="n">X</span><span class="o">)</span> <span class="o">:=</span>
  <span class="bp">∀</span> <span class="n">ε</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">N</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">n</span> <span class="bp">≥</span> <span class="n">N</span><span class="o">,</span> <span class="o">((</span><span class="n">d</span> <span class="n">l</span> <span class="o">(</span><span class="n">x</span> <span class="n">n</span><span class="o">))</span>  <span class="bp">&lt;</span> <span class="n">ε</span><span class="o">)</span>

<span class="kn">lemma</span> <span class="n">sup_is_a_cv_seq</span> <span class="o">[</span><span class="n">conditionally_complete_linear_order</span> <span class="n">X</span><span class="o">]</span> <span class="o">(</span><span class="n">S</span><span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">):</span>
  <span class="n">S</span><span class="bp">.</span><span class="n">nonempty</span> <span class="bp">→</span> <span class="n">bdd_above</span> <span class="n">S</span> <span class="bp">→</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span><span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">set</span><span class="bp">.</span><span class="n">range</span> <span class="n">x</span><span class="o">)</span> <span class="err">⊆</span> <span class="n">S</span> <span class="bp">∧</span> <span class="n">converge</span> <span class="n">x</span> <span class="o">(</span><span class="n">Sup</span> <span class="n">S</span><span class="o">)</span> <span class="o">:=</span> <span class="k">begin</span>
  <span class="n">intros</span> <span class="n">hnn</span> <span class="n">hbdd</span><span class="o">,</span>
  <span class="kn">end</span>
</pre></div>


<p>Let's say I want to prove that <code>sup_is_a_cv_seq</code>, so ideally, I should be able to reuse some parts of <code>mathlib</code>, namely <code>cSup_intro</code> I imagine and taking <code>ϵ = 1/n</code> for all n ≥ 0, this way, I should be able to have this lemma easily w/o rewriting a lot of stuff, right?</p>

<a name="192869848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192869848" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192869848">Ryan Lahfa (Apr 03 2020 at 22:09)</a>:</h4>
<p>Specifically, if I try to do this:</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">set</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">set</span><span class="bp">.</span><span class="n">finite</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">real</span><span class="bp">.</span><span class="n">basic</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">finset</span>
<span class="kn">import</span> <span class="n">order</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span>

<span class="n">noncomputable</span> <span class="n">theory</span>
<span class="n">open_locale</span> <span class="n">classical</span>
<span class="kn">open</span> <span class="n">set</span>

<span class="n">class</span> <span class="n">metric_space</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">d</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span>
<span class="o">(</span><span class="n">d_pos</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">d</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">)</span>
<span class="o">(</span><span class="n">presep</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">x</span><span class="bp">=</span><span class="n">y</span> <span class="bp">→</span> <span class="n">d</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">)</span>
<span class="o">(</span><span class="n">sep</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">d</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">→</span>  <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span><span class="o">)</span>
<span class="o">(</span><span class="n">sym</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">d</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">d</span> <span class="n">y</span> <span class="n">x</span><span class="o">)</span>
<span class="o">(</span><span class="n">triangle</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">,</span> <span class="n">d</span> <span class="n">x</span> <span class="n">z</span> <span class="bp">≤</span> <span class="n">d</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">+</span> <span class="n">d</span> <span class="n">y</span> <span class="n">z</span><span class="o">)</span>

<span class="kn">variables</span> <span class="o">{</span><span class="n">X</span><span class="o">:</span><span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">metric_space</span> <span class="n">X</span><span class="o">]</span>

<span class="kn">open</span> <span class="n">metric_space</span>

<span class="n">def</span> <span class="n">converge</span> <span class="o">(</span><span class="n">x</span><span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">l</span> <span class="o">:</span> <span class="n">X</span><span class="o">)</span> <span class="o">:=</span>
  <span class="bp">∀</span> <span class="n">ε</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">N</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">n</span> <span class="bp">≥</span> <span class="n">N</span><span class="o">,</span> <span class="o">((</span><span class="n">d</span> <span class="n">l</span> <span class="o">(</span><span class="n">x</span> <span class="n">n</span><span class="o">))</span>  <span class="bp">&lt;</span> <span class="n">ε</span><span class="o">)</span>

<span class="kn">lemma</span> <span class="n">sup_is_a_cv_seq</span> <span class="o">[</span><span class="n">conditionally_complete_linear_order</span> <span class="n">X</span><span class="o">]</span> <span class="o">(</span><span class="n">S</span><span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">):</span>
  <span class="n">S</span><span class="bp">.</span><span class="n">nonempty</span> <span class="bp">→</span> <span class="n">bdd_above</span> <span class="n">S</span> <span class="bp">→</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span><span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">set</span><span class="bp">.</span><span class="n">range</span> <span class="n">x</span><span class="o">)</span> <span class="err">⊆</span> <span class="n">S</span> <span class="bp">∧</span> <span class="n">converge</span> <span class="n">x</span> <span class="o">(</span><span class="n">Sup</span> <span class="n">S</span><span class="o">)</span> <span class="o">:=</span> <span class="k">begin</span>
  <span class="n">intros</span> <span class="n">hnn</span> <span class="n">hbdd</span><span class="o">,</span>
  <span class="k">have</span><span class="o">:</span> <span class="bp">∀</span> <span class="n">ε</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">S</span><span class="o">,</span> <span class="n">d</span> <span class="o">(</span><span class="n">Sup</span> <span class="n">S</span><span class="o">)</span> <span class="n">x</span> <span class="bp">&lt;</span> <span class="n">ε</span> <span class="o">:=</span> <span class="n">sorry</span><span class="o">,</span>
  <span class="k">have</span><span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">N</span><span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="bp">∃</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">S</span><span class="o">,</span> <span class="n">d</span> <span class="o">(</span><span class="n">Sup</span> <span class="n">S</span><span class="o">)</span> <span class="n">x</span> <span class="bp">&lt;</span> <span class="mi">1</span><span class="bp">/</span><span class="o">(</span><span class="n">N</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span> <span class="n">sorry</span><span class="o">,</span>

  <span class="n">choose</span> <span class="n">x</span> <span class="n">hrange</span> <span class="n">h</span> <span class="kn">using</span> <span class="n">this</span><span class="o">,</span>
  <span class="n">use</span> <span class="n">x</span><span class="o">,</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="n">intros</span> <span class="n">y</span> <span class="n">hy</span><span class="o">,</span>
  <span class="k">obtain</span> <span class="bp">⟨</span> <span class="n">N</span><span class="o">,</span> <span class="n">hN</span> <span class="bp">⟩</span> <span class="o">:=</span> <span class="n">hy</span><span class="o">,</span>
  <span class="n">rw</span> <span class="err">←</span> <span class="n">hN</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">hrange</span> <span class="n">N</span><span class="o">,</span>
  <span class="n">intros</span> <span class="n">ε</span> <span class="n">hε</span><span class="o">,</span>
  <span class="c1">-- 1/(N + 1) ≤ eps</span>
  <span class="c1">-- 1/eps ≤ N + 1</span>
  <span class="c1">-- 1/eps - 1 ≤ N</span>
  <span class="c1">-- use (floor(1/eps - 1) + 1)</span>
  <span class="n">use</span> <span class="o">(</span><span class="n">floor</span><span class="o">((</span><span class="mi">1</span><span class="bp">/</span><span class="n">ϵ</span><span class="o">)</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">),</span>


  <span class="kn">end</span>
</pre></div>


<p>The <code>use</code> won't work.</p>

<a name="192869892"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192869892" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192869892">Ryan Lahfa (Apr 03 2020 at 22:09)</a>:</h4>
<p>Because floor is in Z and I have to prove that the total value is in N, I guess.</p>

<a name="192870132"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192870132" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192870132">Ryan Lahfa (Apr 03 2020 at 22:12)</a>:</h4>
<p>Huh, no, the code provided uses a ϵ and the ε is not the same…</p>

<a name="192870437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192870437" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192870437">Ryan Lahfa (Apr 03 2020 at 22:16)</a>:</h4>
<p>Wonder if it is my CPU or something, but:</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">set</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">set</span><span class="bp">.</span><span class="n">finite</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">real</span><span class="bp">.</span><span class="n">basic</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">finset</span>
<span class="kn">import</span> <span class="n">order</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span>

<span class="n">noncomputable</span> <span class="n">theory</span>
<span class="n">open_locale</span> <span class="n">classical</span>
<span class="kn">open</span> <span class="n">set</span>

<span class="n">class</span> <span class="n">metric_space</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">d</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span>
<span class="o">(</span><span class="n">d_pos</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">d</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">)</span>
<span class="o">(</span><span class="n">presep</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">x</span><span class="bp">=</span><span class="n">y</span> <span class="bp">→</span> <span class="n">d</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">)</span>
<span class="o">(</span><span class="n">sep</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">d</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">→</span>  <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span><span class="o">)</span>
<span class="o">(</span><span class="n">sym</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">d</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">d</span> <span class="n">y</span> <span class="n">x</span><span class="o">)</span>
<span class="o">(</span><span class="n">triangle</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">,</span> <span class="n">d</span> <span class="n">x</span> <span class="n">z</span> <span class="bp">≤</span> <span class="n">d</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">+</span> <span class="n">d</span> <span class="n">y</span> <span class="n">z</span><span class="o">)</span>

<span class="kn">variables</span> <span class="o">{</span><span class="n">X</span><span class="o">:</span><span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">metric_space</span> <span class="n">X</span><span class="o">]</span>

<span class="kn">open</span> <span class="n">metric_space</span>

<span class="n">def</span> <span class="n">converge</span> <span class="o">(</span><span class="n">x</span><span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">l</span> <span class="o">:</span> <span class="n">X</span><span class="o">)</span> <span class="o">:=</span>
  <span class="bp">∀</span> <span class="n">ε</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">N</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">n</span> <span class="bp">≥</span> <span class="n">N</span><span class="o">,</span> <span class="o">((</span><span class="n">d</span> <span class="n">l</span> <span class="o">(</span><span class="n">x</span> <span class="n">n</span><span class="o">))</span>  <span class="bp">&lt;</span> <span class="n">ε</span><span class="o">)</span>

<span class="kn">lemma</span> <span class="n">sup_is_a_cv_seq</span> <span class="o">[</span><span class="n">conditionally_complete_linear_order</span> <span class="n">X</span><span class="o">]</span> <span class="o">(</span><span class="n">S</span><span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">):</span>
  <span class="n">S</span><span class="bp">.</span><span class="n">nonempty</span> <span class="bp">→</span> <span class="n">bdd_above</span> <span class="n">S</span> <span class="bp">→</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span><span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">set</span><span class="bp">.</span><span class="n">range</span> <span class="n">x</span><span class="o">)</span> <span class="err">⊆</span> <span class="n">S</span> <span class="bp">∧</span> <span class="n">converge</span> <span class="n">x</span> <span class="o">(</span><span class="n">Sup</span> <span class="n">S</span><span class="o">)</span> <span class="o">:=</span> <span class="k">begin</span>
  <span class="n">intros</span> <span class="n">hnn</span> <span class="n">hbdd</span><span class="o">,</span>
  <span class="k">have</span><span class="o">:</span> <span class="bp">∀</span> <span class="n">ε</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">S</span><span class="o">,</span> <span class="n">d</span> <span class="o">(</span><span class="n">Sup</span> <span class="n">S</span><span class="o">)</span> <span class="n">x</span> <span class="bp">&lt;</span> <span class="n">ε</span> <span class="o">:=</span> <span class="n">sorry</span><span class="o">,</span>
  <span class="k">have</span><span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">N</span><span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="bp">∃</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">S</span><span class="o">,</span> <span class="n">d</span> <span class="o">(</span><span class="n">Sup</span> <span class="n">S</span><span class="o">)</span> <span class="n">x</span> <span class="bp">&lt;</span> <span class="mi">1</span><span class="bp">/</span><span class="o">(</span><span class="n">N</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span> <span class="n">sorry</span><span class="o">,</span>
  <span class="n">choose</span> <span class="n">x</span> <span class="n">hrange</span> <span class="n">h</span> <span class="kn">using</span> <span class="n">this</span><span class="o">,</span>
  <span class="n">use</span> <span class="n">x</span><span class="o">,</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="n">intros</span> <span class="n">y</span> <span class="n">hy</span><span class="o">,</span>
  <span class="k">obtain</span> <span class="bp">⟨</span> <span class="n">N</span><span class="o">,</span> <span class="n">hN</span> <span class="bp">⟩</span> <span class="o">:=</span> <span class="n">hy</span><span class="o">,</span>
  <span class="n">rw</span> <span class="err">←</span> <span class="n">hN</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">hrange</span> <span class="n">N</span><span class="o">,</span>
  <span class="n">intros</span> <span class="n">ε</span> <span class="n">hε</span><span class="o">,</span>
  <span class="c1">-- 1/(N + 1) ≤ eps</span>
  <span class="c1">-- 1/eps ≤ N + 1</span>
  <span class="c1">-- 1/eps - 1 ≤ N</span>
  <span class="c1">-- use (floor(1/eps - 1) + 1)</span>
  <span class="n">set</span> <span class="n">N₀</span> <span class="o">:=</span> <span class="o">(</span><span class="n">floor</span><span class="o">((</span><span class="mi">1</span><span class="bp">/</span><span class="n">ε</span><span class="o">)</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">),</span>
  <span class="k">have</span> <span class="n">N0_pos</span><span class="o">:</span> <span class="n">N₀</span> <span class="bp">≥</span> <span class="mi">0</span> <span class="o">:=</span> <span class="n">sorry</span><span class="o">,</span>
  <span class="c1">-- lift N₀ to ℕ using N0_pos,</span>
  <span class="n">use</span> <span class="n">N₀</span><span class="o">,</span>

  <span class="n">sorry</span><span class="o">,</span>
  <span class="kn">end</span>
</pre></div>


<p>is taking a lot of time to compute.</p>

<a name="192871535"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192871535" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192871535">Kevin Buzzard (Apr 03 2020 at 22:29)</a>:</h4>
<p><code>presep</code> could be less clunkily expressed as <code>forall x, d x x = 0</code>, and <code>d_pos</code> follows from <code>triangle</code> and <code>sym</code> and <code>presep</code></p>

<a name="192871649"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192871649" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192871649">Ryan Lahfa (Apr 03 2020 at 22:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192871535" title="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192871535">said</a>:</p>
<blockquote>
<p><code>presep</code> could be less clunkily expressed as <code>forall x, d x x = 0</code>, and <code>d_pos</code> follows from <code>triangle</code> and <code>sym</code> and <code>presep</code></p>
</blockquote>
<p>Thank you!</p>

<a name="192871702"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192871702" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192871702">Kevin Buzzard (Apr 03 2020 at 22:31)</a>:</h4>
<p>I am concerned about your first <code>sorry</code></p>

<a name="192871708"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192871708" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192871708">Mario Carneiro (Apr 03 2020 at 22:31)</a>:</h4>
<p>at the risk of pointing out the obvious, mathlib already has a definition of metric spaces</p>

<a name="192871731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192871731" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192871731">Kevin Buzzard (Apr 03 2020 at 22:31)</a>:</h4>
<p>But what about a metric space which is also a conditionally complete linear order?</p>

<a name="192871761"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192871761" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192871761">Kevin Buzzard (Apr 03 2020 at 22:31)</a>:</h4>
<p>Because I am concerned that these two structures, the way you have set things up, are completely unrelated.</p>

<a name="192871813"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192871813" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192871813">Ryan Lahfa (Apr 03 2020 at 22:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192871708" title="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192871708">said</a>:</p>
<blockquote>
<p>at the risk of pointing out the obvious, mathlib already has a definition of metric spaces</p>
</blockquote>
<p>I know, this is rather to have another metric space definition which does not use filters, but only standard sequences.</p>

<a name="192871840"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192871840" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192871840">Mario Carneiro (Apr 03 2020 at 22:32)</a>:</h4>
<p>but the definition doesn't say anything about sequences</p>

<a name="192871853"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192871853" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192871853">Kevin Buzzard (Apr 03 2020 at 22:32)</a>:</h4>
<p>For example I don't see any reason why <code>Sup S</code> (which is defined using the complete linear order structure) should have anything to do with <code>converge</code> (which is defined using he metric space)</p>

<a name="192871858"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192871858" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192871858">Ryan Lahfa (Apr 03 2020 at 22:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192871761" title="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192871761">said</a>:</p>
<blockquote>
<p>Because I am concerned that these two structures, the way you have set things up, are completely unrelated.</p>
</blockquote>
<p>Yes, I definitely feel super wrong about this too. But in order to talk about Sup, I need some structure where bounded above gives me a sup.</p>

<a name="192871879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192871879" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192871879">Kevin Buzzard (Apr 03 2020 at 22:33)</a>:</h4>
<p>Sure, but you haven't glued your two choices of structure together</p>

<a name="192871898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192871898" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192871898">Ryan Lahfa (Apr 03 2020 at 22:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192871853" title="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192871853">said</a>:</p>
<blockquote>
<p>For example I don't see any reason why <code>Sup S</code> (which is defined using the complete linear order structure) should have anything to do with <code>converge</code> (which is defined using he metric space)</p>
</blockquote>
<p>Wouldn't cSup_intro give me the first sorry?</p>

<a name="192871906"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192871906" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192871906">Kevin Buzzard (Apr 03 2020 at 22:33)</a>:</h4>
<p>You can't prove any theorem relating sups to distances here</p>

<a name="192871922"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192871922" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192871922">Ryan Lahfa (Apr 03 2020 at 22:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192871840" title="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192871840">said</a>:</p>
<blockquote>
<p>but the definition doesn't say anything about sequences</p>
</blockquote>
<p>Of metric spaces?</p>

<a name="192871929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192871929" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192871929">Ryan Lahfa (Apr 03 2020 at 22:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192871906" title="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192871906">said</a>:</p>
<blockquote>
<p>You can't prove any theorem relating sups to distances here</p>
</blockquote>
<p>I see what you mean, right.</p>

<a name="192871990"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192871990" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192871990">Mario Carneiro (Apr 03 2020 at 22:34)</a>:</h4>
<p>I think you want to know that the topology is <code>orderable</code></p>

<a name="192872018"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192872018" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192872018">Kevin Buzzard (Apr 03 2020 at 22:34)</a>:</h4>
<p>You have currently written "Let <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span></span> be a metric space. Assume also that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span></span> has a total order, which is completely unrelated to the metric space structure. Then..."</p>

<a name="192872045"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192872045" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192872045">Mario Carneiro (Apr 03 2020 at 22:34)</a>:</h4>
<p>but that requires the topology of the metric space, so at that point you are better off using the mathlib definition</p>

<a name="192872101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192872101" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192872101">Mario Carneiro (Apr 03 2020 at 22:35)</a>:</h4>
<p>You can probably recast it in terms of compatibility directly, something like "intervals contain open balls and vice versa"</p>

<a name="192872360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192872360" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192872360">Ryan Lahfa (Apr 03 2020 at 22:39)</a>:</h4>
<p>Let's assume I want to prove this only for <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">R</mi></mrow><annotation encoding="application/x-tex">\mathbb{R}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">R</span></span></span></span></span> right now, so the first sorry is not a problem anymore, right? I can just remove the total orderable condition.</p>

<a name="192872492"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192872492" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192872492">Ryan Lahfa (Apr 03 2020 at 22:41)</a>:</h4>
<p>Okay, I see now why the first sorry was not feasible, indeed.</p>

<a name="192873171"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192873171" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192873171">Kevin Buzzard (Apr 03 2020 at 22:51)</a>:</h4>
<p>If you don't want to work with <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">R</mi></mrow><annotation encoding="application/x-tex">\mathbb{R}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">R</span></span></span></span></span> directly you need to come up with some structure where the ideas you want to formalise are still true, and it sounds to me like you want the topology induced by the metric to equal the topology induced by the order.</p>

<a name="192873231"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192873231" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192873231">Kevin Buzzard (Apr 03 2020 at 22:52)</a>:</h4>
<p>So either you formalise what the topology induced by your metric is, or you use mathlib metric spaces where it's already there.</p>

<a name="192873297"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192873297" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192873297">Ryan Lahfa (Apr 03 2020 at 22:53)</a>:</h4>
<p>I'll directly work with <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">R</mi></mrow><annotation encoding="application/x-tex">\mathbb{R}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">R</span></span></span></span></span> right now because I won't use this lemma for something else than <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">R</mi></mrow><annotation encoding="application/x-tex">\mathbb{R}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">R</span></span></span></span></span>.<br>
After I succeed, I'll revisit it to improve it with the topology order condition rather.</p>

<a name="192873326"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192873326" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192873326">Ryan Lahfa (Apr 03 2020 at 22:53)</a>:</h4>
<p>My whole code becomes now:</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">set</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">set</span><span class="bp">.</span><span class="n">finite</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">real</span><span class="bp">.</span><span class="n">basic</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">finset</span>
<span class="kn">import</span> <span class="n">order</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span>

<span class="n">noncomputable</span> <span class="n">theory</span>
<span class="n">open_locale</span> <span class="n">classical</span>
<span class="kn">open</span> <span class="n">set</span>

<span class="n">class</span> <span class="n">metric_space</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">d</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span>
<span class="o">(</span><span class="n">d_pos</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">d</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">)</span>
<span class="o">(</span><span class="n">presep</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span> <span class="bp">→</span> <span class="n">d</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">)</span>
<span class="o">(</span><span class="n">sep</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">d</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">→</span>  <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span><span class="o">)</span>
<span class="o">(</span><span class="n">sym</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">d</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">d</span> <span class="n">y</span> <span class="n">x</span><span class="o">)</span>
<span class="o">(</span><span class="n">triangle</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">,</span> <span class="n">d</span> <span class="n">x</span> <span class="n">z</span> <span class="bp">≤</span> <span class="n">d</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">+</span> <span class="n">d</span> <span class="n">y</span> <span class="n">z</span><span class="o">)</span>

<span class="kn">variables</span> <span class="o">{</span><span class="n">X</span><span class="o">:</span><span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">metric_space</span> <span class="n">X</span><span class="o">]</span>

<span class="kn">open</span> <span class="n">metric_space</span>

<span class="kn">instance</span> <span class="n">real</span><span class="bp">.</span><span class="n">metric_space</span> <span class="o">:</span> <span class="n">metric_space</span> <span class="n">ℝ</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">d</span>                  <span class="o">:=</span> <span class="bp">λ</span><span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="n">x</span> <span class="bp">-</span> <span class="n">y</span><span class="o">),</span>
  <span class="n">d_pos</span>              <span class="o">:=</span> <span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">abs_nonneg</span><span class="o">],</span>
  <span class="n">presep</span>             <span class="o">:=</span> <span class="k">begin</span> <span class="n">simp</span><span class="o">,</span> <span class="n">apply</span> <span class="n">sub_eq_zero_of_eq</span> <span class="kn">end</span><span class="o">,</span>
  <span class="n">sep</span>                <span class="o">:=</span> <span class="k">begin</span> <span class="n">simp</span><span class="o">,</span> <span class="n">apply</span> <span class="n">eq_of_sub_eq_zero</span> <span class="kn">end</span><span class="o">,</span>
  <span class="n">sym</span>                <span class="o">:=</span> <span class="k">assume</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">abs_sub</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">,</span>
  <span class="n">triangle</span>           <span class="o">:=</span> <span class="k">assume</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">,</span> <span class="n">abs_sub_le</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="o">}</span>

<span class="kn">theorem</span> <span class="n">real</span><span class="bp">.</span><span class="n">dist_eq</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span> <span class="n">d</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">abs</span> <span class="o">(</span><span class="n">x</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span> <span class="o">:=</span> <span class="n">rfl</span>

<span class="kn">theorem</span> <span class="n">real</span><span class="bp">.</span><span class="n">dist_0_eq_abs</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span> <span class="n">d</span> <span class="n">x</span> <span class="mi">0</span> <span class="bp">=</span> <span class="n">abs</span> <span class="n">x</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">real</span><span class="bp">.</span><span class="n">dist_eq</span><span class="o">]</span>

<span class="n">def</span> <span class="n">converge</span> <span class="o">(</span><span class="n">x</span><span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">l</span> <span class="o">:</span> <span class="n">X</span><span class="o">)</span> <span class="o">:=</span>
  <span class="bp">∀</span> <span class="n">ε</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">N</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">n</span> <span class="bp">≥</span> <span class="n">N</span><span class="o">,</span> <span class="o">((</span><span class="n">d</span> <span class="n">l</span> <span class="o">(</span><span class="n">x</span> <span class="n">n</span><span class="o">))</span>  <span class="bp">&lt;</span> <span class="n">ε</span><span class="o">)</span>


<span class="kn">lemma</span> <span class="n">sup_is_a_cv_seq</span> <span class="o">(</span><span class="n">S</span><span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span><span class="o">):</span>
  <span class="n">S</span><span class="bp">.</span><span class="n">nonempty</span> <span class="bp">→</span> <span class="n">bdd_above</span> <span class="n">S</span> <span class="bp">→</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span><span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">),</span> <span class="o">(</span><span class="n">set</span><span class="bp">.</span><span class="n">range</span> <span class="n">x</span><span class="o">)</span> <span class="err">⊆</span> <span class="n">S</span> <span class="bp">∧</span> <span class="n">converge</span> <span class="n">x</span> <span class="o">(</span><span class="n">Sup</span> <span class="n">S</span><span class="o">)</span> <span class="o">:=</span> <span class="k">begin</span>
  <span class="n">intros</span> <span class="n">hnn</span> <span class="n">hbdd</span><span class="o">,</span>
  <span class="k">have</span><span class="o">:</span> <span class="bp">∀</span> <span class="n">ε</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">S</span><span class="o">,</span> <span class="n">Sup</span> <span class="n">S</span> <span class="bp">-</span> <span class="n">x</span> <span class="bp">&lt;</span> <span class="n">ε</span> <span class="o">:=</span> <span class="n">sorry</span><span class="o">,</span>
  <span class="k">have</span><span class="o">:</span> <span class="bp">∀</span> <span class="n">ε</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">S</span><span class="o">,</span> <span class="n">d</span> <span class="o">(</span><span class="n">Sup</span> <span class="n">S</span><span class="o">)</span> <span class="n">x</span> <span class="bp">&lt;</span> <span class="n">ε</span> <span class="o">:=</span> <span class="k">begin</span>
  <span class="n">intros</span> <span class="n">ε</span> <span class="n">hε</span><span class="o">,</span>
  <span class="k">obtain</span> <span class="bp">⟨</span> <span class="n">x</span><span class="o">,</span> <span class="n">hx</span><span class="o">,</span> <span class="n">hs_lt</span> <span class="bp">⟩</span> <span class="o">:=</span> <span class="n">this</span> <span class="n">ε</span> <span class="n">hε</span><span class="o">,</span>
  <span class="n">use</span> <span class="n">x</span><span class="o">,</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">hx</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">real</span><span class="bp">.</span><span class="n">dist_eq</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">abs_lt_of_lt_of_neg_lt</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">hs_lt</span><span class="o">,</span>
  <span class="n">sorry</span><span class="o">,</span> <span class="c1">-- by definition of sup.</span>
  <span class="kn">end</span><span class="o">,</span>
  <span class="k">have</span><span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">N</span><span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="bp">∃</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">S</span><span class="o">,</span> <span class="n">d</span> <span class="o">(</span><span class="n">Sup</span> <span class="n">S</span><span class="o">)</span> <span class="n">x</span> <span class="bp">&lt;</span> <span class="mi">1</span><span class="bp">/</span><span class="o">(</span><span class="n">N</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span> <span class="n">sorry</span><span class="o">,</span>
  <span class="n">choose</span> <span class="n">x</span> <span class="n">hrange</span> <span class="n">h</span> <span class="kn">using</span> <span class="n">this</span><span class="o">,</span>
  <span class="n">use</span> <span class="n">x</span><span class="o">,</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="n">intros</span> <span class="n">y</span> <span class="n">hy</span><span class="o">,</span>
  <span class="k">obtain</span> <span class="bp">⟨</span> <span class="n">N</span><span class="o">,</span> <span class="n">hN</span> <span class="bp">⟩</span> <span class="o">:=</span> <span class="n">hy</span><span class="o">,</span>
  <span class="n">rw</span> <span class="err">←</span> <span class="n">hN</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">hrange</span> <span class="n">N</span><span class="o">,</span>
  <span class="n">intros</span> <span class="n">ε</span> <span class="n">hε</span><span class="o">,</span>
  <span class="c1">-- 1/(N + 1) ≤ eps</span>
  <span class="c1">-- 1/eps ≤ N + 1</span>
  <span class="c1">-- 1/eps - 1 ≤ N</span>
  <span class="n">lift</span> <span class="n">floor</span><span class="o">(</span><span class="mi">1</span><span class="bp">/</span><span class="n">ε</span><span class="o">)</span> <span class="n">to</span> <span class="bp">ℕ</span> <span class="k">with</span> <span class="n">N₀</span><span class="o">,</span>
  <span class="n">use</span> <span class="n">N₀</span><span class="o">,</span>
  <span class="n">intros</span> <span class="n">n</span> <span class="n">hn</span><span class="o">,</span>
  <span class="n">transitivity</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">h</span> <span class="n">n</span><span class="o">,</span>
  <span class="n">sorry</span><span class="o">,</span>
  <span class="kn">end</span>
</pre></div>

<a name="192873378"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192873378" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192873378">Kevin Buzzard (Apr 03 2020 at 22:54)</a>:</h4>
<p>I can't find <code>orderable</code> in mathlib by the way</p>

<a name="192873416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192873416" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192873416">Kevin Buzzard (Apr 03 2020 at 22:54)</a>:</h4>
<p>Do you have a question or are you now OK to keep going?</p>

<a name="192873454"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192873454" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192873454">Ryan Lahfa (Apr 03 2020 at 22:55)</a>:</h4>
<p>I think I can now finish the proof by myself —but feel free if you see stupid things (except the fact I'm writing my own metric_space def which is only for the sake of exercise.)</p>

<a name="192873522"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192873522" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192873522">Kevin Buzzard (Apr 03 2020 at 22:56)</a>:</h4>
<p>Your proof looks just like the kind of proofs I was writing when I was learning.</p>

<a name="192873681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192873681" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192873681">Ryan Lahfa (Apr 03 2020 at 22:58)</a>:</h4>
<p>I definitely abuse of <code>have</code> because I'm trying to see how it works, but I clean up afterwards to have something more natural</p>

<a name="192873703"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192873703" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192873703">Ryan Lahfa (Apr 03 2020 at 22:59)</a>:</h4>
<p>Other than this, I think I might be using <code>obtain</code> in a suboptimal way sometimes, and I'm not sure by what I should replace it</p>

<a name="192873841"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192873841" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192873841">Ryan Lahfa (Apr 03 2020 at 23:00)</a>:</h4>
<p><code>transitivity</code> is cool because it expresses 1:1 how I think, but those meta variables are not good I guess ; also, it does not work when I want to do: a ≤ b &lt; c — I don't know what good replacement there would be for this? (I could chain the right lemmas given enough time, but it's somewhat annoying)</p>

<a name="192873882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192873882" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192873882">Kevin Buzzard (Apr 03 2020 at 23:00)</a>:</h4>
<p><code>lt_of_le_of_lt</code></p>

<a name="192873945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192873945" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192873945">Ryan Lahfa (Apr 03 2020 at 23:01)</a>:</h4>
<p>I should try to have the confidence to write those directly as they're so natural…</p>

<a name="192874528"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192874528" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192874528">Mario Carneiro (Apr 03 2020 at 23:09)</a>:</h4>
<p>it's actually <code>order_topology</code></p>

<a name="192874653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192874653" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192874653">Mario Carneiro (Apr 03 2020 at 23:11)</a>:</h4>
<p>I think the names changed at some point; there is <code>order_topology</code> and <code>order_closed_topology</code> now</p>

<a name="192874797"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192874797" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192874797">Reid Barton (Apr 03 2020 at 23:13)</a>:</h4>
<p>I also distinctly remember something about <code>orderable</code></p>

<a name="192884878"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192884878" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192884878">Scott Morrison (Apr 04 2020 at 02:27)</a>:</h4>
<p>You can also use <code>calc</code> blocks instead of <code>transitivity</code>, or having the confidence to write <code>lt_of_le_of_lt</code>.</p>

<a name="192884925"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192884925" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192884925">Scott Morrison (Apr 04 2020 at 02:28)</a>:</h4>
<p><code>calc</code> blocks also have the advantage of readability (as long as the proof terms on each line stay succinct).</p>

<a name="192898541"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192898541" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192898541">Patrick Massot (Apr 04 2020 at 09:14)</a>:</h4>
<p>Ryan, do you know that transitivity can take an argument instantiating the meta-variable you complain about?</p>

<a name="192898556"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192898556" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192898556">Patrick Massot (Apr 04 2020 at 09:15)</a>:</h4>
<p>I still agree with Scott that you should probably be using more calc blocks. <code>linarith</code> can also get rid of all this as long as you state the relevant fact before, or pass them to linarith.</p>

<a name="192898559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192898559" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192898559">Ryan Lahfa (Apr 04 2020 at 09:16)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> I didn't know and I should have tried, I assumed that <code>transitivity</code> didn't take any argument, thanks.</p>

<a name="192898600"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192898600" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192898600">Patrick Massot (Apr 04 2020 at 09:16)</a>:</h4>
<p>Your lemma <code>sup_is_a_cv_seq</code> was the end goal of my Lean L1 course last year.</p>

<a name="192898604"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192898604" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192898604">Ryan Lahfa (Apr 04 2020 at 09:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110031">Patrick Massot</span> <a href="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192898556" title="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192898556">said</a>:</p>
<blockquote>
<p>I still agree with Scott that you should probably be using more calc blocks. <code>linarith</code> can also get rid of all this as long as you state the relevant fact before, or pass them to linarith.</p>
</blockquote>
<p>I'll give a try to <code>calc</code> blocks, they look like more natural to me.</p>

<a name="192898611"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192898611" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192898611">Patrick Massot (Apr 04 2020 at 09:17)</a>:</h4>
<p>But you are not approaching it in the right Lean mindset. You need to write the proof on paper, and collect all the « obvious facts » used in the proof. Them write lemmas about those obvious facts.</p>

<a name="192898612"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192898612" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192898612">Kenny Lau (Apr 04 2020 at 09:17)</a>:</h4>
<p>I don't like <code>(set.range x) ⊆ S</code> because it is harder to prove and use than <code>\forall n, x n \in S</code></p>

<a name="192898615"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192898615" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192898615">Patrick Massot (Apr 04 2020 at 09:17)</a>:</h4>
<p>Yes, I wanted to write this also.</p>

<a name="192898662"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192898662" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192898662">Ryan Lahfa (Apr 04 2020 at 09:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110031">Patrick Massot</span> <a href="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192898600" title="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192898600">said</a>:</p>
<blockquote>
<p>Your lemma <code>sup_is_a_cv_seq</code> was the end goal of my Lean L1 course last year.</p>
</blockquote>
<p>Oh wow, ideally, I'd like to generalize it to orderable topologies, like I'd been advised by <span class="user-mention" data-user-id="110049">@Mario Carneiro</span> (behind this, I'm proving the classical Bolzano-Weierstrass)</p>

<a name="192898665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192898665" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192898665">Patrick Massot (Apr 04 2020 at 09:18)</a>:</h4>
<p><code>set.range</code> and <code>set.image</code> are evil. They look nice on paper because you automatically do the required bureaucracy in your head without noticing.</p>

<a name="192898681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192898681" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192898681">Patrick Massot (Apr 04 2020 at 09:19)</a>:</h4>
<p>Sorry, I meant "of the exam of my Lean L1 course".</p>

<a name="192898682"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192898682" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192898682">Ryan Lahfa (Apr 04 2020 at 09:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110031">Patrick Massot</span> <a href="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192898665" title="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192898665">said</a>:</p>
<blockquote>
<p><code>set.range</code> and <code>set.image</code> are evil. They look nice on paper because you automatically do the required bureaucracy in your head without noticing.</p>
</blockquote>
<p><span class="user-mention silent" data-user-id="110064">Kenny Lau</span> <a href="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192898612" title="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192898612">said</a>:</p>
<blockquote>
<p>I don't like <code>(set.range x) ⊆ S</code> because it is harder to prove and use than <code>\forall n, x n \in S</code></p>
</blockquote>
<p>Alright, but stating <code>\forall n, x n \in S</code> looks like a bit weird when in reality what I want to express is that the image of the sequence is a subset of S</p>

<a name="192898683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192898683" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192898683">Patrick Massot (Apr 04 2020 at 09:19)</a>:</h4>
<p>I forgot part of the sentence.</p>

<a name="192898687"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192898687" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192898687">Ryan Lahfa (Apr 04 2020 at 09:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110031">Patrick Massot</span> <a href="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192898683" title="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192898683">said</a>:</p>
<blockquote>
<p>I forgot part of the sentence.</p>
</blockquote>
<p><span class="user-mention silent" data-user-id="110031">Patrick Massot</span> <a href="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192898681" title="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192898681">said</a>:</p>
<blockquote>
<p>Sorry, I meant "of the exam of my Lean L1 course".</p>
</blockquote>
<p>Ah! Is it available somewhere? I'm quite interested into this!</p>

<a name="192898688"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192898688" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192898688">Patrick Massot (Apr 04 2020 at 09:19)</a>:</h4>
<p>No, you want to express that the sequence takes values in S.</p>

<a name="192898731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192898731" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192898731">Patrick Massot (Apr 04 2020 at 09:20)</a>:</h4>
<p>You would never say "the image of the sequence is a subset of S".</p>

<a name="192898749"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192898749" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192898749">Ryan Lahfa (Apr 04 2020 at 09:20)</a>:</h4>
<p>Indeed, I agree</p>

<a name="192898758"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192898758" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192898758">Ryan Lahfa (Apr 04 2020 at 09:21)</a>:</h4>
<p>But I'd just write <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mi>n</mi></msub><msub><mo stretchy="false">)</mo><mi>n</mi></msub><mo>∈</mo><msup><mi>S</mi><mi mathvariant="double-struck">N</mi></msup></mrow><annotation encoding="application/x-tex">(x_n)_n \in S^{\mathbb{N}}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.845223em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.845223em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathbb mtight">N</span></span></span></span></span></span></span></span></span></span></span></span></span></p>

<a name="192898808"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192898808" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192898808">Kenny Lau (Apr 04 2020 at 09:22)</a>:</h4>
<p>but whenever you prove / use this sentence you always prove that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>n</mi></msub><mo>∈</mo><mi>S</mi><mi mathvariant="normal">∀</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">x_n \in S \forall n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.6891em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord">∀</span><span class="mord mathdefault">n</span></span></span></span></p>

<a name="192898818"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192898818" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192898818">Patrick Massot (Apr 04 2020 at 09:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="262143">Ryan Lahfa</span> <a href="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192898758" title="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192898758">said</a>:</p>
<blockquote>
<p>But I'd just write <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mi>n</mi></msub><msub><mo stretchy="false">)</mo><mi>n</mi></msub><mo>∈</mo><msup><mi>S</mi><mi mathvariant="double-struck">N</mi></msup></mrow><annotation encoding="application/x-tex">(x_n)_n \in S^{\mathbb{N}}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.845223em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.845223em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathbb mtight">N</span></span></span></span></span></span></span></span></span></span></span></span></span></p>
</blockquote>
<p>You shouldn't. Really.</p>

<a name="192898860"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192898860" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192898860">Ryan Lahfa (Apr 04 2020 at 09:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110031">Patrick Massot</span> <a href="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192898818" title="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192898818">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="262143">Ryan Lahfa</span> <a href="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192898758" title="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192898758">said</a>:</p>
<blockquote>
<p>But I'd just write <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mi>n</mi></msub><msub><mo stretchy="false">)</mo><mi>n</mi></msub><mo>∈</mo><msup><mi>S</mi><mi mathvariant="double-struck">N</mi></msup></mrow><annotation encoding="application/x-tex">(x_n)_n \in S^{\mathbb{N}}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.845223em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.845223em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathbb mtight">N</span></span></span></span></span></span></span></span></span></span></span></span></span></p>
</blockquote>
<p>You shouldn't. Really.</p>
</blockquote>
<p>What would you advise to write?</p>

<a name="192898919"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192898919" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192898919">Patrick Massot (Apr 04 2020 at 09:26)</a>:</h4>
<p>Anyway, you should have lemma saying <code>∀ ε &gt; 0, ∃ x ∈ S, Sup S - ε &lt; x</code> outside from your main proof. And then the same with 1/(N+1) instead of ε.</p>

<a name="192898970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192898970" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192898970">Ryan Lahfa (Apr 04 2020 at 09:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110031">Patrick Massot</span> <a href="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192898919" title="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192898919">said</a>:</p>
<blockquote>
<p>Anyway, you should have lemma saying <code>∀ ε &gt; 0, ∃ x ∈ S, Sup S - ε &lt; x</code> outside from your main proof. And then the same with 1/(N+1) instead of ε.</p>
</blockquote>
<p>Yes, I was planning to extract those as they're looking like lemmas on themselves.</p>

<a name="192898971"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192898971" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192898971">Patrick Massot (Apr 04 2020 at 09:28)</a>:</h4>
<p>And a lemma saying that if for all n, <code>d (x n) l &lt; 1/(N+1)</code> then <code>x</code> converges to <code>l</code>.</p>

<a name="192898978"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192898978" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192898978">Patrick Massot (Apr 04 2020 at 09:29)</a>:</h4>
<p>Because these all lemmas that are "obvious" when you have already reached the point where you want to prove this Sup thing.</p>

<a name="192898981"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192898981" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192898981">Patrick Massot (Apr 04 2020 at 09:29)</a>:</h4>
<p>So you don't want to be proving them in the middle of this proof.</p>

<a name="192898984"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192898984" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192898984">Patrick Massot (Apr 04 2020 at 09:29)</a>:</h4>
<p>You wouldn't do that on paper and you wouldn't do that in Lean.</p>

<a name="192899034"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192899034" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192899034">Patrick Massot (Apr 04 2020 at 09:30)</a>:</h4>
<p>And of course a lemma saying that 1/(N+1) is less than any epsilon for N large enough</p>

<a name="192899137"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192899137" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192899137">Ryan Lahfa (Apr 04 2020 at 09:33)</a>:</h4>
<p>Definitely.</p>

<a name="192899140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192899140" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192899140">Ryan Lahfa (Apr 04 2020 at 09:33)</a>:</h4>
<p>Would <code>one_div_lt_epsilon</code> be a right name for the last lemma?</p>

<a name="192899189"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192899189" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192899189">Ryan Lahfa (Apr 04 2020 at 09:34)</a>:</h4>
<p>For <code>forall n, d (x n) l &lt; 1/(N + 1) → converge x l</code>, I'm not sure how to call it except <code>convergence_aux_1</code></p>

<a name="192899218"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192899218" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192899218">Patrick Massot (Apr 04 2020 at 09:35)</a>:</h4>
<p><code>converge_of_dist_lt_one_div_succ</code>?</p>

<a name="192899219"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192899219" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192899219">Kenny Lau (Apr 04 2020 at 09:35)</a>:</h4>
<p><code>converge_of_d_lt</code></p>

<a name="192908341"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192908341" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192908341">Ryan Lahfa (Apr 04 2020 at 13:47)</a>:</h4>
<p>I tried to take into account most of your advice and came back with this:</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">set</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">set</span><span class="bp">.</span><span class="n">finite</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">real</span><span class="bp">.</span><span class="n">basic</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">finset</span>
<span class="kn">import</span> <span class="n">order</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span>

<span class="n">noncomputable</span> <span class="n">theory</span>
<span class="n">open_locale</span> <span class="n">classical</span>
<span class="kn">open</span> <span class="n">set</span>

<span class="n">class</span> <span class="n">metric_space</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">d</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span>
<span class="o">(</span><span class="n">d_pos</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">d</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">≥</span> <span class="mi">0</span><span class="o">)</span>
<span class="o">(</span><span class="n">presep</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span> <span class="bp">→</span> <span class="n">d</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">)</span>
<span class="o">(</span><span class="n">sep</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">d</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">→</span>  <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span><span class="o">)</span>
<span class="o">(</span><span class="n">sym</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">d</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">d</span> <span class="n">y</span> <span class="n">x</span><span class="o">)</span>
<span class="o">(</span><span class="n">triangle</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">,</span> <span class="n">d</span> <span class="n">x</span> <span class="n">z</span> <span class="bp">≤</span> <span class="n">d</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">+</span> <span class="n">d</span> <span class="n">y</span> <span class="n">z</span><span class="o">)</span>

<span class="kn">variables</span> <span class="o">{</span><span class="n">X</span><span class="o">:</span><span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">metric_space</span> <span class="n">X</span><span class="o">]</span>

<span class="kn">open</span> <span class="n">metric_space</span>

<span class="kn">instance</span> <span class="n">real</span><span class="bp">.</span><span class="n">metric_space</span> <span class="o">:</span> <span class="n">metric_space</span> <span class="n">ℝ</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">d</span>                  <span class="o">:=</span> <span class="bp">λ</span><span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="n">x</span> <span class="bp">-</span> <span class="n">y</span><span class="o">),</span>
  <span class="n">d_pos</span>              <span class="o">:=</span> <span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">abs_nonneg</span><span class="o">],</span>
  <span class="n">presep</span>             <span class="o">:=</span> <span class="k">begin</span> <span class="n">simp</span><span class="o">,</span> <span class="n">apply</span> <span class="n">sub_eq_zero_of_eq</span> <span class="kn">end</span><span class="o">,</span>
  <span class="n">sep</span>                <span class="o">:=</span> <span class="k">begin</span> <span class="n">simp</span><span class="o">,</span> <span class="n">apply</span> <span class="n">eq_of_sub_eq_zero</span> <span class="kn">end</span><span class="o">,</span>
  <span class="n">sym</span>                <span class="o">:=</span> <span class="k">assume</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">abs_sub</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">,</span>
  <span class="n">triangle</span>           <span class="o">:=</span> <span class="k">assume</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">,</span> <span class="n">abs_sub_le</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="o">}</span>

<span class="kn">theorem</span> <span class="n">real</span><span class="bp">.</span><span class="n">dist_eq</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span> <span class="n">d</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">abs</span> <span class="o">(</span><span class="n">x</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span> <span class="o">:=</span> <span class="n">rfl</span>

<span class="kn">theorem</span> <span class="n">real</span><span class="bp">.</span><span class="n">dist_0_eq_abs</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span> <span class="n">d</span> <span class="n">x</span> <span class="mi">0</span> <span class="bp">=</span> <span class="n">abs</span> <span class="n">x</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">real</span><span class="bp">.</span><span class="n">dist_eq</span><span class="o">]</span>

<span class="n">def</span> <span class="n">converge</span> <span class="o">(</span><span class="n">x</span><span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">l</span> <span class="o">:</span> <span class="n">X</span><span class="o">)</span> <span class="o">:=</span>
  <span class="bp">∀</span> <span class="n">ε</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">N</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">n</span> <span class="bp">≥</span> <span class="n">N</span><span class="o">,</span> <span class="o">((</span><span class="n">d</span> <span class="n">l</span> <span class="o">(</span><span class="n">x</span> <span class="n">n</span><span class="o">))</span>  <span class="bp">&lt;</span> <span class="n">ε</span><span class="o">)</span>

<span class="kn">lemma</span> <span class="n">real</span><span class="bp">.</span><span class="n">sup_sub_lt_eps</span> <span class="o">{</span><span class="n">S</span><span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span><span class="o">}:</span> <span class="bp">∀</span> <span class="n">ε</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">S</span><span class="o">,</span> <span class="n">Sup</span> <span class="n">S</span> <span class="bp">-</span> <span class="n">x</span> <span class="bp">&lt;</span> <span class="n">ε</span> <span class="o">:=</span> <span class="n">sorry</span>
<span class="kn">lemma</span> <span class="n">real</span><span class="bp">.</span><span class="n">sup_dist_lt_eps</span> <span class="o">{</span><span class="n">S</span><span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span><span class="o">}:</span> <span class="bp">∀</span> <span class="n">ε</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">S</span><span class="o">,</span> <span class="n">d</span> <span class="o">(</span><span class="n">Sup</span> <span class="n">S</span><span class="o">)</span> <span class="n">x</span> <span class="bp">&lt;</span> <span class="n">ε</span> <span class="o">:=</span> <span class="k">begin</span>
  <span class="n">intros</span> <span class="n">ε</span> <span class="n">hε</span><span class="o">,</span>
  <span class="k">obtain</span> <span class="bp">⟨</span> <span class="n">x</span><span class="o">,</span> <span class="n">hx</span><span class="o">,</span> <span class="n">hs_lt</span> <span class="bp">⟩</span> <span class="o">:=</span> <span class="n">real</span><span class="bp">.</span><span class="n">sup_sub_lt_eps</span> <span class="n">ε</span> <span class="n">hε</span><span class="o">,</span>
  <span class="n">use</span> <span class="n">x</span><span class="o">,</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">hx</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">real</span><span class="bp">.</span><span class="n">dist_eq</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">abs_lt_of_lt_of_neg_lt</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">hs_lt</span><span class="o">,</span>
  <span class="n">sorry</span><span class="o">,</span>
<span class="kn">end</span>

<span class="kn">lemma</span> <span class="n">converge_of_dist_lt_one_div_succ</span> <span class="o">{</span><span class="n">x</span><span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">}</span> <span class="o">{</span><span class="n">l</span><span class="o">:</span> <span class="n">ℝ</span><span class="o">}:</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">n</span><span class="o">,</span> <span class="n">d</span> <span class="n">l</span> <span class="o">(</span><span class="n">x</span> <span class="n">n</span><span class="o">)</span> <span class="bp">≤</span> <span class="mi">1</span> <span class="bp">/</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">→</span> <span class="n">converge</span> <span class="n">x</span> <span class="n">l</span> <span class="o">:=</span> <span class="k">begin</span>
<span class="n">intro</span> <span class="n">H</span><span class="o">,</span>
<span class="n">intros</span> <span class="n">ε</span> <span class="n">hε</span><span class="o">,</span>
<span class="k">obtain</span> <span class="bp">⟨</span> <span class="n">N</span><span class="o">,</span> <span class="n">hN</span> <span class="bp">⟩</span> <span class="o">:=</span> <span class="n">exists_nat_one_div_lt</span> <span class="n">hε</span><span class="o">,</span>
<span class="n">use</span> <span class="n">N</span><span class="o">,</span>
<span class="n">intros</span> <span class="n">n</span> <span class="n">hn</span><span class="o">,</span>
<span class="k">calc</span> <span class="n">d</span> <span class="n">l</span> <span class="o">(</span><span class="n">x</span> <span class="n">n</span><span class="o">)</span> <span class="bp">≤</span> <span class="mi">1</span> <span class="bp">/</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:</span> <span class="n">H</span> <span class="n">n</span>
    <span class="bp">...</span> <span class="bp">≤</span> <span class="mi">1</span> <span class="bp">/</span> <span class="o">(</span><span class="n">N</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:</span> <span class="n">nat</span><span class="bp">.</span><span class="n">one_div_le_one_div</span> <span class="n">hn</span>
    <span class="bp">...</span> <span class="bp">&lt;</span> <span class="n">ε</span> <span class="o">:</span> <span class="n">hN</span>
<span class="kn">end</span>

<span class="kn">lemma</span> <span class="n">sup_is_a_cv_seq</span> <span class="o">(</span><span class="n">S</span><span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span><span class="o">):</span>
  <span class="n">S</span><span class="bp">.</span><span class="n">nonempty</span> <span class="bp">→</span> <span class="n">bdd_above</span> <span class="n">S</span> <span class="bp">→</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span><span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">),</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">n</span><span class="o">,</span> <span class="n">x</span> <span class="n">n</span> <span class="err">∈</span> <span class="n">S</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">converge</span> <span class="n">x</span> <span class="o">(</span><span class="n">Sup</span> <span class="n">S</span><span class="o">)</span> <span class="o">:=</span> <span class="k">begin</span>
  <span class="n">intros</span> <span class="n">hnn</span> <span class="n">hbdd</span><span class="o">,</span>
  <span class="k">have</span><span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">N</span><span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="bp">∃</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">S</span><span class="o">,</span> <span class="n">d</span> <span class="o">(</span><span class="n">Sup</span> <span class="n">S</span><span class="o">)</span> <span class="n">x</span> <span class="bp">&lt;</span> <span class="mi">1</span><span class="bp">/</span><span class="o">(</span><span class="n">N</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span> <span class="k">begin</span>
  <span class="n">intro</span> <span class="n">N</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">real</span><span class="bp">.</span><span class="n">sup_dist_lt_eps</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">nat</span><span class="bp">.</span><span class="n">one_div_pos_of_nat</span><span class="o">,</span>
  <span class="kn">end</span><span class="o">,</span>
  <span class="n">choose</span> <span class="n">x</span> <span class="n">hrange</span> <span class="n">h</span> <span class="kn">using</span> <span class="n">this</span><span class="o">,</span>
  <span class="n">use</span> <span class="n">x</span><span class="o">,</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">hrange</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">converge_of_dist_lt_one_div_succ</span> <span class="n">h</span><span class="o">,</span> <span class="c1">-- this line should work (?)</span>
  <span class="kn">end</span>
</pre></div>


<p>But, I have some issue regarding the types, here is the state at the last step:</p>
<div class="codehilite"><pre><span></span><span class="n">type</span> <span class="n">mismatch</span> <span class="n">at</span> <span class="n">application</span>
  <span class="n">converge_of_dist_lt_one_div_succ</span> <span class="n">h</span>
<span class="n">term</span>
  <span class="n">h</span>
<span class="n">has</span> <span class="n">type</span>
  <span class="bp">∀</span> <span class="o">(</span><span class="n">N</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="n">d</span> <span class="o">(</span><span class="n">Sup</span> <span class="n">S</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="n">N</span><span class="o">)</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> <span class="o">(</span><span class="err">↑</span><span class="n">N</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="n">but</span> <span class="n">is</span> <span class="n">expected</span> <span class="n">to</span> <span class="k">have</span> <span class="n">type</span>
  <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="n">d</span> <span class="o">(</span><span class="n">Sup</span> <span class="n">S</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="n">n</span><span class="o">)</span> <span class="bp">≤</span> <span class="mi">1</span> <span class="bp">/</span> <span class="o">(</span><span class="err">↑</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="n">state</span><span class="o">:</span>
<span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hnn</span> <span class="o">:</span> <span class="n">set</span><span class="bp">.</span><span class="n">nonempty</span> <span class="n">S</span><span class="o">,</span>
<span class="n">hbdd</span> <span class="o">:</span> <span class="n">bdd_above</span> <span class="n">S</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hrange</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">N</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="n">x</span> <span class="n">N</span> <span class="err">∈</span> <span class="n">S</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">N</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="n">d</span> <span class="o">(</span><span class="n">Sup</span> <span class="n">S</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="n">N</span><span class="o">)</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> <span class="o">(</span><span class="err">↑</span><span class="n">N</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="n">converge</span> <span class="n">x</span> <span class="o">(</span><span class="n">Sup</span> <span class="n">S</span><span class="o">)</span>
</pre></div>


<p>I'm not sure what is actually different except some typeclasses, I tried to print those with <code>set_option pp.all true</code> but got lost as there were a huge amount of those.</p>

<a name="192908427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192908427" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192908427">Kevin Buzzard (Apr 04 2020 at 13:49)</a>:</h4>
<p>You have a &lt; in one and a &lt;=in the other</p>

<a name="192908435"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192908435" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192908435">Ryan Lahfa (Apr 04 2020 at 13:49)</a>:</h4>
<p>Thanks…</p>

<a name="192908501"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192908501" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192908501">Ryan Lahfa (Apr 04 2020 at 13:51)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> Is there a way to apply <code>le_of_lt</code> in this part:</p>
<div class="codehilite"><pre><span></span>  <span class="k">have</span><span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">N</span><span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="bp">∃</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">S</span><span class="o">,</span> <span class="n">d</span> <span class="o">(</span><span class="n">Sup</span> <span class="n">S</span><span class="o">)</span> <span class="n">x</span> <span class="bp">≤</span> <span class="mi">1</span><span class="bp">/</span><span class="o">(</span><span class="n">N</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span> <span class="k">begin</span>
  <span class="n">intro</span> <span class="n">N</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">le_of_lt</span><span class="o">,</span> <span class="c1">-- won&#39;t work because of exists</span>
  <span class="n">apply</span> <span class="n">real</span><span class="bp">.</span><span class="n">sup_dist_lt_eps</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">nat</span><span class="bp">.</span><span class="n">one_div_pos_of_nat</span><span class="o">,</span>
  <span class="kn">end</span><span class="o">,</span>
</pre></div>


<p>?</p>

<a name="192908754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192908754" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192908754">Kevin Buzzard (Apr 04 2020 at 13:56)</a>:</h4>
<p>Instead of <code>apply</code> use <code>convert</code> maybe. What is the type of real.sup_dist_lt_pos?</p>

<a name="192908767"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192908767" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192908767">Ryan Lahfa (Apr 04 2020 at 13:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192908754" title="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192908754">said</a>:</p>
<blockquote>
<p>Instead of <code>apply</code> use <code>convert</code> maybe. What is the type of real.sup_dist_lt_pos?</p>
</blockquote>
<p><code>lemma real.sup_dist_lt_eps {S: set ℝ}: ∀ ε &gt; 0, ∃ x ∈ S, d (Sup S) x &lt; ε := begin</code></p>

<a name="192908780"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192908780" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192908780">Kevin Buzzard (Apr 04 2020 at 13:57)</a>:</h4>
<p>Make a term which starts with an exists from that term and convert it</p>

<a name="192908838"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192908838" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192908838">Kevin Buzzard (Apr 04 2020 at 13:58)</a>:</h4>
<p>Ie supply the correct epsilon</p>

<a name="192908851"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192908851" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192908851">Kevin Buzzard (Apr 04 2020 at 13:58)</a>:</h4>
<p>Hmm this still won't work</p>

<a name="192908854"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192908854" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192908854">Reid Barton (Apr 04 2020 at 13:58)</a>:</h4>
<p>right, it won't work because <code>le_of_lt</code> is not an equality</p>

<a name="192908861"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192908861" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192908861">Ryan Lahfa (Apr 04 2020 at 13:59)</a>:</h4>
<p>I tried this: <code>convert real.sup_dist_lt_eps (1 / (N + 1)) (nat.one_div_pos_of_nat),</code></p>

<a name="192908862"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192908862" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192908862">Kevin Buzzard (Apr 04 2020 at 13:59)</a>:</h4>
<p>Well just do cases on the term to get to an epsilon</p>

<a name="192908866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192908866" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192908866">Kevin Buzzard (Apr 04 2020 at 13:59)</a>:</h4>
<p>Convert won't work</p>

<a name="192908868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192908868" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192908868">Reid Barton (Apr 04 2020 at 13:59)</a>:</h4>
<p>You need to know if <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mi>Q</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(x) \implies Q(x)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">Q</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span> for all x, then <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi mathvariant="normal">∃</mi><mi>x</mi><mo separator="true">,</mo><mi>P</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mo stretchy="false">(</mo><mi mathvariant="normal">∃</mi><mi>x</mi><mo separator="true">,</mo><mi>Q</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\exists x, P(x)) \implies (\exists x, Q(x))</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">∃</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">∃</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">Q</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span> and we don't have a general framework for that</p>

<a name="192908877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192908877" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192908877">Reid Barton (Apr 04 2020 at 13:59)</a>:</h4>
<p>If it was <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo></mrow><annotation encoding="application/x-tex">=</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span></span></span> and not <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext></mrow><annotation encoding="application/x-tex">\implies</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.549em;vertical-align:-0.024em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span></span></span> then you could use convert or conv or whatever.</p>

<a name="192908936"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192908936" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192908936">Kevin Buzzard (Apr 04 2020 at 14:00)</a>:</h4>
<p>Do cases on the term you make with the exists and use that x</p>

<a name="192909006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192909006" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192909006">Kevin Buzzard (Apr 04 2020 at 14:02)</a>:</h4>
<p>Or just apply the logic lemma. Presumably it's in logic.basic?</p>

<a name="192909007"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192909007" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192909007">Ryan Lahfa (Apr 04 2020 at 14:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192908862" title="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192908862">said</a>:</p>
<blockquote>
<p>Well just do cases on the term to get to an epsilon</p>
</blockquote>
<p>Is this something like this: <code>cases (real.sup_dist_lt_eps (1 / (N + 1)) (nat.one_div_pos_of_nat)) with x hx,</code> often?</p>

<a name="192909032"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192909032" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192909032">Kevin Buzzard (Apr 04 2020 at 14:03)</a>:</h4>
<p>If you got an x and an hx that looks good then yes. You might be better off with rcases though</p>

<a name="192909071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192909071" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192909071">Kevin Buzzard (Apr 04 2020 at 14:04)</a>:</h4>
<p>Because you want to extract x in S and not just x</p>

<a name="192909073"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192909073" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192909073">Ryan Lahfa (Apr 04 2020 at 14:04)</a>:</h4>
<p>Is there a preference between rcases and obtain?</p>

<a name="192909079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192909079" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192909079">Ryan Lahfa (Apr 04 2020 at 14:04)</a>:</h4>
<p>Because I often use obtain to extract arbitrary complex constructors</p>

<a name="192909112"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192909112" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192909112">Kevin Buzzard (Apr 04 2020 at 14:05)</a>:</h4>
<p>Obtain is best</p>

<a name="192909114"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192909114" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192909114">Ryan Lahfa (Apr 04 2020 at 14:05)</a>:</h4>
<p>This works:</p>
<div class="codehilite"><pre><span></span>  <span class="k">have</span><span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">N</span><span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="bp">∃</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">S</span><span class="o">,</span> <span class="n">d</span> <span class="o">(</span><span class="n">Sup</span> <span class="n">S</span><span class="o">)</span> <span class="n">x</span> <span class="bp">≤</span> <span class="mi">1</span><span class="bp">/</span><span class="o">(</span><span class="n">N</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span> <span class="k">begin</span>
  <span class="n">intro</span> <span class="n">N</span><span class="o">,</span>
  <span class="k">obtain</span> <span class="bp">⟨</span> <span class="n">x</span><span class="o">,</span> <span class="n">hrange</span><span class="o">,</span> <span class="n">hsup</span> <span class="bp">⟩</span> <span class="o">:=</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">sup_dist_lt_eps</span> <span class="n">S</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">/</span> <span class="o">(</span><span class="n">N</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">one_div_pos_of_nat</span><span class="o">)),</span>
  <span class="n">use</span> <span class="n">x</span><span class="o">,</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">hrange</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">le_of_lt</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">hsup</span><span class="o">,</span>
  <span class="kn">end</span><span class="o">,</span>
</pre></div>


<p>anyway</p>

<a name="192909117"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192909117" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192909117">Kevin Buzzard (Apr 04 2020 at 14:05)</a>:</h4>
<p>I always forget about it because it's relatively new</p>

<a name="192909130"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192909130" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192909130">Ryan Lahfa (Apr 04 2020 at 14:05)</a>:</h4>
<p>Thanks!</p>

<a name="192909191"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192909191" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192909191">Kevin Buzzard (Apr 04 2020 at 14:06)</a>:</h4>
<p>Now can you write it in pure term mode?</p>

<a name="192909195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192909195" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192909195">Kevin Buzzard (Apr 04 2020 at 14:06)</a>:</h4>
<p>lambda instead of intro etc?</p>

<a name="192909208"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192909208" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192909208">Kevin Buzzard (Apr 04 2020 at 14:07)</a>:</h4>
<p>There are no serious tactics in your code so you don't need tactic mode at all</p>

<a name="192909217"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192909217" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192909217">Kevin Buzzard (Apr 04 2020 at 14:07)</a>:</h4>
<p>Obtain becomes let ... in</p>

<a name="192909221"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192909221" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192909221">Kevin Buzzard (Apr 04 2020 at 14:07)</a>:</h4>
<p>Split is pointy brackets</p>

<a name="192909227"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192909227" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192909227">Kevin Buzzard (Apr 04 2020 at 14:07)</a>:</h4>
<p>And exact can be removed completely</p>

<a name="192909280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192909280" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192909280">Ryan Lahfa (Apr 04 2020 at 14:08)</a>:</h4>
<p>I started like this: <code>λ N,
  let ⟨ x, hrange, hsup ⟩ in (real.sup_dist_lt_eps S (1 / (N + 1)) (nat.one_div_pos_of_nat)),</code></p>

<a name="192909289"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192909289" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192909289">Ryan Lahfa (Apr 04 2020 at 14:08)</a>:</h4>
<p>But it is complaining about the syntax — I guess I'm doing something wrong</p>

<a name="192909308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192909308" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192909308">Ryan Lahfa (Apr 04 2020 at 14:09)</a>:</h4>
<p>Huh, yes <code>let x := t in s</code></p>

<a name="192909313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192909313" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192909313">Patrick Massot (Apr 04 2020 at 14:09)</a>:</h4>
<p>Your use of <code>obtain</code> make it completely equivalent to <code>rcases</code>. This is fine, but you should know the added value of <code>obtain</code> is you can write the expected type upfront.</p>

<a name="192909376"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192909376" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192909376">Patrick Massot (Apr 04 2020 at 14:10)</a>:</h4>
<p>In your case that would be purely for readability purposes.</p>

<a name="192909405"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192909405" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192909405">Ryan Lahfa (Apr 04 2020 at 14:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110031">Patrick Massot</span> <a href="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192909313" title="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192909313">said</a>:</p>
<blockquote>
<p>Your use of <code>obtain</code> make it completely equivalent to <code>rcases</code>. This is fine, but you should know the added value of <code>obtain</code> is you can write the expected type upfront.</p>
</blockquote>
<p>I see, I can do <code>obtain &lt;pattern&gt;: type := …</code> and I can omit <code>&lt;pattern&gt;</code> ?</p>

<a name="192909458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192909458" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192909458">Ryan Lahfa (Apr 04 2020 at 14:12)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> I'm not sure how to replace the <code>use x;</code> (also is there any docs for the commands for the pointy brackets, etc. ?)</p>

<a name="192909481"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192909481" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192909481">Patrick Massot (Apr 04 2020 at 14:13)</a>:</h4>
<p>You can do a lot of things:</p>
<div class="codehilite"><pre><span></span>  <span class="k">obtain</span> <span class="bp">⟨</span><span class="n">x</span><span class="o">,</span> <span class="n">hx</span><span class="bp">⟩</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">x</span><span class="o">,</span> <span class="n">P</span> <span class="n">x</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">long</span> <span class="k">proof</span><span class="bp">...</span> <span class="o">},</span>
  <span class="k">obtain</span> <span class="bp">⟨</span><span class="n">x</span><span class="o">,</span> <span class="n">hx</span><span class="bp">⟩</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">x</span><span class="o">,</span> <span class="n">P</span> <span class="n">x</span> <span class="o">:=</span> <span class="n">proof_term</span><span class="o">,</span>
  <span class="k">obtain</span> <span class="bp">⟨</span><span class="n">x</span><span class="o">,</span> <span class="n">hx</span><span class="bp">⟩</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">x</span><span class="o">,</span> <span class="n">P</span> <span class="n">x</span><span class="o">,</span> <span class="k">from</span> <span class="n">proof_term</span><span class="o">,</span>
</pre></div>

<a name="192909534"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192909534" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192909534">Patrick Massot (Apr 04 2020 at 14:14)</a>:</h4>
<p>Only the first case really needs obtain rather than rcases. But all are more readable than rcases</p>

<a name="192909565"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192909565" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192909565">Patrick Massot (Apr 04 2020 at 14:14)</a>:</h4>
<p>And of course you can get the same with <code>have</code> + <code>rcases</code> but you'd get tired of this pretty quickly.</p>

<a name="192909642"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192909642" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192909642">Ryan Lahfa (Apr 04 2020 at 14:16)</a>:</h4>
<p>Makes sense, is there any docs to write tactics? I'm understanding more and more how to compose all of this and I'm interested in how it works</p>

<a name="192909918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192909918" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192909918">Kevin Buzzard (Apr 04 2020 at 14:23)</a>:</h4>
<p>Beginning tactic writing is covered in a doc which Patrick wrote in the docs directory of mathlib</p>

<a name="192910133"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192910133" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192910133">Ryan Lahfa (Apr 04 2020 at 14:28)</a>:</h4>
<p>Now I'm this far: </p>
<div class="codehilite"><pre><span></span><span class="k">have</span><span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">N</span><span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="bp">∃</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">S</span><span class="o">,</span> <span class="n">d</span> <span class="o">(</span><span class="n">Sup</span> <span class="n">S</span><span class="o">)</span> <span class="n">x</span> <span class="bp">≤</span> <span class="mi">1</span><span class="bp">/</span><span class="o">(</span><span class="n">N</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">N</span><span class="o">,</span>
  <span class="k">let</span> <span class="bp">⟨</span> <span class="n">x</span><span class="o">,</span> <span class="n">ha</span><span class="o">,</span> <span class="n">hb</span> <span class="bp">⟩</span> <span class="o">:=</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">sup_dist_lt_eps</span> <span class="n">S</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">/</span> <span class="o">(</span><span class="n">N</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">one_div_pos_of_nat</span><span class="o">))</span>
  <span class="k">in</span> <span class="n">exists</span><span class="bp">.</span><span class="n">intro</span> <span class="n">x</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">hp</span><span class="o">,</span> <span class="n">and</span><span class="bp">.</span><span class="n">intro</span> <span class="o">(</span><span class="bp">...</span><span class="o">)</span> <span class="o">(</span><span class="bp">...</span><span class="o">)</span> <span class="o">),</span>
</pre></div>


<p>Is it expected that Lean VSCode cannot print the current state in term mode?</p>

<a name="192910167"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192910167" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192910167">Kevin Buzzard (Apr 04 2020 at 14:29)</a>:</h4>
<p>Use X is just &lt;X,_&gt; with the right brackets</p>

<a name="192910169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192910169" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192910169">Bhavik Mehta (Apr 04 2020 at 14:29)</a>:</h4>
<p>By the way, can we make VSCode highlight obtain (and set) the same way as have (and let)?</p>

<a name="192910222"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192910222" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192910222">Reid Barton (Apr 04 2020 at 14:30)</a>:</h4>
<p>Use <code>_</code> where you have <code>(...)</code>, and then hover over it, or something (I use emacs, but I assume vscode can do this too)</p>

<a name="192910244"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192910244" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192910244">Gabriel Ebner (Apr 04 2020 at 14:31)</a>:</h4>
<p><span class="user-mention" data-user-id="246273">@Bhavik Mehta</span> Feel free to PR a change to this file: <a href="https://github.com/leanprover/vscode-lean/blob/9a4400a1f3db57d0a25c1944812b0c2dc9ff2141/syntaxes/lean.json#L35" title="https://github.com/leanprover/vscode-lean/blob/9a4400a1f3db57d0a25c1944812b0c2dc9ff2141/syntaxes/lean.json#L35">https://github.com/leanprover/vscode-lean/blob/9a4400a1f3db57d0a25c1944812b0c2dc9ff2141/syntaxes/lean.json#L35</a>  But I wouldn't highlight <code>set</code>: this occurs often as a non-tactic, e.g. in <code>set α</code>.</p>

<a name="192910249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192910249" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192910249">Ryan Lahfa (Apr 04 2020 at 14:31)</a>:</h4>
<p>Indeed, it works when I use <code>_</code>, now I have this state:</p>
<div class="codehilite"><pre><span></span><span class="kn">context</span><span class="o">:</span>
<span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">hnn</span> <span class="o">:</span> <span class="n">set</span><span class="bp">.</span><span class="n">nonempty</span> <span class="n">S</span><span class="o">,</span>
<span class="n">hbdd</span> <span class="o">:</span> <span class="n">bdd_above</span> <span class="n">S</span><span class="o">,</span>
<span class="n">N</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="bp">_</span><span class="n">let_match</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">S</span><span class="o">),</span> <span class="n">d</span> <span class="o">(</span><span class="n">Sup</span> <span class="n">S</span><span class="o">)</span> <span class="n">x</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> <span class="o">(</span><span class="err">↑</span><span class="n">N</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">→</span>
  <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">S</span><span class="o">),</span> <span class="n">d</span> <span class="o">(</span><span class="n">Sup</span> <span class="n">S</span><span class="o">)</span> <span class="n">x</span> <span class="bp">≤</span> <span class="mi">1</span> <span class="bp">/</span> <span class="o">(</span><span class="err">↑</span><span class="n">N</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)),</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">ha</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">S</span><span class="o">,</span>
<span class="n">hb</span> <span class="o">:</span> <span class="n">d</span> <span class="o">(</span><span class="n">Sup</span> <span class="n">S</span><span class="o">)</span> <span class="n">x</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> <span class="o">(</span><span class="err">↑</span><span class="n">N</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="err">⊢</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">S</span><span class="o">),</span> <span class="n">d</span> <span class="o">(</span><span class="n">Sup</span> <span class="n">S</span><span class="o">)</span> <span class="n">x</span> <span class="bp">≤</span> <span class="mi">1</span> <span class="bp">/</span> <span class="o">(</span><span class="err">↑</span><span class="n">N</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
</pre></div>


<p>But the <code>exists</code> in front of this is strange? I'm not sure how I can combine ha/hb to finish</p>

<a name="192910298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192910298" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192910298">Bhavik Mehta (Apr 04 2020 at 14:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110043">Gabriel Ebner</span> <a href="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192910244" title="#narrow/stream/116395-maths/topic/Link.20between.20sequential.20and.20epsilon.2Fdelta.20versions/near/192910244">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="246273">Bhavik Mehta</span> Feel free to PR a change to this file: <a href="https://github.com/leanprover/vscode-lean/blob/9a4400a1f3db57d0a25c1944812b0c2dc9ff2141/syntaxes/lean.json#L35" title="https://github.com/leanprover/vscode-lean/blob/9a4400a1f3db57d0a25c1944812b0c2dc9ff2141/syntaxes/lean.json#L35">https://github.com/leanprover/vscode-lean/blob/9a4400a1f3db57d0a25c1944812b0c2dc9ff2141/syntaxes/lean.json#L35</a>  But I wouldn't highlight <code>set</code>: this occurs often as a non-tactic, e.g. in <code>set α</code>.</p>
</blockquote>
<p>Thanks! Ah yeah good point</p>

<a name="192910328"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192910328" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192910328">Ryan Lahfa (Apr 04 2020 at 14:32)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="k">have</span><span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">N</span><span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="bp">∃</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">S</span><span class="o">,</span> <span class="n">d</span> <span class="o">(</span><span class="n">Sup</span> <span class="n">S</span><span class="o">)</span> <span class="n">x</span> <span class="bp">≤</span> <span class="mi">1</span><span class="bp">/</span><span class="o">(</span><span class="n">N</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">N</span><span class="o">,</span>
  <span class="k">let</span> <span class="bp">⟨</span> <span class="n">x</span><span class="o">,</span> <span class="n">ha</span><span class="o">,</span> <span class="n">hb</span> <span class="bp">⟩</span> <span class="o">:=</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">sup_dist_lt_eps</span> <span class="n">S</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">/</span> <span class="o">(</span><span class="n">N</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">one_div_pos_of_nat</span><span class="o">))</span>
  <span class="k">in</span> <span class="bp">⟨</span> <span class="n">x</span><span class="o">,</span> <span class="bp">⟨</span> <span class="n">ha</span><span class="o">,</span> <span class="n">le_of_lt</span> <span class="n">hb</span> <span class="bp">⟩</span> <span class="bp">⟩</span><span class="o">,</span>
</pre></div>


<p>This seems to work!</p>

<a name="192910410"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192910410" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192910410">Ryan Lahfa (Apr 04 2020 at 14:34)</a>:</h4>
<p>Thank you for the tip! I have seen symbols like <code>▸ </code>, what does that mean? I see it in <code>mathlib</code> sometimes, but I didn't find any docs on it</p>

<a name="192910418"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192910418" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192910418">Reid Barton (Apr 04 2020 at 14:34)</a>:</h4>
<p>ah, the dreaded "stupid triangle"</p>

<a name="192910526"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192910526" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192910526">Patrick Massot (Apr 04 2020 at 14:36)</a>:</h4>
<p>also known by its full name as the dreaded "I'm-sorry-but-I-don't-know-the-expected-type triangle".</p>

<a name="192910533"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192910533" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192910533">Reid Barton (Apr 04 2020 at 14:37)</a>:</h4>
<p>if <code>p : P a</code> and <code>e : a = b</code> then <code>e ▸ p : P b</code>, except it basically never manages to work out what <code>P</code> should be</p>

<a name="192910547"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192910547" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192910547">Reid Barton (Apr 04 2020 at 14:37)</a>:</h4>
<p>it's like a term-mode version of <code>rw</code> that rarely works</p>

<a name="192910555"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192910555" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192910555">Ryan Lahfa (Apr 04 2020 at 14:37)</a>:</h4>
<p>Oh okay</p>

<a name="192910595"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192910595" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192910595">Patrick Massot (Apr 04 2020 at 14:38)</a>:</h4>
<p>You get extra credit when you manage to use it in a proof.</p>

<a name="192910611"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192910611" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192910611">Ryan Lahfa (Apr 04 2020 at 14:38)</a>:</h4>
<p>Hahahaha</p>

<a name="192910883"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192910883" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192910883">Kevin Buzzard (Apr 04 2020 at 14:44)</a>:</h4>
<p>Good job for getting the term!</p>

<a name="192910967"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Link%20between%20sequential%20and%20epsilon/delta%20versions/near/192910967" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/03635Linkbetweensequentialandepsilondeltaversions.html#192910967">Kevin Buzzard (Apr 04 2020 at 14:46)</a>:</h4>
<p>One thing to remember about the stupid triangle is that in contrast to tactic mode it has to be told all inputs , ie rw add_comm works but with the triangle you might have to put add_comm a b</p>


{% endraw %}

{% include archive_update.html %}