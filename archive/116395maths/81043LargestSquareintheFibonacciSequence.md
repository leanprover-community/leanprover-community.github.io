---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/116395maths/81043LargestSquareintheFibonacciSequence.html
---

## Stream: [maths](index.html)
### Topic: [Largest Square in the Fibonacci Sequence](81043LargestSquareintheFibonacciSequence.html)

---


{% raw %}
#### [ Kevin Buzzard (May 23 2018 at 16:07)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126977998):
<p>Did you know that 144 is the largest square in the Fibonacci sequence?</p>

#### [ Kevin Buzzard (May 23 2018 at 16:07)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126977999):
<p>The proof is elementary but delicate</p>

#### [ Kevin Buzzard (May 23 2018 at 16:08)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978039):
<p>I give talks about this to bright schoolchildren occasionally</p>

#### [ Kevin Buzzard (May 23 2018 at 16:08)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978044):
<p><a href="http://wwwf.imperial.ac.uk/~buzzard/2017nt2.pdf" target="_blank" title="http://wwwf.imperial.ac.uk/~buzzard/2017nt2.pdf">http://wwwf.imperial.ac.uk/~buzzard/2017nt2.pdf</a></p>

#### [ Kevin Buzzard (May 23 2018 at 16:08)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978047):
<p>There is a sketch of the idea</p>

#### [ Kevin Buzzard (May 23 2018 at 16:08)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978048):
<p>I'm giving one such talk on Saturday</p>

#### [ Kevin Buzzard (May 23 2018 at 16:08)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978050):
<p>to the British IMO team</p>

#### [ Kevin Buzzard (May 23 2018 at 16:08)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978053):
<p>and in fact I am giving two talks to these people on Saturday</p>

#### [ Kevin Buzzard (May 23 2018 at 16:08)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978055):
<p>one on this</p>

#### [ Kevin Buzzard (May 23 2018 at 16:08)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978056):
<p>and one on...whatever I like</p>

#### [ Kevin Buzzard (May 23 2018 at 16:09)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978066):
<p>So I have made the crazy decision to try and give my second talk on a Lean proof of this fact</p>

#### [ Kevin Buzzard (May 23 2018 at 16:09)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978070):
<p>The only problem is that today is Wednesday</p>

#### [ Kevin Buzzard (May 23 2018 at 16:09)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978075):
<p>which means that it's only three days to Saturday</p>

#### [ Kevin Buzzard (May 23 2018 at 16:09)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978087):
<p>So I did this</p>

#### [ Kevin Buzzard (May 23 2018 at 16:09)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978088):
<p><a href="https://github.com/kbuzzard/lean-squares-in-fibonacci/issues/1" target="_blank" title="https://github.com/kbuzzard/lean-squares-in-fibonacci/issues/1">https://github.com/kbuzzard/lean-squares-in-fibonacci/issues/1</a></p>

#### [ Kevin Buzzard (May 23 2018 at 16:09)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978092):
<p>and I will start this evening</p>

#### [ Kevin Buzzard (May 23 2018 at 16:10)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978094):
<p>but if anyone wants to help</p>

#### [ Kevin Buzzard (May 23 2018 at 16:10)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978137):
<p>then I would happily let them join in</p>

#### [ Kevin Buzzard (May 23 2018 at 16:10)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978138):
<p>give them push access, whatever</p>

#### [ Kevin Buzzard (May 23 2018 at 16:10)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978141):
<p>The link to the issues makes it clear what I think the problems are</p>

#### [ Kevin Buzzard (May 23 2018 at 16:10)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978148):
<p>(1) We either cheat and assume some UG-level facts about primes</p>

#### [ Kevin Buzzard (May 23 2018 at 16:10)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978152):
<p>(when -2 is a square mod p)</p>

#### [ Kevin Buzzard (May 23 2018 at 16:10)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978154):
<p>or we prove it</p>

#### [ Kevin Buzzard (May 23 2018 at 16:11)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978157):
<p>which will involve proving that a poly of degree n over a field has at most n roots</p>

#### [ Kevin Buzzard (May 23 2018 at 16:11)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978164):
<p>and that Z/pZ is a field</p>

#### [ Kevin Buzzard (May 23 2018 at 16:11)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978171):
<p>(2) we either use the real numbers or build our own Z[(1+sqrt(5))/2]</p>

#### [ Kevin Buzzard (May 23 2018 at 16:11)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978177):
<p>(3) a bunch of relatively simple arithmetic</p>

#### [ Kevin Buzzard (May 23 2018 at 16:11)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978180):
<p>but a fair amount of it, from a Lean point of view</p>

#### [ Kevin Buzzard (May 23 2018 at 16:12)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978220):
<p>I attained my schemes goal</p>

#### [ Kevin Buzzard (May 23 2018 at 16:12)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978224):
<p>so I want to spend a few days goofing around with this one</p>

#### [ Kevin Buzzard (May 23 2018 at 16:12)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978225):
<p>it's very easy arithmetic</p>

#### [ Kevin Buzzard (May 23 2018 at 16:12)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978228):
<p>and maybe I will do it all myself</p>

#### [ Kevin Buzzard (May 23 2018 at 16:12)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978233):
<p>but if anyone wants to help</p>

#### [ Kevin Buzzard (May 23 2018 at 16:12)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978238):
<p>this would be greatly appreciated :-)</p>

#### [ Kevin Buzzard (May 23 2018 at 16:13)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978259):
<p><span class="user-mention" data-user-id="110294">@Johannes Hölzl</span> and <span class="user-mention" data-user-id="110044">@Chris Hughes</span> I might have to steal your work (with attribution of course).</p>

#### [ Kevin Buzzard (May 23 2018 at 16:15)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978323):
<p>Johannes -- who do I credit if I take your polynomial stuff from mason-stothers? [or mason-stother as you seem to have called it]? Is it you or JWageM?</p>

#### [ Kevin Buzzard (May 23 2018 at 16:15)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978336):
<p>I firmly believe I could do this entire thing in 3 days</p>

#### [ Kevin Buzzard (May 23 2018 at 16:15)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978338):
<p>it's a bit unfortunate about the marking I still have to do though :-/</p>

#### [ Kevin Buzzard (May 23 2018 at 16:16)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978382):
<p>Chris and Kenny will have finished their exams by Friday afternoon UK time so this would be a perfect all-night binge for them to do afterwards.</p>

#### [ Kevin Buzzard (May 23 2018 at 16:16)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978384):
<p>;-)</p>

#### [ Kevin Buzzard (May 23 2018 at 16:16)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978394):
<p>OK now back to marking</p>

#### [ Johannes Hölzl (May 23 2018 at 16:19)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126978481):
<p>Mason-stother's polynomials are from us both, most parts were done by Jens, some by me. Its okay to only credit Jens.</p>

#### [ Nicholas Scheel (May 23 2018 at 17:01)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126980169):
<p>Hi! How can I help best? Maybe start building Z[(1+sqrt(5))/2] ? I have a little experience with field extensions from abstract algebra this past semester ...</p>

#### [ Nicholas Scheel (May 23 2018 at 17:03)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126980265):
<p>that’s really just Z[sqrt(5)] right? field operations will get you (1+-sqrt(5))/2 from that</p>

#### [ Patrick Massot (May 23 2018 at 17:03)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126980273):
<p>He wants a ring, not a field</p>

#### [ Patrick Massot (May 23 2018 at 17:03)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126980283):
<p>And that's what this notation denotes</p>

#### [ Kevin Buzzard (May 23 2018 at 17:10)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126980547):
<p>Right -- there is Q(sqrt(5)) = Q(alpha) [alpha := (1+sqrt(5))/2] and there is Z[sqrt(5)] which is strictly smaller than Z[alpha] [it has index 2]</p>

#### [ Kevin Buzzard (May 23 2018 at 17:11)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126980642):
<p>The only reason I suggested the ring not the field was (1) rings have fewer axioms than fields and (2) my instinct was to construct the smallest object which was mathematically reasonable [so no semirings or distribs, thank you] and which contained enough to formalise the statement "u_m = (alpha^m - beta^m) / sqrt (5)"...oh crap</p>

#### [ Kevin Buzzard (May 23 2018 at 17:11)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126980651):
<p>maybe a field is fine :-)</p>

#### [ Kevin Buzzard (May 23 2018 at 17:11)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126980667):
<p>One could prove sqrt(5) * u_m = alpha^m - beta^m</p>

#### [ Kevin Buzzard (May 23 2018 at 17:12)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126980710):
<p>and then mumble about integral domains</p>

#### [ Kevin Buzzard (May 23 2018 at 17:12)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126980735):
<p>OK so <span class="user-mention" data-user-id="111651">@Nicholas Scheel</span> if you want to take a look at how the complex numbers were built from the real numbers in mathlib (in some file called complex.lean probably) then you could just copy this and build Q(sqrt(5)) from Q by adjoining a square root of 5</p>

#### [ Kevin Buzzard (May 23 2018 at 17:13)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126980754):
<p>The only difficulty will be in proving that if a+b*sqrt(5) is non-zero then a^2-5b^2 is non-zero, which you need for division</p>

#### [ Kevin Buzzard (May 23 2018 at 17:13)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126980762):
<p>For the complexes the argument is that everything is positive, that doesn't work here</p>

#### [ Kevin Buzzard (May 23 2018 at 17:13)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126980764):
<p>you need that 5 isn't the square of a rational</p>

#### [ Kevin Buzzard (May 23 2018 at 17:13)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126980770):
<p>but modulo that, there's your Q(sqrt(5))</p>

#### [ Kevin Buzzard (May 23 2018 at 17:13)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126980786):
<p>at some point one would need this anyway, to prove Z[alpha] is an integral domain, so there's no getting away from it</p>

#### [ Chris Hughes (May 23 2018 at 17:33)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126981799):
<p>I've done some stuff on integers mod n which I'll send you when I get home.</p>

#### [ Nicholas Scheel (May 23 2018 at 17:48)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126982536):
<p>Ah okay, I see ... I think I'll try to build Z[alpha], doesn't look like we'll need division</p>

#### [ Chris Hughes (May 23 2018 at 18:52)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126985180):
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> Very messy, but the most basic stuff about integers mod n is there. <a href="https://github.com/dorhinj/leanstuff/blob/master/Zmod1.lean" target="_blank" title="https://github.com/dorhinj/leanstuff/blob/master/Zmod1.lean">https://github.com/dorhinj/leanstuff/blob/master/Zmod1.lean</a></p>

#### [ Chris Hughes (May 23 2018 at 18:53)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126985212):
<p><span class="user-mention" data-user-id="111651">@Nicholas Scheel</span> I also made a bit of a start on univariate polys, although I haven't done much more than copy Johannes stuff on multivariate polys.</p>

#### [ Chris Hughes (May 23 2018 at 18:54)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126985259):
<p>I think Sean's finset.max would be a more appropriate definition of degree than <code>sup</code></p>

#### [ Nicholas Scheel (May 23 2018 at 18:57)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126985360):
<p>okay I have a commutative ring instance for Z[alpha]!</p>

#### [ Johannes Hölzl (May 23 2018 at 18:59)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126985419):
<p>with <code>sup</code> you don't need to use <code>iget</code>. <code>max</code> is the better name but I think <code>sup</code> has the better behaviour.</p>

#### [ Patrick Massot (May 23 2018 at 20:25)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126989627):
<p>Thanks, but I don't know how to use <code>sup</code></p>

#### [ Kenny Lau (May 23 2018 at 20:52)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126990758):
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> have you pushed?</p>

#### [ Kevin Buzzard (May 23 2018 at 20:56)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126990917):
<p>pushed what?</p>

#### [ Kenny Lau (May 23 2018 at 20:56)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126990921):
<p>fibonacci</p>

#### [ Kevin Buzzard (May 23 2018 at 20:56)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126990927):
<p>Chris -- Johannes and his student wrote some univariate poly stuff in their mason-stother repo</p>

#### [ Kevin Buzzard (May 23 2018 at 20:57)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126991057):
<p>What Fibonacci is there for me to push?</p>

#### [ Kevin Buzzard (May 23 2018 at 20:57)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126991060):
<p>I have epsilon</p>

#### [ Kevin Buzzard (May 23 2018 at 20:57)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126991062):
<p>I proved <code>luc (m + 3) = 2 * fib (m + 3) + fib m</code></p>

#### [ Kevin Buzzard (May 23 2018 at 20:57)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126991064):
<p>I will push some stuff</p>

#### [ Chris Hughes (May 23 2018 at 21:00)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126991211):
<p>They didn't do the theorem you need I don't think.</p>

#### [ Kevin Buzzard (May 23 2018 at 21:11)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126991755):
<p>I pushed some stuff</p>

#### [ Kevin Buzzard (May 23 2018 at 21:12)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126991798):
<p>I proved 2/3 of point 4</p>

#### [ Kevin Buzzard (May 23 2018 at 21:55)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126993768):
<p>Is <code>gcd (a + n * b) b = gcd a b</code> in lean or mathlib somewhere? (everything a nat)]</p>

#### [ Patrick Massot (May 23 2018 at 21:55)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126993776):
<p>If everything is a nat, this is almost certainly wrong in some edge case</p>

#### [ Kenny Lau (May 23 2018 at 21:58)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126993922):
<p>there isn't, since gcd is well-defined for 0 in the real world</p>

#### [ Patrick Massot (May 23 2018 at 22:00)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126994021):
<p>I knew it: edge case</p>

#### [ Kenny Lau (May 23 2018 at 22:00)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126994031):
<div class="codehilite"><pre><span></span><span class="bp">#</span><span class="kn">check</span> <span class="n">nat</span><span class="bp">.</span><span class="n">gcd_rec</span> <span class="c1">-- nat.gcd m n = nat.gcd (n % m) m</span>
<span class="kn">open</span> <span class="n">nat</span>
<span class="kn">example</span> <span class="o">(</span><span class="n">a</span> <span class="n">n</span> <span class="n">b</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">gcd</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">gcd</span> <span class="n">a</span> <span class="n">b</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">gcd_comm</span><span class="o">,</span> <span class="n">gcd_rec</span><span class="o">,</span> <span class="n">add_mul_mod_self_right</span><span class="o">,</span> <span class="err">←</span> <span class="n">gcd_rec</span><span class="o">,</span> <span class="n">gcd_comm</span><span class="o">]</span>
</pre></div>

#### [ Kenny Lau (May 23 2018 at 22:00)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126994032):
<p>there is no edge case!</p>

#### [ Patrick Massot (May 23 2018 at 22:01)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126994097):
<p>This is an edge case to the general statement that every general statement about  nat is wrong</p>

#### [ Kevin Buzzard (May 23 2018 at 22:09)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126994501):
<p>of course one could argue that gcd 0 0 = 0 is already wrong</p>

#### [ Kevin Buzzard (May 23 2018 at 22:09)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126994507):
<p>given that 7 divides both 0 and 0</p>

#### [ Patrick Massot (May 23 2018 at 22:11)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126994600):
<p>To be honest, that one has nothing to do with nat. It's also a problem in integers</p>

#### [ Kevin Buzzard (May 23 2018 at 22:12)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126994670):
<p>You know that <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mrow><mi>ζ</mi><mo>(</mo><mn>1</mn><mo>−</mo><mi>k</mi><mo>)</mo></mrow><mrow><mn>2</mn></mrow></mfrac><mo>+</mo><msub><mi mathvariant="normal">Σ</mi><mrow><mi>n</mi><mo>≥</mo><mn>1</mn></mrow></msub><msub><mi>σ</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>(</mo><mi>n</mi><mo>)</mo><msup><mi>q</mi><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">\frac{\zeta(1-k)}{2} + \Sigma_{n\geq1}\sigma_{k-1}(n)q^n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:1.01em;"></span><span class="strut bottom" style="height:1.355em;vertical-align:-0.345em;"></span><span class="base"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathit mtight" style="margin-right:0.07378em;">ζ</span><span class="mopen mtight">(</span><span class="mord mathrm mtight">1</span><span class="mbin mtight">−</span><span class="mord mathit mtight" style="margin-right:0.03148em;">k</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mbin">+</span><span class="mord"><span class="mord mathrm">Σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathit mtight">n</span><span class="mrel mtight">≥</span><span class="mord mathrm mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24517899999999998em;"></span></span></span></span></span><span class="mord"><span class="mord mathit" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathit mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mathrm mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"></span></span></span></span></span><span class="mopen">(</span><span class="mord mathit">n</span><span class="mclose">)</span><span class="mord"><span class="mord mathit" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">n</span></span></span></span></span></span></span></span></span></span></span> is a modular form, right?</p>

#### [ Kevin Buzzard (May 23 2018 at 22:13)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126994695):
<p>Here <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>σ</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>(</mo><mi>n</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">\sigma_{k-1}(n)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base"><span class="mord"><span class="mord mathit" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathit mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mathrm mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"></span></span></span></span></span><span class="mopen">(</span><span class="mord mathit">n</span><span class="mclose">)</span></span></span></span> denotes the sum of the <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">k-1</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.03148em;">k</span><span class="mbin">−</span><span class="mord mathrm">1</span></span></span></span> st powers of the positive divisors of <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base"><span class="mord mathit">n</span></span></span></span>.</p>

#### [ Kevin Buzzard (May 23 2018 at 22:14)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126994718):
<p>but if you set <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">n=0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.64444em;vertical-align:0em;"></span><span class="base"><span class="mord mathit">n</span><span class="mrel">=</span><span class="mord mathrm">0</span></span></span></span> in the sum you get the sum of the <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">k-1</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.03148em;">k</span><span class="mbin">−</span><span class="mord mathrm">1</span></span></span></span> st powers of the positive divisors of <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.64444em;vertical-align:0em;"></span><span class="base"><span class="mord mathrm">0</span></span></span></span></p>

#### [ Kevin Buzzard (May 23 2018 at 22:14)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126994777):
<p>so that's <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>1</mn><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msup><mo>+</mo><msup><mn>2</mn><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msup><mo>+</mo><msup><mn>3</mn><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msup><mo>+</mo><mo>⋯</mo></mrow><annotation encoding="application/x-tex">1^{k-1} + 2 ^{k-1} + 3^{k-1} + \cdots</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.8491079999999999em;"></span><span class="strut bottom" style="height:0.9324379999999999em;vertical-align:-0.08333em;"></span><span class="base"><span class="mord"><span class="mord mathrm">1</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathit mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mathrm mtight">1</span></span></span></span></span></span></span></span></span><span class="mbin">+</span><span class="mord"><span class="mord mathrm">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathit mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mathrm mtight">1</span></span></span></span></span></span></span></span></span><span class="mbin">+</span><span class="mord"><span class="mord mathrm">3</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathit mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mathrm mtight">1</span></span></span></span></span></span></span></span></span><span class="mbin">+</span><span class="minner">⋯</span></span></span></span></p>

#### [ Kevin Buzzard (May 23 2018 at 22:14)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126994781):
<p>which is <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>ζ</mi><mo>(</mo><mn>1</mn><mo>−</mo><mi>k</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">\zeta(1-k)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.07378em;">ζ</span><span class="mopen">(</span><span class="mord mathrm">1</span><span class="mbin">−</span><span class="mord mathit" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span> by...erm...definition...or something</p>

#### [ Kevin Buzzard (May 23 2018 at 22:15)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126994808):
<p>but the sum is only over half of the integers</p>

#### [ Kevin Buzzard (May 23 2018 at 22:15)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126994813):
<p>so you should only take the term at zero half as seriously</p>

#### [ Kevin Buzzard (May 23 2018 at 22:15)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126994819):
<p>which gives you <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>ζ</mi><mo>(</mo><mn>1</mn><mo>−</mo><mi>k</mi><mo>)</mo><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">\zeta(1-k)/2</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.07378em;">ζ</span><span class="mopen">(</span><span class="mord mathrm">1</span><span class="mbin">−</span><span class="mord mathit" style="margin-right:0.03148em;">k</span><span class="mclose">)</span><span class="mord mathrm">/</span><span class="mord mathrm">2</span></span></span></span></p>

#### [ Kevin Buzzard (May 23 2018 at 22:15)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126994823):
<p>and that's how I remember it</p>

#### [ Patrick Massot (May 23 2018 at 22:16)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126994876):
<p>And we are surprised formalizing maths is hard...</p>

#### [ Nicholas Scheel (May 23 2018 at 22:19)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995026):
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> Should I make a fork, or may I have commit access?</p>

#### [ Kenny Lau (May 23 2018 at 22:19)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995041):
<p>do I have commit access?</p>

#### [ Kevin Buzzard (May 23 2018 at 22:21)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995177):
<p>what is the most sensible idea?</p>

#### [ Kevin Buzzard (May 23 2018 at 22:21)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995196):
<p>nobody has commit access except me</p>

#### [ Kevin Buzzard (May 23 2018 at 22:21)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995201):
<p>but I am happy to give it to anybody</p>

#### [ Kevin Buzzard (May 23 2018 at 22:21)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995212):
<p>unless someone has a good reason why I shouldn't do this</p>

#### [ Kevin Buzzard (May 23 2018 at 22:21)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995218):
<p>I need to know your github usernames I guess</p>

#### [ Kenny Lau (May 23 2018 at 22:22)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995291):
<p>I'll kindly delete your alpha and beta :P (after proving points 4 and 6)</p>

#### [ Patrick Massot (May 23 2018 at 22:22)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995295):
<p>If I were you I would fear seeing constructive stuff invading my repo</p>

#### [ Kevin Buzzard (May 23 2018 at 22:24)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995412):
<p>OK Kenny and Nicholas you should have push access</p>

#### [ Kenny Lau (May 23 2018 at 22:24)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995415):
<p>thanks</p>

#### [ Kenny Lau (May 23 2018 at 22:24)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995424):
<blockquote>
<p>If I were you I would fear seeing constructive stuff invading my repo</p>
</blockquote>
<p>much fear of the unknown :P</p>

#### [ Kevin Buzzard (May 23 2018 at 22:24)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995425):
<p>but lemme push some stuff</p>

#### [ Patrick Massot (May 23 2018 at 22:24)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995427):
<p>Constructive madness on the way...</p>

#### [ Kevin Buzzard (May 23 2018 at 22:24)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995432):
<p>I need a job done</p>

#### [ Patrick Massot (May 23 2018 at 22:25)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995455):
<p>Selling your mathematician soul...</p>

#### [ Kevin Buzzard (May 23 2018 at 22:26)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995551):
<p>OK I am pushed</p>

#### [ Kenny Lau (May 23 2018 at 22:27)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995598):
<p>waitttt where did the Z alpha come from</p>

#### [ Kenny Lau (May 23 2018 at 22:27)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995613):
<p>oh Nicholas built it...</p>

#### [ Kenny Lau (May 23 2018 at 22:27)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995631):
<p><span class="user-mention" data-user-id="111651">@Nicholas Scheel</span> do you think we'll really need it?</p>

#### [ Nicholas Scheel (May 23 2018 at 22:27)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995633):
<p>oops sorry, did I step on your push?</p>

#### [ Kenny Lau (May 23 2018 at 22:28)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995668):
<p>no</p>

#### [ Kenny Lau (May 23 2018 at 22:28)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995683):
<p>I'm just doubting whether we need sqrt(5) at all</p>

#### [ Kevin Buzzard (May 23 2018 at 22:28)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995698):
<p>Here's the reason I think we might need sqrt(5)</p>

#### [ Nicholas Scheel (May 23 2018 at 22:28)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995703):
<p>I think this might help along the way ;) :</p>
<div class="codehilite"><pre><span></span>lemma αβsum : α + β = 1 := rfl
lemma αβprod : α * β = -1 := rfl
</pre></div>

#### [ Kevin Buzzard (May 23 2018 at 22:28)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995711):
<p>that looks really good</p>

#### [ Kevin Buzzard (May 23 2018 at 22:29)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995719):
<p>it's a little bit better than my method</p>

#### [ Kenny Lau (May 23 2018 at 22:29)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995738):
<p>so, constructivism wins?</p>

#### [ Kevin Buzzard (May 23 2018 at 22:29)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995747):
<p>To prove something like <code>luc (m + 3) = 2 * fib (m + 3) + fib m</code> you can just do it by induction</p>

#### [ Kevin Buzzard (May 23 2018 at 22:29)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995765):
<p>but to prove <code>luc (4 * n) = (luc (2 * n) ^ 2) - 2</code></p>

#### [ Kevin Buzzard (May 23 2018 at 22:30)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995813):
<p>the only method I know is to prove the general sqrt (5) formula</p>

#### [ Kenny Lau (May 23 2018 at 22:30)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995817):
<p>you just need the right lemmas</p>

#### [ Kevin Buzzard (May 23 2018 at 22:30)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995822):
<p>maybe some theorem of logic says you don't need square roots of 5</p>

#### [ Kenny Lau (May 23 2018 at 22:30)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995826):
<p>like the one I proved that day</p>

#### [ Kenny Lau (May 23 2018 at 22:30)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995832):
<div class="codehilite"><pre><span></span><span class="kn">variables</span> <span class="o">(</span><span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span>

<span class="n">local</span> <span class="n">attribute</span> <span class="o">[</span><span class="n">elab_as_eliminator</span><span class="o">]</span> <span class="n">nat</span><span class="bp">.</span><span class="n">strong_induction_on</span>

<span class="kn">theorem</span> <span class="n">to_be_named</span> <span class="o">:</span> <span class="n">fib</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
  <span class="n">fib</span> <span class="n">m</span> <span class="bp">*</span> <span class="n">fib</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">fib</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">fib</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">nat</span><span class="bp">.</span><span class="n">strong_induction_on</span> <span class="n">n</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">n</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">cases_on</span> <span class="n">n</span> <span class="o">(</span><span class="bp">λ</span> <span class="bp">_</span><span class="o">,</span> <span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">fib</span><span class="o">])</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">n</span><span class="o">,</span>
<span class="n">nat</span><span class="bp">.</span><span class="n">cases_on</span> <span class="n">n</span> <span class="o">(</span><span class="bp">λ</span> <span class="bp">_</span><span class="o">,</span> <span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">fib</span><span class="o">])</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">n</span> <span class="n">ih</span><span class="o">,</span>
<span class="k">have</span> <span class="n">H1</span> <span class="o">:</span> <span class="bp">_</span> <span class="o">:=</span> <span class="n">ih</span> <span class="n">n</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">lt_trans</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">lt_succ_self</span> <span class="n">n</span><span class="o">)</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">lt_succ_self</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">))),</span>
<span class="k">have</span> <span class="n">H2</span> <span class="o">:</span> <span class="n">fib</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">_</span> <span class="bp">+</span> <span class="bp">_</span> <span class="bp">*</span> <span class="o">(</span><span class="n">fib</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">fib</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">))</span> <span class="o">:=</span> <span class="n">ih</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">lt_succ_self</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)),</span>
<span class="k">calc</span>  <span class="n">fib</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span> <span class="n">fib</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">)</span>
    <span class="bp">=</span> <span class="n">fib</span> <span class="n">m</span> <span class="bp">*</span> <span class="o">(</span><span class="n">fib</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">fib</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="n">fib</span> <span class="o">(</span><span class="n">m</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">fib</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="bp">+</span> <span class="o">(</span><span class="n">fib</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">fib</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)))</span> <span class="o">:</span>
  <span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">H1</span><span class="o">,</span> <span class="n">H2</span><span class="o">,</span> <span class="n">mul_add</span><span class="o">,</span> <span class="n">mul_add</span><span class="o">,</span> <span class="n">mul_add</span><span class="o">,</span> <span class="n">mul_add</span><span class="o">]</span><span class="bp">;</span> <span class="n">ac_refl</span>
</pre></div>

#### [ Kevin Buzzard (May 23 2018 at 22:30)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995834):
<p>but then you will end up defining some auxiliary function on Z x Z</p>

#### [ Kevin Buzzard (May 23 2018 at 22:30)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995843):
<p>Let me just read through the proof</p>

#### [ Kevin Buzzard (May 23 2018 at 22:31)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995867):
<p>Of course one might also argue that using sqrt(5) is a _natural_ thing to do</p>

#### [ Kevin Buzzard (May 23 2018 at 22:31)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995872):
<p>which might make it a good thing to do</p>

#### [ Kenny Lau (May 23 2018 at 22:32)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995929):
<p>I should add "building the algebraic numbers" to my want-to-do-but-god-knows-when list</p>

#### [ Kevin Buzzard (May 23 2018 at 22:32)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995944):
<p>Of course you could also take the ring Q[x] and quotient out by the ideal (x^2-5) right? ;-)</p>

#### [ Kevin Buzzard (May 23 2018 at 22:33)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126995972):
<p>I will write comments about the proof in the issue</p>

#### [ Patrick Massot (May 23 2018 at 22:35)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126996089):
<p>From an arithmetic point of view it makes much more sense than defining square root on nonnegative reals</p>

#### [ Mario Carneiro (May 23 2018 at 22:39)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126996291):
<p>Hey, it might be too late for this remark but I built the ring Z[\sqrt n] in <code>pell.lean</code>. Not directly applicable, but it might be useful</p>

#### [ Mario Carneiro (May 23 2018 at 22:43)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126996458):
<blockquote>
<p>of course one could argue that gcd 0 0 = 0 is already wrong<br>
given that 7 divides both 0 and 0</p>
</blockquote>
<p>I think there are good reasons to believe that gcd 0 0 = 0 is <em>right</em> over both nat and int, and in traditional math, if you think about the integers in that calculation as representing their principal ideals. (gcd m n) = (m, n)</p>

#### [ Mario Carneiro (May 23 2018 at 22:44)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126996521):
<p>so here "greatest" actually means greatest in the divisor order, putting 0 at the top not the bottom</p>

#### [ Kenny Lau (May 23 2018 at 22:48)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126996708):
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> 7 divides both 0 and 0, and 7 divides gcd(0,0) = 0, consistent with the UMP of GCD</p>

#### [ Kenny Lau (May 23 2018 at 22:56)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997108):
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> can I push?</p>

#### [ Kevin Buzzard (May 23 2018 at 22:57)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997123):
<p>sure go ahead and push</p>

#### [ Kevin Buzzard (May 23 2018 at 22:57)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997133):
<p>I wrote a more detailed sketch of how to flesh out the argument in the issue</p>

#### [ Kenny Lau (May 23 2018 at 22:58)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997191):
<p>are you sure I have write access?</p>

#### [ Kevin Buzzard (May 23 2018 at 22:58)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997208):
<p>I need to go and steer my children towards their beds now. Thanks for the help all of you. Mario and Kenny, I see the advantages of the "zero bigger than everything" approach here! Of course it's just the ideal-theoretic way of thinking about it -- gcd(x,y) = ideal generated by x and y, and if it's principal then let's choose a canonical generator if we can.</p>

#### [ Kevin Buzzard (May 23 2018 at 22:58)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997214):
<p>Kenny I think I invited you. Did you check your email or did I fail?</p>

#### [ Kenny Lau (May 23 2018 at 22:59)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997225):
<p>oh, I need to accept the invitation</p>

#### [ Kevin Buzzard (May 23 2018 at 22:59)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997228):
<p><a href="https://github.com/kbuzzard/lean-squares-in-fibonacci/issues/1" target="_blank" title="https://github.com/kbuzzard/lean-squares-in-fibonacci/issues/1">https://github.com/kbuzzard/lean-squares-in-fibonacci/issues/1</a></p>

#### [ Kevin Buzzard (May 23 2018 at 22:59)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997235):
<p>Note the last part -- point 12 is slightly delicate, it needs the following consequence of uniqueness of prime factorization: if gcd(x,y)=1 and x*y is a square then x and y are both squares (here x,y&gt;0).</p>

#### [ Kevin Buzzard (May 23 2018 at 23:01)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997316):
<p>and for that you need: n square iff v_p(n) even for all primes p (v_p(n) = largest power of p dividing n) and gcd(x,y)=1 iff min(v_p(x),v_p(y))=0 for all primes p</p>

#### [ Mario Carneiro (May 23 2018 at 23:03)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997456):
<p>pretty sure that exact theorem is in my formalization</p>

#### [ Mario Carneiro (May 23 2018 at 23:04)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997502):
<p>and you don't need UFD for it</p>

#### [ Kevin Buzzard (May 23 2018 at 23:05)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997557):
<p>well you do need something</p>

#### [ Kevin Buzzard (May 23 2018 at 23:05)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997562):
<p>because it's not true in a general ring</p>

#### [ Kevin Buzzard (May 23 2018 at 23:05)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997571):
<p>well I suppose it depends on what you mean by gcd in a general ring</p>

#### [ Mario Carneiro (May 23 2018 at 23:05)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997580):
<p>you need nat.gcd facts and some induction</p>

#### [ Mario Carneiro (May 23 2018 at 23:06)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997644):
<p>I'm not saying it doesn't depend in a reverse mathematics way on UFD, but you don't need all that complexity for the proof</p>

#### [ Kevin Buzzard (May 23 2018 at 23:06)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997647):
<p>a bit like the proof of UFD ;-)</p>

#### [ Kevin Buzzard (May 23 2018 at 23:06)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997654):
<p>[I mean, you need nat.gcd facts and some induction for that too]</p>

#### [ Kevin Buzzard (May 23 2018 at 23:07)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997670):
<p>For a general comm ring there are two natural defs of gcd, one more general than the other</p>

#### [ Kevin Buzzard (May 23 2018 at 23:07)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997701):
<p>and the weaker version of coprime doesn't cut it</p>

#### [ Kevin Buzzard (May 23 2018 at 23:07)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997705):
<p>oh there are also issues with units</p>

#### [ Kevin Buzzard (May 23 2018 at 23:07)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997713):
<p>-4 and -9 are coprime and their product is a square etc etc</p>

#### [ Kevin Buzzard (May 23 2018 at 23:08)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997756):
<p>so there are issues in general</p>

#### [ Kevin Buzzard (May 23 2018 at 23:08)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997767):
<p>but I take your point that you are saying you don't have to go through v_p(x)</p>

#### [ Mario Carneiro (May 23 2018 at 23:08)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997771):
<p>right</p>

#### [ Mario Carneiro (May 23 2018 at 23:08)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997780):
<p>it's a nice way to conceptualize it, but it's technically complicated and not worth it for most problems IMO</p>

#### [ Mario Carneiro (May 23 2018 at 23:10)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126997837):
<p>whenever you need a fact that would come from primality of the p in v_p(n), just use the coprime assumption instead, it's just as well for the purpose of the proof</p>

#### [ Kenny Lau (May 23 2018 at 23:23)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126998319):
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> what's the fastest way to know that <code>n=1</code> or <code>n=2</code> given <code>n</code> divides 2?</p>

#### [ Mario Carneiro (May 23 2018 at 23:23)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126998321):
<p>n | 2 implies n &lt;= 2</p>

#### [ Chris Hughes (May 23 2018 at 23:23)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126998325):
<p>2 is prime</p>

#### [ Mario Carneiro (May 23 2018 at 23:23)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126998326):
<p>alternatively, 2 is prime</p>

#### [ Kenny Lau (May 23 2018 at 23:23)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126998329):
<p>oh lol</p>

#### [ Kenny Lau (May 23 2018 at 23:32)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/126998680):
<p>Point 4 done!</p>

#### [ Nicholas Scheel (May 24 2018 at 00:42)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127001593):
<p>I want to prove this but I don't know how? <code>lemma Fib.is_fib (n : ℤ) : Fib (n+2) = Fib n + Fib (n + 1)</code> :P</p>

#### [ Nicholas Scheel (May 24 2018 at 00:42)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127001606):
<p><code>  cases n, refl,
  induction n using nat.case_strong_induction_on with n ih, refl,
  cases n, refl,
  cases n, refl,
  have ih0 := ih n (nat.le_succ_of_le (nat.le_succ _)),
  have ih1 : Fib (-[1+n+1] + 2) = Fib -[1+n+1] + Fib -[1+n] :=
    ih (n+1) (nat.le_succ _),
  have ih2 : Fib -[1+n] = Fib -[1+n+2] + Fib -[1+n+1] :=
    ih (n+2) (le_refl _),
  </code></p>

#### [ Kenny Lau (May 24 2018 at 00:43)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127001612):
<p>write x^(n+2) as x^n x^2?</p>

#### [ Kenny Lau (May 24 2018 at 00:43)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127001619):
<p>you might find <code>int.induction_on</code> useful</p>

#### [ Kenny Lau (May 24 2018 at 04:44)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127009320):
<p>Point 6 done except the last claim</p>

#### [ Kevin Buzzard (May 24 2018 at 09:39)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017268):
<p>OK this is great.</p>

#### [ Kevin Buzzard (May 24 2018 at 09:39)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017269):
<p>Looking at what has been already done</p>

#### [ Kevin Buzzard (May 24 2018 at 09:39)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017270):
<p>I already easily have enough material to fill the session.</p>

#### [ Kevin Buzzard (May 24 2018 at 09:39)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017271):
<p>So actually the time pressure is over.</p>

#### [ Kevin Buzzard (May 24 2018 at 09:40)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017311):
<p>These kids are smart kids (my audience of 8)</p>

#### [ Kevin Buzzard (May 24 2018 at 09:40)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017312):
<p>but the Lean session will last 90 minutes</p>

#### [ Kevin Buzzard (May 24 2018 at 09:40)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017317):
<p>and even talking about how to construct Z[alpha] and computing Fibonacci numbers mod n throws up so much stuff</p>

#### [ Kevin Buzzard (May 24 2018 at 09:41)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017322):
<p>that my talk is already written.</p>

#### [ Kevin Buzzard (May 24 2018 at 09:41)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017325):
<p>However I am definitely still interested in finishing the job :-)</p>

#### [ Kevin Buzzard (May 24 2018 at 09:41)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017326):
<p>Here's a question.</p>

#### [ Kevin Buzzard (May 24 2018 at 09:42)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017363):
<p>Oh -- before I start -- thanks to Kenny and Nicholas for their contributions!</p>

#### [ Kevin Buzzard (May 24 2018 at 09:42)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017369):
<p>I'm still mired in marking and preparing these talks for Sat was beginning to become a worry.</p>

#### [ Kevin Buzzard (May 24 2018 at 09:43)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017374):
<p>The question is how to express the following assertion in Lean</p>

#### [ Kevin Buzzard (May 24 2018 at 09:43)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017377):
<p>We need to compute the Fibonacci sequence mod 16</p>

#### [ Kevin Buzzard (May 24 2018 at 09:44)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017422):
<p>The theorem is that mod 16 it goes like this:</p>

#### [ Kevin Buzzard (May 24 2018 at 09:44)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017424):
<p><code>[0, 1, 1, 2, 3, 5, 8, 13, 5, 2, 7, 9, 0, 9, 9, 2, 11, 13, 8, 5, 13, 2, 15, 1]</code></p>

#### [ Kevin Buzzard (May 24 2018 at 09:45)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017427):
<p>And the proof is "trivial by induction"</p>

#### [ Kevin Buzzard (May 24 2018 at 09:45)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017433):
<p>(because each term in that list is the sum of the previous two terms mod 16, and at the end we have 15 + 1 = 0 and 1 + 0 = 1 so we wrap back)</p>

#### [ Kevin Buzzard (May 24 2018 at 09:46)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017472):
<p>The question is how one can prove this in Lean in a way which actually looks reasonable</p>

#### [ Kevin Buzzard (May 24 2018 at 09:46)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017478):
<p>This is not a question about how to do anything mod n, this is a specific question about mod 16 (there's an analogous one for mod 3 but I chose the most awkward one).</p>

#### [ Kevin Buzzard (May 24 2018 at 09:46)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017480):
<p>One issue is what to do the induction on.</p>

#### [ Kevin Buzzard (May 24 2018 at 09:47)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017486):
<p>You could do strong induction on m</p>

#### [ Kevin Buzzard (May 24 2018 at 09:47)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017488):
<p>or you could write m = 24 * n + t with 0 &lt;= t &lt; 24 and do induction on n</p>

#### [ Kevin Buzzard (May 24 2018 at 09:48)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017527):
<p>What I am (not really that) concerned about is that with either approach you end up writing essentially the same code block 24 or so times</p>

#### [ Kevin Buzzard (May 24 2018 at 09:50)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017581):
<p>In the direct strong induction argument you case on n mod 24 and I don't really know how to do that</p>

#### [ Kevin Buzzard (May 24 2018 at 09:50)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017584):
<p>hmm</p>

#### [ Kevin Buzzard (May 24 2018 at 09:50)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017586):
<p>maybe it's OK</p>

#### [ Kevin Buzzard (May 24 2018 at 09:51)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017597):
<p>if t &lt; 22 it's some lemma of the form <code>(a+b)%m = (a%m+b%m)%m</code> -- is that in Lean/mathlib?</p>

#### [ Kevin Buzzard (May 24 2018 at 09:51)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017599):
<p>and in the induction case you end up with a statement of the form <code>a0 and a1 and ... and a23</code></p>

#### [ Kevin Buzzard (May 24 2018 at 09:51)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017602):
<p>you would never write such a statement in python or whatever, you would somehow wrap everything up in a list</p>

#### [ Kevin Buzzard (May 24 2018 at 09:52)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017603):
<p>Hmm</p>

#### [ Kevin Buzzard (May 24 2018 at 09:52)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017644):
<p>I think my question is that I am seeing two competing methods for proving this and they book look a bit "trivial in maths but a bit ugly to write in Lean" at the minute. Anyone have any suggestions?</p>

#### [ Chris Hughes (May 24 2018 at 09:55)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017725):
<blockquote>
<p>if t &lt; 14 it's some lemma of the form <code>(a+b)%m = (a%m+b%m)%m</code> -- is that in Lean/mathlib?</p>
</blockquote>
<p>int.modeq.modeq_add should help, since this is defeq to <code>a + b \== a%m + b % m</code> Although I forgot <code>modeq_mod</code> i.e. , so you'll have to prove that.<br>
Why not just prove it as a lemma about integers mod n, and not naturals.</p>

#### [ Kevin Buzzard (May 24 2018 at 09:57)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017789):
<p>The problem with working with integers mod n is that if you want the _input_ to fib to be an integer mod n (n would be 24 here) then you have to prove that your definition is well-defined.</p>

#### [ Kevin Buzzard (May 24 2018 at 09:57)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017793):
<p>and that's basically the same question, or another way of writing it, as far as I can see. Am I missing your point?</p>

#### [ Kevin Buzzard (May 24 2018 at 09:57)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017798):
<p>Oh -- or are you just talking about the (a+b)%m lemma?</p>

#### [ Chris Hughes (May 24 2018 at 09:58)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017835):
<p>The definition is just <code>quot.mk \circ fib</code></p>

#### [ Kevin Buzzard (May 24 2018 at 09:58)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017843):
<p>Chris I'm talking about the input not the output</p>

#### [ Chris Hughes (May 24 2018 at 09:58)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017845):
<p>I'm talking about the mod 16 lemma</p>

#### [ Kevin Buzzard (May 24 2018 at 09:58)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017847):
<p>I can get fib : N -&gt; N / 16 fine</p>

#### [ Kevin Buzzard (May 24 2018 at 09:58)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017849):
<p>But fib : (N / 24) -&gt; N / 16 is less fine</p>

#### [ Kevin Buzzard (May 24 2018 at 09:58)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017851):
<p>what am I saying</p>

#### [ Kevin Buzzard (May 24 2018 at 09:58)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017852):
<p>what has happened to me</p>

#### [ Kevin Buzzard (May 24 2018 at 09:58)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017853):
<p>(Z  / 24)</p>

#### [ Chris Hughes (May 24 2018 at 09:59)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017856):
<p>Just do nat \r mod 16</p>

#### [ Kevin Buzzard (May 24 2018 at 09:59)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017861):
<p>what the hell is N mod 24</p>

#### [ Kevin Buzzard (May 24 2018 at 09:59)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017865):
<p>I understand how to build fib : N -&gt; Z / 16</p>

#### [ Kevin Buzzard (May 24 2018 at 09:59)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017867):
<p>The issue is proving that fib (n + 24) = fib n</p>

#### [ Kevin Buzzard (May 24 2018 at 10:00)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017879):
<p>The only proof I know of that statement is</p>

#### [ Kevin Buzzard (May 24 2018 at 10:00)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017911):
<p>"consider n mod 24"</p>

#### [ Kevin Buzzard (May 24 2018 at 10:00)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017914):
<p>Oh</p>

#### [ Kevin Buzzard (May 24 2018 at 10:00)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017918):
<p>I realised I made a mistake above</p>

#### [ Kevin Buzzard (May 24 2018 at 10:00)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017923):
<p>I am going to edit a bunch of 16s and change them to 24s</p>

#### [ Kevin Buzzard (May 24 2018 at 10:00)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017924):
<p>input mod 24, output mod 16</p>

#### [ Kevin Buzzard (May 24 2018 at 10:02)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017982):
<p>OK fixed</p>

#### [ Kevin Buzzard (May 24 2018 at 10:02)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017984):
<p>So the issue is proving a = b mod 24 implies fib a = fib b mod 16</p>

#### [ Kevin Buzzard (May 24 2018 at 10:02)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017986):
<p>hmm</p>

#### [ Kevin Buzzard (May 24 2018 at 10:03)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017987):
<p>this is an idea</p>

#### [ Kevin Buzzard (May 24 2018 at 10:03)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017993):
<p>one can prove fib (n + 24) = fib n mod 16</p>

#### [ Kevin Buzzard (May 24 2018 at 10:03)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017995):
<p>by induction on n</p>

#### [ Kevin Buzzard (May 24 2018 at 10:03)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017996):
<p>and one has to hope that Lean has the firepower to compute fib 24</p>

#### [ Kevin Buzzard (May 24 2018 at 10:03)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017998):
<p>to get the induction started</p>

#### [ Kevin Buzzard (May 24 2018 at 10:03)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127017999):
<p>OK so</p>

#### [ Kevin Buzzard (May 24 2018 at 10:03)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127018000):
<p>actually</p>

#### [ Kevin Buzzard (May 24 2018 at 10:04)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127018041):
<p>one can define fibmod16</p>

#### [ Kevin Buzzard (May 24 2018 at 10:04)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127018044):
<p>I see</p>

#### [ Kevin Buzzard (May 24 2018 at 10:04)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127018046):
<p>fibmod16 : N -&gt; Z/16</p>

#### [ Kevin Buzzard (May 24 2018 at 10:04)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127018051):
<p>then prove that forall n, fibmod16 (n + 24) = fibmod16 n by induction on n</p>

#### [ Kevin Buzzard (May 24 2018 at 10:04)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127018052):
<p>and now no firepower needed</p>

#### [ Kevin Buzzard (May 24 2018 at 10:05)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127018055):
<p>and now prove fib mod 16 is fibmod16 by induction on n</p>

#### [ Kevin Buzzard (May 24 2018 at 10:05)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127018058):
<p>and you're done!</p>

#### [ Kevin Buzzard (May 24 2018 at 10:05)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127018063):
<p>This is great!</p>

#### [ Kevin Buzzard (May 24 2018 at 10:05)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127018064):
<p>Thanks Chris!</p>

#### [ Kevin Buzzard (May 24 2018 at 10:05)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127018068):
<p>I could even make that discussion into 90 minutes, given that none of the kids will have seen Lean before</p>

#### [ Chris Hughes (May 24 2018 at 10:06)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127018109):
<p>induction, bases case <code>rfl</code>, next case unfold 24 times, and hope things simplify</p>

#### [ Kevin Buzzard (May 24 2018 at 10:08)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127018162):
<p>Yeah I think you've cracked it. Thanks Chris.</p>

#### [ Kevin Buzzard (May 24 2018 at 10:08)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127018165):
<p>Now get back to stats revision ;-)</p>

#### [ Kenny Lau (May 24 2018 at 11:05)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127019961):
<p>The correct way is to use the theorem I proved that day :P</p>

#### [ Kevin Buzzard (May 24 2018 at 11:06)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020007):
<p>Kenny</p>

#### [ Kevin Buzzard (May 24 2018 at 11:06)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020008):
<p>your comments are sometimes obscure</p>

#### [ Kevin Buzzard (May 24 2018 at 11:06)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020010):
<p>but "the theorem I proved that day" will take some beating</p>

#### [ Kevin Buzzard (May 24 2018 at 11:06)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020011):
<p><code>(a%m+b%m)%m=(a+b)%m</code> is horrible</p>

#### [ Kenny Lau (May 24 2018 at 11:06)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020012):
<div class="codehilite"><pre><span></span><span class="kn">theorem</span> <span class="n">to_be_named</span> <span class="o">:</span> <span class="n">fib</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
  <span class="n">fib</span> <span class="n">m</span> <span class="bp">*</span> <span class="n">fib</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">fib</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">fib</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">nat</span><span class="bp">.</span><span class="n">strong_induction_on</span> <span class="n">n</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">n</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">cases_on</span> <span class="n">n</span> <span class="o">(</span><span class="bp">λ</span> <span class="bp">_</span><span class="o">,</span> <span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">fib</span><span class="o">])</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">n</span><span class="o">,</span>
<span class="n">nat</span><span class="bp">.</span><span class="n">cases_on</span> <span class="n">n</span> <span class="o">(</span><span class="bp">λ</span> <span class="bp">_</span><span class="o">,</span> <span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">fib</span><span class="o">])</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">n</span> <span class="n">ih</span><span class="o">,</span>
<span class="k">have</span> <span class="n">H1</span> <span class="o">:</span> <span class="bp">_</span> <span class="o">:=</span> <span class="n">ih</span> <span class="n">n</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">lt_trans</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">lt_succ_self</span> <span class="n">n</span><span class="o">)</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">lt_succ_self</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">))),</span>
<span class="k">have</span> <span class="n">H2</span> <span class="o">:</span> <span class="n">fib</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">_</span> <span class="bp">+</span> <span class="bp">_</span> <span class="bp">*</span> <span class="o">(</span><span class="n">fib</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">fib</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">))</span> <span class="o">:=</span> <span class="n">ih</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">lt_succ_self</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)),</span>
<span class="k">calc</span>  <span class="n">fib</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span> <span class="n">fib</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">)</span>
    <span class="bp">=</span> <span class="n">fib</span> <span class="n">m</span> <span class="bp">*</span> <span class="o">(</span><span class="n">fib</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">fib</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="n">fib</span> <span class="o">(</span><span class="n">m</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">fib</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="bp">+</span> <span class="o">(</span><span class="n">fib</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">fib</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)))</span> <span class="o">:</span>
  <span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">H1</span><span class="o">,</span> <span class="n">H2</span><span class="o">,</span> <span class="n">mul_add</span><span class="o">,</span> <span class="n">mul_add</span><span class="o">,</span> <span class="n">mul_add</span><span class="o">,</span> <span class="n">mul_add</span><span class="o">]</span><span class="bp">;</span> <span class="n">ac_refl</span>
</pre></div>

#### [ Kenny Lau (May 24 2018 at 11:06)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020013):
<p>it's how it's done in proofwiki</p>

#### [ Kenny Lau (May 24 2018 at 11:07)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020014):
<p>this lemma, plus the fact that fib 16 and fib 17 are coprime</p>

#### [ Kevin Buzzard (May 24 2018 at 11:07)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020019):
<p>OK so I will now home in on the other part of your sentence</p>

#### [ Kevin Buzzard (May 24 2018 at 11:07)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020020):
<p>"The correct way"</p>

#### [ Kenny Lau (May 24 2018 at 11:07)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020023):
<p>it's more general</p>

#### [ Kenny Lau (May 24 2018 at 11:07)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020025):
<p>you can prove that fib m | fib n iff m | n</p>

#### [ Kevin Buzzard (May 24 2018 at 11:07)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020027):
<p>Oh so you're just talking about the correct way to do something random</p>

#### [ Kevin Buzzard (May 24 2018 at 11:08)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020066):
<p>I was rather hoping you were talking about the thing I was interested in :-)</p>

#### [ Kenny Lau (May 24 2018 at 11:08)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020069):
<p>m = 16?</p>

#### [ Kevin Buzzard (May 24 2018 at 11:08)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020070):
<p>Oh yeah!</p>

#### [ Kevin Buzzard (May 24 2018 at 11:08)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020071):
<p>Let's talk about that!</p>

#### [ Kenny Lau (May 24 2018 at 11:08)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020072):
<p>that's a special case lol</p>

#### [ Chris Hughes (May 24 2018 at 11:08)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020073):
<blockquote>
<p>this lemma, plus the fact that fib 16 and fib 17 are coprime</p>
</blockquote>
<p>Is this easy to prove, or are the numbers too big for lean to handle?</p>

#### [ Kevin Buzzard (May 24 2018 at 11:08)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020075):
<p>fib n is coprime to fib (n+1)</p>

#### [ Kenny Lau (May 24 2018 at 11:08)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020076):
<blockquote>
<blockquote>
<p>this lemma, plus the fact that fib 16 and fib 17 are coprime</p>
</blockquote>
<p>Is this easy to prove, or are the numbers too big for lean to handle?</p>
</blockquote>
<p>kevin already proved it</p>

#### [ Kevin Buzzard (May 24 2018 at 11:08)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020079):
<p>by Euclid's algorithm</p>

#### [ Kevin Buzzard (May 24 2018 at 11:09)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020093):
<p>I can't face <code>(a%m+a%m)%m=(a+b)%m</code></p>

#### [ Kevin Buzzard (May 24 2018 at 11:09)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020095):
<p>I am going to work with Z/n</p>

#### [ Kevin Buzzard (May 24 2018 at 11:09)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020096):
<p>Where is this in Lean?</p>

#### [ Kevin Buzzard (May 24 2018 at 11:09)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020097):
<p>I currently have</p>

#### [ Kevin Buzzard (May 24 2018 at 11:10)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020120):
<div class="codehilite"><pre><span></span><span class="kn">definition</span> <span class="n">fib_mod</span> <span class="o">(</span><span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="bp">ℕ</span>
<span class="bp">|</span> <span class="mi">0</span> <span class="o">:=</span> <span class="mi">0</span> <span class="err">%</span> <span class="n">m</span>
<span class="bp">|</span> <span class="mi">1</span> <span class="o">:=</span> <span class="mi">1</span> <span class="err">%</span> <span class="n">m</span>
<span class="bp">|</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:=</span> <span class="o">(</span> <span class="o">(</span><span class="n">fib_mod</span> <span class="n">n</span><span class="o">)</span> <span class="bp">+</span> <span class="o">(</span><span class="n">fib_mod</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="o">)</span> <span class="err">%</span> <span class="n">m</span>
</pre></div>

#### [ Kevin Buzzard (May 24 2018 at 11:10)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020145):
<p>but I am going to go for a map from N to whatever Z/nZ is called</p>

#### [ Kevin Buzzard (May 24 2018 at 11:10)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020146):
<p>as long as it's an abelian group</p>

#### [ Chris Hughes (May 24 2018 at 11:10)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020151):
<p><a href="https://github.com/dorhinj/leanstuff/blob/master/Zmod1.lean" target="_blank" title="https://github.com/dorhinj/leanstuff/blob/master/Zmod1.lean">https://github.com/dorhinj/leanstuff/blob/master/Zmod1.lean</a> I did it.</p>

#### [ Kevin Buzzard (May 24 2018 at 11:11)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020155):
<p>oh so it's not in Lean?</p>

#### [ Chris Hughes (May 24 2018 at 11:11)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020157):
<p>No.</p>

#### [ Kevin Buzzard (May 24 2018 at 11:11)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020159):
<p>I mean mathlib</p>

#### [ Kevin Buzzard (May 24 2018 at 11:11)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020163):
<p>OK</p>

#### [ Kevin Buzzard (May 24 2018 at 11:11)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020164):
<p>I will steal it</p>

#### [ Kevin Buzzard (May 24 2018 at 11:11)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020166):
<p>you only did Z mod 1?</p>

#### [ Chris Hughes (May 24 2018 at 11:12)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020209):
<p>The 1 is to distinguish it from another construction I did.</p>

#### [ Kevin Buzzard (May 24 2018 at 11:12)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020212):
<p>Oh OK :-)</p>

#### [ Kevin Buzzard (May 24 2018 at 11:12)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020214):
<p>That's a relief</p>

#### [ Kevin Buzzard (May 24 2018 at 11:12)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020215):
<p>I was hoping for Zmod16</p>

#### [ Kevin Buzzard (May 24 2018 at 11:13)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020223):
<p>wow</p>

#### [ Kevin Buzzard (May 24 2018 at 11:13)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020224):
<p><a href="https://github.com/dorhinj/leanstuff" target="_blank" title="https://github.com/dorhinj/leanstuff">https://github.com/dorhinj/leanstuff</a></p>

#### [ Kevin Buzzard (May 24 2018 at 11:13)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020226):
<p>you have been pretty productive in the last 16 hours</p>

#### [ Kevin Buzzard (May 24 2018 at 11:13)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020229):
<p>about 50 lean files commited</p>

#### [ Kenny Lau (May 24 2018 at 11:13)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020230):
<p>lol</p>

#### [ Kevin Buzzard (May 24 2018 at 11:14)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020270):
<p>it's Chrislib</p>

#### [ Kevin Buzzard (May 24 2018 at 11:14)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020275):
<p>I like the look of kbuzzard.lean</p>

#### [ Kevin Buzzard (May 24 2018 at 11:14)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020277):
<p>Is that one of my theorems?</p>

#### [ Kevin Buzzard (May 24 2018 at 11:14)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020279):
<p>something about modular forms maybe?</p>

#### [ Kevin Buzzard (May 24 2018 at 11:15)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020282):
<p>Actually, hopefully, one of my theorems really _will_ be in Lean soon</p>

#### [ Kevin Buzzard (May 24 2018 at 11:15)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020286):
<p>Ellen is going to formalize my dots and boxes paper</p>

#### [ Kevin Buzzard (May 24 2018 at 11:22)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020520):
<p>If Z mod n isn't in mathlib and requires a bunch of Chris' local imports it might be easier to just go for <code>def nat.mod_add (a b m : ℕ) : (a % m + b % m) % m = (a + b) % m := sorry</code></p>

#### [ Kevin Buzzard (May 24 2018 at 11:22)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020524):
<p>I am not enough of an expert in how to use <code>%</code> to see how to prove this</p>

#### [ Kevin Buzzard (May 24 2018 at 11:22)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020525):
<p>and it doesn't appear to be there already</p>

#### [ Kevin Buzzard (May 24 2018 at 11:23)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020532):
<p>KB &lt;- professional number theorist who is not an expert in mod</p>

#### [ Kevin Buzzard (May 24 2018 at 11:23)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020535):
<p>:-/</p>

#### [ Kevin Buzzard (May 24 2018 at 11:24)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020583):
<p>I added the sorried assertion to <a href="https://github.com/kbuzzard/lean-squares-in-fibonacci/blob/master/src/definitions.lean" target="_blank" title="https://github.com/kbuzzard/lean-squares-in-fibonacci/blob/master/src/definitions.lean">https://github.com/kbuzzard/lean-squares-in-fibonacci/blob/master/src/definitions.lean</a></p>

#### [ Chris Hughes (May 24 2018 at 11:27)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020647):
<div class="codehilite"><pre><span></span><span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">lemma</span> <span class="n">nat</span><span class="bp">.</span><span class="n">mod_mod</span> <span class="o">(</span><span class="n">n</span> <span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">n</span> <span class="err">%</span> <span class="n">m</span> <span class="err">%</span> <span class="n">m</span> <span class="bp">=</span> <span class="n">n</span> <span class="err">%</span> <span class="n">m</span> <span class="o">:=</span>
<span class="n">nat</span><span class="bp">.</span><span class="n">cases_on</span> <span class="n">m</span> <span class="o">(</span><span class="k">by</span> <span class="n">simp</span><span class="o">)</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">m</span><span class="o">,</span> <span class="n">mod_eq_of_lt</span> <span class="o">(</span><span class="n">mod_lt</span> <span class="bp">_</span> <span class="o">(</span><span class="n">succ_pos</span> <span class="bp">_</span><span class="o">)))</span>

<span class="n">def</span> <span class="n">nat</span><span class="bp">.</span><span class="n">mod_add</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="err">%</span> <span class="n">m</span> <span class="bp">+</span> <span class="n">b</span> <span class="err">%</span> <span class="n">m</span><span class="o">)</span> <span class="err">%</span> <span class="n">m</span> <span class="bp">=</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="n">b</span><span class="o">)</span> <span class="err">%</span> <span class="n">m</span> <span class="o">:=</span>
<span class="n">nat</span><span class="bp">.</span><span class="n">modeq</span><span class="bp">.</span><span class="n">modeq_add</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">mod_mod</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">mod_mod</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)</span>
</pre></div>

#### [ Patrick Massot (May 24 2018 at 11:28)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020695):
<p>This is becoming slightly creepy</p>

#### [ Patrick Massot (May 24 2018 at 11:28)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020697):
<p>Kevin, what have you created?</p>

#### [ Kenny Lau (May 24 2018 at 11:31)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020775):
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">definitions</span>

<span class="kn">theorem</span> <span class="n">fib_add</span> <span class="o">(</span><span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">fib</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
  <span class="n">fib</span> <span class="n">m</span> <span class="bp">*</span> <span class="n">fib</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">fib</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">fib</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">nat</span><span class="bp">.</span><span class="n">rec_on_two</span> <span class="n">n</span> <span class="o">(</span><span class="k">by</span> <span class="n">unfold</span> <span class="n">fib</span><span class="bp">;</span> <span class="n">rw</span> <span class="o">[</span><span class="n">mul_zero</span><span class="o">,</span> <span class="n">zero_add</span><span class="o">,</span> <span class="n">mul_one</span><span class="o">]</span><span class="bp">;</span> <span class="n">refl</span><span class="o">)</span>
  <span class="o">(</span><span class="k">by</span> <span class="n">unfold</span> <span class="n">fib</span><span class="bp">;</span> <span class="n">rw</span> <span class="o">[</span><span class="n">zero_add</span><span class="o">,</span> <span class="n">mul_one</span><span class="o">,</span> <span class="n">mul_one</span><span class="o">]</span><span class="bp">;</span> <span class="n">refl</span><span class="o">)</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">n</span> <span class="n">ih1</span> <span class="n">ih2</span><span class="o">,</span>
<span class="k">calc</span>  <span class="n">fib</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span> <span class="n">fib</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">nat</span><span class="bp">.</span><span class="n">succ</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
    <span class="bp">=</span> <span class="n">fib</span> <span class="n">m</span> <span class="bp">*</span> <span class="o">(</span><span class="n">fib</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">fib</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">))</span> <span class="bp">+</span> <span class="n">fib</span> <span class="o">(</span><span class="n">m</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">fib</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="bp">+</span> <span class="o">(</span><span class="n">fib</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">fib</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)))</span> <span class="o">:</span>
  <span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">ih1</span><span class="o">,</span> <span class="n">ih2</span><span class="o">,</span> <span class="n">fib</span><span class="o">,</span> <span class="n">mul_add</span><span class="o">,</span> <span class="n">mul_add</span><span class="o">,</span> <span class="n">mul_add</span><span class="o">,</span> <span class="n">mul_add</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">succ_eq_add_one</span><span class="o">]</span><span class="bp">;</span> <span class="n">ac_refl</span>

<span class="n">attribute</span> <span class="o">[</span><span class="n">refl</span><span class="o">]</span> <span class="n">dvd_refl</span>
<span class="n">attribute</span> <span class="o">[</span><span class="n">trans</span><span class="o">]</span> <span class="n">dvd_trans</span>

<span class="kn">theorem</span> <span class="n">fib_dvd_mul</span> <span class="o">(</span><span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">fib</span> <span class="n">m</span> <span class="err">∣</span> <span class="n">fib</span> <span class="o">(</span><span class="n">m</span> <span class="bp">*</span> <span class="n">n</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">nat</span><span class="bp">.</span><span class="n">cases_on</span> <span class="n">m</span> <span class="o">(</span><span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">zero_mul</span><span class="o">]</span><span class="bp">;</span> <span class="n">refl</span><span class="o">)</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">m</span><span class="o">,</span>
<span class="n">nat</span><span class="bp">.</span><span class="n">rec_on</span> <span class="n">n</span> <span class="o">(</span><span class="n">dvd_zero</span> <span class="bp">_</span><span class="o">)</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">n</span> <span class="n">ih</span><span class="o">,</span>
<span class="k">show</span> <span class="n">fib</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">succ</span> <span class="n">m</span><span class="o">)</span> <span class="err">∣</span> <span class="n">fib</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">succ</span> <span class="n">m</span> <span class="bp">*</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">),</span>
<span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">fib_add</span><span class="o">]</span><span class="bp">;</span> <span class="n">apply</span> <span class="n">dvd_add</span><span class="bp">;</span>
<span class="o">[</span><span class="n">apply</span> <span class="n">dvd_mul_of_dvd_left</span> <span class="n">ih</span><span class="o">,</span> <span class="n">apply</span> <span class="n">dvd_mul_left</span><span class="o">]</span>
</pre></div>

#### [ Kenny Lau (May 24 2018 at 11:31)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020776):
<p>done</p>

#### [ Kenny Lau (May 24 2018 at 11:31)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020778):
<p>I don't need the fact that fib m and fib m+1 are coprime</p>

#### [ Kenny Lau (May 24 2018 at 11:32)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020816):
<p>I would need it to prove the converse though</p>

#### [ Kevin Buzzard (May 24 2018 at 11:33)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020843):
<blockquote>
<p>Kevin, what have you created?</p>
</blockquote>
<p>This is the new normal. Professors who can't prove things about mod so they ask the undergraduates</p>

#### [ Kevin Buzzard (May 24 2018 at 11:34)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020886):
<p>I really want that by December there are a bunch of undergraduates at my university asking their tutors questions which the tutors can't answer</p>

#### [ Kevin Buzzard (May 24 2018 at 11:34)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020888):
<p>or showing them code which the tutors can't understand</p>

#### [ Kevin Buzzard (May 24 2018 at 11:34)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020892):
<p>or saying "I typed up your problem sheet into Lean and you made an off by one error"</p>

#### [ Kenny Lau (May 24 2018 at 11:34)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020894):
<p>pushed</p>

#### [ Kevin Buzzard (May 24 2018 at 11:34)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020895):
<p>Thanks Kenny</p>

#### [ Kevin Buzzard (May 24 2018 at 11:35)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020903):
<p>I need a recursor for %</p>

#### [ Kevin Buzzard (May 24 2018 at 11:35)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020913):
<p>If I have a function F from nat to X</p>

#### [ Kevin Buzzard (May 24 2018 at 11:35)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020915):
<p>and a proof that F (n +  24) = F n</p>

#### [ Kevin Buzzard (May 24 2018 at 11:35)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020917):
<p>then I want a theorem that F n = F (n % 24)</p>

#### [ Kevin Buzzard (May 24 2018 at 11:35)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020919):
<p>Is that a recursor?</p>

#### [ Kevin Buzzard (May 24 2018 at 11:35)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020920):
<p>It's what I want, at any rate</p>

#### [ Kenny Lau (May 24 2018 at 11:36)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020961):
<p>ok a minute</p>

#### [ Kevin Buzzard (May 24 2018 at 11:36)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020962):
<p>what I don't want</p>

#### [ Kevin Buzzard (May 24 2018 at 11:36)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020963):
<p>is what I have to do</p>

#### [ Kevin Buzzard (May 24 2018 at 11:36)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020964):
<p>which is marking 150 scripts about sup S</p>

#### [ Kevin Buzzard (May 24 2018 at 11:36)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020965):
<p>I think I need to go offline for 7 hours</p>

#### [ Kevin Buzzard (May 24 2018 at 11:36)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020966):
<p>I will push too</p>

#### [ Kevin Buzzard (May 24 2018 at 11:37)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020986):
<p>Before I go</p>

#### [ Kevin Buzzard (May 24 2018 at 11:37)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020987):
<p>just let me make one thing clear to Kenny and Chris</p>

#### [ Kevin Buzzard (May 24 2018 at 11:37)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127020988):
<p>Last night I was a bit worried about all this</p>

#### [ Kevin Buzzard (May 24 2018 at 11:38)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127021000):
<p>because I still have 10 hours of marking and I wanted to give a good talk on Sat</p>

#### [ Kevin Buzzard (May 24 2018 at 11:38)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127021035):
<p>but now I know I have enough material to give a good talk</p>

#### [ Kevin Buzzard (May 24 2018 at 11:38)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127021039):
<p>so feel free to stop thinking about this and worry about your stats exam</p>

#### [ Kevin Buzzard (May 24 2018 at 11:38)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127021042):
<p>and come back to it on Friday</p>

#### [ Kevin Buzzard (May 24 2018 at 11:38)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127021046):
<p>I will be at Xena tonight by the way, from 6pm</p>

#### [ Kevin Buzzard (May 24 2018 at 11:39)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127021053):
<p>Thanks to all of you, as ever</p>

#### [ Kenny Lau (May 24 2018 at 11:42)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127021167):
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">nat</span><span class="bp">.</span><span class="n">mod_rec</span> <span class="o">(</span><span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">Sort</span><span class="bp">*</span><span class="o">}</span>
  <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">n</span><span class="o">,</span> <span class="n">C</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">C</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="n">m</span><span class="o">))</span> <span class="o">:</span>
  <span class="n">C</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">C</span> <span class="o">(</span><span class="n">n</span><span class="err">%</span><span class="n">m</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">have</span> <span class="n">H1</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">q</span> <span class="n">r</span><span class="o">,</span> <span class="n">C</span> <span class="o">(</span><span class="n">r</span> <span class="bp">+</span> <span class="n">m</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span> <span class="bp">=</span> <span class="n">C</span> <span class="n">r</span><span class="o">,</span>
  <span class="k">from</span> <span class="bp">λ</span> <span class="n">q</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">rec_on</span> <span class="n">q</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">r</span><span class="o">,</span> <span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">mul_zero</span><span class="o">]</span><span class="bp">;</span> <span class="n">refl</span><span class="o">)</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">n</span> <span class="n">ih</span> <span class="n">r</span><span class="o">,</span>
    <span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">mul_succ</span><span class="o">,</span> <span class="err">←</span> <span class="n">add_assoc</span><span class="o">,</span> <span class="err">←</span> <span class="n">H</span><span class="o">,</span> <span class="n">ih</span><span class="o">],</span>
<span class="k">by</span> <span class="n">conv</span> <span class="k">in</span> <span class="o">(</span><span class="n">C</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="err">←</span> <span class="n">mod_add_div</span> <span class="n">n</span> <span class="n">m</span><span class="o">,</span> <span class="n">H1</span><span class="o">]</span> <span class="o">}</span>
</pre></div>

#### [ Kenny Lau (May 24 2018 at 13:36)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127024645):
<div class="codehilite"><pre><span></span><span class="kn">theorem</span> <span class="n">fib_gcd</span> <span class="o">(</span><span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">n</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">gcd</span> <span class="o">(</span><span class="n">fib</span> <span class="n">m</span><span class="o">)</span> <span class="o">(</span><span class="n">fib</span> <span class="n">n</span><span class="o">)</span> <span class="bp">=</span> <span class="n">fib</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">gcd</span> <span class="n">m</span> <span class="n">n</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">[</span><span class="n">thing</span> <span class="n">that</span> <span class="n">works</span><span class="o">]</span>
</pre></div>

#### [ Kenny Lau (May 24 2018 at 13:36)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127024647):
<p>pushed</p>

#### [ Kenny Lau (May 24 2018 at 13:49)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127025051):
<p>pushed</p>

#### [ Kenny Lau (May 24 2018 at 13:49)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127025052):
<p>i'm going to eat and then revise statistics until tonight</p>

#### [ Kevin Buzzard (May 26 2018 at 11:53)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122627):
<p>What is the prettiest way to prove that there's a positive real number alpha with the property that <code>alpha ^ 2 = alpha + 1</code>?</p>

#### [ Kenny Lau (May 26 2018 at 11:53)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122630):
<p>not to.</p>

#### [ Kenny Lau (May 26 2018 at 11:53)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122632):
<p>(why can't we just use the Zalpha)</p>

#### [ Kevin Buzzard (May 26 2018 at 11:54)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122664):
<p>I would be really interested in an answer to this question before 2000 BST and ideally earlier</p>

#### [ Kevin Buzzard (May 26 2018 at 11:54)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122672):
<p>Kenny I am giving a talk to a bunch of schoolkids</p>

#### [ Kevin Buzzard (May 26 2018 at 11:54)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122674):
<p>I am going to give two talks</p>

#### [ Mario Carneiro (May 26 2018 at 11:54)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122675):
<p>square root, or FTA</p>

#### [ Kevin Buzzard (May 26 2018 at 11:54)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122676):
<p>In the first talk I will ask them to prove to me that alpha exists and I'll see what they come up with.</p>

#### [ Kevin Buzzard (May 26 2018 at 11:54)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122677):
<p>In the second talk I will show them how Lean does it</p>

#### [ Kevin Buzzard (May 26 2018 at 11:54)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122678):
<p>But I want it to look really sexy</p>

#### [ Mario Carneiro (May 26 2018 at 11:55)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122683):
<p>IVT works too</p>

#### [ Kevin Buzzard (May 26 2018 at 11:55)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122687):
<p>I want to define a real number alpha as <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mn>1</mn><mo>+</mo><msup><mn>5</mn><mrow><mo>(</mo><mn>1</mn><mi mathvariant="normal">/</mi><mn>2</mn><mo>)</mo></mrow></msup><mo>)</mo><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">(1+5^{(1/2)})/2</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.8879999999999999em;"></span><span class="strut bottom" style="height:1.138em;vertical-align:-0.25em;"></span><span class="base"><span class="mopen">(</span><span class="mord mathrm">1</span><span class="mbin">+</span><span class="mord"><span class="mord mathrm">5</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathrm mtight">1</span><span class="mord mathrm mtight">/</span><span class="mord mathrm mtight">2</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathrm">/</span><span class="mord mathrm">2</span></span></span></span> or something that looks as close to that as possible</p>

#### [ Mario Carneiro (May 26 2018 at 11:55)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122689):
<p>then use sqrt thm</p>

#### [ Kevin Buzzard (May 26 2018 at 11:56)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122730):
<p>I would like a square root symbol ideally. Is there one of them?</p>

#### [ Kevin Buzzard (May 26 2018 at 11:56)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122731):
<p>Oh I saw one in Pell maybe?</p>

#### [ Mario Carneiro (May 26 2018 at 11:56)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122732):
<p>I thought we did this a few months ago</p>

#### [ Kevin Buzzard (May 26 2018 at 11:56)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122733):
<p>I know how to solve it</p>

#### [ Kevin Buzzard (May 26 2018 at 11:56)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122734):
<p>I just want to make it look maximally sexy</p>

#### [ Kevin Buzzard (May 26 2018 at 11:57)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122735):
<p>I want to write a human-readable proof</p>

#### [ Mario Carneiro (May 26 2018 at 11:57)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122741):
<p>I think it is <code>\surd</code></p>

#### [ Mario Carneiro (May 26 2018 at 11:57)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122742):
<p>it is in pell</p>

#### [ Kevin Buzzard (May 26 2018 at 11:58)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122781):
<p>i.e. something where you show the exact proof to a smart schoolkid and whilst they don't know any of the precise syntax they can still kind of see that it's a proof that if alpha is (1+sqrt(5))/2 then alpha^2=alpha+1.</p>

#### [ Kevin Buzzard (May 26 2018 at 11:58)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122784):
<p>I'll see what I can come up with</p>

#### [ Kevin Buzzard (May 26 2018 at 12:00)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122836):
<p>I fear becoming mired in div_muls and mul_adds when expanding everything out</p>

#### [ Mario Carneiro (May 26 2018 at 12:00)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122842):
<p>complete the square</p>

#### [ Mario Carneiro (May 26 2018 at 12:01)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127122843):
<p>using ring</p>

#### [ Kevin Buzzard (May 26 2018 at 15:30)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128227):
<p><code>theorem root_5_squared : (sqrt 5) ^ 2 = 5 := by norm_num -- fails</code></p>

#### [ Kevin Buzzard (May 26 2018 at 15:30)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128228):
<p>Why can't it be easy</p>

#### [ Kevin Buzzard (May 26 2018 at 15:30)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128229):
<p><code>theorem root_5_squared : (sqrt 5) ^ 2 = 5 := by simp [(sqrt_prop 5).2] -- fails</code></p>

#### [ Kevin Buzzard (May 26 2018 at 15:30)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128230):
<p>I am so bad at reals</p>

#### [ Kevin Buzzard (May 26 2018 at 15:30)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128231):
<p><code>#check sqrt_prop -- ∀ (x : ℝ), 0 ≤ sqrt x ∧ sqrt x * sqrt x = max 0 x</code></p>

#### [ Mario Carneiro (May 26 2018 at 15:32)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128284):
<p>you want <code>sqr_sqrt</code></p>

#### [ Mario Carneiro (May 26 2018 at 15:32)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128287):
<p>it's already a simp lemma, so you just have to supply a proof of <code>0 &lt;= 5</code></p>

#### [ Kevin Buzzard (May 26 2018 at 15:32)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128291):
<p>why do I need to supply a proof of that?</p>

#### [ Kevin Buzzard (May 26 2018 at 15:32)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128293):
<p>It's clear it will yield to norm_num right?</p>

#### [ Kevin Buzzard (May 26 2018 at 15:33)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128298):
<p>Can I somehow add norm_num to simp?</p>

#### [ Mario Carneiro (May 26 2018 at 15:33)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128301):
<p>sure, but norm_num and simp don't talk back and forth like that</p>

#### [ Kevin Buzzard (May 26 2018 at 15:33)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128304):
<p>I am still a million miles away from writing a clear readable statement and proof that if alpha = (1+sqrt(5))/2 then alpha^2=alpha+1</p>

#### [ Kevin Buzzard (May 26 2018 at 15:33)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128305):
<p>I will keep trying</p>

#### [ Mario Carneiro (May 26 2018 at 15:34)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128314):
<p>norm_num doesn't know about square roots, and simp doesn't use norm_num as a discharger</p>

#### [ Mario Carneiro (May 26 2018 at 15:34)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128351):
<p>you could try <code>simp {discharger := norm_num}</code>, not sure if that works</p>

#### [ Kevin Buzzard (May 26 2018 at 15:34)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128356):
<p>completely unrelated -- why do I have <code>imported file '/home/buzzard/lean-projects/lean-squares-in-fibonacci/_target/deps/mathlib/data/set/lattice.lean' uses sorry</code> and several other mathlib errors? This looks really unprofessional :-/ Can you tell me a quick fix?</p>

#### [ Mario Carneiro (May 26 2018 at 15:34)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128357):
<p>still, I think <code>simp (dec_trivial : 0 &lt;= 5)</code> is easy enough</p>

#### [ Kevin Buzzard (May 26 2018 at 15:35)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128362):
<p>That's enough? It goes from nats to reals?</p>

#### [ Mario Carneiro (May 26 2018 at 15:35)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128368):
<p>Oh wait no, le on real is not computable</p>

#### [ Mario Carneiro (May 26 2018 at 15:35)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128371):
<p>you need to use norm_num</p>

#### [ Mario Carneiro (May 26 2018 at 15:35)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128372):
<p><code>simp [(by norm_num : 0 &lt;= 5)]</code></p>

#### [ Kevin Buzzard (May 26 2018 at 15:36)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128412):
<p>I don't understand what you are saying</p>

#### [ Kevin Buzzard (May 26 2018 at 15:36)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128413):
<p>I don't understand this stuff well enough</p>

#### [ Kevin Buzzard (May 26 2018 at 15:36)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128414):
<p><code>theorem root_5_squared : (sqrt 5) ^ 2 = 5 := by simp [sqr_sqrt,(dec_trivial : 0 &lt;= 5)]-- fails</code></p>

#### [ Kevin Buzzard (May 26 2018 at 15:36)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128416):
<p>I am not even sure that's valid syntax</p>

#### [ Mario Carneiro (May 26 2018 at 15:36)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128418):
<p>it should be...</p>

#### [ Mario Carneiro (May 26 2018 at 15:37)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128424):
<p>the full proof is just <code>sqr_sqrt (by norm_num : 0 &lt;= 5)</code></p>

#### [ Kevin Buzzard (May 26 2018 at 15:38)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128472):
<div class="codehilite"><pre><span></span><span class="kn">theorem</span> <span class="n">zero_le_5</span> <span class="o">:</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">≤</span> <span class="mi">5</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">norm_num</span>

<span class="kn">theorem</span> <span class="n">root_5_squared</span> <span class="o">:</span> <span class="o">(</span><span class="n">sqrt</span> <span class="mi">5</span><span class="o">)</span> <span class="err">^</span> <span class="mi">2</span> <span class="bp">=</span> <span class="mi">5</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">sqr_sqrt</span><span class="o">,</span><span class="n">zero_le_5</span><span class="o">]</span>
</pre></div>

#### [ Kevin Buzzard (May 26 2018 at 15:38)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128473):
<p>First molehill conquered</p>

#### [ Mario Carneiro (May 26 2018 at 15:38)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128475):
<p>Oh, you might need to write <code>simp [(by norm_num : (0:R) &lt;= 5)]</code></p>

#### [ Kevin Buzzard (May 26 2018 at 15:38)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128477):
<p>Where?</p>

#### [ Mario Carneiro (May 26 2018 at 15:39)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128478):
<p>as a proof of the theorem</p>

#### [ Mario Carneiro (May 26 2018 at 15:39)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128485):
<p>that proves zero_le_5 inline, and uses it as a simp lemma in the main proof</p>

#### [ Kevin Buzzard (May 26 2018 at 15:40)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128534):
<p>It's really annoying to use Lean like this. Why do I have all these errors in mathlib?</p>

#### [ Kevin Buzzard (May 26 2018 at 15:40)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128535):
<div class="codehilite"><pre><span></span>imported file &#39;/home/buzzard/lean-projects/lean-squares-in-fibonacci/_target/deps/mathlib/order/complete_lattice.lean&#39; uses sorry
real_alpha.lean:1:0: warning

imported file &#39;/home/buzzard/lean-projects/lean-squares-in-fibonacci/_target/deps/mathlib/order/bounded_lattice.lean&#39; uses sorry
real_alpha.lean:1:0: warning

imported file &#39;/home/buzzard/lean-projects/lean-squares-in-fibonacci/_target/deps/mathlib/data/finset.lean&#39; uses sorry
real_alpha.lean:1:0: warning

imported file &#39;/home/buzzard/lean-projects/lean-squares-in-fibonacci/_target/deps/mathlib/order/boolean_algebra.lean&#39; uses sorry
real_alpha.lean:1:0: warning

imported file &#39;/home/buzzard/lean-projects/lean-squares-in-fibonacci/_target/deps/mathlib/data/equiv.lean&#39; uses sorry
real_alpha.lean:1:0: warning

imported file &#39;/home/buzzard/lean-projects/lean-squares-in-fibonacci/_target/deps/mathlib/data/set/lattice.lean&#39; uses sorry
</pre></div>

#### [ Kevin Buzzard (May 26 2018 at 15:40)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128536):
<p>What have I done wrong?</p>

#### [ Mario Carneiro (May 26 2018 at 15:41)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128537):
<p>maybe those files use sorry</p>

#### [ Kevin Buzzard (May 26 2018 at 15:41)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128540):
<p>I thought I was all up to date</p>

#### [ Kevin Buzzard (May 26 2018 at 15:41)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128543):
<p>They're all your files</p>

#### [ Mario Carneiro (May 26 2018 at 15:41)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128546):
<p>Look for an actual error</p>

#### [ Mario Carneiro (May 26 2018 at 15:42)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128588):
<p>Usually lean will have some error in a theorem, and then since the theorem failed it uses sorry instead, and then every other file that imports that file complains about the sorry so you get hundreds of sorry warnings</p>

#### [ Kevin Buzzard (May 26 2018 at 15:42)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128593):
<div class="codehilite"><pre><span></span>complete_lattice.lean:119:36: error

ambiguous overload, possible interpretations
  ⊥
  ⊥
Additional information:
/home/buzzard/lean-projects/lean-squares-in-fibonacci/_target/deps/mathlib/order/complete_lattice.lean:119:36: context: switched to basic overload resolution where arguments are elaborated without any information about the expected type because it failed to disambiguate overload using the expected type
  ?m_1
the following overloaded terms were applicable
  ⊥
  ⊥
</pre></div>

#### [ Kevin Buzzard (May 26 2018 at 15:43)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128601):
<p>Looks like much of a muchness to me</p>

#### [ Kevin Buzzard (May 26 2018 at 15:44)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128609):
<div class="codehilite"><pre><span></span>don&#39;t know how to synthesize placeholder
context:
α : Type u,
_inst_1 : lattice.complete_lattice.{u} α
⊢ Type ?l_1
complete_lattice.lean:120:36: error

ambiguous overload, possible interpretations
  @lattice.has_bot.bot.{?l_1} ?m_2 ?m_3
  @lattice.has_bot.bot.{?l_4} ?m_5 ?m_6
Additional information:
/home/buzzard/lean-projects/lean-squares-in-fibonacci/_target/deps/mathlib/order/complete_lattice.lean:120:36: context: switched to basic overload resolution where arguments are elaborated without any information about the expected type because it failed to disambiguate overload using the expected type
  ?m_1
the following overloaded terms were applicable
  @lattice.has_bot.bot.{?l_2} ?m_3 ?m_4
  @lattice.has_bot.bot.{?l_5} ?m_6 ?m_7
</pre></div>

#### [ Kevin Buzzard (May 26 2018 at 15:44)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128647):
<p>with pp_all on</p>

#### [ Mario Carneiro (May 26 2018 at 15:44)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128651):
<p>what about <code>#print ⊥</code>?</p>

#### [ Kevin Buzzard (May 26 2018 at 15:45)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128657):
<div class="codehilite"><pre><span></span>`⊥`:1024 :=
  | lattice.has_bot.bot _
  | lattice.has_bot.bot _
</pre></div>

#### [ Mario Carneiro (May 26 2018 at 15:45)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128661):
<p>some file somewhere has declared ⊥ as a global notation</p>

#### [ Kevin Buzzard (May 26 2018 at 15:45)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128662):
<p>Thanks</p>

#### [ Mario Carneiro (May 26 2018 at 15:45)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128664):
<p>I recently moved the location of the declaration of ⊥</p>

#### [ Mario Carneiro (May 26 2018 at 15:46)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128704):
<p>it's possible you have an old version of one of the files and so are getting a double declaration</p>

#### [ Kevin Buzzard (May 26 2018 at 15:46)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128707):
<p>Thanks</p>

#### [ Kevin Buzzard (May 26 2018 at 15:46)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128708):
<p>I can't see any of these symbols or bot in my file</p>

#### [ Mario Carneiro (May 26 2018 at 15:46)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128712):
<p>check lattice.lean</p>

#### [ Kevin Buzzard (May 26 2018 at 15:47)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128720):
<div class="codehilite"><pre><span></span>:~/lean-projects/lean-squares-in-fibonacci/_target/deps/mathlib$ git branch
* (HEAD detached at 6811f13)
  master
</pre></div>

#### [ Kevin Buzzard (May 26 2018 at 15:47)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128721):
<p>I don't know what detached head means</p>

#### [ Mario Carneiro (May 26 2018 at 15:47)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128722):
<p>or just search for <code>notation `⊥` </code></p>

#### [ Kevin Buzzard (May 26 2018 at 15:47)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128723):
<p>Should I switch to master?</p>

#### [ Mario Carneiro (May 26 2018 at 15:47)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128725):
<p>it means you have a commit checked out, not a branch</p>

#### [ Mario Carneiro (May 26 2018 at 15:48)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128771):
<p>what does <code>git status</code> give?</p>

#### [ Kevin Buzzard (May 26 2018 at 15:48)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128773):
<p>That sounds right</p>

#### [ Kevin Buzzard (May 26 2018 at 15:48)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128774):
<p>shall I checkout a branch?</p>

#### [ Kevin Buzzard (May 26 2018 at 15:48)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128775):
<p>I did everything with leanpkg as far as I know</p>

#### [ Mario Carneiro (May 26 2018 at 15:49)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128786):
<p>leanpkg usually checks out commits, which is why it is like that</p>

#### [ Kevin Buzzard (May 26 2018 at 15:49)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128790):
<div class="codehilite"><pre><span></span>$ git status
HEAD detached at 6811f13
nothing to commit, working directory clean
</pre></div>

#### [ Kevin Buzzard (May 26 2018 at 15:49)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128793):
<p>Instead of trying to debug</p>

#### [ Kevin Buzzard (May 26 2018 at 15:49)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128795):
<p>can you just tell me how to install the latest mathlib and get it all working?</p>

#### [ Mario Carneiro (May 26 2018 at 15:50)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128845):
<p>You appear to have it already, from that status message</p>

#### [ Kevin Buzzard (May 26 2018 at 15:50)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128848):
<p>Is there just a brutal fix so I have a working version of mathlib? Should I just delete _target and run leanpkg something?</p>

#### [ Kevin Buzzard (May 26 2018 at 15:50)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128852):
<p>Or check out some other commit or branch?</p>

#### [ Kevin Buzzard (May 26 2018 at 15:51)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128860):
<p>I just want to get this fixed quickly, I am giving a talk in an hour</p>

#### [ Mario Carneiro (May 26 2018 at 15:51)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128861):
<p>yes probably, but I'm not a leanpkg expert</p>

#### [ Kevin Buzzard (May 26 2018 at 15:51)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128865):
<p>and then another one at 8 where I want to show Lean off</p>

#### [ Kevin Buzzard (May 26 2018 at 15:51)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128866):
<p>and all its erros</p>

#### [ Kevin Buzzard (May 26 2018 at 15:51)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128867):
<p>errors</p>

#### [ Mario Carneiro (May 26 2018 at 15:51)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128870):
<p>maybe back up the directory first, but sure just remove _target and do the usual leanpkg incantations</p>

#### [ Mario Carneiro (May 26 2018 at 15:52)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128910):
<p>that folder only has cached stuff so it should be fine</p>

#### [ Kevin Buzzard (May 26 2018 at 15:52)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128914):
<p>I'm on a train :-/</p>

#### [ Mario Carneiro (May 26 2018 at 15:53)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128921):
<p>try removing .olean files</p>

#### [ Mario Carneiro (May 26 2018 at 15:53)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128922):
<p>and rebuild</p>

#### [ Kevin Buzzard (May 26 2018 at 15:53)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128924):
<p>i did that already</p>

#### [ Mario Carneiro (May 26 2018 at 15:54)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128928):
<p>did you search for notation bot like I said?</p>

#### [ Kevin Buzzard (May 26 2018 at 15:54)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128964):
<p>git is working</p>

#### [ Kevin Buzzard (May 26 2018 at 15:54)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128966):
<p>really good</p>

#### [ Kevin Buzzard (May 26 2018 at 15:54)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128974):
<p>patchy 3g phone and hotspot</p>

#### [ Mario Carneiro (May 26 2018 at 15:54)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128975):
<p>this line</p>
<div class="codehilite"><pre><span></span>notation `⊥` := has_bot.bot _
</pre></div>


<p>should appear exactly once in mathlib, in bounded_lattice.lean</p>

#### [ Kevin Buzzard (May 26 2018 at 15:55)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128978):
<p>I got bored trying to work out why it was broken</p>

#### [ Kevin Buzzard (May 26 2018 at 15:55)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128983):
<p>I am under time pressure</p>

#### [ Mario Carneiro (May 26 2018 at 15:55)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128984):
<p>I'm hoping that the location of the second hit will hint at why you have old files</p>

#### [ Kevin Buzzard (May 26 2018 at 15:55)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127128986):
<p>had</p>

#### [ Mario Carneiro (May 26 2018 at 15:56)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129032):
<p>that's why I'm giving suggestions that are fast to check</p>

#### [ Kevin Buzzard (May 26 2018 at 15:58)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129094):
<blockquote>
<p>you could try <code>simp {discharger := norm_num}</code>, not sure if that works</p>
</blockquote>
<p>I can't get it to work</p>

#### [ Chris Hughes (May 26 2018 at 15:59)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129100):
<p>How about this for a readable proof?</p>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">:</span> <span class="o">(((</span><span class="mi">1</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">+</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">)</span> <span class="err">^</span> <span class="mi">2</span> <span class="bp">=</span> <span class="o">((</span><span class="mi">1</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">+</span> <span class="err">√</span><span class="mi">5</span> <span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="k">have</span> <span class="n">h</span> <span class="o">:</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">≤</span> <span class="mi">5</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">norm_num</span><span class="o">,</span>
<span class="k">begin</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">pow_two</span><span class="o">,</span> <span class="n">div_mul_div</span><span class="o">,</span> <span class="n">mul_add</span><span class="o">,</span> <span class="n">mul_one</span><span class="o">,</span> <span class="n">add_mul</span><span class="o">,</span> <span class="n">one_mul</span><span class="o">,</span> <span class="err">←</span> <span class="n">pow_two</span><span class="o">,</span> <span class="n">sqr_sqrt</span> <span class="n">h</span><span class="o">],</span>
  <span class="n">ring</span><span class="o">,</span>
<span class="kn">end</span>
</pre></div>

#### [ Kevin Buzzard (May 26 2018 at 15:59)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129103):
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">analysis</span><span class="bp">.</span><span class="n">real</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">norm_num</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">ring</span>

<span class="kn">namespace</span> <span class="n">real</span>
<span class="n">noncomputable</span> <span class="n">theory</span>

<span class="n">def</span> <span class="n">α</span> <span class="o">:=</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">sqrt</span> <span class="mi">5</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span>
<span class="n">def</span> <span class="n">β</span> <span class="o">:=</span> <span class="mi">1</span> <span class="bp">-</span> <span class="n">α</span>

<span class="kn">theorem</span> <span class="n">root_5_squared</span> <span class="o">:</span> <span class="o">(</span><span class="n">sqrt</span> <span class="mi">5</span><span class="o">)</span> <span class="err">^</span> <span class="mi">2</span> <span class="bp">=</span> <span class="mi">5</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">sqr_sqrt</span><span class="o">,(</span><span class="k">by</span> <span class="n">norm_num</span> <span class="o">:</span> <span class="o">(</span><span class="mi">0</span><span class="o">:</span><span class="n">ℝ</span><span class="o">)</span> <span class="bp">&lt;=</span> <span class="mi">5</span><span class="o">)]</span>

<span class="kn">lemma</span> <span class="n">αβsum</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">+</span> <span class="n">β</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span> <span class="k">begin</span>
  <span class="n">unfold</span> <span class="n">β</span><span class="o">,</span>
  <span class="n">unfold</span> <span class="n">α</span><span class="o">,</span>
  <span class="n">norm_num</span><span class="o">,</span> <span class="c1">-- ;-)</span>
<span class="kn">end</span>

<span class="kn">lemma</span> <span class="n">αβprod</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">*</span> <span class="n">β</span> <span class="bp">=</span> <span class="bp">-</span><span class="mi">1</span> <span class="o">:=</span> <span class="k">begin</span>
  <span class="n">unfold</span> <span class="n">β</span><span class="o">,</span>
  <span class="n">unfold</span> <span class="n">α</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">mul_sub</span><span class="o">,</span><span class="n">mul_one</span><span class="o">,</span><span class="n">add_div</span><span class="o">,</span><span class="n">mul_add</span><span class="o">,</span><span class="n">add_mul</span><span class="o">,</span><span class="n">add_mul</span><span class="o">],</span> <span class="c1">-- meh</span>
  <span class="n">simp</span> <span class="o">[</span><span class="n">root_5_squared</span><span class="o">],</span>
  <span class="n">norm_num</span><span class="o">,</span> <span class="c1">-- unknown exception while type-checking theorem</span>
<span class="kn">end</span>
</pre></div>

#### [ Kevin Buzzard (May 26 2018 at 15:59)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129106):
<p>I got an achievement -- "unknown exception while type-checking theorem"</p>

#### [ Kevin Buzzard (May 26 2018 at 16:00)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129150):
<p>Why isn't this easy</p>

#### [ Kevin Buzzard (May 26 2018 at 16:00)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129151):
<p>simp wants facts from norm_num but I don't know what facts</p>

#### [ Kevin Buzzard (May 26 2018 at 16:00)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129153):
<p>goal after simp is</p>

#### [ Kevin Buzzard (May 26 2018 at 16:00)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129154):
<div class="codehilite"><pre><span></span><span class="err">⊢</span> <span class="mi">2</span><span class="bp">⁻¹</span> <span class="bp">+</span>
      <span class="o">(</span><span class="n">sqrt</span> <span class="mi">5</span> <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span>
         <span class="o">(</span><span class="bp">-</span><span class="o">(</span><span class="mi">2</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="mi">2</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">+</span> <span class="o">(</span><span class="bp">-</span><span class="o">(</span><span class="mi">2</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="o">(</span><span class="n">sqrt</span> <span class="mi">5</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">))</span> <span class="bp">+</span> <span class="o">(</span><span class="bp">-</span><span class="o">(</span><span class="n">sqrt</span> <span class="mi">5</span> <span class="bp">/</span> <span class="mi">2</span> <span class="bp">*</span> <span class="mi">2</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">+</span> <span class="bp">-</span><span class="o">(</span><span class="n">sqrt</span> <span class="mi">5</span> <span class="bp">/</span> <span class="mi">2</span> <span class="bp">*</span> <span class="o">(</span><span class="n">sqrt</span> <span class="mi">5</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">))))))</span> <span class="bp">=</span>
    <span class="bp">-</span><span class="mi">1</span>
</pre></div>

#### [ Kevin Buzzard (May 26 2018 at 16:01)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129155):
<p>I must have taken a wrong turn</p>

#### [ Kevin Buzzard (May 26 2018 at 16:01)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129162):
<p>I am not a competent driver when it comes to the reals</p>

#### [ Mario Carneiro (May 26 2018 at 16:01)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129164):
<p>simp on its own will not know how to finish the job</p>

#### [ Mario Carneiro (May 26 2018 at 16:01)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129165):
<p>you need <code>ring</code> for all that</p>

#### [ Kevin Buzzard (May 26 2018 at 16:02)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129166):
<p>All I want to do is prove that if alpha is (1+sqrt(5))/2 then alpha^2=alpha+1</p>

#### [ Kevin Buzzard (May 26 2018 at 16:02)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129204):
<p>in R</p>

#### [ Kevin Buzzard (May 26 2018 at 16:02)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129208):
<p>because if that's not easy</p>

#### [ Kevin Buzzard (May 26 2018 at 16:02)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129209):
<p>then what kind of an R have you got here</p>

#### [ Kevin Buzzard (May 26 2018 at 16:02)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129211):
<p>a computer scientist's one but not a mathematican's one</p>

#### [ Kevin Buzzard (May 26 2018 at 16:03)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129219):
<p>I completely understand the other approach</p>

#### [ Kevin Buzzard (May 26 2018 at 16:03)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129222):
<p>but for pedagogical reasons I would like to see this happening in R</p>

#### [ Kevin Buzzard (May 26 2018 at 16:03)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129224):
<p>I can always fall back on Nicholas' construction</p>

#### [ Kevin Buzzard (May 26 2018 at 16:03)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129226):
<p>which indeed I will ultimately fall back on</p>

#### [ Kevin Buzzard (May 26 2018 at 16:04)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129266):
<p>but my goal was not to explain how incredibly difficult it was to even the most trivial things</p>

#### [ Mario Carneiro (May 26 2018 at 16:04)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129267):
<p>I get it</p>

#### [ Mario Carneiro (May 26 2018 at 16:04)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129269):
<p>1 sec</p>

#### [ Kevin Buzzard (May 26 2018 at 16:04)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129270):
<p>Sorry to moan</p>

#### [ Kevin Buzzard (May 26 2018 at 16:04)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129271):
<p>I am giving an important talk</p>

#### [ Kevin Buzzard (May 26 2018 at 16:05)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129275):
<p>and I want it to be _really good_</p>

#### [ Mario Carneiro (May 26 2018 at 16:05)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129280):
<p>I believe it can be done with a short tactic invoke</p>

#### [ Kevin Buzzard (May 26 2018 at 16:05)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129281):
<p>so I want to make a really professional job of it</p>

#### [ Mario Carneiro (May 26 2018 at 16:05)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129285):
<p>I think you can use <code>ring</code> to get it down to an expression involving <code>(sqrt 5)^2</code>, and then use <code>simp</code> and <code>norm_num</code> to finish</p>

#### [ Kevin Buzzard (May 26 2018 at 16:07)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129351):
<p>Removed target and re-installed everything and I'm back up to speed :-)</p>

#### [ Kevin Buzzard (May 26 2018 at 16:07)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129352):
<p>one further step towards professional</p>

#### [ Kevin Buzzard (May 26 2018 at 16:07)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129353):
<p>No more errors</p>

#### [ Kevin Buzzard (May 26 2018 at 16:08)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129390):
<p>aargh that's a lie</p>

#### [ Kevin Buzzard (May 26 2018 at 16:09)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129400):
<p>I will sort this out later -- I've got until 8pm</p>

#### [ Mario Carneiro (May 26 2018 at 16:09)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129403):
<p>what time is it now?</p>

#### [ Kenny Lau (May 26 2018 at 16:09)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129404):
<blockquote>
<p>I will sort this out later -- I've got until 8pm</p>
</blockquote>
<p>what do you need to sort out?</p>

#### [ Kevin Buzzard (May 26 2018 at 16:10)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129448):
<p>I have loads of errors in mathlib</p>

#### [ Kevin Buzzard (May 26 2018 at 16:10)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129450):
<p>I've tried everything</p>

#### [ Kevin Buzzard (May 26 2018 at 16:10)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129451):
<p>I might reboot my computer</p>

#### [ Kevin Buzzard (May 26 2018 at 16:10)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129452):
<p>and recompile all .olean files</p>

#### [ Kenny Lau (May 26 2018 at 16:10)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129453):
<p>are you trying to prove anything?</p>

#### [ Kevin Buzzard (May 26 2018 at 16:10)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129454):
<p>but that's all I can think of</p>

#### [ Kevin Buzzard (May 26 2018 at 16:11)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129457):
<p>I'm tyring to prove that two real numbers are equal</p>

#### [ Kevin Buzzard (May 26 2018 at 16:11)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129460):
<p>I'll push</p>

#### [ Kevin Buzzard (May 26 2018 at 16:12)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129502):
<p><a href="https://github.com/kbuzzard/lean-squares-in-fibonacci/blob/master/src/real_alpha.lean" target="_blank" title="https://github.com/kbuzzard/lean-squares-in-fibonacci/blob/master/src/real_alpha.lean">https://github.com/kbuzzard/lean-squares-in-fibonacci/blob/master/src/real_alpha.lean</a></p>

#### [ Kevin Buzzard (May 26 2018 at 16:12)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129504):
<p>But I want it to look sexy</p>

#### [ Mario Carneiro (May 26 2018 at 16:13)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129512):
<p>you could import <code>data.real.basic</code> instead</p>

#### [ Mario Carneiro (May 26 2018 at 16:22)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129776):
<div class="codehilite"><pre><span></span>import data.real.basic tactic.norm_num tactic.ring

open real
noncomputable theory

prefix `√`:90 := sqrt

def α := (√5 + 1) / 2
def β := 1 - α

theorem root_5_squared : √5 ^ 2 = 5 :=
by simp {discharger := `[norm_num]}

lemma αβsum : α + β = 1 := begin
  unfold α β,
  ring
end

lemma αβprod : α * β = -1 := begin
  unfold α β,
  ring,
  simp {discharger := `[norm_num]},
  ring
end
</pre></div>

#### [ Kenny Lau (May 26 2018 at 16:22)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129779):
<p>what</p>

#### [ Kenny Lau (May 26 2018 at 16:27)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129879):
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">real</span><span class="bp">.</span><span class="n">basic</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">norm_num</span>

<span class="n">noncomputable</span> <span class="n">theory</span>

<span class="kn">prefix</span> <span class="bp">`</span><span class="err">√</span><span class="bp">`</span><span class="o">:</span><span class="mi">90</span> <span class="o">:=</span> <span class="n">real</span><span class="bp">.</span><span class="n">sqrt</span>

<span class="n">def</span> <span class="n">α</span> <span class="o">:=</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">+</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span>
<span class="n">def</span> <span class="n">β</span> <span class="o">:=</span> <span class="mi">1</span> <span class="bp">-</span> <span class="n">α</span>

<span class="kn">theorem</span> <span class="n">root_5_squared</span> <span class="o">:</span> <span class="err">√</span><span class="mi">5</span> <span class="bp">*</span> <span class="err">√</span><span class="mi">5</span> <span class="bp">=</span> <span class="mi">5</span> <span class="o">:=</span>
<span class="n">real</span><span class="bp">.</span><span class="n">mul_self_sqrt</span> <span class="err">$</span> <span class="k">show</span> <span class="o">(</span><span class="mi">0</span><span class="o">:</span><span class="n">ℝ</span><span class="o">)</span> <span class="bp">≤</span> <span class="mi">5</span><span class="o">,</span> <span class="k">by</span> <span class="n">norm_num</span>

<span class="kn">lemma</span> <span class="n">αβsum</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">+</span> <span class="n">β</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="k">show</span> <span class="n">α</span> <span class="bp">+</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">-</span> <span class="n">α</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">,</span>
<span class="k">from</span> <span class="n">add_sub_cancel&#39;_right</span> <span class="n">α</span> <span class="mi">1</span>

<span class="kn">lemma</span> <span class="n">αβprod</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">*</span> <span class="n">β</span> <span class="bp">=</span> <span class="bp">-</span><span class="mi">1</span> <span class="o">:=</span>
<span class="k">calc</span>  <span class="n">α</span> <span class="bp">*</span> <span class="n">β</span>
    <span class="bp">=</span> <span class="o">((</span><span class="mi">1</span> <span class="bp">+</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">-</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">+</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:</span> <span class="n">rfl</span>
<span class="bp">...</span> <span class="bp">=</span> <span class="o">((</span><span class="mi">1</span> <span class="bp">+</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">*</span> <span class="o">((</span><span class="mi">1</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span> <span class="bp">-</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">+</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="n">add_self_div_two</span>
<span class="bp">...</span> <span class="bp">=</span> <span class="o">((</span><span class="mi">1</span> <span class="bp">+</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(((</span><span class="mi">1</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">-</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">+</span> <span class="err">√</span><span class="mi">5</span><span class="o">))</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="n">div_sub_div_same</span>
<span class="bp">...</span> <span class="bp">=</span> <span class="o">((</span><span class="mi">1</span> <span class="bp">+</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">*</span> <span class="o">((</span><span class="mi">1</span> <span class="bp">-</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="n">add_sub_add_left_eq_sub</span>
<span class="bp">...</span> <span class="bp">=</span> <span class="o">((</span><span class="mi">1</span> <span class="bp">+</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">-</span> <span class="err">√</span><span class="mi">5</span><span class="o">))</span> <span class="bp">/</span> <span class="o">(</span><span class="mi">2</span> <span class="bp">*</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="n">div_mul_div</span>
<span class="bp">...</span> <span class="bp">=</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">*</span> <span class="mi">1</span> <span class="bp">-</span> <span class="err">√</span><span class="mi">5</span> <span class="bp">*</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="o">(</span><span class="mi">2</span> <span class="bp">*</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="n">mul_self_sub_mul_self_eq</span>
<span class="bp">...</span> <span class="bp">=</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">*</span> <span class="mi">1</span> <span class="bp">-</span> <span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="o">(</span><span class="mi">2</span> <span class="bp">*</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="n">root_5_squared</span>
<span class="bp">...</span> <span class="bp">=</span> <span class="bp">-</span><span class="mi">1</span> <span class="o">:</span> <span class="k">by</span> <span class="n">norm_num</span>
</pre></div>

#### [ Kenny Lau (May 26 2018 at 16:27)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129880):
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> do you like direct proofs?</p>

#### [ Mario Carneiro (May 26 2018 at 16:28)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129922):
<p>You could also half-cheat and write a plausible-looking sequence of equalities all proven by <code>ring</code></p>

#### [ Kenny Lau (May 26 2018 at 16:28)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129927):
<p>but that defeats the purpose of the presentation</p>

#### [ Kevin Buzzard (May 26 2018 at 16:28)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129928):
<p>This is somehow awful</p>

#### [ Mario Carneiro (May 26 2018 at 16:28)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129929):
<p>it makes it look nice and readable</p>

#### [ Kevin Buzzard (May 26 2018 at 16:28)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129930):
<p>but it's much better than nothing</p>

#### [ Kevin Buzzard (May 26 2018 at 16:28)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129932):
<p>But I don't want it to be readable</p>

#### [ Kevin Buzzard (May 26 2018 at 16:28)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129933):
<p>I want it to be trivial</p>

#### [ Kenny Lau (May 26 2018 at 16:28)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129934):
<p>what</p>

#### [ Kevin Buzzard (May 26 2018 at 16:28)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129935):
<p>An obscure one-liner?</p>

#### [ Mario Carneiro (May 26 2018 at 16:28)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129936):
<p>you didn't like my ring solution?</p>

#### [ Kenny Lau (May 26 2018 at 16:29)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129937):
<p>I thought you're teaching rigour</p>

#### [ Kenny Lau (May 26 2018 at 16:29)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129942):
<p>if you asked me in m1f to prove that alpha * beta = -1, that is exactly what I would write down</p>

#### [ Kenny Lau (May 26 2018 at 16:29)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129944):
<p>minus the <code>by rw ...</code> things</p>

#### [ Kevin Buzzard (May 26 2018 at 16:29)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129945):
<p>I don't understand -- what ring solution?</p>

#### [ Kenny Lau (May 26 2018 at 16:29)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129947):
<p><a href="#narrow/stream/116395-maths/subject/Largest.20Square.20in.20the.20Fibonacci.20Sequence/near/127129776" title="#narrow/stream/116395-maths/subject/Largest.20Square.20in.20the.20Fibonacci.20Sequence/near/127129776">https://leanprover.zulipchat.com/#narrow/stream/116395-maths/subject/Largest.20Square.20in.20the.20Fibonacci.20Sequence/near/127129776</a></p>

#### [ Kenny Lau (May 26 2018 at 16:29)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127129951):
<p>:D</p>

#### [ Kenny Lau (May 26 2018 at 16:30)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130004):
<p>I can't delete my own messages...</p>

#### [ Kevin Buzzard (May 26 2018 at 16:30)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130016):
<p>I want as many solutions as I can</p>

#### [ Kevin Buzzard (May 26 2018 at 16:31)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130024):
<p>And we vote for the most beautiful</p>

#### [ Kenny Lau (May 26 2018 at 16:31)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130026):
<p>beauty is in the eye of the beholder</p>

#### [ Kenny Lau (May 26 2018 at 16:31)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130027):
<p>in this case, you</p>

#### [ Kenny Lau (May 26 2018 at 16:31)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130032):
<p>it's you who is/are presenting</p>

#### [ Mario Carneiro (May 26 2018 at 16:33)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130082):
<p>semi-explicit, only one <code>ring</code></p>
<div class="codehilite"><pre><span></span>lemma αβprod : α * β = -1 := begin
  unfold α β,
  ring,
  rw sqr_sqrt; norm_num
end
</pre></div>

#### [ Kenny Lau (May 26 2018 at 16:33)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130090):
<p>I still don't know what <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> wants</p>

#### [ Kenny Lau (May 26 2018 at 16:33)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130092):
<p>what is the goal of this?</p>

#### [ Reid Barton (May 26 2018 at 16:36)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130208):
<p>or an intermediate one, still using calc</p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">αβsum</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">+</span> <span class="n">β</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">dsimp</span> <span class="o">[</span><span class="n">β</span><span class="o">]</span><span class="bp">;</span> <span class="n">ring</span>

<span class="kn">lemma</span> <span class="n">αβprod</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">*</span> <span class="n">β</span> <span class="bp">=</span> <span class="bp">-</span><span class="mi">1</span> <span class="o">:=</span>
<span class="k">calc</span>  <span class="n">α</span> <span class="bp">*</span> <span class="n">β</span>
    <span class="bp">=</span> <span class="o">((</span><span class="mi">1</span> <span class="bp">+</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">-</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">+</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:</span> <span class="n">rfl</span>
<span class="bp">...</span> <span class="bp">=</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">*</span> <span class="mi">1</span> <span class="bp">-</span> <span class="err">√</span><span class="mi">5</span><span class="err">^</span><span class="mi">2</span><span class="o">)</span> <span class="bp">/</span> <span class="o">(</span><span class="mi">2</span> <span class="bp">*</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:</span> <span class="k">by</span> <span class="n">ring</span>
<span class="bp">...</span> <span class="bp">=</span> <span class="bp">-</span><span class="mi">1</span> <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="n">real</span><span class="bp">.</span><span class="n">sqr_sqrt</span><span class="bp">;</span> <span class="n">norm_num</span>
</pre></div>

#### [ Mario Carneiro (May 26 2018 at 16:37)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130231):
<p>I guess you could write the middle line as <code>(1 - √5^2) / 4</code> for extra clean</p>

#### [ Kenny Lau (May 26 2018 at 16:37)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130235):
<p>low-tech one-liners:</p>

#### [ Kenny Lau (May 26 2018 at 16:37)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130237):
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">real</span><span class="bp">.</span><span class="n">basic</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">norm_num</span>

<span class="n">noncomputable</span> <span class="n">theory</span>

<span class="kn">prefix</span> <span class="bp">`</span><span class="err">√</span><span class="bp">`</span><span class="o">:</span><span class="mi">90</span> <span class="o">:=</span> <span class="n">real</span><span class="bp">.</span><span class="n">sqrt</span>

<span class="n">def</span> <span class="n">α</span> <span class="o">:=</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">+</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span>
<span class="n">def</span> <span class="n">β</span> <span class="o">:=</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">-</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span>

<span class="kn">theorem</span> <span class="n">root_5_squared</span> <span class="o">:</span> <span class="err">√</span><span class="mi">5</span> <span class="bp">*</span> <span class="err">√</span><span class="mi">5</span> <span class="bp">=</span> <span class="mi">5</span> <span class="o">:=</span>
<span class="n">real</span><span class="bp">.</span><span class="n">mul_self_sqrt</span> <span class="err">$</span> <span class="k">show</span> <span class="o">(</span><span class="mi">0</span><span class="o">:</span><span class="n">ℝ</span><span class="o">)</span> <span class="bp">≤</span> <span class="mi">5</span><span class="o">,</span> <span class="k">by</span> <span class="n">norm_num</span>

<span class="kn">lemma</span> <span class="n">αβsum</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">+</span> <span class="n">β</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">α</span><span class="o">,</span> <span class="n">β</span><span class="o">,</span> <span class="err">←</span> <span class="n">add_div</span><span class="o">]</span><span class="bp">;</span> <span class="n">simp</span>

<span class="kn">lemma</span> <span class="n">αβprod</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">*</span> <span class="n">β</span> <span class="bp">=</span> <span class="bp">-</span><span class="mi">1</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">α</span><span class="o">,</span> <span class="n">β</span><span class="o">,</span> <span class="n">div_mul_div</span><span class="o">,</span> <span class="err">←</span> <span class="n">mul_self_sub_mul_self_eq</span><span class="o">,</span> <span class="n">root_5_squared</span><span class="o">]</span><span class="bp">;</span> <span class="n">norm_num</span>
</pre></div>

#### [ Kenny Lau (May 26 2018 at 16:38)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130280):
<p>(is changing the definition allowed?)</p>

#### [ Mario Carneiro (May 26 2018 at 16:40)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130356):
<div class="codehilite"><pre><span></span>lemma αβprod : α * β = -1 :=
calc ((√5 + 1) / 2) * (1 - (√5 + 1) / 2)
    = (1 - √5^2) / 4 : by ring
... = -1 : by rw sqr_sqrt; norm_num
</pre></div>

#### [ Kenny Lau (May 26 2018 at 16:40)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130362):
<p>not very different from the one above...</p>

#### [ Mario Carneiro (May 26 2018 at 16:41)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130365):
<p>it's based on reid's</p>

#### [ Kenny Lau (May 26 2018 at 16:42)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130416):
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">real</span><span class="bp">.</span><span class="n">basic</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">norm_num</span>

<span class="n">noncomputable</span> <span class="n">theory</span>

<span class="kn">prefix</span> <span class="bp">`</span><span class="err">√</span><span class="bp">`</span><span class="o">:</span><span class="mi">90</span> <span class="o">:=</span> <span class="n">real</span><span class="bp">.</span><span class="n">sqrt</span>

<span class="n">def</span> <span class="n">α</span> <span class="o">:=</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">+</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span>
<span class="n">def</span> <span class="n">β</span> <span class="o">:=</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">-</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span>

<span class="kn">lemma</span> <span class="n">sqrt_5_mul_self</span> <span class="o">:</span> <span class="err">√</span><span class="mi">5</span> <span class="bp">*</span> <span class="err">√</span><span class="mi">5</span> <span class="bp">=</span> <span class="mi">5</span> <span class="o">:=</span>
<span class="n">real</span><span class="bp">.</span><span class="n">mul_self_sqrt</span> <span class="err">$</span> <span class="k">show</span> <span class="o">(</span><span class="mi">0</span><span class="o">:</span><span class="n">ℝ</span><span class="o">)</span> <span class="bp">≤</span> <span class="mi">5</span><span class="o">,</span> <span class="k">by</span> <span class="n">norm_num</span>

<span class="kn">lemma</span> <span class="n">αβsum</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">+</span> <span class="n">β</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">α</span><span class="o">,</span> <span class="n">β</span><span class="o">,</span> <span class="n">add_div</span><span class="o">,</span> <span class="n">neg_div</span><span class="o">,</span> <span class="bp">-</span><span class="n">one_div_eq_inv</span><span class="o">]</span>

<span class="kn">lemma</span> <span class="n">αβprod</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">*</span> <span class="n">β</span> <span class="bp">=</span> <span class="bp">-</span><span class="mi">1</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">α</span><span class="o">,</span> <span class="n">β</span><span class="o">,</span> <span class="n">div_mul_div</span><span class="o">,</span> <span class="n">add_mul</span><span class="o">,</span> <span class="n">mul_add</span><span class="o">,</span> <span class="n">sqrt_5_mul_self</span><span class="o">]</span><span class="bp">;</span> <span class="n">norm_num</span>
</pre></div>

#### [ Reid Barton (May 26 2018 at 16:42)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130417):
<p>And I just took Kenny's long calc and deleted all the intermediate steps that could be handled by <code>ring</code>.</p>

#### [ Reid Barton (May 26 2018 at 16:43)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130427):
<p>I like calc here because the fact <code>α * β = -1</code> is actually not immediately obvious to a human, and you'd write out about the same number of intermediate steps to explain the calculation to a human.</p>

#### [ Kenny Lau (May 26 2018 at 16:43)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130428):
<p>still avoiding ring as usual :P</p>

#### [ Kenny Lau (May 26 2018 at 16:44)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130429):
<p>I like my new definition</p>

#### [ Kenny Lau (May 26 2018 at 16:44)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130466):
<p>who likes my new definition</p>

#### [ Mario Carneiro (May 26 2018 at 16:44)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130472):
<p>I think your definition is nicer if you are going to define both alpha and beta</p>

#### [ Mario Carneiro (May 26 2018 at 16:45)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130485):
<p>In a human proof I would probably have an additional step in the middle with all four terms and cross out the cross terms</p>

#### [ Kenny Lau (May 26 2018 at 16:46)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130527):
<p>that's what I did with the <code>add_mul</code> and <code>mul_add</code></p>

#### [ Kenny Lau (May 26 2018 at 16:46)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130532):
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">real</span><span class="bp">.</span><span class="n">basic</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">norm_num</span>

<span class="n">noncomputable</span> <span class="n">theory</span>

<span class="kn">prefix</span> <span class="bp">`</span><span class="err">√</span><span class="bp">`</span><span class="o">:</span><span class="mi">90</span> <span class="o">:=</span> <span class="n">real</span><span class="bp">.</span><span class="n">sqrt</span>

<span class="n">def</span> <span class="n">α</span> <span class="o">:=</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">+</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span>
<span class="n">def</span> <span class="n">β</span> <span class="o">:=</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">-</span> <span class="err">√</span><span class="mi">5</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span>

<span class="kn">lemma</span> <span class="n">sqrt_5_mul_self</span> <span class="o">:</span> <span class="err">√</span><span class="mi">5</span> <span class="bp">*</span> <span class="err">√</span><span class="mi">5</span> <span class="bp">=</span> <span class="mi">5</span> <span class="o">:=</span>
<span class="n">real</span><span class="bp">.</span><span class="n">mul_self_sqrt</span> <span class="err">$</span> <span class="k">show</span> <span class="o">(</span><span class="mi">0</span><span class="o">:</span><span class="n">ℝ</span><span class="o">)</span> <span class="bp">≤</span> <span class="mi">5</span><span class="o">,</span> <span class="k">by</span> <span class="n">norm_num1</span>

<span class="kn">lemma</span> <span class="n">αβsum</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">+</span> <span class="n">β</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">α</span><span class="o">,</span> <span class="n">β</span><span class="o">,</span> <span class="n">add_div</span><span class="o">,</span> <span class="n">neg_div</span><span class="o">,</span> <span class="bp">-</span><span class="n">one_div_eq_inv</span><span class="o">]</span>

<span class="kn">lemma</span> <span class="n">αβprod</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">*</span> <span class="n">β</span> <span class="bp">=</span> <span class="bp">-</span><span class="mi">1</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">α</span><span class="o">,</span> <span class="n">β</span><span class="o">,</span> <span class="n">div_mul_div</span><span class="o">,</span> <span class="n">add_mul</span><span class="o">,</span> <span class="n">mul_add</span><span class="o">,</span> <span class="n">sqrt_5_mul_self</span><span class="o">]</span><span class="bp">;</span> <span class="n">norm_num1</span>
</pre></div>

#### [ Kenny Lau (May 26 2018 at 16:46)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130535):
<p>low-tech :P</p>

#### [ Mario Carneiro (May 26 2018 at 16:46)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130536):
<p>A long <code>rw</code> proof is hard to read though</p>

#### [ Mario Carneiro (May 26 2018 at 16:47)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130537):
<p>unless you step through it</p>

#### [ Kenny Lau (May 26 2018 at 16:47)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130542):
<p>I thought <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> wants a one-liner</p>

#### [ Mario Carneiro (May 26 2018 at 16:47)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130543):
<p>and you can't even do that for a simp proof</p>

#### [ Mario Carneiro (May 26 2018 at 16:47)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130544):
<p>I think we have that already</p>

#### [ Mario Carneiro (May 26 2018 at 16:48)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130552):
<div class="codehilite"><pre><span></span>lemma αβprod : α * β = -1 :=
by unfold α β; ring; simp {discharger := `[norm_num]}; ring
</pre></div>

#### [ Mario Carneiro (May 26 2018 at 16:51)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130655):
<p>ooh, with this modification to <code>norm_num</code>:</p>
<div class="codehilite"><pre><span></span>meta def norm_num (loc : parse location) : tactic unit :=
let t := orelse&#39; (norm_num1 loc) $
  simp_core {} (norm_num1 (interactive.loc.ns [none])) ff [] [] loc in
t &gt;&gt; repeat t
</pre></div>


<p>you can get away with just <code>by unfold α β; ring; norm_num</code></p>

#### [ Kevin Buzzard (May 26 2018 at 17:01)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130933):
<p>I just want to explain to kids who don't know any better, what maths is</p>

#### [ Kenny Lau (May 26 2018 at 17:02)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130973):
<p>then why wouldn't you write down every step</p>

#### [ Kevin Buzzard (May 26 2018 at 17:02)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130974):
<p>All of this stuff is great</p>

#### [ Kevin Buzzard (May 26 2018 at 17:02)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130982):
<p>Because what is a step when you are 16 years old?</p>

#### [ Kevin Buzzard (May 26 2018 at 17:02)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130986):
<p>You have never thought about steps</p>

#### [ Kevin Buzzard (May 26 2018 at 17:03)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130992):
<p>You just answer the question</p>

#### [ Mario Carneiro (May 26 2018 at 17:03)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130993):
<p>I presume that will be part of the talk</p>

#### [ Mario Carneiro (May 26 2018 at 17:03)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127130997):
<p>at least, the idea that math is built on axioms and rules</p>

#### [ Mario Carneiro (May 26 2018 at 17:03)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127131002):
<p>and you have to use those rules to prove things</p>

#### [ Mario Carneiro (May 26 2018 at 17:03)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127131004):
<p>the sense of "step" is not far from this</p>

#### [ Kevin Buzzard (May 26 2018 at 17:09)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127131186):
<p>Yes exactly</p>

#### [ Kevin Buzzard (May 26 2018 at 17:09)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127131190):
<p>I will be here at 8pm UK time (i.e. now + 3h50m) asking more stupid questions about real numbers</p>

#### [ Nicholas Scheel (May 26 2018 at 18:37)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127133670):
<p><code>lemma α_sqr : α^2 = α + 1 := rfl</code> in ℤα ;)</p>

#### [ Kenny Lau (May 26 2018 at 18:37)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127133673):
<p>but he doesn't want to use Zalpha in the presentation lol</p>

#### [ Nicholas Scheel (May 26 2018 at 18:38)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127133714):
<p>btw I proved point 3, should I leave it in Zalpha or move it to a <code>point3.lean</code>?</p>

#### [ Kenny Lau (May 26 2018 at 18:38)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127133717):
<p>move it to <code>point3.lean</code></p>

#### [ Nicholas Scheel (May 26 2018 at 18:40)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127133772):
<p>done!</p>

#### [ Nicholas Scheel (May 26 2018 at 18:43)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127133829):
<p>I tried and failed to prove that it is an integral domain, got any tips?</p>

#### [ Kenny Lau (May 26 2018 at 18:44)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127133837):
<p>where are you stuck in?</p>

#### [ Nicholas Scheel (May 26 2018 at 18:49)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127133987):
<p>it’s something like<br>
<code>a * c + b * d = 0 AND a * d + b * c + b * d = 0 IMPLIES THAT (a, b) = 0 OR (c, d) = 0</code></p>

#### [ Nicholas Scheel (May 26 2018 at 18:52)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127134063):
<p>I understand that it’s equivalent to the fact that α is not an integer, and equivalent to the fact that 1 and α are linearly independent, but I don’t see how to do that from the definition of multiplication</p>

#### [ Johan Commelin (May 26 2018 at 19:08)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127134505):
<p>Well, you could define an embedding of Zalpha into R.</p>

#### [ Johan Commelin (May 26 2018 at 19:09)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127134510):
<p>I think we now have about a dozen proofs of why that works <span class="emoji emoji-1f609" title="wink">:wink:</span></p>

#### [ Kenny Lau (May 26 2018 at 19:09)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127134511):
<p>proving that it is injective needs work also</p>

#### [ Johan Commelin (May 26 2018 at 19:10)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127134556):
<p>That is the linear independence of 1 and alpha</p>

#### [ Nicholas Scheel (May 26 2018 at 19:15)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127134666):
<p>sure, why not ;D</p>

#### [ Kenny Lau (May 26 2018 at 19:15)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127134669):
<p>oh right you need to prove that sqrt(5) is irrational</p>

#### [ Kevin Buzzard (May 26 2018 at 23:09)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127140546):
<p>Yeah, that's the analogue of showing that if <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>z</mi><mo>=</mo><mi>x</mi><mo>+</mo><mi>i</mi><mi>y</mi></mrow><annotation encoding="application/x-tex">z=x+iy</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.65952em;"></span><span class="strut bottom" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.04398em;">z</span><span class="mrel">=</span><span class="mord mathit">x</span><span class="mbin">+</span><span class="mord mathit">i</span><span class="mord mathit" style="margin-right:0.03588em;">y</span></span></span></span> is a complex number which isn't zero, then you can divide by <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>z</mi></mrow><annotation encoding="application/x-tex">z</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.04398em;">z</span></span></span></span>, by multiplying by <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mrow><mi>z</mi></mrow><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">\overline{z}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.63056em;"></span><span class="strut bottom" style="height:0.63056em;vertical-align:0em;"></span><span class="base"><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.63056em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathit" style="margin-right:0.04398em;">z</span></span></span><span style="top:-3.55056em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span></span></span></span> and then dividing by the non-zero real <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>z</mi><mover accent="true"><mrow><mi>z</mi></mrow><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">z\overline{z}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.63056em;"></span><span class="strut bottom" style="height:0.63056em;vertical-align:0em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.04398em;">z</span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.63056em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathit" style="margin-right:0.04398em;">z</span></span></span><span style="top:-3.55056em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span></span></span></span>.</p>

#### [ Kevin Buzzard (May 26 2018 at 23:10)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127140598):
<p>In this instance it boils down to proving that the product of <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>+</mo><mi>b</mi><mi mathvariant="normal">√</mi><mrow><mn>5</mn></mrow></mrow><annotation encoding="application/x-tex">a+b\surd{5}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.8em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.2em;"></span><span class="base"><span class="mord mathit">a</span><span class="mbin">+</span><span class="mord mathit">b</span><span class="mord mathrm">√</span><span class="mord"><span class="mord mathrm">5</span></span></span></span></span> and its Galois conjugate <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>−</mo><mi>b</mi><mi mathvariant="normal">√</mi><mrow><mn>5</mn></mrow></mrow><annotation encoding="application/x-tex">a-b\surd{5}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.8em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.2em;"></span><span class="base"><span class="mord mathit">a</span><span class="mbin">−</span><span class="mord mathit">b</span><span class="mord mathrm">√</span><span class="mord"><span class="mord mathrm">5</span></span></span></span></span> is non-zero if at least one of <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base"><span class="mord mathit">a</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.69444em;vertical-align:0em;"></span><span class="base"><span class="mord mathit">b</span></span></span></span> is non-zero</p>

#### [ Kevin Buzzard (May 26 2018 at 23:10)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127140600):
<p><code>\surd</code>for square roots in maths mode, not <code>\sqrt</code></p>

#### [ Kevin Buzzard (May 26 2018 at 23:10)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127140601):
<p>So as Kenny says it's precisely the irrationality of <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">√</mi><mn>5</mn></mrow><annotation encoding="application/x-tex">\surd 5</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.8em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.2em;"></span><span class="base"><span class="mord mathrm">√</span><span class="mord mathrm">5</span></span></span></span>, or, more precisely, it's the statement that no rational number squared is <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>5</mn></mrow><annotation encoding="application/x-tex">5</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.64444em;vertical-align:0em;"></span><span class="base"><span class="mord mathrm">5</span></span></span></span> (rather than any statement about real numbers not being rational)</p>

#### [ Kevin Buzzard (May 26 2018 at 23:10)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127140603):
<p>So one way to do it is to prove that if <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>+</mo><mi>b</mi><mi mathvariant="normal">√</mi><mn>5</mn></mrow><annotation encoding="application/x-tex">a+b\surd 5</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.8em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.2em;"></span><span class="base"><span class="mord mathit">a</span><span class="mbin">+</span><span class="mord mathit">b</span><span class="mord mathrm">√</span><span class="mord mathrm">5</span></span></span></span> is non-zero then the rational <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>a</mi><mn>2</mn></msup><mo>−</mo><mn>5</mn><msup><mi>b</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">a^2-5b^2</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.8141079999999999em;"></span><span class="strut bottom" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="base"><span class="mord"><span class="mord mathit">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">2</span></span></span></span></span></span></span></span><span class="mbin">−</span><span class="mord mathrm">5</span><span class="mord"><span class="mord mathit">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">2</span></span></span></span></span></span></span></span></span></span></span> is non-zero and then use that a non-zero rational has an inverse.</p>

#### [ Kevin Buzzard (May 26 2018 at 23:15)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127140700):
<p>I've just been telling some kids about Lean. Some of them got into it. We were doing induction on nat and on or and on false and stuff</p>

#### [ Kevin Buzzard (May 26 2018 at 23:15)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127140709):
<p>I did some Fibonacci stuff</p>

#### [ Kevin Buzzard (May 26 2018 at 23:15)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127140710):
<p>and some logic stuff</p>

#### [ Kevin Buzzard (May 26 2018 at 23:15)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127140711):
<p>and we looked at why induction was a theorem in Lean</p>

#### [ Nicholas Scheel (May 26 2018 at 23:28)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127141063):
<blockquote>
<p>Well, you could define an embedding of Zalpha into R.</p>
</blockquote>
<p>Thanks <span class="user-mention" data-user-id="112680">@Johan Commelin</span> I think that worked ;) <a href="https://github.com/kbuzzard/lean-squares-in-fibonacci/blob/master/src/Zalpha_real.lean" target="_blank" title="https://github.com/kbuzzard/lean-squares-in-fibonacci/blob/master/src/Zalpha_real.lean">https://github.com/kbuzzard/lean-squares-in-fibonacci/blob/master/src/Zalpha_real.lean</a><br>
again, ugly code, but it typechecks</p>

#### [ Nicholas Scheel (May 26 2018 at 23:36)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127141257):
<p>and thanks <span class="user-mention" data-user-id="110044">@Chris Hughes</span> for the alpha squared proof, such a time saver! :D</p>

#### [ Kenny Lau (May 27 2018 at 00:41)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127142885):
<p>hmm, I wonder if we can shorten it</p>

#### [ Kenny Lau (May 27 2018 at 00:58)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127143270):
<p><span class="user-mention" data-user-id="111651">@Nicholas Scheel</span> do you mind if I edit your files?</p>

#### [ Nicholas Scheel (May 27 2018 at 00:58)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127143309):
<p>go for it!</p>

#### [ Nicholas Scheel (May 27 2018 at 00:58)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127143311):
<p>I think I’m done for now, have to spend time on other things now</p>

#### [ Nicholas Scheel (May 27 2018 at 00:59)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127143313):
<p>but I’m curious: what is norm_num? I haven’t found much documentation for it</p>

#### [ Kevin Buzzard (May 27 2018 at 01:03)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127143424):
<p>It proves identities between explicit real numbers</p>

#### [ Kevin Buzzard (May 27 2018 at 01:03)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127143425):
<p>And inequalities etc</p>

#### [ Nicholas Scheel (May 27 2018 at 01:05)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127143472):
<p>cool <span class="emoji emoji-1f642" title="simple smile">:simple_smile:</span></p>

#### [ Kenny Lau (May 27 2018 at 01:16)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127143761):
<div class="codehilite"><pre><span></span><span class="kn">theorem</span> <span class="n">α_fib</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">α</span><span class="err">^</span><span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">⟨</span><span class="n">Fib</span> <span class="n">n</span><span class="o">,</span> <span class="n">Fib</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span><span class="bp">⟩</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">induction</span> <span class="n">n</span> <span class="k">with</span> <span class="n">n</span> <span class="n">ih</span><span class="o">,</span> <span class="o">{</span> <span class="n">refl</span> <span class="o">},</span>
  <span class="n">change</span> <span class="n">α</span><span class="bp">*</span><span class="n">α</span><span class="err">^</span><span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">⟨</span><span class="n">Fib</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">),</span> <span class="n">Fib</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">2</span><span class="o">)</span><span class="bp">⟩</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">ih</span><span class="o">,</span> <span class="n">apply</span> <span class="n">ext</span><span class="bp">;</span> <span class="n">simp</span> <span class="o">[</span><span class="bp">-</span><span class="n">add_comm</span><span class="o">],</span>
  <span class="n">exact</span> <span class="n">int</span><span class="bp">.</span><span class="n">coe_nat_inj&#39;</span><span class="bp">.</span><span class="mi">2</span> <span class="n">rfl</span>
<span class="kn">end</span>
</pre></div>

#### [ Kenny Lau (May 27 2018 at 01:16)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127143762):
<p>I golfed off a lot of lines from here</p>

#### [ Nicholas Scheel (May 27 2018 at 01:18)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127143810):
<p>that’s great <span class="emoji emoji-1f603" title="smiley">:smiley:</span></p>

#### [ Kenny Lau (May 27 2018 at 01:20)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127143872):
<div class="codehilite"><pre><span></span><span class="kn">theorem</span> <span class="n">α_fib</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">α</span><span class="err">^</span><span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">⟨</span><span class="n">Fib</span> <span class="n">n</span><span class="o">,</span> <span class="n">Fib</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span><span class="bp">⟩</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">induction</span> <span class="n">n</span> <span class="k">with</span> <span class="n">n</span> <span class="n">ih</span><span class="o">,</span> <span class="o">{</span> <span class="n">refl</span> <span class="o">},</span>
  <span class="n">change</span> <span class="n">α</span><span class="bp">*</span><span class="n">α</span><span class="err">^</span><span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">⟨</span><span class="n">Fib</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">),</span> <span class="n">Fib</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">2</span><span class="o">)</span><span class="bp">⟩</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">ih</span><span class="o">,</span> <span class="n">apply</span> <span class="n">ext</span><span class="bp">;</span> <span class="n">simp</span> <span class="o">[</span><span class="bp">-</span><span class="n">add_comm</span><span class="o">,</span> <span class="n">Fib</span><span class="bp">.</span><span class="n">is_fib</span><span class="o">]</span>
<span class="kn">end</span>
</pre></div>

#### [ Nicholas Scheel (May 27 2018 at 01:22)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127143928):
<p>🤯 <code>change</code> sounds amazing, funny that I hadn’t run across it before</p>

#### [ Kenny Lau (May 27 2018 at 01:23)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127143935):
<p>do you realize that the <code>show</code> in tactic mode is different from the <code>show</code> in term mode</p>

#### [ Kenny Lau (May 27 2018 at 01:23)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127143939):
<p>and then <code>change</code> is a generalization of that, that allows you to change the hypotheses as well</p>

#### [ Nicholas Scheel (May 27 2018 at 01:29)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127144089):
<p>I haven’t used show in term mode, what’s the difference?</p>

#### [ Kenny Lau (May 27 2018 at 01:30)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127144135):
<p>well there's not a huge difference</p>

#### [ Reid Barton (May 27 2018 at 01:38)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127144332):
<p>I haven't used <code>show</code> in tactic mode!</p>

#### [ Nicholas Scheel (May 27 2018 at 01:39)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127144344):
<p>that moment when computer programs understand analogies better than we expect <span class="emoji emoji-1f609" title="wink">:wink:</span></p>

#### [ Kenny Lau (May 27 2018 at 03:27)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127147117):
<p><span class="user-mention" data-user-id="111651">@Nicholas Scheel</span> I hope you don't mind</p>

#### [ Kenny Lau (May 27 2018 at 03:28)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127147159):
<p><a href="https://github.com/kbuzzard/lean-squares-in-fibonacci/commit/7ba981070187c25d322b0e8de14021ec7214ddb9#diff-44f4839567c6f9e6617b4e04801b926a" target="_blank" title="https://github.com/kbuzzard/lean-squares-in-fibonacci/commit/7ba981070187c25d322b0e8de14021ec7214ddb9#diff-44f4839567c6f9e6617b4e04801b926a">https://github.com/kbuzzard/lean-squares-in-fibonacci/commit/7ba981070187c25d322b0e8de14021ec7214ddb9#diff-44f4839567c6f9e6617b4e04801b926a</a></p>

#### [ Kenny Lau (May 27 2018 at 03:33)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127147257):
<p>TODO: incorporate <a href="https://github.com/leanprover/mathlib/blob/master/number_theory/pell.lean#L421" target="_blank" title="https://github.com/leanprover/mathlib/blob/master/number_theory/pell.lean#L421">this</a></p>

#### [ Nicholas Scheel (May 27 2018 at 03:42)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127147478):
<p>not at all, that’s cool! thanks!</p>

#### [ Kenny Lau (May 27 2018 at 04:00)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127147926):
<p><a href="https://github.com/kbuzzard/lean-squares-in-fibonacci/commit/9106996916442e8f17239323d5a6cbe3e236efd3#diff-44f4839567c6f9e6617b4e04801b926a" target="_blank" title="https://github.com/kbuzzard/lean-squares-in-fibonacci/commit/9106996916442e8f17239323d5a6cbe3e236efd3#diff-44f4839567c6f9e6617b4e04801b926a">https://github.com/kbuzzard/lean-squares-in-fibonacci/commit/9106996916442e8f17239323d5a6cbe3e236efd3#diff-44f4839567c6f9e6617b4e04801b926a</a></p>

#### [ Kenny Lau (May 27 2018 at 04:00)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127147927):
<p>done</p>

#### [ Chris Hughes (May 27 2018 at 13:56)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162054):
<p>I'm working on polys. I've just done the remainder theorem.</p>

#### [ Kevin Buzzard (May 27 2018 at 14:01)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162168):
<p>Polys in 1 variable need to go in mathlib so perhaps keep this in mind</p>

#### [ Kevin Buzzard (May 27 2018 at 14:02)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162208):
<p>When I write code now, I realise that sometimes it's code for me and sometimes it's stuff I think should be in mathlib</p>

#### [ Kevin Buzzard (May 27 2018 at 14:02)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162209):
<p>And I've started separating the two</p>

#### [ Kevin Buzzard (May 27 2018 at 14:09)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162356):
<p>I think this is an interesting consequence of proving "random" things like 144 being the largest square in the Fibonacci sequence.</p>

#### [ Kevin Buzzard (May 27 2018 at 14:10)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162399):
<p>I am pretty sure (am I right <span class="user-mention" data-user-id="110049">@Mario Carneiro</span> ?) that mathlib has no interest in keeping and maintaining a proof of the curiosity that 144 is the largest square in the Fibonacci sequence.</p>

#### [ Kevin Buzzard (May 27 2018 at 14:10)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162401):
<p>However</p>

#### [ Kevin Buzzard (May 27 2018 at 14:11)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162403):
<p>When a mathematician looks at the proof, they expect to have to work in some areas</p>

#### [ Kevin Buzzard (May 27 2018 at 14:11)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162408):
<p>but conversely they expect some "standard tools" to be there</p>

#### [ Kevin Buzzard (May 27 2018 at 14:11)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162413):
<p>and this can be used to guide development of mathlib</p>

#### [ Kevin Buzzard (May 27 2018 at 14:11)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162414):
<p>For example, at some point someone is going to need quadratic reciprocity</p>

#### [ Kevin Buzzard (May 27 2018 at 14:12)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162453):
<p>and we will end up developing some of the tools needed to prove QR in this 144 proof</p>

#### [ Kevin Buzzard (May 27 2018 at 14:12)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162454):
<p>and I think there's a strong argument for QR going into mathlib as it's one of the jewels in the crown of mathematics</p>

#### [ Kevin Buzzard (May 27 2018 at 14:13)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162456):
<p>[as well as being a special case of Langlands Reciprocity ;-) ]</p>

#### [ Kevin Buzzard (May 27 2018 at 14:13)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162464):
<p>In the 144 proof we don't need full QR</p>

#### [ Kevin Buzzard (May 27 2018 at 14:13)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162465):
<p>but we need Gauss' Lemma and Euler's Criterion</p>

#### [ Kevin Buzzard (May 27 2018 at 14:14)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162502):
<p>so we're starting along the road to QR with these.</p>

#### [ Kenny Lau (May 27 2018 at 14:29)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162963):
<div class="codehilite"><pre><span></span><span class="kn">instance</span> <span class="o">:</span> <span class="n">decidable_linear_ordered_comm_ring</span> <span class="bp">ℤ</span><span class="n">α</span> <span class="o">:=</span>
</pre></div>

#### [ Kenny Lau (May 27 2018 at 14:29)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162964):
<p><a href="https://github.com/kbuzzard/lean-squares-in-fibonacci/blob/master/src/Zalpha_Zsqrt5.lean#L38" target="_blank" title="https://github.com/kbuzzard/lean-squares-in-fibonacci/blob/master/src/Zalpha_Zsqrt5.lean#L38">https://github.com/kbuzzard/lean-squares-in-fibonacci/blob/master/src/Zalpha_Zsqrt5.lean#L38</a></p>

#### [ Kenny Lau (May 27 2018 at 14:29)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127162966):
<p><span class="user-mention" data-user-id="111651">@Nicholas Scheel</span> <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> I find embedding into <code>ℤ√5</code> a better idea than embedding into the reals</p>

#### [ Kevin Buzzard (May 27 2018 at 14:43)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163332):
<p>Mario's <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mrow><mi mathvariant="double-struck">Z</mi></mrow><mo>[</mo><mi mathvariant="normal">√</mi><mrow><mn>5</mn></mrow><mo>]</mo></mrow><annotation encoding="application/x-tex">\mathbb{Z}[\surd{5}]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.8em;"></span><span class="strut bottom" style="height:1.05em;vertical-align:-0.25em;"></span><span class="base"><span class="mord"><span class="mord mathbb">Z</span></span><span class="mopen">[</span><span class="mord mathrm">√</span><span class="mord"><span class="mord mathrm">5</span></span><span class="mclose">]</span></span></span></span>?</p>

#### [ Kevin Buzzard (May 27 2018 at 14:43)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163335):
<p>(why doesn't sqrt work in LaTeX?)</p>

#### [ Kevin Buzzard (May 27 2018 at 14:43)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163337):
<p>He proved it was an ID?</p>

#### [ Kenny Lau (May 27 2018 at 14:45)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163378):
<blockquote>
<p>He proved it was an ID?</p>
</blockquote>
<p>yes</p>

#### [ Kenny Lau (May 27 2018 at 14:45)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163382):
<p>(althought I didn't use that)</p>

#### [ Kenny Lau (May 27 2018 at 14:45)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163386):
<p>(I used norm to prove that Zalpha is ID)</p>

#### [ Kevin Buzzard (May 27 2018 at 14:45)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163387):
<p>So how do you deduce ID from norm? You need that if norm is 0 then term is 0, right?</p>

#### [ Kenny Lau (May 27 2018 at 14:46)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163388):
<p>yes</p>

#### [ Kenny Lau (May 27 2018 at 14:46)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163425):
<p>which is tantamount to proving that sqrt5 is irrational</p>

#### [ Kevin Buzzard (May 27 2018 at 14:46)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163429):
<p>and so you need to prove irrationality#</p>

#### [ Kevin Buzzard (May 27 2018 at 14:46)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163430):
<p>right</p>

#### [ Kenny Lau (May 27 2018 at 14:46)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163431):
<p>on hindsight I should have used the embedding</p>

#### [ Kenny Lau (May 27 2018 at 14:46)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163433):
<p>but I still want to have the norm</p>

#### [ Kevin Buzzard (May 27 2018 at 14:46)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163434):
<p>I was suggesting that Mario might have done that already</p>

#### [ Kenny Lau (May 27 2018 at 14:46)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163435):
<p>the norm is useful</p>

#### [ Kevin Buzzard (May 27 2018 at 14:46)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163436):
<p>Sure</p>

#### [ Kenny Lau (May 27 2018 at 14:46)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163438):
<p>sure</p>

#### [ Kevin Buzzard (May 27 2018 at 14:46)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163439):
<p>And your norm commutes with Mario's</p>

#### [ Kevin Buzzard (May 27 2018 at 14:47)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163445):
<p>so you could have deduced your norm result from Mario's</p>

#### [ Kevin Buzzard (May 27 2018 at 14:47)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163447):
<p>and this would have saved you the trouble of proving irrationality of sqrt(5)</p>

#### [ Kenny Lau (May 27 2018 at 14:47)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163448):
<p>you see, in my embedding, I multiply the "real value" by 2</p>

#### [ Kenny Lau (May 27 2018 at 14:47)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163449):
<p>because alpha is not an element of Z[sqrt5]</p>

#### [ Kenny Lau (May 27 2018 at 14:47)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163450):
<blockquote>
<p>and this would have saved you the trouble of proving irrationality of sqrt(5)</p>
</blockquote>
<p>I know</p>

#### [ Kenny Lau (May 27 2018 at 14:48)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163488):
<p>I'll do it when I finish lunch</p>

#### [ Kevin Buzzard (May 27 2018 at 14:48)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163491):
<p>but I guess it's nice to check it every now and then</p>

#### [ Nicholas Scheel (May 27 2018 at 14:53)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163597):
<p>that’s cool! I’ll have to see how Zsqrt is decidable, I just avoided it because it’s irrational xD</p>

#### [ Nicholas Scheel (May 27 2018 at 14:55)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127163646):
<p>oh duh: <code>def sq_le (a c b d : ℕ) : Prop := c*a*a ≤ d*b*b</code></p>

#### [ Kenny Lau (May 27 2018 at 17:35)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127168247):
<p>done</p>

#### [ Kenny Lau (May 27 2018 at 17:35)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127168250):
<p>now the long proof that 5 is irrational is gone</p>

#### [ Kenny Lau (May 27 2018 at 17:50)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127168635):
<div class="codehilite"><pre><span></span><span class="kn">theorem</span> <span class="n">char_eq</span> <span class="o">(</span><span class="n">z</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">z</span> <span class="bp">*</span> <span class="n">z</span> <span class="bp">-</span> <span class="n">z</span> <span class="bp">-</span> <span class="mi">1</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span> <span class="n">z</span> <span class="bp">=</span> <span class="n">α</span> <span class="bp">∨</span> <span class="n">z</span> <span class="bp">=</span> <span class="n">β</span> <span class="o">:=</span>
<span class="k">have</span> <span class="n">H1</span> <span class="o">:</span> <span class="o">(</span><span class="n">z</span> <span class="bp">-</span> <span class="n">α</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">z</span> <span class="bp">-</span> <span class="n">β</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">,</span>
  <span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="err">←</span> <span class="n">H</span><span class="o">,</span> <span class="n">α</span><span class="o">,</span> <span class="n">β</span><span class="o">]</span><span class="bp">;</span> <span class="n">ring</span><span class="o">,</span>
<span class="o">(</span><span class="n">eq_zero_or_eq_zero_of_mul_eq_zero</span> <span class="n">H1</span><span class="o">)</span><span class="bp">.</span><span class="n">cases_on</span>
  <span class="o">(</span><span class="n">or</span><span class="bp">.</span><span class="n">inl</span> <span class="err">∘</span> <span class="n">eq_of_sub_eq_zero</span><span class="o">)</span>
  <span class="o">(</span><span class="n">or</span><span class="bp">.</span><span class="n">inr</span> <span class="err">∘</span> <span class="n">eq_of_sub_eq_zero</span><span class="o">)</span>
</pre></div>

#### [ Kenny Lau (May 27 2018 at 17:50)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127168638):
<p>completely pointless theorem</p>

#### [ Kenny Lau (May 27 2018 at 17:50)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127168639):
<p>Gal(Zalpha/Z) = C2</p>

#### [ Mario Carneiro (May 27 2018 at 17:51)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127168646):
<p>I guess <code>z * z - z - 1 = (z - α) * (z - β)</code> is also a way to prove alpha*beta = -1</p>

#### [ Kenny Lau (May 27 2018 at 17:51)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127168649):
<p>sure</p>

#### [ Kenny Lau (May 27 2018 at 18:24)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127169687):
<div class="codehilite"><pre><span></span><span class="kn">theorem</span> <span class="n">gal</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="n">α</span> <span class="bp">→</span> <span class="bp">ℤ</span><span class="n">α</span><span class="o">)</span> <span class="o">[</span><span class="n">is_ring_hom</span> <span class="n">f</span><span class="o">]</span> <span class="o">:</span> <span class="n">f</span> <span class="bp">=</span> <span class="n">id</span> <span class="bp">∨</span> <span class="n">f</span> <span class="bp">=</span> <span class="n">conj</span> <span class="o">:=</span>
</pre></div>

#### [ Kenny Lau (May 27 2018 at 18:24)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127169688):
<p>lol I did it</p>

#### [ Kevin Buzzard (May 27 2018 at 18:37)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127170066):
<p>nice!</p>

#### [ Kevin Buzzard (May 27 2018 at 18:37)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127170068):
<p>Did you develop any tools for proving polys of degree n have at most n roots?</p>

#### [ Kenny Lau (May 27 2018 at 19:12)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127171159):
<div class="codehilite"><pre><span></span><span class="n">local</span> <span class="kn">notation</span> <span class="bp">`</span><span class="n">α</span><span class="bp">`</span> <span class="o">:=</span> <span class="n">Zalpha</span><span class="bp">.</span><span class="n">units</span><span class="bp">.</span><span class="n">α</span>

<span class="bp">#</span><span class="kn">eval</span> <span class="n">α</span><span class="err">^</span><span class="o">(</span><span class="bp">-</span><span class="mi">3</span><span class="o">:</span><span class="bp">ℤ</span><span class="o">)</span> <span class="c1">-- -3 +   2α</span>
<span class="bp">#</span><span class="kn">eval</span> <span class="n">α</span><span class="err">^</span><span class="o">(</span><span class="bp">-</span><span class="mi">2</span><span class="o">:</span><span class="bp">ℤ</span><span class="o">)</span> <span class="c1">--  2 +  -1α</span>
<span class="bp">#</span><span class="kn">eval</span> <span class="n">α</span><span class="err">^</span><span class="o">(</span><span class="bp">-</span><span class="mi">1</span><span class="o">:</span><span class="bp">ℤ</span><span class="o">)</span> <span class="c1">-- -1 +   1α</span>
<span class="bp">#</span><span class="kn">eval</span> <span class="n">α</span><span class="err">^</span><span class="o">(</span> <span class="mi">0</span><span class="o">:</span><span class="bp">ℤ</span><span class="o">)</span> <span class="c1">--  1 +   0α</span>
<span class="bp">#</span><span class="kn">eval</span> <span class="n">α</span><span class="err">^</span><span class="o">(</span> <span class="mi">1</span><span class="o">:</span><span class="bp">ℤ</span><span class="o">)</span> <span class="c1">--  0 +   1α</span>
<span class="bp">#</span><span class="kn">eval</span> <span class="n">α</span><span class="err">^</span><span class="o">(</span> <span class="mi">2</span><span class="o">:</span><span class="bp">ℤ</span><span class="o">)</span> <span class="c1">--  1 +   1α</span>
<span class="bp">#</span><span class="kn">eval</span> <span class="n">α</span><span class="err">^</span><span class="o">(</span> <span class="mi">3</span><span class="o">:</span><span class="bp">ℤ</span><span class="o">)</span> <span class="c1">--  1 +   2α</span>
<span class="bp">#</span><span class="kn">eval</span> <span class="n">α</span><span class="err">^</span><span class="o">(</span><span class="mi">12</span><span class="o">:</span><span class="bp">ℤ</span><span class="o">)</span> <span class="c1">-- 89 + 144α</span>
</pre></div>

#### [ Kenny Lau (May 27 2018 at 19:12)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127171160):
<p>look at what I did</p>

#### [ Kenny Lau (May 27 2018 at 19:12)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127171161):
<blockquote>
<p>Did you develop any tools for proving polys of degree n have at most n roots?</p>
</blockquote>
<p>I thought Chris is doing that</p>

#### [ Kenny Lau (May 27 2018 at 20:55)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127173701):
<p>Theorem (reverse mathematics): you need to use induction to prove that L(n) = F(n) + F(n-3).<br>
Proof: <a href="http://www.wolframalpha.com/input/?i=%28%28%CE%B1%5Ex%2B%CE%B2%5Ex%29-%28%28%CE%B1%5Ex-%CE%B2%5Ex%29%2B%28%CE%B1%5E%28x-3%29-%CE%B2%5E%28x-3%29%29%29%2Fsqrt%285%29%29+where+%CE%B1%3D%281%2Bsqrt%285%29%29%2F2%2C%CE%B2%3D%281-sqrt%285%29%29%2F2" target="_blank" title="http://www.wolframalpha.com/input/?i=%28%28%CE%B1%5Ex%2B%CE%B2%5Ex%29-%28%28%CE%B1%5Ex-%CE%B2%5Ex%29%2B%28%CE%B1%5E%28x-3%29-%CE%B2%5E%28x-3%29%29%29%2Fsqrt%285%29%29+where+%CE%B1%3D%281%2Bsqrt%285%29%29%2F2%2C%CE%B2%3D%281-sqrt%285%29%29%2F2">link</a>.</p>

#### [ Kenny Lau (May 27 2018 at 20:58)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127173791):
<p>and if you define L(n) := F(n) + F(n-3), you would have to use induction to prove other things later</p>

#### [ Mario Carneiro (May 27 2018 at 21:36)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127174670):
<p>how are those defined?</p>

#### [ Mario Carneiro (May 27 2018 at 21:41)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127174808):
<p>From that plot it looks like it's not even true</p>

#### [ Mario Carneiro (May 27 2018 at 21:43)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127174857):
<p>L(3) = 4, F(3)+F(0) = 2</p>

#### [ Kenny Lau (May 27 2018 at 22:44)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127176377):
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> I'm an idiot. L(n) = 2F(n) + F(n-3).</p>

#### [ Kenny Lau (May 27 2018 at 22:44)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127176378):
<p>what am i doing</p>

#### [ Kenny Lau (May 27 2018 at 22:45)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127176388):
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> <span class="user-mention" data-user-id="111651">@Nicholas Scheel</span> should we actually call it Zphi instead of Zalpha?</p>

#### [ Kenny Lau (May 27 2018 at 22:45)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127176389):
<p>Wikipedia calls its little brother psi</p>

#### [ Mario Carneiro (May 27 2018 at 23:36)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127177700):
<p>that one is true for the continuous extension too</p>

#### [ Mario Carneiro (May 27 2018 at 23:36)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127177702):
<p>I call the little brother phi bar</p>

#### [ Mario Carneiro (May 27 2018 at 23:36)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127177703):
<p>because it's the conjugate of phi</p>

#### [ Nicholas Scheel (May 28 2018 at 00:24)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127178931):
<p>they’re alpha equivalent so I don’t care ;) feel free to rename it</p>

#### [ Kenny Lau (May 28 2018 at 00:27)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127178994):
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> what do you think?</p>

#### [ Kenny Lau (May 28 2018 at 02:28)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127182144):
<p>patchily converted everything to Zalpha</p>

#### [ Kevin Buzzard (May 28 2018 at 05:12)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127186344):
<p>I don't care about names</p>

#### [ Kevin Buzzard (May 28 2018 at 05:12)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127186347):
<p>I call things lemma 3.1</p>

#### [ Kevin Buzzard (May 28 2018 at 05:13)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Largest%20Square%20in%20the%20Fibonacci%20Sequence/near/127186351):
<p>What do I know about names</p>


{% endraw %}
