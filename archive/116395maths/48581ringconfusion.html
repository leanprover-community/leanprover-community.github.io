---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/116395maths/48581ringconfusion.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/48581ringconfusion.html">ring confusion</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="159706972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/ring%20confusion/near/159706972" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48581ringconfusion.html#159706972">Johan Commelin (Mar 01 2019 at 12:19)</a>:</h4>
<p>Goal before I apply <code>ring</code>:</p>
<div class="codehilite"><pre><span></span><span class="o">(</span><span class="n">x</span><span class="bp">.</span><span class="n">snd</span><span class="o">)</span><span class="bp">.</span><span class="n">val</span> <span class="bp">*</span> <span class="n">x</span><span class="bp">.</span><span class="n">fst</span> <span class="bp">-</span> <span class="n">x</span><span class="bp">.</span><span class="n">fst</span> <span class="bp">*</span> <span class="o">(</span><span class="n">x</span><span class="bp">.</span><span class="n">snd</span><span class="o">)</span><span class="bp">.</span><span class="n">val</span> <span class="bp">=</span> <span class="mi">0</span>
</pre></div>


<p>Goal after applying <code>ring</code>:</p>
<div class="codehilite"><pre><span></span><span class="o">(</span><span class="bp">-</span><span class="o">(</span><span class="n">x</span><span class="bp">.</span><span class="n">snd</span><span class="o">)</span><span class="bp">.</span><span class="n">val</span> <span class="bp">+</span> <span class="o">(</span><span class="n">x</span><span class="bp">.</span><span class="n">snd</span><span class="o">)</span><span class="bp">.</span><span class="n">val</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span><span class="bp">.</span><span class="n">fst</span> <span class="bp">=</span> <span class="mi">0</span>
</pre></div>


<p>Me after applying <code>ring</code>: <span aria-label="sad" class="emoji emoji-2639" role="img" title="sad">:sad:</span> <span aria-label="cry" class="emoji emoji-1f622" role="img" title="cry">:cry:</span> <span aria-label="rage" class="emoji emoji-1f621" role="img" title="rage">:rage:</span></p>

<a name="159710281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/ring%20confusion/near/159710281" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48581ringconfusion.html#159710281">Kevin Buzzard (Mar 01 2019 at 13:03)</a>:</h4>
<p>Try <code>simp</code>?</p>

<a name="159710439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/ring%20confusion/near/159710439" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48581ringconfusion.html#159710439">Kevin Buzzard (Mar 01 2019 at 13:05)</a>:</h4>
<p>I feel like with <code>linarith</code> I have got to the point where I understand what the tactic is doing so I can use it well. I had thought the same was true with <code>ring</code> but this confuses me. If you <code>generalize</code> <code>x.snd</code> or <code>x.snd.val</code> presumably the problem goes away?</p>

<a name="159747753"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/ring%20confusion/near/159747753" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48581ringconfusion.html#159747753">Mario Carneiro (Mar 01 2019 at 20:49)</a>:</h4>
<p>This means it doesn't think the two <code>x.snd.val</code>'s are the same</p>

<a name="159747897"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/ring%20confusion/near/159747897" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48581ringconfusion.html#159747897">Kevin Buzzard (Mar 01 2019 at 20:51)</a>:</h4>
<p>Is there more than one x?</p>

<a name="159748053"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/ring%20confusion/near/159748053" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48581ringconfusion.html#159748053">Johan Commelin (Mar 01 2019 at 20:53)</a>:</h4>
<p>nope</p>

<a name="159748083"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/ring%20confusion/near/159748083" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48581ringconfusion.html#159748083">Johan Commelin (Mar 01 2019 at 20:53)</a>:</h4>
<p><code>simp</code> closes the second goal (but not the first)</p>

<a name="159749094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/ring%20confusion/near/159749094" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48581ringconfusion.html#159749094">Mario Carneiro (Mar 01 2019 at 21:06)</a>:</h4>
<p>The equality relation used by <code>ring</code> is very restrictive, because it has to totally order the terms</p>

<a name="159749123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/ring%20confusion/near/159749123" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/48581ringconfusion.html#159749123">Mario Carneiro (Mar 01 2019 at 21:07)</a>:</h4>
<p>To do something else would require a preprocessing step to merge defeq things or something</p>


{% endraw %}
