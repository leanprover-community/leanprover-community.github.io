---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/116395maths/70244casesintermmode.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/70244casesintermmode.html">cases in term mode</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="125937140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cases%20in%20term%20mode/near/125937140" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/70244casesintermmode.html#125937140">Johan Commelin (May 01 2018 at 09:40)</a>:</h4>
<p>I am trying to tell Lean what a path in a quiver is. How do I finish <code>is_a_path</code>?</p>
<div class="codehilite"><pre><span></span><span class="n">universes</span> <span class="n">u</span>

<span class="kn">structure</span> <span class="n">quiver</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">V</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span>
<span class="o">(</span><span class="n">E</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span>
<span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">E</span> <span class="bp">→</span> <span class="n">V</span><span class="o">)</span>
<span class="o">(</span><span class="n">t</span> <span class="o">:</span> <span class="n">E</span> <span class="bp">→</span> <span class="n">V</span><span class="o">)</span>

<span class="kn">variable</span> <span class="o">{</span><span class="n">Q</span> <span class="o">:</span> <span class="n">quiver</span><span class="o">}</span>

<span class="kn">definition</span> <span class="n">is_a_path</span> <span class="o">:</span> <span class="o">(</span><span class="n">list</span> <span class="n">Q</span><span class="bp">.</span><span class="n">E</span><span class="o">)</span> <span class="bp">→</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="bp">λ</span> <span class="n">l</span><span class="o">,</span> <span class="n">sorry</span>
</pre></div>

<a name="125937192"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cases%20in%20term%20mode/near/125937192" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/70244casesintermmode.html#125937192">Mario Carneiro (May 01 2018 at 09:42)</a>:</h4>
<p>hint: use <code>list.chain</code></p>

<a name="125937200"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cases%20in%20term%20mode/near/125937200" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/70244casesintermmode.html#125937200">Kenny Lau (May 01 2018 at 09:43)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">inductive</span> <span class="n">list</span><span class="bp">.</span><span class="n">chain</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">},</span> <span class="o">(</span><span class="n">α</span> <span class="bp">→</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span> <span class="bp">→</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">list</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span>
<span class="n">constructors</span><span class="o">:</span>
<span class="n">list</span><span class="bp">.</span><span class="n">chain</span><span class="bp">.</span><span class="n">nil</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">),</span> <span class="n">list</span><span class="bp">.</span><span class="n">chain</span> <span class="n">R</span> <span class="n">a</span> <span class="n">list</span><span class="bp">.</span><span class="n">nil</span>
<span class="n">list</span><span class="bp">.</span><span class="n">chain</span><span class="bp">.</span><span class="n">cons</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">}</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">α</span><span class="o">}</span> <span class="o">{</span><span class="n">l</span> <span class="o">:</span> <span class="n">list</span> <span class="n">α</span><span class="o">},</span>
  <span class="n">R</span> <span class="n">a</span> <span class="n">b</span> <span class="bp">→</span> <span class="n">list</span><span class="bp">.</span><span class="n">chain</span> <span class="n">R</span> <span class="n">b</span> <span class="n">l</span> <span class="bp">→</span> <span class="n">list</span><span class="bp">.</span><span class="n">chain</span> <span class="n">R</span> <span class="n">a</span> <span class="o">(</span><span class="n">b</span> <span class="bp">::</span> <span class="n">l</span><span class="o">)</span>
</pre></div>

<a name="125937201"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cases%20in%20term%20mode/near/125937201" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/70244casesintermmode.html#125937201">Kenny Lau (May 01 2018 at 09:43)</a>:</h4>
<p>interesting</p>

<a name="125937248"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cases%20in%20term%20mode/near/125937248" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/70244casesintermmode.html#125937248">Johan Commelin (May 01 2018 at 09:44)</a>:</h4>
<p>By the way, do you think it is a good idea to use lists to capture paths?</p>

<a name="125937304"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cases%20in%20term%20mode/near/125937304" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/70244casesintermmode.html#125937304">Mario Carneiro (May 01 2018 at 09:46)</a>:</h4>
<p>You may want more complicated inductive structures in some circumstances, but here a list of edges is sufficient</p>

<a name="125937307"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cases%20in%20term%20mode/near/125937307" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/70244casesintermmode.html#125937307">Kenny Lau (May 01 2018 at 09:46)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">universes</span> <span class="n">u</span> <span class="n">v</span>

<span class="kn">structure</span> <span class="n">quiver</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">V</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span>
<span class="o">(</span><span class="n">E</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">)</span>
<span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">E</span> <span class="bp">→</span> <span class="n">V</span><span class="o">)</span>
<span class="o">(</span><span class="n">t</span> <span class="o">:</span> <span class="n">E</span> <span class="bp">→</span> <span class="n">V</span><span class="o">)</span>

<span class="kn">variable</span> <span class="o">{</span><span class="n">Q</span> <span class="o">:</span> <span class="n">quiver</span><span class="o">}</span>

<span class="kn">definition</span> <span class="n">is_a_path</span> <span class="o">:</span> <span class="o">(</span><span class="n">list</span> <span class="n">Q</span><span class="bp">.</span><span class="n">E</span><span class="o">)</span> <span class="bp">→</span> <span class="kt">Prop</span>
<span class="bp">|</span> <span class="o">[]</span>             <span class="o">:=</span> <span class="n">true</span>
<span class="bp">|</span> <span class="o">[</span><span class="n">x</span><span class="o">]</span>            <span class="o">:=</span> <span class="n">true</span>
<span class="bp">|</span> <span class="o">(</span><span class="n">hd1</span><span class="bp">::</span><span class="n">hd2</span><span class="bp">::</span><span class="n">tl</span><span class="o">)</span> <span class="o">:=</span> <span class="n">Q</span><span class="bp">.</span><span class="n">t</span> <span class="n">hd1</span> <span class="bp">=</span> <span class="n">Q</span><span class="bp">.</span><span class="n">s</span> <span class="n">hd2</span> <span class="bp">∧</span> <span class="n">is_a_path</span> <span class="o">(</span><span class="n">hd2</span><span class="bp">::</span><span class="n">tl</span><span class="o">)</span>
</pre></div>

<a name="125937323"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cases%20in%20term%20mode/near/125937323" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/70244casesintermmode.html#125937323">Johan Commelin (May 01 2018 at 09:47)</a>:</h4>
<p>Aaah, so I should use <code>|</code>. Thanks! But now you are not using <code>list.chain</code></p>

<a name="125937326"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cases%20in%20term%20mode/near/125937326" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/70244casesintermmode.html#125937326">Mario Carneiro (May 01 2018 at 09:47)</a>:</h4>
<p>you could use <code>list.chain</code> for the latter two cases</p>

<a name="125937328"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cases%20in%20term%20mode/near/125937328" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/70244casesintermmode.html#125937328">Kenny Lau (May 01 2018 at 09:47)</a>:</h4>
<p>the definition using <code>list.chain</code> is left to the reader as an exercise :P</p>

<a name="125937371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cases%20in%20term%20mode/near/125937371" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/70244casesintermmode.html#125937371">Mario Carneiro (May 01 2018 at 09:48)</a>:</h4>
<p>alternatively, you could define it as an inductive type, which may be more natural</p>

<a name="125937375"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cases%20in%20term%20mode/near/125937375" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/70244casesintermmode.html#125937375">Kenny Lau (May 01 2018 at 09:48)</a>:</h4>
<p>oh... I just realized I wanted induction-recursion</p>

<a name="125937379"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cases%20in%20term%20mode/near/125937379" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/70244casesintermmode.html#125937379">Mario Carneiro (May 01 2018 at 09:48)</a>:</h4>
<p>not for this...</p>

<a name="125937383"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cases%20in%20term%20mode/near/125937383" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/70244casesintermmode.html#125937383">Kenny Lau (May 01 2018 at 09:49)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">mutual</span> <span class="kn">inductive</span> <span class="n">path</span><span class="o">,</span> <span class="n">head</span>
<span class="k">with</span> <span class="n">path</span> <span class="o">:</span> <span class="kt">Type</span> <span class="o">(</span><span class="n">max</span> <span class="n">u</span> <span class="n">v</span><span class="o">)</span>
<span class="bp">|</span> <span class="n">A</span> <span class="o">:</span> <span class="n">Q</span><span class="bp">.</span><span class="n">E</span> <span class="bp">→</span> <span class="n">path</span>
<span class="k">with</span> <span class="n">head</span> <span class="o">:</span> <span class="n">path</span> <span class="bp">→</span> <span class="n">Q</span><span class="bp">.</span><span class="n">V</span>
<span class="bp">|</span> <span class="o">(</span><span class="n">path</span><span class="bp">.</span><span class="n">A</span> <span class="n">x</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">_</span>
</pre></div>


<p>failed idea</p>

<a name="125937390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cases%20in%20term%20mode/near/125937390" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/70244casesintermmode.html#125937390">Mario Carneiro (May 01 2018 at 09:49)</a>:</h4>
<p>you want the head to be a parameter, like in <code>chain</code></p>

<a name="125937446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cases%20in%20term%20mode/near/125937446" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/70244casesintermmode.html#125937446">Kenny Lau (May 01 2018 at 09:50)</a>:</h4>
<p>oh what</p>

<a name="125937459"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cases%20in%20term%20mode/near/125937459" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/70244casesintermmode.html#125937459">Johan Commelin (May 01 2018 at 09:51)</a>:</h4>
<p>Kenny, I don't understand your last definition. What does <code>mutual</code> do?</p>

<a name="125937460"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cases%20in%20term%20mode/near/125937460" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/70244casesintermmode.html#125937460">Kenny Lau (May 01 2018 at 09:51)</a>:</h4>
<p><a href="https://leanprover.github.io/theorem_proving_in_lean/theorem_proving_in_lean.pdf" target="_blank" title="https://leanprover.github.io/theorem_proving_in_lean/theorem_proving_in_lean.pdf">https://leanprover.github.io/theorem_proving_in_lean/theorem_proving_in_lean.pdf</a><br>
P.120, Section 7.9</p>

<a name="125937499"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cases%20in%20term%20mode/near/125937499" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/70244casesintermmode.html#125937499">Kenny Lau (May 01 2018 at 09:52)</a>:</h4>
<p>note that I was trying induction-recursion which is not a thing</p>

<a name="125937501"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cases%20in%20term%20mode/near/125937501" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/70244casesintermmode.html#125937501">Kenny Lau (May 01 2018 at 09:52)</a>:</h4>
<p>not to confuse you</p>

<a name="125937524"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cases%20in%20term%20mode/near/125937524" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/70244casesintermmode.html#125937524">Johan Commelin (May 01 2018 at 09:53)</a>:</h4>
<p>But your current definition is not equivalent to mine, right?</p>

<a name="125937532"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cases%20in%20term%20mode/near/125937532" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/70244casesintermmode.html#125937532">Kenny Lau (May 01 2018 at 09:53)</a>:</h4>
<p>yours? I haven't seen your definition</p>

<a name="125937572"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cases%20in%20term%20mode/near/125937572" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/70244casesintermmode.html#125937572">Johan Commelin (May 01 2018 at 09:54)</a>:</h4>
<p>Hmm, agreed. My bad.</p>

<a name="125937574"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cases%20in%20term%20mode/near/125937574" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/70244casesintermmode.html#125937574">Johan Commelin (May 01 2018 at 09:54)</a>:</h4>
<p>Let me try again: your second definition is not equivalent to your first, right?</p>

<a name="125937576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cases%20in%20term%20mode/near/125937576" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/70244casesintermmode.html#125937576">Kenny Lau (May 01 2018 at 09:54)</a>:</h4>
<p>but I haven't finished my second definition</p>

<a name="125937591"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cases%20in%20term%20mode/near/125937591" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/70244casesintermmode.html#125937591">Johan Commelin (May 01 2018 at 09:55)</a>:</h4>
<p>Aaah, ok</p>

<a name="125937592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cases%20in%20term%20mode/near/125937592" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/70244casesintermmode.html#125937592">Kenny Lau (May 01 2018 at 09:55)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> (maybe on its own thread?) if Lean had induction-recursion, would you be able to prove false? would there be a shorter proof than following godel?</p>

<a name="125937643"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cases%20in%20term%20mode/near/125937643" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/70244casesintermmode.html#125937643">Mario Carneiro (May 01 2018 at 09:56)</a>:</h4>
<p>No. Induction recursion would strengthen the system, it wouldn't be able to prove its own consistency because it now has induction-recursion and the simulated lean language would not</p>

<a name="125937649"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cases%20in%20term%20mode/near/125937649" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/70244casesintermmode.html#125937649">Kenny Lau (May 01 2018 at 09:57)</a>:</h4>
<p>why can't you simulate induction-recursion with induction-recursion?</p>

<a name="125937654"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cases%20in%20term%20mode/near/125937654" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/70244casesintermmode.html#125937654">Mario Carneiro (May 01 2018 at 09:57)</a>:</h4>
<p>you probably need induction-recursion-recursion or something</p>

<a name="125937655"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cases%20in%20term%20mode/near/125937655" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/70244casesintermmode.html#125937655">Kenny Lau (May 01 2018 at 09:57)</a>:</h4>
<p>hmm</p>


{% endraw %}
