---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/116395maths/52882Proofdependingonnmod2.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html">Proof depending on n mod 2</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="129743513"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129743513" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129743513">Johan Commelin (Jul 16 2018 at 11:16)</a>:</h4>
<p>I need to prove a fact about <code>(-a)^n</code>, with <code>n : nat</code>. I would like to split into two cases, depending on whether <code>n</code> is odd or even. What is the best way to do this in mathlib?</p>

<a name="129744299"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129744299" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129744299">Kenny Lau (Jul 16 2018 at 11:33)</a>:</h4>
<p>what is it that you want to prove?</p>

<a name="129744303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129744303" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129744303">Kenny Lau (Jul 16 2018 at 11:33)</a>:</h4>
<p>you might be able to rewrite <code>n</code> into <code>(n/2)*2 + (n%2)</code> if you use the division algorithm</p>

<a name="129744396"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129744396" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129744396">Chris Hughes (Jul 16 2018 at 11:35)</a>:</h4>
<p><code>nat.mod_two_eq_zero_or_one</code> I believe</p>

<a name="129744408"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129744408" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129744408">Kenny Lau (Jul 16 2018 at 11:35)</a>:</h4>
<p>my point is, sometimes you don't need to split into two cases</p>

<a name="129744766"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129744766" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129744766">Johan Commelin (Jul 16 2018 at 11:45)</a>:</h4>
<p>Ok, I'll try that.</p>

<a name="129744770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129744770" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129744770">Johan Commelin (Jul 16 2018 at 11:45)</a>:</h4>
<p>So, here is another substep that I currently have:</p>
<div class="codehilite"><pre><span></span><span class="n">rw</span> <span class="k">show</span> <span class="n">v</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">-</span><span class="n">a</span><span class="o">)</span><span class="err">^</span><span class="n">n</span> <span class="bp">=</span> <span class="o">((</span><span class="bp">-</span><span class="mi">1</span><span class="o">)</span><span class="err">^</span><span class="n">n</span> <span class="bp">*</span> <span class="n">v</span><span class="o">)</span> <span class="bp">*</span> <span class="n">a</span><span class="err">^</span><span class="n">n</span><span class="o">,</span>
    <span class="k">begin</span>
      <span class="n">rw</span> <span class="o">[</span><span class="n">neg_eq_neg_one_mul</span><span class="o">,</span> <span class="n">mul_pow</span><span class="o">],</span> <span class="n">ring</span><span class="o">,</span>
    <span class="kn">end</span><span class="o">,</span>
</pre></div>

<a name="129744815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129744815" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129744815">Kenny Lau (Jul 16 2018 at 11:46)</a>:</h4>
<p>could you include the types of <code>v</code> and <code>a</code>?</p>

<a name="129744818"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129744818" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129744818">Johan Commelin (Jul 16 2018 at 11:46)</a>:</h4>
<p>Should <code>ring</code> be able to do those rewrites itself? I think it would make sense to me to teach <code>ring</code> about negatives...</p>

<a name="129744829"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129744829" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129744829">Johan Commelin (Jul 16 2018 at 11:46)</a>:</h4>
<p><code>v</code> and <code>a</code> live in some comm ring.</p>

<a name="129744918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129744918" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129744918">Kenny Lau (Jul 16 2018 at 11:49)</a>:</h4>
<p>it isn't about negatives</p>

<a name="129744920"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129744920" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129744920">Kenny Lau (Jul 16 2018 at 11:49)</a>:</h4>
<p>it's about powers</p>

<a name="129744924"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129744924" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129744924">Kenny Lau (Jul 16 2018 at 11:49)</a>:</h4>
<p><code>ring</code> can't prove this:</p>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">:</span> <span class="n">x</span><span class="err">^</span><span class="n">n</span> <span class="bp">*</span> <span class="n">y</span><span class="err">^</span><span class="n">n</span> <span class="bp">=</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span><span class="err">^</span><span class="n">n</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">ring</span>
</pre></div>

<a name="129745010"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129745010" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129745010">Johan Commelin (Jul 16 2018 at 11:51)</a>:</h4>
<p>Should ring be able to prove it, by <code>rw mul_pow</code> whenever possible?</p>

<a name="129745014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129745014" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129745014">Kenny Lau (Jul 16 2018 at 11:51)</a>:</h4>
<p>I don't know what <code>ring</code> knows</p>

<a name="129745076"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129745076" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129745076">Johan Commelin (Jul 16 2018 at 11:53)</a>:</h4>
<p>My "Should" was a <em>moral</em> should. As in, does it make sense to give <code>ring</code> these extra powers?</p>

<a name="129745230"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129745230" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129745230">Mario Carneiro (Jul 16 2018 at 11:57)</a>:</h4>
<p>No. It is not a rewrite system, it is a decision procedure for polynomial equalities. <code>x^n</code> is not a polynomial (of two variables <code>x</code>, <code>n</code>)</p>

<a name="129745235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129745235" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129745235">Kenny Lau (Jul 16 2018 at 11:57)</a>:</h4>
<p>fair enough</p>

<a name="129745425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129745425" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129745425">Johan Commelin (Jul 16 2018 at 12:01)</a>:</h4>
<p>Mario, so would it make sense to rename <code>ring</code> into <code>semiring</code>, and have a <code>ring</code> tactic that is <code>semiring</code> + some other superpowers?</p>

<a name="129745483"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129745483" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129745483">Mario Carneiro (Jul 16 2018 at 12:02)</a>:</h4>
<p><code>ring</code> deals with commutative rings and commutative semirings</p>

<a name="129745495"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129745495" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129745495">Mario Carneiro (Jul 16 2018 at 12:02)</a>:</h4>
<p>Negatives are supported</p>

<a name="129746954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129746954" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129746954">Johan Commelin (Jul 16 2018 at 12:36)</a>:</h4>
<p>Ok, so what is the fastest way to prove <code>H : ∀ {n : ℕ}, ((-1 : R)^n = 1) ∨ ((-1 : R)^n = -1)</code>, where <code>R</code> is a <code>comm_ring</code>.</p>

<a name="129747046"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129747046" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129747046">Mario Carneiro (Jul 16 2018 at 12:38)</a>:</h4>
<p>that could probably go in <code>group_power.lean</code></p>

<a name="129747062"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129747062" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129747062">Patrick Massot (Jul 16 2018 at 12:38)</a>:</h4>
<p>That's the fastest way: have Mario write it in mathlib</p>

<a name="129747072"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129747072" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129747072">Mario Carneiro (Jul 16 2018 at 12:38)</a>:</h4>
<p>but you can prove it either by induction or by quotient remainder theorem like kenny suggested</p>

<a name="129747095"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129747095" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129747095">Johan Commelin (Jul 16 2018 at 12:39)</a>:</h4>
<p>I'm halfway a proof by induction, but everytime I need a stupid little fact from mathlib it costs me 15 minutes to find it...</p>

<a name="129747269"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129747269" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129747269">Kenny Lau (Jul 16 2018 at 12:43)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">ring</span>

<span class="kn">universe</span> <span class="n">u</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span>

<span class="kn">example</span> <span class="o">:</span> <span class="o">((</span><span class="bp">-</span><span class="mi">1</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span><span class="err">^</span><span class="n">n</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">∨</span> <span class="o">((</span><span class="bp">-</span><span class="mi">1</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span><span class="err">^</span><span class="n">n</span> <span class="bp">=</span> <span class="bp">-</span><span class="mi">1</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">induction</span> <span class="n">n</span> <span class="k">with</span> <span class="n">n</span> <span class="n">ih</span><span class="o">,</span> <span class="o">{</span><span class="n">simp</span><span class="o">},</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">pow_succ</span><span class="o">,</span> <span class="n">neg_one_mul</span><span class="o">,</span> <span class="n">neg_inj&#39;</span><span class="o">,</span> <span class="n">neg_eq_iff_neg_eq</span><span class="o">,</span> <span class="n">eq_comm</span><span class="o">,</span> <span class="n">or_comm</span><span class="o">],</span>
  <span class="n">assumption</span>
<span class="kn">end</span>
</pre></div>

<a name="129747273"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129747273" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129747273">Kenny Lau (Jul 16 2018 at 12:43)</a>:</h4>
<p>that's 7 minutes :P</p>

<a name="129747459"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129747459" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129747459">Kenny Lau (Jul 16 2018 at 12:46)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">ring</span>

<span class="kn">universe</span> <span class="n">u</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span>

<span class="kn">example</span> <span class="o">:</span> <span class="o">((</span><span class="bp">-</span><span class="mi">1</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span><span class="err">^</span><span class="n">n</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">∨</span> <span class="o">((</span><span class="bp">-</span><span class="mi">1</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span><span class="err">^</span><span class="n">n</span> <span class="bp">=</span> <span class="bp">-</span><span class="mi">1</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">induction</span> <span class="n">n</span> <span class="k">with</span> <span class="n">n</span> <span class="n">ih</span><span class="o">,</span> <span class="o">{</span><span class="n">simp</span><span class="o">},</span>
  <span class="n">cases</span> <span class="n">ih</span> <span class="k">with</span> <span class="n">ih</span> <span class="n">ih</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">right</span><span class="o">,</span> <span class="n">simp</span> <span class="o">[</span><span class="n">pow_succ</span><span class="o">,</span> <span class="n">ih</span><span class="o">]</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">left</span><span class="o">,</span> <span class="n">simp</span> <span class="o">[</span><span class="n">pow_succ</span><span class="o">,</span> <span class="n">ih</span><span class="o">]</span> <span class="o">}</span>
<span class="kn">end</span>
</pre></div>

<a name="129747482"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129747482" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129747482">Kenny Lau (Jul 16 2018 at 12:47)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">ring</span>

<span class="kn">universe</span> <span class="n">u</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span>

<span class="kn">example</span> <span class="o">:</span> <span class="o">((</span><span class="bp">-</span><span class="mi">1</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span><span class="err">^</span><span class="n">n</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">∨</span> <span class="o">((</span><span class="bp">-</span><span class="mi">1</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span><span class="err">^</span><span class="n">n</span> <span class="bp">=</span> <span class="bp">-</span><span class="mi">1</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">induction</span> <span class="n">n</span> <span class="k">with</span> <span class="n">n</span> <span class="n">ih</span><span class="o">,</span> <span class="o">{</span><span class="n">simp</span><span class="o">},</span>
  <span class="n">cases</span> <span class="n">ih</span> <span class="k">with</span> <span class="n">ih</span> <span class="n">ih</span><span class="bp">;</span> <span class="o">[</span><span class="n">right</span><span class="o">,</span> <span class="n">left</span><span class="o">]</span><span class="bp">;</span>
  <span class="n">simp</span> <span class="o">[</span><span class="n">pow_succ</span><span class="o">,</span> <span class="n">ih</span><span class="o">]</span>
<span class="kn">end</span>
</pre></div>

<a name="129747491"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129747491" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129747491">Johan Commelin (Jul 16 2018 at 12:47)</a>:</h4>
<p>You win (-;</p>

<a name="129747550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129747550" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129747550">Mario Carneiro (Jul 16 2018 at 12:48)</a>:</h4>
<p>Now you are just showing off :P</p>

<a name="129747557"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129747557" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129747557">Mario Carneiro (Jul 16 2018 at 12:48)</a>:</h4>
<p>What's it look like using the equation compiler for the induction?</p>

<a name="129747574"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129747574" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129747574">Kenny Lau (Jul 16 2018 at 12:49)</a>:</h4>
<p>not much difference, I think</p>

<a name="129747711"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129747711" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129747711">Mario Carneiro (Jul 16 2018 at 12:52)</a>:</h4>
<p>I think it's a bit neater</p>
<div class="codehilite"><pre><span></span>theorem neg_one_pow_eq_or {R} [comm_ring R] : ∀ n : ℕ, ((-1 : R)^n = 1) ∨ ((-1 : R)^n = -1)
| 0     := by simp
| (n+1) := by cases neg_one_pow_eq_or n; simp [pow_succ, h]
</pre></div>


<p>also <code>left</code> and <code>right</code> are unnecessary</p>

<a name="129747723"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129747723" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129747723">Kenny Lau (Jul 16 2018 at 12:52)</a>:</h4>
<p>I see</p>

<a name="129747746"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proof%20depending%20on%20n%20mod%202/near/129747746" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/52882Proofdependingonnmod2.html#129747746">Kenny Lau (Jul 16 2018 at 12:53)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">ring</span>

<span class="kn">universe</span> <span class="n">u</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span>

<span class="kn">example</span> <span class="o">:</span> <span class="o">((</span><span class="bp">-</span><span class="mi">1</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span><span class="err">^</span><span class="n">n</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">∨</span> <span class="o">((</span><span class="bp">-</span><span class="mi">1</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span><span class="err">^</span><span class="n">n</span> <span class="bp">=</span> <span class="bp">-</span><span class="mi">1</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">cases</span> <span class="n">nat</span><span class="bp">.</span><span class="n">mod_two_eq_zero_or_one</span> <span class="n">n</span><span class="bp">;</span>
  <span class="n">rw</span> <span class="o">[</span><span class="err">←</span> <span class="n">nat</span><span class="bp">.</span><span class="n">mod_add_div</span> <span class="n">n</span> <span class="mi">2</span><span class="o">,</span> <span class="n">pow_add</span><span class="o">,</span> <span class="n">pow_mul</span><span class="o">,</span> <span class="n">h</span><span class="o">]</span><span class="bp">;</span>
  <span class="n">simp</span> <span class="o">[</span><span class="n">pow_two</span><span class="o">]</span>
<span class="kn">end</span>
</pre></div>


{% endraw %}

{% include archive_update.html %}