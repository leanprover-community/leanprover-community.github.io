---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/116395maths/01942quickestwaytokilltrivialmodN.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html">quickest way to kill "trivial mod N"?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="194061933"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194061933" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194061933">Kevin Buzzard (Apr 15 2020 at 17:07)</a>:</h4>
<p>If <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo>∈</mo><mi mathvariant="double-struck">Z</mi></mrow><annotation encoding="application/x-tex">x,y\in\mathbb{Z}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.7335400000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">Z</span></span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mn>2</mn></msup><mo>−</mo><mn>2</mn><msup><mi>y</mi><mn>2</mn></msup><mo>=</mo><mn>10003</mn></mrow><annotation encoding="application/x-tex">x^2-2y^2=10003</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord">2</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">3</span></span></span></span> then, because squares are 0 or 1 mod 4 and the RHS is 3 mod 4, we see that we must have <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mn>2</mn></msup><mo>≡</mo><msup><mi>y</mi><mn>2</mn></msup><mo>≡</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">x^2\equiv y^2\equiv1</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≡</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≡</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> mod 4 and hence both <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span> are 1 or 3 mod 4. I want the proof of this to go "check all 16 cases mod 4; oh look, 12 of them don't work". I've been using <code>interval_cases</code> to get break down to cases like <code>x % 4 = 2</code> and <code>y % 4 = 1</code> but then it's a bore showing that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mn>2</mn></msup><mo>−</mo><mn>2</mn><msup><mi>y</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">x^2-2y^2</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord">2</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span> is 2 mod 4. I really want to drop straight into <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">Z</mi><mi mathvariant="normal">/</mi><mn>4</mn><mi mathvariant="double-struck">Z</mi></mrow><annotation encoding="application/x-tex">\mathbb{Z}/4\mathbb{Z}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathbb">Z</span></span><span class="mord">/</span><span class="mord">4</span><span class="mord"><span class="mord mathbb">Z</span></span></span></span></span> and do all the arithmetic in there. Ideally in general I'd say "consider this equation mod N" (for some small N) and then end up with d&lt;=N^2 goals corresponding to all the possibilities of x and y mod N which satisfy the equation mod N. Is there a painless way of doing this without having to repeatedly apply <code>int.modeq.modeq_mul</code> etc?</p>

<a name="194064402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194064402" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194064402">Mario Carneiro (Apr 15 2020 at 17:28)</a>:</h4>
<p>It seems like you should be able to apply <code>coe : int -&gt; zmod 4</code> and then <code>simp</code> it down to the leaves</p>

<a name="194064493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194064493" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194064493">Mario Carneiro (Apr 15 2020 at 17:29)</a>:</h4>
<p>although you will have to do something extra to get <code>10003</code> to simplify to <code>3</code></p>

<a name="194064556"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194064556" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194064556">Kevin Buzzard (Apr 15 2020 at 17:29)</a>:</h4>
<p>oh the number doesn't have to be big, I just wanted to stop people trying to come up with other methods.</p>

<a name="194064656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194064656" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194064656">Kenny Lau (Apr 15 2020 at 17:30)</a>:</h4>
<p>thank the lord that these are not natural numbers</p>

<a name="194065039"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194065039" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194065039">Kevin Buzzard (Apr 15 2020 at 17:30)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">x</span><span class="err">^</span><span class="mi">2</span><span class="bp">+</span><span class="mi">2</span><span class="bp">*</span><span class="n">y</span><span class="err">^</span><span class="mi">2</span><span class="bp">+</span><span class="n">x</span><span class="bp">=</span><span class="mi">123</span><span class="o">)</span> <span class="o">:</span> <span class="n">false</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">set</span> <span class="n">x4</span> <span class="o">:</span> <span class="n">zmod</span> <span class="mi">4</span> <span class="o">:=</span> <span class="n">x</span><span class="o">,</span>
  <span class="n">set</span> <span class="n">y4</span> <span class="o">:</span> <span class="n">zmod</span> <span class="mi">4</span> <span class="o">:=</span> <span class="n">y</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">h4</span> <span class="o">:</span> <span class="n">x4</span><span class="err">^</span><span class="mi">2</span><span class="bp">+</span><span class="mi">2</span><span class="bp">*</span><span class="n">y4</span><span class="err">^</span><span class="mi">2</span><span class="bp">+</span><span class="n">x</span><span class="bp">=</span><span class="mi">123</span><span class="o">,</span>
    <span class="n">sorry</span><span class="o">,</span>
  <span class="n">sorry</span>
<span class="kn">end</span>
</pre></div>


<p>How do I get h4?</p>

<a name="194065096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194065096" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194065096">Mario Carneiro (Apr 15 2020 at 17:31)</a>:</h4>
<p>it's not so much about the fact that they are big numbers but rather that we expect numerals to be reduced mod the base while simp only pushes the coe down</p>

<a name="194065177"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194065177" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194065177">Kevin Buzzard (Apr 15 2020 at 17:31)</a>:</h4>
<p>I think Q1 is how to prove h4 from h, and Q2 is how to do the case split on the fintype.</p>

<a name="194065353"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194065353" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194065353">Mario Carneiro (Apr 15 2020 at 17:33)</a>:</h4>
<p>I think <code>simpa using congr_arg (coe : int -&gt; zmod 4) h</code></p>

<a name="194065515"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194065515" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194065515">Mario Carneiro (Apr 15 2020 at 17:34)</a>:</h4>
<p>for q2, you might be able to use dec_trivial</p>

<a name="194065540"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194065540" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194065540">Mario Carneiro (Apr 15 2020 at 17:34)</a>:</h4>
<p>if you revert <code>x4</code> and <code>y4</code></p>

<a name="194065581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194065581" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194065581">Johan Commelin (Apr 15 2020 at 17:34)</a>:</h4>
<p>Why is that not <code>exact_mod_cast h</code>?</p>

<a name="194065598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194065598" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194065598">Mario Carneiro (Apr 15 2020 at 17:35)</a>:</h4>
<p>it probably is that too</p>

<a name="194065635"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194065635" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194065635">Mario Carneiro (Apr 15 2020 at 17:35)</a>:</h4>
<p>well, you still have to use <code>congr_arg</code> (or <code>apply_fun</code>) on <code>h</code></p>

<a name="194066104"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194066104" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194066104">Kenny Lau (Apr 15 2020 at 17:39)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">zmod</span><span class="bp">.</span><span class="n">basic</span>

<span class="kn">universe</span> <span class="n">u</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">x</span><span class="err">^</span><span class="mi">2</span> <span class="bp">-</span> <span class="mi">2</span><span class="bp">*</span><span class="n">y</span><span class="err">^</span><span class="mi">2</span> <span class="bp">=</span> <span class="mi">10003</span><span class="o">)</span> <span class="o">:</span> <span class="n">false</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">apply_fun</span> <span class="o">(</span><span class="n">coe</span> <span class="o">:</span> <span class="bp">ℤ</span> <span class="bp">→</span> <span class="n">zmod</span> <span class="mi">4</span><span class="o">)</span> <span class="n">at</span> <span class="n">H</span><span class="o">,</span>
  <span class="n">rw</span> <span class="err">←</span> <span class="n">zmod</span><span class="bp">.</span><span class="n">cast_mod_int</span> <span class="mi">4</span> <span class="mi">10003</span> <span class="n">at</span> <span class="n">H</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">h1</span> <span class="o">:</span> <span class="o">(</span><span class="mi">10003</span> <span class="err">%</span> <span class="o">((</span><span class="mi">4</span><span class="o">:</span><span class="bp">ℕ+</span><span class="o">):</span><span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">3</span><span class="o">,</span> <span class="n">norm_num</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">h1</span> <span class="n">at</span> <span class="n">H</span><span class="o">,</span>
  <span class="n">clear</span> <span class="n">h1</span><span class="o">,</span>
  <span class="n">push_cast</span> <span class="n">at</span> <span class="n">H</span><span class="o">,</span>
  <span class="n">generalize_hyp</span> <span class="o">:</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">zmod</span> <span class="mi">4</span><span class="o">)</span> <span class="bp">=</span> <span class="n">x4</span> <span class="n">at</span> <span class="n">H</span><span class="o">,</span>
  <span class="n">generalize_hyp</span> <span class="o">:</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">zmod</span> <span class="mi">4</span><span class="o">)</span> <span class="bp">=</span> <span class="n">y4</span> <span class="n">at</span> <span class="n">H</span><span class="o">,</span>
  <span class="n">clear</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span>
  <span class="c">/-</span><span class="cm"> revert x4 y4,</span>
<span class="cm">  exact dec_trivial -- why doesn&#39;t this work -/</span>
  <span class="n">fin_cases</span> <span class="n">x4</span><span class="bp">;</span> <span class="n">fin_cases</span> <span class="n">y4</span><span class="bp">;</span> <span class="n">exact</span> <span class="n">absurd</span> <span class="n">H</span> <span class="n">dec_trivial</span> <span class="c1">-- why doesn&#39;t this work</span>
<span class="kn">end</span>
</pre></div>

<a name="194066122"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194066122" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194066122">Kenny Lau (Apr 15 2020 at 17:39)</a>:</h4>
<p>where are my decidable equalities on zmod 4</p>

<a name="194066290"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194066290" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194066290">Alex J. Best (Apr 15 2020 at 17:40)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">x</span><span class="err">^</span><span class="mi">2</span> <span class="bp">-</span> <span class="mi">2</span><span class="bp">*</span><span class="n">y</span><span class="err">^</span><span class="mi">2</span> <span class="bp">=</span> <span class="mi">10003</span><span class="o">)</span> <span class="o">:</span> <span class="o">(((</span><span class="n">x</span> <span class="o">:</span> <span class="n">zmod</span> <span class="mi">4</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">∨</span> <span class="o">((</span><span class="n">x</span> <span class="o">:</span> <span class="n">zmod</span> <span class="mi">4</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">3</span><span class="o">))</span> <span class="bp">∧</span> <span class="o">(((</span><span class="n">y</span> <span class="o">:</span> <span class="n">zmod</span> <span class="mi">4</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">∨</span> <span class="o">((</span><span class="n">y</span> <span class="o">:</span> <span class="n">zmod</span> <span class="mi">4</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">3</span><span class="o">))</span> <span class="o">:=</span>
<span class="k">begin</span>
<span class="n">replace</span> <span class="n">h</span> <span class="o">:=</span> <span class="n">congr_arg</span> <span class="o">(</span><span class="n">coe</span> <span class="o">:</span> <span class="bp">ℤ</span> <span class="bp">→</span> <span class="n">zmod</span> <span class="mi">4</span><span class="o">)</span> <span class="n">h</span><span class="o">,</span>
<span class="n">push_cast</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
<span class="n">revert</span> <span class="n">h</span><span class="o">,</span>
<span class="n">generalize</span> <span class="o">:</span> <span class="o">(</span><span class="err">↑</span><span class="n">x</span> <span class="o">:</span> <span class="n">zmod</span> <span class="mi">4</span><span class="o">)</span> <span class="bp">=</span> <span class="n">X</span><span class="o">,</span>
<span class="n">generalize</span> <span class="o">:</span> <span class="o">(</span><span class="err">↑</span><span class="n">y</span> <span class="o">:</span> <span class="n">zmod</span> <span class="mi">4</span><span class="o">)</span> <span class="bp">=</span> <span class="n">Y</span><span class="o">,</span>
<span class="n">revert</span> <span class="n">X</span> <span class="n">Y</span><span class="o">,</span>
<span class="n">exact</span> <span class="n">dec_trivial</span><span class="o">,</span>
<span class="kn">end</span>
</pre></div>

<a name="194066352"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194066352" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194066352">Kenny Lau (Apr 15 2020 at 17:40)</a>:</h4>
<p>oh, I misread the question</p>

<a name="194066837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194066837" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194066837">Mario Carneiro (Apr 15 2020 at 17:44)</a>:</h4>
<p>I feel like there should be a way to combine <code>generalize</code> and <code>revert</code> in Alex's proof</p>

<a name="194066975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194066975" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194066975">Kenny Lau (Apr 15 2020 at 17:45)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">zmod</span><span class="bp">.</span><span class="n">basic</span>

<span class="kn">universe</span> <span class="n">u</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">x</span><span class="err">^</span><span class="mi">2</span> <span class="bp">-</span> <span class="mi">2</span><span class="bp">*</span><span class="n">y</span><span class="err">^</span><span class="mi">2</span> <span class="bp">=</span> <span class="mi">10003</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">x</span><span class="err">%</span><span class="mi">4</span><span class="bp">=</span><span class="mi">1</span> <span class="bp">∨</span> <span class="n">x</span><span class="err">%</span><span class="mi">4</span><span class="bp">=</span><span class="mi">3</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">y</span><span class="err">%</span><span class="mi">4</span><span class="bp">=</span><span class="mi">1</span> <span class="bp">∨</span> <span class="n">y</span><span class="err">%</span><span class="mi">4</span><span class="bp">=</span><span class="mi">3</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">apply_fun</span> <span class="o">(</span><span class="n">coe</span> <span class="o">:</span> <span class="bp">ℤ</span> <span class="bp">→</span> <span class="n">zmod</span> <span class="mi">4</span><span class="o">)</span> <span class="n">at</span> <span class="n">H</span><span class="o">,</span>
  <span class="n">rw</span> <span class="err">←</span> <span class="n">zmod</span><span class="bp">.</span><span class="n">cast_mod_int</span> <span class="mi">4</span> <span class="mi">10003</span> <span class="n">at</span> <span class="n">H</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">h1</span> <span class="o">:</span> <span class="o">(</span><span class="mi">10003</span> <span class="err">%</span> <span class="o">((</span><span class="mi">4</span><span class="o">:</span><span class="bp">ℕ+</span><span class="o">):</span><span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">3</span><span class="o">,</span> <span class="n">norm_num</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">h1</span> <span class="n">at</span> <span class="n">H</span><span class="o">,</span> <span class="n">clear</span> <span class="n">h1</span><span class="o">,</span>
  <span class="n">change</span> <span class="o">(</span><span class="n">x</span><span class="bp">≡</span><span class="mi">1</span><span class="o">[</span><span class="n">ZMOD</span><span class="o">((</span><span class="mi">4</span><span class="o">:</span><span class="bp">ℕ+</span><span class="o">):</span><span class="bp">ℕ</span><span class="o">)]</span> <span class="bp">∨</span> <span class="n">x</span><span class="bp">≡</span><span class="mi">3</span><span class="o">[</span><span class="n">ZMOD</span><span class="o">((</span><span class="mi">4</span><span class="o">:</span><span class="bp">ℕ+</span><span class="o">):</span><span class="bp">ℕ</span><span class="o">)])</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">y</span><span class="bp">≡</span><span class="mi">1</span><span class="o">[</span><span class="n">ZMOD</span><span class="o">((</span><span class="mi">4</span><span class="o">:</span><span class="bp">ℕ+</span><span class="o">):</span><span class="bp">ℕ</span><span class="o">)]</span> <span class="bp">∨</span> <span class="n">y</span><span class="bp">≡</span><span class="mi">3</span><span class="o">[</span><span class="n">ZMOD</span><span class="o">((</span><span class="mi">4</span><span class="o">:</span><span class="bp">ℕ+</span><span class="o">):</span><span class="bp">ℕ</span><span class="o">)]),</span>
  <span class="n">iterate</span> <span class="mi">4</span> <span class="o">{</span> <span class="n">rw</span> <span class="err">←</span> <span class="n">zmod</span><span class="bp">.</span><span class="n">eq_iff_modeq_int</span> <span class="o">},</span>
  <span class="n">push_cast</span> <span class="n">at</span> <span class="n">H</span><span class="o">,</span> <span class="n">revert</span> <span class="n">H</span><span class="o">,</span>
  <span class="n">generalize</span> <span class="o">:</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">zmod</span> <span class="mi">4</span><span class="o">)</span> <span class="bp">=</span> <span class="n">x4</span><span class="o">,</span>
  <span class="n">generalize</span> <span class="o">:</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">zmod</span> <span class="mi">4</span><span class="o">)</span> <span class="bp">=</span> <span class="n">y4</span><span class="o">,</span>
  <span class="n">clear</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span>
  <span class="n">revert</span> <span class="n">x4</span> <span class="n">y4</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">dec_trivial</span>
<span class="kn">end</span>
</pre></div>

<a name="194203550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194203550" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194203550">Johan Commelin (Apr 15 2020 at 17:54)</a>:</h4>
<p>Isn't <code>(x%4=1 ∨ x%4=3) ∧ (y%4=1 ∨ y%4=3)</code> a very complicated way of saying <code>x%2 = 1</code> and <code>y%2 = 1</code>?</p>

<a name="194203750"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194203750" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194203750">Kenny Lau (Apr 15 2020 at 17:55)</a>:</h4>
<p>oh right</p>

<a name="194203810"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194203810" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194203810">Reid Barton (Apr 15 2020 at 17:56)</a>:</h4>
<p>Yes but somehow it's an extra ingredient that x^2 mod 4 only depends on x mod 2.</p>

<a name="194204623"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194204623" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194204623">Kenny Lau (Apr 15 2020 at 18:02)</a>:</h4>
<p>it looks like there is not much communication between different <code>zmod n</code>s</p>

<a name="194204718"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194204718" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194204718">Johan Commelin (Apr 15 2020 at 18:03)</a>:</h4>
<p>Sounds like a good starter project</p>

<a name="194206542"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194206542" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194206542">Kenny Lau (Apr 15 2020 at 18:18)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">theorem</span> <span class="n">zmod_communication</span> <span class="o">{</span><span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ+</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">m</span> <span class="err">∣</span> <span class="n">n</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">zmod</span><span class="bp">.</span><span class="n">cast</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">zmod</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span> <span class="n">zmod</span> <span class="n">m</span><span class="o">)</span> <span class="bp">=</span> <span class="n">x</span> <span class="o">:=</span>
<span class="k">let</span> <span class="bp">⟨</span><span class="n">k</span><span class="o">,</span> <span class="n">hk</span><span class="bp">⟩</span> <span class="o">:=</span> <span class="n">h</span> <span class="k">in</span> <span class="n">suffices</span> <span class="o">((((</span><span class="n">x</span><span class="o">:</span><span class="n">zmod</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">val</span><span class="o">:</span><span class="bp">ℕ</span><span class="o">):</span><span class="bp">ℤ</span><span class="o">)</span> <span class="o">:</span> <span class="n">zmod</span> <span class="n">m</span><span class="o">)</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span> <span class="k">by</span> <span class="n">rwa</span> <span class="o">[</span><span class="err">←</span> <span class="n">coe_coe</span><span class="o">]</span> <span class="n">at</span> <span class="n">this</span><span class="o">,</span>
<span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">zmod</span><span class="bp">.</span><span class="n">coe_val_cast_int</span><span class="o">,</span> <span class="n">zmod</span><span class="bp">.</span><span class="n">eq_iff_modeq_int</span><span class="o">]</span><span class="bp">;</span> <span class="n">exact</span> <span class="n">int</span><span class="bp">.</span><span class="n">mod_mod_of_dvd</span> <span class="bp">_</span> <span class="bp">⟨</span><span class="n">k</span><span class="o">,</span> <span class="k">by</span> <span class="n">exact_mod_cast</span> <span class="n">hk</span><span class="bp">⟩</span>
</pre></div>

<a name="194206804"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194206804" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194206804">Kenny Lau (Apr 15 2020 at 18:21)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">zmod</span><span class="bp">.</span><span class="n">basic</span>

<span class="kn">universe</span> <span class="n">u</span>

<span class="kn">theorem</span> <span class="n">zmod_communication</span> <span class="o">{</span><span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ+</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">m</span> <span class="err">∣</span> <span class="n">n</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">zmod</span><span class="bp">.</span><span class="n">cast</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">zmod</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span> <span class="n">zmod</span> <span class="n">m</span><span class="o">)</span> <span class="bp">=</span> <span class="n">x</span> <span class="o">:=</span>
<span class="k">let</span> <span class="bp">⟨</span><span class="n">k</span><span class="o">,</span> <span class="n">hk</span><span class="bp">⟩</span> <span class="o">:=</span> <span class="n">h</span> <span class="k">in</span> <span class="n">suffices</span> <span class="o">((((</span><span class="n">x</span><span class="o">:</span><span class="n">zmod</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">val</span><span class="o">:</span><span class="bp">ℕ</span><span class="o">):</span><span class="bp">ℤ</span><span class="o">)</span> <span class="o">:</span> <span class="n">zmod</span> <span class="n">m</span><span class="o">)</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span> <span class="k">by</span> <span class="n">rwa</span> <span class="o">[</span><span class="err">←</span> <span class="n">coe_coe</span><span class="o">]</span> <span class="n">at</span> <span class="n">this</span><span class="o">,</span>
<span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">zmod</span><span class="bp">.</span><span class="n">coe_val_cast_int</span><span class="o">,</span> <span class="n">zmod</span><span class="bp">.</span><span class="n">eq_iff_modeq_int</span><span class="o">]</span><span class="bp">;</span> <span class="n">exact</span> <span class="n">int</span><span class="bp">.</span><span class="n">mod_mod_of_dvd</span> <span class="bp">_</span> <span class="bp">⟨</span><span class="n">k</span><span class="o">,</span> <span class="k">by</span> <span class="n">exact_mod_cast</span> <span class="n">hk</span><span class="bp">⟩</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">x</span><span class="err">^</span><span class="mi">2</span> <span class="bp">-</span> <span class="mi">2</span><span class="bp">*</span><span class="n">y</span><span class="err">^</span><span class="mi">2</span> <span class="bp">=</span> <span class="mi">10003</span><span class="o">)</span> <span class="o">:</span> <span class="n">x</span><span class="err">%</span><span class="mi">2</span><span class="bp">=</span><span class="mi">1</span> <span class="bp">∧</span> <span class="n">y</span><span class="err">%</span><span class="mi">2</span><span class="bp">=</span><span class="mi">1</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">apply_fun</span> <span class="o">(</span><span class="n">coe</span> <span class="o">:</span> <span class="bp">ℤ</span> <span class="bp">→</span> <span class="n">zmod</span> <span class="mi">4</span><span class="o">)</span> <span class="n">at</span> <span class="n">H</span><span class="o">,</span>
  <span class="n">rw</span> <span class="err">←</span> <span class="n">zmod</span><span class="bp">.</span><span class="n">cast_mod_int</span> <span class="mi">4</span> <span class="mi">10003</span> <span class="n">at</span> <span class="n">H</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">h1</span> <span class="o">:</span> <span class="o">(</span><span class="mi">10003</span> <span class="err">%</span> <span class="o">((</span><span class="mi">4</span><span class="o">:</span><span class="bp">ℕ+</span><span class="o">):</span><span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">3</span><span class="o">,</span> <span class="n">norm_num</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">h1</span> <span class="n">at</span> <span class="n">H</span><span class="o">,</span> <span class="n">clear</span> <span class="n">h1</span><span class="o">,</span>
  <span class="n">change</span> <span class="n">x</span><span class="bp">≡</span><span class="mi">1</span><span class="o">[</span><span class="n">ZMOD</span><span class="o">((</span><span class="mi">2</span><span class="o">:</span><span class="bp">ℕ+</span><span class="o">):</span><span class="bp">ℕ</span><span class="o">)]</span> <span class="bp">∧</span> <span class="n">y</span><span class="bp">≡</span><span class="mi">1</span><span class="o">[</span><span class="n">ZMOD</span><span class="o">((</span><span class="mi">2</span><span class="o">:</span><span class="bp">ℕ+</span><span class="o">):</span><span class="bp">ℕ</span><span class="o">)],</span>
  <span class="n">iterate</span> <span class="mi">2</span> <span class="o">{</span> <span class="n">rw</span> <span class="err">←</span> <span class="n">zmod</span><span class="bp">.</span><span class="n">eq_iff_modeq_int</span> <span class="o">},</span>
  <span class="n">iterate</span> <span class="mi">3</span> <span class="o">{</span> <span class="n">rw</span> <span class="err">←</span> <span class="bp">@</span><span class="n">zmod_communication</span> <span class="mi">2</span> <span class="mi">4</span> <span class="bp">⟨</span><span class="mi">2</span><span class="o">,</span> <span class="n">rfl</span><span class="bp">⟩</span> <span class="o">},</span> <span class="c1">-- you can make a tactic out of this</span>
  <span class="n">revert</span> <span class="n">H</span><span class="o">,</span> <span class="n">push_cast</span><span class="o">,</span>
  <span class="n">generalize</span> <span class="o">:</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">zmod</span> <span class="mi">4</span><span class="o">)</span> <span class="bp">=</span> <span class="n">x4</span><span class="o">,</span>
  <span class="n">generalize</span> <span class="o">:</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">zmod</span> <span class="mi">4</span><span class="o">)</span> <span class="bp">=</span> <span class="n">y4</span><span class="o">,</span>
  <span class="n">revert</span> <span class="n">x4</span> <span class="n">y4</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">dec_trivial</span>
<span class="kn">end</span>
</pre></div>

<a name="194207924"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194207924" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194207924">Johan Commelin (Apr 15 2020 at 18:30)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> Your tactic is called norm_cast or push_cast</p>

<a name="194218294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194218294" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194218294">Kevin Buzzard (Apr 15 2020 at 19:50)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> do the kata about sum of cubes being square of sum of numbers on codewars and then see my solution</p>

<a name="194218511"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194218511" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194218511">Kenny Lau (Apr 15 2020 at 19:52)</a>:</h4>
<p>oh wow the Lean translation is out</p>

<a name="194218521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194218521" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194218521">Kenny Lau (Apr 15 2020 at 19:52)</a>:</h4>
<p>I did it in Coq</p>

<a name="194218632"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194218632" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194218632">Kevin Buzzard (Apr 15 2020 at 19:53)</a>:</h4>
<p>I think my solution is better than everyone else's</p>

<a name="194218649"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194218649" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194218649">Kevin Buzzard (Apr 15 2020 at 19:53)</a>:</h4>
<p>Which is an extremely rare occurrence</p>

<a name="194219197"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194219197" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194219197">Chris Hughes (Apr 15 2020 at 19:58)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">x</span><span class="err">^</span><span class="mi">2</span> <span class="bp">-</span> <span class="mi">2</span><span class="bp">*</span><span class="n">y</span><span class="err">^</span><span class="mi">2</span> <span class="bp">=</span> <span class="mi">10003</span><span class="o">)</span> <span class="o">:</span> <span class="n">false</span> <span class="o">:=</span>
<span class="n">suffices</span> <span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">zmod</span> <span class="mi">4</span><span class="o">,</span> <span class="n">x</span><span class="err">^</span><span class="mi">2</span> <span class="bp">-</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">y</span><span class="err">^</span><span class="mi">2</span> <span class="bp">≠</span> <span class="mi">10003</span><span class="o">,</span>
  <span class="k">from</span> <span class="n">this</span> <span class="n">x</span> <span class="n">y</span> <span class="o">(</span><span class="k">by</span> <span class="n">norm_cast</span><span class="bp">;</span> <span class="n">rw</span> <span class="n">H</span><span class="bp">;</span> <span class="n">simp</span><span class="o">),</span>
<span class="n">dec_trivial</span>
</pre></div>

<a name="194219394"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194219394" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194219394">Kenny Lau (Apr 15 2020 at 19:59)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> I translated my Coq solution into Lean and posted it</p>

<a name="194219591"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194219591" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194219591">Kenny Lau (Apr 15 2020 at 20:00)</a>:</h4>
<p>wow, monadius learnt Lean?</p>

<a name="194220617"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194220617" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194220617">Kevin Buzzard (Apr 15 2020 at 20:08)</a>:</h4>
<p>I don't have to fart around trying to get a 2 next to my sum from 1 to n, because it's now painless to work in the rationals because of push_cast</p>

<a name="194220718"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194220718" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194220718">Kevin Buzzard (Apr 15 2020 at 20:09)</a>:</h4>
<p>Thanks for all these ideas. I'm doing real life stuff at the minute so haven't had a chance to look at any of them but I'm trying to create a kata</p>

<a name="194220728"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194220728" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194220728">Kevin Buzzard (Apr 15 2020 at 20:09)</a>:</h4>
<p>I'll get back to it later</p>

<a name="194224590"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194224590" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194224590">Andrew Ashworth (Apr 15 2020 at 20:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110064">Kenny Lau</span> <a href="#narrow/stream/116395-maths/topic/quickest.20way.20to.20kill.20.22trivial.20mod.20N.22.3F/near/194219591" title="#narrow/stream/116395-maths/topic/quickest.20way.20to.20kill.20.22trivial.20mod.20N.22.3F/near/194219591">said</a>:</p>
<blockquote>
<p>wow, monadius learnt Lean?</p>
</blockquote>
<p>His LinkedIn profile is too intimidating... apparently  he was a PhD student and postdoc with both Tom Hales and Georges Gonthier...</p>

<a name="194226101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194226101" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194226101">Kevin Buzzard (Apr 15 2020 at 20:54)</a>:</h4>
<p><span class="user-mention" data-user-id="110044">@Chris Hughes</span> and <span class="user-mention" data-user-id="127136">@Alex J. Best</span>  this is great, thanks a lot. Kenny, your code looks like mine (in fact mine looks worse), which is exactly why I asked. Chris' method is exactly what I need in my use case.</p>

<a name="194227382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194227382" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194227382">Kevin Buzzard (Apr 15 2020 at 21:04)</a>:</h4>
<p><em>sigh</em> </p>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">zmod</span> <span class="mi">4</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">3</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="err">%</span> <span class="mi">4</span> <span class="bp">=</span> <span class="mi">3</span> <span class="o">:=</span> <span class="n">sorry</span>
</pre></div>

<a name="194227549"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194227549" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194227549">Kevin Buzzard (Apr 15 2020 at 21:06)</a>:</h4>
<p><code>val_cast_nat</code> or <code>eq_iff_modeq_int</code></p>

<a name="194228543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/quickest%20way%20to%20kill%20%22trivial%20mod%20N%22%3F/near/194228543" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/01942quickestwaytokilltrivialmodN.html#194228543">Jesse Michael Han (Apr 15 2020 at 21:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110025">Andrew Ashworth</span> <a href="#narrow/stream/116395-maths/topic/quickest.20way.20to.20kill.20.22trivial.20mod.20N.22.3F/near/194224590" title="#narrow/stream/116395-maths/topic/quickest.20way.20to.20kill.20.22trivial.20mod.20N.22.3F/near/194224590">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="110064">Kenny Lau</span> <a href="#narrow/stream/116395-maths/topic/quickest.20way.20to.20kill.20.22trivial.20mod.20N.22.3F/near/194219591" title="#narrow/stream/116395-maths/topic/quickest.20way.20to.20kill.20.22trivial.20mod.20N.22.3F/near/194219591">said</a>:</p>
<blockquote>
<p>wow, monadius learnt Lean?</p>
</blockquote>
<p>His LinkedIn profile is too intimidating... apparently  he was a PhD student and postdoc with both Tom Hales and Georges Gonthier...</p>
</blockquote>
<p>alexey is part of this chat</p>


{% endraw %}

{% include archive_update.html %}