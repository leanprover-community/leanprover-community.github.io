---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/116395maths/23022Nuancesregardingnaturality.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/23022Nuancesregardingnaturality.html">Nuances regarding naturality</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="135266364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Nuances%20regarding%20naturality/near/135266364" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23022Nuancesregardingnaturality.html#135266364">Kevin Buzzard (Oct 05 2018 at 16:56)</a>:</h4>
<p><a href="https://mathoverflow.net/questions/244131/nuances-regarding-naturality?noredirect=1&amp;lq=1" target="_blank" title="https://mathoverflow.net/questions/244131/nuances-regarding-naturality?noredirect=1&amp;lq=1">https://mathoverflow.net/questions/244131/nuances-regarding-naturality?noredirect=1&amp;lq=1</a></p>
<p>Does Lean have a good answer to this question? My understanding is that the OP is trying to define data which involves an uncomputable choice of some other data (and it's a theorem that such a choice can always be made in at least one way) and then a proof that the data we care about is independent of this uncomputable choice.</p>

<a name="135266773"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Nuances%20regarding%20naturality/near/135266773" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23022Nuancesregardingnaturality.html#135266773">Kevin Buzzard (Oct 05 2018 at 17:05)</a>:</h4>
<p>Is the function that sends a vector space to the cardinal corresponding to its dimension any "better" in any way than the function that sends a vector space to a basis which was chosen using the axiom of choice?</p>

<a name="135271784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Nuances%20regarding%20naturality/near/135271784" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23022Nuancesregardingnaturality.html#135271784">Bryan Gin-ge Chen (Oct 05 2018 at 18:25)</a>:</h4>
<p>Perhaps I'm missing something, but the dimension function is defined using the "choose-a-basis" function, right?</p>

<a name="135271867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Nuances%20regarding%20naturality/near/135271867" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23022Nuancesregardingnaturality.html#135271867">Bryan Gin-ge Chen (Oct 05 2018 at 18:26)</a>:</h4>
<p>I ran into this when I was working on the rank function for matroids (which is a generalization of dimension for f.d. vector spaces); even with unique existence, you still have to apply some form of choice to define the actual nat.</p>

<a name="135272437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Nuances%20regarding%20naturality/near/135272437" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23022Nuancesregardingnaturality.html#135272437">Kevin Buzzard (Oct 05 2018 at 18:37)</a>:</h4>
<p>Yes. The question is whether the added nuance of the proof that the output is independent of the choice can be expressed in Lean. A mathematician might argue that they hadn't "seriously" used choice, or something. I was wondering if there was anything in this.</p>

<a name="135272490"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Nuances%20regarding%20naturality/near/135272490" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23022Nuancesregardingnaturality.html#135272490">Chris Hughes (Oct 05 2018 at 18:38)</a>:</h4>
<p>It could still be done computably, using <code>trunc</code>, instead of<code> exists</code>, and <code>quot.lift</code> instead of choice.</p>

<a name="135272523"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Nuances%20regarding%20naturality/near/135272523" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23022Nuancesregardingnaturality.html#135272523">Reid Barton (Oct 05 2018 at 18:39)</a>:</h4>
<p>The dimension function can be defined using only "unique choice" <code>nonempty a -&gt; (\all x y : a, x = y) -&gt; a</code>. This is just as noncomputable as full choice but philosophically less problematic (at least to me) because the type of the "unique choice" constant is a subsingleton.</p>

<a name="135272533"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Nuances%20regarding%20naturality/near/135272533" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23022Nuancesregardingnaturality.html#135272533">Reid Barton (Oct 05 2018 at 18:39)</a>:</h4>
<p>Another formulation is <code>nonempty a -&gt; trunc a</code>, yes</p>

<a name="135272596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Nuances%20regarding%20naturality/near/135272596" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23022Nuancesregardingnaturality.html#135272596">Bryan Gin-ge Chen (Oct 05 2018 at 18:40)</a>:</h4>
<p>At the time I ended up throwing in an <code>encodable</code> instance. I'll have to look into <code>trunc</code> now that I know a little more about it though.</p>

<a name="135272696"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Nuances%20regarding%20naturality/near/135272696" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23022Nuancesregardingnaturality.html#135272696">Reid Barton (Oct 05 2018 at 18:42)</a>:</h4>
<p>The "pick a basis" function is different because its value depends on the interpretation of the <code>choice</code> constant</p>

<a name="135273811"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Nuances%20regarding%20naturality/near/135273811" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23022Nuancesregardingnaturality.html#135273811">Bryan Gin-ge Chen (Oct 05 2018 at 18:58)</a>:</h4>
<p>What's <code>nonempty a -&gt; trunc a</code>? I see <code>nonempty_of_trunc</code> in mathlib but not the other way around. Is this because in lean's foundations there's no unique choice? To define the dimension function in lean, am I right that you could only do it by returning the cardinality of "pick a basis"? Well-definedness would be proven and used separately I suppose.</p>

<a name="135273995"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Nuances%20regarding%20naturality/near/135273995" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23022Nuancesregardingnaturality.html#135273995">Reid Barton (Oct 05 2018 at 19:00)</a>:</h4>
<p><code>choice</code>, then <code>trunc.mk</code></p>

<a name="135274205"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Nuances%20regarding%20naturality/near/135274205" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23022Nuancesregardingnaturality.html#135274205">Reid Barton (Oct 05 2018 at 19:03)</a>:</h4>
<p>Lean's core library only has the axiom <code>choice</code>, and derives all the other classical principles from it. So in this setup you can't make fine distinctions between things like using choice and only using unique choice. However, you could imagine adding unique choice (and LEM) as separate axioms.</p>

<a name="135274280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Nuances%20regarding%20naturality/near/135274280" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23022Nuancesregardingnaturality.html#135274280">Reid Barton (Oct 05 2018 at 19:04)</a>:</h4>
<p>You could also add the "axiom of choice" (which is a Prop) as a separate axiom.</p>

<a name="135274327"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Nuances%20regarding%20naturality/near/135274327" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23022Nuancesregardingnaturality.html#135274327">Reid Barton (Oct 05 2018 at 19:05)</a>:</h4>
<p>Then you could define the dimension function using only the "axiom of choice" (to prove <code>nonempty (basis V)</code>) and "unique choice" (to extract the dimension)--in order to do this you <em>have</em> to prove that every basis has the same cardinality</p>

<a name="135274384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Nuances%20regarding%20naturality/near/135274384" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23022Nuancesregardingnaturality.html#135274384">Reid Barton (Oct 05 2018 at 19:06)</a>:</h4>
<p>Both of these axioms are subsingletons, so you can conclude that the dimension of a vector space doesn't depend on the interpretation of <code>choice</code> or on any other "arbitrary choices".</p>

<a name="135274415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Nuances%20regarding%20naturality/near/135274415" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23022Nuancesregardingnaturality.html#135274415">Reid Barton (Oct 05 2018 at 19:06)</a>:</h4>
<p>You cannot define the "pick a basis" function this way</p>

<a name="135274693"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Nuances%20regarding%20naturality/near/135274693" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23022Nuancesregardingnaturality.html#135274693">Kenny Lau (Oct 05 2018 at 19:10)</a>:</h4>
<p>is it possible to define <code>trunc (basis V)</code> computably?</p>

<a name="135274730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Nuances%20regarding%20naturality/near/135274730" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23022Nuancesregardingnaturality.html#135274730">Bryan Gin-ge Chen (Oct 05 2018 at 19:11)</a>:</h4>
<p>How are you given <code>V</code>?</p>

<a name="135274795"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Nuances%20regarding%20naturality/near/135274795" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23022Nuancesregardingnaturality.html#135274795">Kenny Lau (Oct 05 2018 at 19:12)</a>:</h4>
<div class="codehilite"><pre><span></span>k : Type u
V : Type v
_inst_1 : field k
_inst_2 : vector_space k V
</pre></div>

<a name="135274888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Nuances%20regarding%20naturality/near/135274888" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23022Nuancesregardingnaturality.html#135274888">Chris Hughes (Oct 05 2018 at 19:13)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> providing a truncated basis could be part of the definition of finite dimensional vector space.</p>

<a name="135274976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Nuances%20regarding%20naturality/near/135274976" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23022Nuancesregardingnaturality.html#135274976">Chris Hughes (Oct 05 2018 at 19:14)</a>:</h4>
<p>For the infinite case you can't do it, but who cares when cardinals don't have decidable equality.</p>

<a name="135274977"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Nuances%20regarding%20naturality/near/135274977" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23022Nuancesregardingnaturality.html#135274977">Kenny Lau (Oct 05 2018 at 19:14)</a>:</h4>
<p>so essentially I'm asking for a term of the type <code>\Pi (k : Type u) (V : Type v) [field k] [vector_space k V], trunc (basis k V)</code></p>


{% endraw %}
