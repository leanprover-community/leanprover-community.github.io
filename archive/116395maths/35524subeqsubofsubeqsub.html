---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/116395maths/35524subeqsubofsubeqsub.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/35524subeqsubofsubeqsub.html">sub_eq_sub_of_sub_eq_sub</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="157519867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/sub_eq_sub_of_sub_eq_sub/near/157519867" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35524subeqsubofsubeqsub.html#157519867">Kevin Buzzard (Feb 04 2019 at 12:40)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">add_comm_group</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">d</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">-</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">c</span> <span class="bp">-</span> <span class="n">d</span> <span class="bp">→</span> <span class="n">a</span> <span class="bp">-</span> <span class="n">c</span> <span class="bp">=</span> <span class="n">b</span> <span class="bp">-</span> <span class="n">d</span> <span class="o">:=</span>
<span class="n">sorry</span>
</pre></div>


<p><code>abel</code> turns this into <code>a + gsmul (-1) b = c + gsmul (-1) d → a + gsmul (-1) c = b + gsmul (-1) d</code>. </p>
<p>I can solve these things, e.g.</p>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">add_comm_group</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">d</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">-</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">c</span> <span class="bp">-</span> <span class="n">d</span> <span class="bp">→</span> <span class="n">a</span> <span class="bp">-</span> <span class="n">c</span> <span class="bp">=</span> <span class="n">b</span> <span class="bp">-</span> <span class="n">d</span> <span class="o">:=</span>
<span class="bp">λ</span> <span class="n">h</span><span class="o">,</span> <span class="k">by</span> <span class="n">rw</span> <span class="o">(</span><span class="n">eq_add_of_sub_eq</span> <span class="n">h</span><span class="o">)</span><span class="bp">;</span> <span class="n">simp</span>
</pre></div>


<p>and I can even PR these things to mathlib if there is a need, but I am not sure whether this is the right thing to do. Is there automation which can solve these goals? Should I just be proving them as I need them in the middle of goals? Is the result there already?</p>

<a name="157519975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/sub_eq_sub_of_sub_eq_sub/near/157519975" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35524subeqsubofsubeqsub.html#157519975">Kenny Lau (Feb 04 2019 at 12:43)</a>:</h4>
<p>so we're looking at the free Z-module &lt;a,b,c,d&gt; and asking whether (a-c)-(b-d) is in the submodule generated by (a-b)-(c-d) or something like that?</p>

<a name="157519986"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/sub_eq_sub_of_sub_eq_sub/near/157519986" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35524subeqsubofsubeqsub.html#157519986">Kenny Lau (Feb 04 2019 at 12:43)</a>:</h4>
<p>is there some normal form of Z matrices that might solve this?</p>

<a name="157519987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/sub_eq_sub_of_sub_eq_sub/near/157519987" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35524subeqsubofsubeqsub.html#157519987">Kevin Buzzard (Feb 04 2019 at 12:43)</a>:</h4>
<p>Right, this is the problem.</p>

<a name="157519997"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/sub_eq_sub_of_sub_eq_sub/near/157519997" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35524subeqsubofsubeqsub.html#157519997">Kenny Lau (Feb 04 2019 at 12:43)</a>:</h4>
<p>Smith normal form?</p>

<a name="157520003"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/sub_eq_sub_of_sub_eq_sub/near/157520003" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35524subeqsubofsubeqsub.html#157520003">Kevin Buzzard (Feb 04 2019 at 12:43)</a>:</h4>
<p>I would not expect <code>ring</code> to solve this because it's not "this is an identity in all commutative rings", it's "this element is in this ideal"</p>

<a name="157520065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/sub_eq_sub_of_sub_eq_sub/near/157520065" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35524subeqsubofsubeqsub.html#157520065">Kenny Lau (Feb 04 2019 at 12:44)</a>:</h4>
<p>sure</p>

<a name="157520067"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/sub_eq_sub_of_sub_eq_sub/near/157520067" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35524subeqsubofsubeqsub.html#157520067">Kevin Buzzard (Feb 04 2019 at 12:44)</a>:</h4>
<p>So for rings we need Groebner bases, which we don't have, and would be a substantial project to write.</p>

<a name="157520081"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/sub_eq_sub_of_sub_eq_sub/near/157520081" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35524subeqsubofsubeqsub.html#157520081">Kevin Buzzard (Feb 04 2019 at 12:44)</a>:</h4>
<p>But for abelian groups I thought there was a chance it was easier / already there.</p>

<a name="157520146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/sub_eq_sub_of_sub_eq_sub/near/157520146" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35524subeqsubofsubeqsub.html#157520146">Kenny Lau (Feb 04 2019 at 12:45)</a>:</h4>
<p>and this isn't "this element is in this ideal", it's "this element is in this submodule"</p>

<a name="157520161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/sub_eq_sub_of_sub_eq_sub/near/157520161" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35524subeqsubofsubeqsub.html#157520161">Kenny Lau (Feb 04 2019 at 12:45)</a>:</h4>
<p>our problem is linear</p>

<a name="157520169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/sub_eq_sub_of_sub_eq_sub/near/157520169" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35524subeqsubofsubeqsub.html#157520169">Kevin Buzzard (Feb 04 2019 at 12:45)</a>:</h4>
<p>exactly</p>

<a name="157520177"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/sub_eq_sub_of_sub_eq_sub/near/157520177" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35524subeqsubofsubeqsub.html#157520177">Kevin Buzzard (Feb 04 2019 at 12:45)</a>:</h4>
<p>No doubt the tactic I want has a name and is already in Coq.</p>

<a name="157520238"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/sub_eq_sub_of_sub_eq_sub/near/157520238" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35524subeqsubofsubeqsub.html#157520238">Kenny Lau (Feb 04 2019 at 12:46)</a>:</h4>
<p>I think we need to buy Coq</p>

<a name="157520253"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/sub_eq_sub_of_sub_eq_sub/near/157520253" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35524subeqsubofsubeqsub.html#157520253">Kevin Buzzard (Feb 04 2019 at 12:46)</a>:</h4>
<p>I'm sure MS could buy it, I bet it's cheaper than Nokia</p>

<a name="157520274"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/sub_eq_sub_of_sub_eq_sub/near/157520274" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35524subeqsubofsubeqsub.html#157520274">Kevin Buzzard (Feb 04 2019 at 12:47)</a>:</h4>
<p>I think we need to port it.</p>

<a name="157520280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/sub_eq_sub_of_sub_eq_sub/near/157520280" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35524subeqsubofsubeqsub.html#157520280">Mario Carneiro (Feb 04 2019 at 12:47)</a>:</h4>
<p>you only need to be a nationwide university to pay for it</p>

<a name="157520339"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/sub_eq_sub_of_sub_eq_sub/near/157520339" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35524subeqsubofsubeqsub.html#157520339">Kevin Buzzard (Feb 04 2019 at 12:48)</a>:</h4>
<p>But we also need the army of people whose job it is to port all the tactics</p>

<a name="157520351"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/sub_eq_sub_of_sub_eq_sub/near/157520351" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35524subeqsubofsubeqsub.html#157520351">Mario Carneiro (Feb 04 2019 at 12:48)</a>:</h4>
<p>those cost extra</p>

<a name="157520360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/sub_eq_sub_of_sub_eq_sub/near/157520360" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35524subeqsubofsubeqsub.html#157520360">Kenny Lau (Feb 04 2019 at 12:48)</a>:</h4>
<p>I think we need to convince Elon Musk to do something</p>

<a name="157520364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/sub_eq_sub_of_sub_eq_sub/near/157520364" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35524subeqsubofsubeqsub.html#157520364">Mario Carneiro (Feb 04 2019 at 12:49)</a>:</h4>
<p>For this theorem, sure you can add it if it's useful. I'd make it a biconditional</p>

<a name="157520381"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/sub_eq_sub_of_sub_eq_sub/near/157520381" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35524subeqsubofsubeqsub.html#157520381">Kenny Lau (Feb 04 2019 at 12:49)</a>:</h4>
<p><del>(and add <code>@[simp]</code>)</del></p>

<a name="157520384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/sub_eq_sub_of_sub_eq_sub/near/157520384" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35524subeqsubofsubeqsub.html#157520384">Mario Carneiro (Feb 04 2019 at 12:49)</a>:</h4>
<p>lolno</p>

<a name="157520462"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/sub_eq_sub_of_sub_eq_sub/near/157520462" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35524subeqsubofsubeqsub.html#157520462">Mario Carneiro (Feb 04 2019 at 12:50)</a>:</h4>
<p>another one which might be useful (and we might already have) is <code>a - b = c - d &lt;-&gt; a + d = b + c</code></p>

<a name="157521371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/sub_eq_sub_of_sub_eq_sub/near/157521371" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35524subeqsubofsubeqsub.html#157521371">Kevin Buzzard (Feb 04 2019 at 13:08)</a>:</h4>
<p><code>&lt;-&gt; a + d = c + b &lt;-&gt; d + a = b + c &lt;-&gt; ...</code></p>

<a name="157521428"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/sub_eq_sub_of_sub_eq_sub/near/157521428" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35524subeqsubofsubeqsub.html#157521428">Kevin Buzzard (Feb 04 2019 at 13:10)</a>:</h4>
<blockquote>
<p>I think we need to convince Elon Musk to do something</p>
</blockquote>
<p>At <a href="http://aitp-conference.org/2019/" target="_blank" title="http://aitp-conference.org/2019/">AITP</a> I'm going to try and get DeepMind interested. I don't know why they're focussing on medicine, we have to get the basics right first.</p>

<a name="157521498"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/sub_eq_sub_of_sub_eq_sub/near/157521498" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35524subeqsubofsubeqsub.html#157521498">Mario Carneiro (Feb 04 2019 at 13:10)</a>:</h4>
<p>I thought they were focusing on starcraft now</p>

<a name="157521508"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/sub_eq_sub_of_sub_eq_sub/near/157521508" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35524subeqsubofsubeqsub.html#157521508">Kevin Buzzard (Feb 04 2019 at 13:11)</a>:</h4>
<p>They finished that last week.</p>

<a name="157521592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/sub_eq_sub_of_sub_eq_sub/near/157521592" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35524subeqsubofsubeqsub.html#157521592">Kevin Buzzard (Feb 04 2019 at 13:12)</a>:</h4>
<p>lol my proof doesn't port. I wanted <code>r - ↑⌊r⌋ = s - ↑⌊s⌋ -&gt; r - s = ↑⌊r⌋ - ↑⌊s⌋</code> but when I rewrite the <code>r</code> it goes in the floor too :-)</p>


{% endraw %}
