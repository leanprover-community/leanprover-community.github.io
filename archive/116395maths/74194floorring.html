---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/116395maths/74194floorring.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html">floor_ring</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="157514652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157514652" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157514652">Kevin Buzzard (Feb 04 2019 at 10:55)</a>:</h4>
<p>Is every <code>floor_ring</code> a subring of the reals? Note that a <code>floor_ring</code> is not assumed commutative! But for a general <code>floor_ring</code> it is proved in the library that <code>floor x &lt;= x &lt; (floor x) + 1</code>.</p>

<a name="157514707"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157514707" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157514707">Kevin Buzzard (Feb 04 2019 at 10:56)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">class</span> <span class="n">floor_ring</span> <span class="o">(</span><span class="n">α</span><span class="o">)</span> <span class="o">[</span><span class="n">linear_ordered_ring</span> <span class="n">α</span><span class="o">]</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">floor</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="bp">ℤ</span><span class="o">)</span>
<span class="o">(</span><span class="n">le_floor</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">z</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">),</span> <span class="n">z</span> <span class="bp">≤</span> <span class="n">floor</span> <span class="n">x</span> <span class="bp">↔</span> <span class="o">(</span><span class="n">z</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">x</span><span class="o">)</span>
</pre></div>


<p>From <code>algebra/archimedean.lean</code></p>

<a name="157514740"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157514740" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157514740">Kevin Buzzard (Feb 04 2019 at 10:57)</a>:</h4>
<p>One can prove</p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">eq_floor_iff_bounds</span> <span class="o">(</span><span class="n">r</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">z</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="o">:</span>
  <span class="err">⌊</span><span class="n">r</span><span class="err">⌋</span> <span class="bp">=</span> <span class="n">z</span> <span class="bp">↔</span> <span class="err">↑</span><span class="n">z</span> <span class="bp">≤</span> <span class="n">r</span> <span class="bp">∧</span> <span class="n">r</span> <span class="bp">&lt;</span> <span class="o">(</span><span class="n">z</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">...</span>
</pre></div>

<a name="157514815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157514815" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157514815">Mario Carneiro (Feb 04 2019 at 10:58)</a>:</h4>
<p>I just noticed we don't even have that <code>floor_ring</code> implies <code>archimedean</code></p>

<a name="157514825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157514825" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157514825">Kevin Buzzard (Feb 04 2019 at 10:58)</a>:</h4>
<p>it's part of the definition in some sense, right?</p>

<a name="157514830"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157514830" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157514830">Kevin Buzzard (Feb 04 2019 at 10:58)</a>:</h4>
<p>You mean we don't have the instance?</p>

<a name="157514852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157514852" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157514852">Mario Carneiro (Feb 04 2019 at 10:59)</a>:</h4>
<p>not exactly... the definition of archimedean uses two variables from the ring</p>

<a name="157514867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157514867" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157514867">Kevin Buzzard (Feb 04 2019 at 10:59)</a>:</h4>
<p>Sorry I'm talking nonsense. It's <code>linear_ordered_ring</code> which is part of the definition. I was going to delete my comments but then you replied too quickly :-)</p>

<a name="157514872"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157514872" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157514872">Mario Carneiro (Feb 04 2019 at 10:59)</a>:</h4>
<p>only when you have a field does it reduce to the one variable version i.e. <code>archimedean_iff_nat_le</code> which is obviously implied by a floor ring</p>

<a name="157515038"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515038" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515038">Kevin Buzzard (Feb 04 2019 at 11:02)</a>:</h4>
<p>So this is another maths question, right? Are all <code>floor_ring</code>s archimedean?</p>

<a name="157515054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515054" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515054">Kevin Buzzard (Feb 04 2019 at 11:03)</a>:</h4>
<p>A weaker question is: is every <code>floor_ring</code> commutative.</p>

<a name="157515105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515105" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515105">Sebastien Gouezel (Feb 04 2019 at 11:04)</a>:</h4>
<blockquote>
<p>Is every <code>floor_ring</code> a subring of the reals?.</p>
</blockquote>
<p>What about reals with an infinitesimal <code>t</code>?</p>

<a name="157515122"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515122" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515122">Kevin Buzzard (Feb 04 2019 at 11:04)</a>:</h4>
<p>Right -- this is what I thought originally.</p>

<a name="157515128"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515128" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515128">Kevin Buzzard (Feb 04 2019 at 11:04)</a>:</h4>
<p>But what is the floor of <code>1/t</code>?</p>

<a name="157515130"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515130" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515130">Mario Carneiro (Feb 04 2019 at 11:04)</a>:</h4>
<p>Also isn't Z[t] a floor ring?</p>

<a name="157515136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515136" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515136">Mario Carneiro (Feb 04 2019 at 11:05)</a>:</h4>
<p>where t is infinitesimal</p>

<a name="157515144"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515144" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515144">Kevin Buzzard (Feb 04 2019 at 11:05)</a>:</h4>
<p>Now there's a good candidate.</p>

<a name="157515151"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515151" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515151">Sebastien Gouezel (Feb 04 2019 at 11:05)</a>:</h4>
<p><code>t</code> is not invertible in this example, so <code>1/t</code> is zero, so the floor of <code>1/t</code> is zero.</p>

<a name="157515153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515153" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515153">Kevin Buzzard (Feb 04 2019 at 11:05)</a>:</h4>
<p>So maybe the question is whether every <code>floor_division_ring</code> is commutative.</p>

<a name="157515201"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515201" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515201">Kevin Buzzard (Feb 04 2019 at 11:06)</a>:</h4>
<p>OK but this is great, not every <code>floor_ring</code> is a subring of the reals.</p>

<a name="157515209"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515209" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515209">Mario Carneiro (Feb 04 2019 at 11:06)</a>:</h4>
<p>that should be enough to get <code>archimedean</code>, at least</p>

<a name="157515243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515243" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515243">Kevin Buzzard (Feb 04 2019 at 11:07)</a>:</h4>
<p>Does <code>archimedean</code> imply "embeds in the reals"??</p>

<a name="157515249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515249" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515249">Kevin Buzzard (Feb 04 2019 at 11:07)</a>:</h4>
<p>I realise I know nothing about this stuff. I have been non-archimedean all my life.</p>

<a name="157515250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515250" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515250">Mario Carneiro (Feb 04 2019 at 11:07)</a>:</h4>
<p>there's a floor function, seems like a good start</p>

<a name="157515260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515260" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515260">Mario Carneiro (Feb 04 2019 at 11:07)</a>:</h4>
<p>just keep multiplying by 10 and floor</p>

<a name="157515305"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515305" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515305">Kevin Buzzard (Feb 04 2019 at 11:08)</a>:</h4>
<p>right! But are we assuming commutative here?</p>

<a name="157515306"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515306" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515306">Mario Carneiro (Feb 04 2019 at 11:08)</a>:</h4>
<p>and you get a decimal expansion for a real</p>

<a name="157515312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515312" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515312">Kevin Buzzard (Feb 04 2019 at 11:08)</a>:</h4>
<p>wait</p>

<a name="157515319"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515319" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515319">Kevin Buzzard (Feb 04 2019 at 11:08)</a>:</h4>
<p><code>Z[t]</code> is archimedean, I guess?</p>

<a name="157515327"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515327" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515327">Mario Carneiro (Feb 04 2019 at 11:09)</a>:</h4>
<p>not by mathlib definition</p>

<a name="157515333"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515333" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515333">Mario Carneiro (Feb 04 2019 at 11:09)</a>:</h4>
<p>that's what the two variables are for</p>

<a name="157515342"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515342" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515342">Kevin Buzzard (Feb 04 2019 at 11:09)</a>:</h4>
<p>Hey, can we have non-commuting infinitesimals, to give me a non-commuting <code>floor_ring</code>? I bet we can.</p>

<a name="157515353"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515353" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515353">Mario Carneiro (Feb 04 2019 at 11:10)</a>:</h4>
<p>how do they compare?</p>

<a name="157515361"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515361" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515361">Kevin Buzzard (Feb 04 2019 at 11:10)</a>:</h4>
<p>I had ruled out infinitesimals because of my <code>1/t</code> error so my thoughts on this are all out of whack.</p>

<a name="157515405"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515405" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515405">Kevin Buzzard (Feb 04 2019 at 11:10)</a>:</h4>
<p>One is bigger than the other one.</p>

<a name="157515407"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515407" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515407">Kevin Buzzard (Feb 04 2019 at 11:10)</a>:</h4>
<p>Much bigger.</p>

<a name="157515419"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515419" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515419">Mario Carneiro (Feb 04 2019 at 11:10)</a>:</h4>
<p>and <code>s * t &lt; t * s</code>?</p>

<a name="157515424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515424" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515424">Kevin Buzzard (Feb 04 2019 at 11:10)</a>:</h4>
<p>This is the heart of the matter isn't it.</p>

<a name="157515432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515432" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515432">Kevin Buzzard (Feb 04 2019 at 11:11)</a>:</h4>
<p>Maybe you order monomials lexicographically.</p>

<a name="157515450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515450" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515450">Kevin Buzzard (Feb 04 2019 at 11:11)</a>:</h4>
<p>I could imagine this being preserved under pre and post multiplication by infinitesimals.</p>

<a name="157515532"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515532" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515532">Kevin Buzzard (Feb 04 2019 at 11:13)</a>:</h4>
<p>OK I think the thing to do in my decimal expansion thing is just to allow non-commutative rings until it starts becoming painful and then just add in the commutativity assumption.</p>

<a name="157515533"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515533" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515533">Mario Carneiro (Feb 04 2019 at 11:13)</a>:</h4>
<p>requires a bit more formalization, but I think it checks out</p>

<a name="157515587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515587" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515587">Mario Carneiro (Feb 04 2019 at 11:14)</a>:</h4>
<p>aha you might want <code>decidable_linear_ordered_comm_ring</code></p>

<a name="157515589"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515589" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515589">Mario Carneiro (Feb 04 2019 at 11:14)</a>:</h4>
<p>oh wait <code>linear_ordered_comm_ring</code> is there too</p>

<a name="157515597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515597" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515597">Kevin Buzzard (Feb 04 2019 at 11:14)</a>:</h4>
<p>Yes, I discovered it when I was trying to debug why linarith couldn't prove <code>s &gt;= 0 -&gt; r - s &lt;= r</code> in the other thread!</p>

<a name="157515627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515627" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515627">Kevin Buzzard (Feb 04 2019 at 11:15)</a>:</h4>
<p>[answer: default <code>ring</code> discharger wouldn't run because underlying ring was not commutative]</p>

<a name="157515680"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515680" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515680">Mario Carneiro (Feb 04 2019 at 11:16)</a>:</h4>
<p>I think linarith isn't really designed for noncomm rings, since it uses <code>ring</code> as part of completeness</p>

<a name="157515692"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515692" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515692">Kevin Buzzard (Feb 04 2019 at 11:17)</a>:</h4>
<p>Right, so when things start getting hairy to the extent that <code>simp</code> won't discharge things, I'll give in and switch to commutative rings.</p>

<a name="157515705"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515705" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515705">Mario Carneiro (Feb 04 2019 at 11:17)</a>:</h4>
<p>We could extend <code>ring</code> to noncomm rings, but I'm not sure how useful that is. It seems like it would just be a combination of <code>abel</code> and <code>cc</code> on the monomials</p>

<a name="157515775"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157515775" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157515775">Kevin Buzzard (Feb 04 2019 at 11:19)</a>:</h4>
<p>I meant to get all this done over the weekend so I could work on the perfectoid project today, but I didn't quite finish, and I really want to do it because modulo decimal expansions we have the entire questions and solutions for my final exam, and this is too cool to go unignored. When I started here we had no sine and cosine so we couldn't even formalise the questions. Ever since my birthday I've been desperate to formalise this final exam but I've been in teaching / admin hell which I am now finally out of.</p>

<a name="157766370"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157766370" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157766370">Sebastien Gouezel (Feb 07 2019 at 10:33)</a>:</h4>
<p>I just noticed that <code>floor</code> is defined on rings, but the definition does not involve the multiplication at all. Shouldn't it be defined on <code>linear_order_add_comm_group</code> or something like that instead?</p>

<a name="157766633"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157766633" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157766633">Kevin Buzzard (Feb 07 2019 at 10:37)</a>:</h4>
<p><code>floor</code> takes values in Z so we need a group with a 1, but I am not sure we need the ring structure.</p>

<a name="157767059"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157767059" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157767059">Sebastien Gouezel (Feb 07 2019 at 10:46)</a>:</h4>
<p>Anyway, the only interesting examples are rationals and reals, so defining it on rings does no harm. We could even define it directly on <code>decidable_linear_ordered_comm_ring</code>.</p>

<a name="157771513"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/floor_ring/near/157771513" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/74194floorring.html#157771513">Kevin Buzzard (Feb 07 2019 at 12:06)</a>:</h4>
<p>Because Mario (I think) had already made the decision on what a <code>floor_ring</code> was, I just went with that when it came to fractional parts. The fact that I later on discovered that the rings were not necessarily commutative just meant that I had to be slightly more careful and could use slightly fewer tactics (i.e. no <code>ring</code>).</p>


{% endraw %}
