---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/116395maths/35860categorytheorydocumentation.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html">category theory documentation</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="154133811"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154133811" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154133811">Simon Hudon (Jan 02 2019 at 03:03)</a>:</h4>
<p>Is there a transcript of the rationale behind the design decisions of the category theory part? Specifically, I'd like to know what were the pros and cons of defining <code>category</code> as a type class versus as a structure.</p>

<a name="154136146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154136146" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154136146">Johan Commelin (Jan 02 2019 at 04:28)</a>:</h4>
<p>I guess one of the big pros of using a type class is that Lean will do more work for you... more automation. And the category theory tries to maximize automation as much as possible.<br>
(There is still a lot more to be done, and in fact more has been done in Scott's repositories. Quite often you will see proof obligations in the category-lib written out explicitly that are transparent in Scott's repos because he has better automation than mathlib.)</p>

<a name="154137154"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154137154" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154137154">Reid Barton (Jan 02 2019 at 05:02)</a>:</h4>
<p>The main pro is it lets you write <code>a ‚ü∂ b</code></p>

<a name="154138026"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154138026" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154138026">Simon Hudon (Jan 02 2019 at 05:32)</a>:</h4>
<p><span class="user-mention" data-user-id="110032">@Reid Barton</span> That's a good point. At the same time, that's also a downside because this notation does not tell you which category you're talking of and, I don't know if it's the corner of category theory that I'm in but it seems to be often relevant to distinguish.</p>

<a name="154138030"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154138030" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154138030">Simon Hudon (Jan 02 2019 at 05:32)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> Can you give me examples of automation that are made possible that way?</p>

<a name="154138082"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154138082" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154138082">Johan Commelin (Jan 02 2019 at 05:34)</a>:</h4>
<p><span class="user-mention" data-user-id="110026">@Simon Hudon</span> Maybe it is not so much automation as it is brevity. Now you don't have to feed Lean the category structure when writing down functors or limits (or hom-sets).</p>

<a name="154138085"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154138085" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154138085">Johan Commelin (Jan 02 2019 at 05:34)</a>:</h4>
<p>Are you saying that you often have multiple category structures on the same type?</p>

<a name="154138484"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154138484" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154138484">Reid Barton (Jan 02 2019 at 05:48)</a>:</h4>
<p>You can always use <code>@category.hom</code> explicitly but it might be more convenient (or not) to create synonyms of the underlying type for the different category structures</p>

<a name="154138486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154138486" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154138486">Simon Hudon (Jan 02 2019 at 05:48)</a>:</h4>
<p>Yes. Often might be over stating it as I'm a very fresh category noob. Let's say I'm seeing a repetition in the proofs I find the hardest and this confusion contributes to it</p>

<a name="154138563"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154138563" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154138563">Simon Hudon (Jan 02 2019 at 05:51)</a>:</h4>
<p>But Johan, I'm not suggesting that you write <code>functor C ùíû D ùíü</code>; rather I'd let <code>ùíû</code> and <code>ùíü</code> stand for both the carrier type and the data+proofs by using <code>has_coe_to_sort</code> (please don't kill me <span class="user-mention" data-user-id="110087">@Scott Morrison</span>, I know you're sick of coercions but maybe this time ...)</p>

<a name="154138657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154138657" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154138657">Simon Hudon (Jan 02 2019 at 05:54)</a>:</h4>
<blockquote>
<p>You can always use <code>@category.hom</code> explicitly but it might be more convenient (or not) to create synonyms of the underlying type for the different category structures</p>
</blockquote>
<p>Maybe you're right. I could write a reducible definition so that I don't have to feed both the type and the instance. It does not make up for the other shortcoming of type classes though: with <code>category.{u}</code>, inference is often hindered.</p>

<a name="154138672"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154138672" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154138672">Mario Carneiro (Jan 02 2019 at 05:55)</a>:</h4>
<p><code>small_category</code> was supposed to help with that, but I guess it doesn't get used much in favor of more generality</p>

<a name="154138754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154138754" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154138754">Simon Hudon (Jan 02 2019 at 05:57)</a>:</h4>
<p>I thought so. That's too bad!</p>

<a name="154138799"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154138799" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154138799">Reid Barton (Jan 02 2019 at 05:58)</a>:</h4>
<blockquote>
<p>But Johan, I'm not suggesting that you write <code>functor C ùíû D ùíü</code>; rather I'd let <code>ùíû</code> and <code>ùíü</code> stand for both the carrier type and the data+proofs by using <code>has_coe_to_sort</code> (please don't kill me <span class="user-mention" data-user-id="110087">@Scott Morrison</span>, I know you're sick of coercions but maybe this time ...)</p>
</blockquote>
<p>This sounds like bundled vs unbundled categories (e.g. <a href="https://github.com/rwbarton/lean-homotopy-theory/blob/lean-3.4.1/src/category_theory/bundled.lean" target="_blank" title="https://github.com/rwbarton/lean-homotopy-theory/blob/lean-3.4.1/src/category_theory/bundled.lean">https://github.com/rwbarton/lean-homotopy-theory/blob/lean-3.4.1/src/category_theory/bundled.lean</a>). I'm not sure whether bundled categories were ever considered as the primary interface. It seems like it could be a viable option. It's possible that Scott just chose to use unbundled ones on the basis that other structures (groups, etc.) are unbundled.</p>

<a name="154138871"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154138871" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154138871">Johan Commelin (Jan 02 2019 at 06:00)</a>:</h4>
<p>Instead of a reducible type, you could also create a <code>local abbreviation</code> for <code>@category.hom</code>, right?</p>

<a name="154139060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154139060" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154139060">Simon Hudon (Jan 02 2019 at 06:06)</a>:</h4>
<p>I didn't know you could make abbreviation local. Is that useful?</p>

<a name="154139071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154139071" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154139071">Simon Hudon (Jan 02 2019 at 06:07)</a>:</h4>
<p><span class="user-mention" data-user-id="110032">@Reid Barton</span> That looks good! I might steal it for myself. Do you see a downside to having the coercion?</p>

<a name="154139079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154139079" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154139079">Reid Barton (Jan 02 2019 at 06:07)</a>:</h4>
<p>Like at lines 22-23?</p>

<a name="154139082"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154139082" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154139082">Reid Barton (Jan 02 2019 at 06:07)</a>:</h4>
<p>To be honest, I've hardly used this at all. I was going to prove that Cat has colimits, but I didn't get very far.</p>

<a name="154139126"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154139126" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154139126">Johan Commelin (Jan 02 2019 at 06:08)</a>:</h4>
<p><span class="user-mention" data-user-id="110026">@Simon Hudon</span> I think they have <code>tspace</code> as abbreviation for <code>@topological_space</code> in the <code>topological_space.lean</code> file.</p>

<a name="154139182"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154139182" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154139182">Reid Barton (Jan 02 2019 at 06:10)</a>:</h4>
<p>there's some <code>local notation `cont` := @continuous _ _</code> I think</p>

<a name="154139194"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154139194" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154139194">Johan Commelin (Jan 02 2019 at 06:11)</a>:</h4>
<div class="codehilite"><pre><span></span>git grep tspace
analysis/topology/continuity.lean:local notation `tspace` := topological_space
</pre></div>

<a name="154139196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154139196" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154139196">Johan Commelin (Jan 02 2019 at 06:11)</a>:</h4>
<p>So my memory partly failed me.</p>

<a name="154139198"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154139198" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154139198">Simon Hudon (Jan 02 2019 at 06:11)</a>:</h4>
<p>Ah! Ok! It's a local notation, not an an abbreviation</p>

<a name="154139243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154139243" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154139243">Johan Commelin (Jan 02 2019 at 06:12)</a>:</h4>
<p>Right... (I don't even know the difference...)</p>

<a name="154139249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154139249" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154139249">Reid Barton (Jan 02 2019 at 06:12)</a>:</h4>
<p>the difference is nobody knows what <code>abbreviation</code> does <span class="emoji emoji-263a" title="smile">:smile:</span></p>

<a name="154139267"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154139267" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154139267">Reid Barton (Jan 02 2019 at 06:13)</a>:</h4>
<p>Coercions tend to break down once you have implicit parameters inside the term being coerced that Lean needs to infer.</p>

<a name="154139279"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154139279" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154139279">Simon Hudon (Jan 02 2019 at 06:13)</a>:</h4>
<p>Haha! Abbreviation is sometimes useful but if you use it wrong it's pretty annoying because it doesn't come with equations and you can decide to unfold it. And yet, it's not notation because it is represented in the syntax tree, it has a type, etc</p>

<a name="154139323"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154139323" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154139323">Simon Hudon (Jan 02 2019 at 06:14)</a>:</h4>
<p>I've seen that, it's true. I hear coercion used to be better in Lean 2.</p>

<a name="154139330"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154139330" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154139330">Reid Barton (Jan 02 2019 at 06:14)</a>:</h4>
<p>Maybe an example would be if we had <code>over X : Cat</code>, where <code>X : C</code> and <code>C : Cat</code>, then in <code>A : over X</code>, Lean might play dumb and pretend not to be able to figure out what <code>C</code> is</p>

<a name="154139386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154139386" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154139386">Simon Hudon (Jan 02 2019 at 06:16)</a>:</h4>
<p>Did it happen with this example?</p>

<a name="154139399"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154139399" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154139399">Reid Barton (Jan 02 2019 at 06:16)</a>:</h4>
<p>This is just hypothetical because I never got as far as doing things like that with bundled categories</p>

<a name="154139415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154139415" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154139415">Reid Barton (Jan 02 2019 at 06:17)</a>:</h4>
<p>I guess one could test with something like <code>def over {C : Cat} (X : C) : Cat := C</code> (not the right definition, but it shouldn't matter) and then try to use the coercion</p>

<a name="154139465"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154139465" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154139465">Reid Barton (Jan 02 2019 at 06:18)</a>:</h4>
<p>It also might only fail when Lean needs to use information from outside the thing being coerced to infer implicit arguments inside it--not sure</p>

<a name="154139611"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154139611" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154139611">Simon Hudon (Jan 02 2019 at 06:22)</a>:</h4>
<p>I mostly ran into trouble when using coercion to function types and never with coerce to sort. And one reason I would run into trouble was that I coerced to a polymorphic function type and I needed to infer some of the type parameters and Lean would just give up</p>

<a name="154139820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154139820" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154139820">Simon Hudon (Jan 02 2019 at 06:28)</a>:</h4>
<p>I think I'll run an experiment with reformulating mathlib that way and see how difficult it is</p>

<a name="154139854"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154139854" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154139854">Reid Barton (Jan 02 2019 at 06:29)</a>:</h4>
<p>Yeah, I can't remember having any issues with coercions to sort either</p>

<a name="154140187"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154140187" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154140187">Simon Hudon (Jan 02 2019 at 06:38)</a>:</h4>
<p>I just had a quick look and the following works:</p>
<div class="codehilite"><pre><span></span><span class="kn">structure</span> <span class="n">cat</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">.</span><span class="o">{</span><span class="n">max</span> <span class="o">(</span><span class="n">u</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="n">v</span><span class="bp">+</span><span class="mi">1</span><span class="o">}</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">carrier</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span>
<span class="o">[</span><span class="n">inst</span> <span class="o">:</span> <span class="n">category</span><span class="bp">.</span><span class="o">{</span><span class="n">v</span><span class="o">}</span> <span class="n">carrier</span><span class="o">]</span>

<span class="kn">instance</span> <span class="n">has_coe_to_sort</span><span class="bp">.</span><span class="n">cat</span> <span class="o">:</span> <span class="n">has_coe_to_sort</span> <span class="n">cat</span><span class="bp">.</span><span class="o">{</span><span class="n">u</span> <span class="n">v</span><span class="o">}</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">S</span> <span class="o">:=</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">,</span>
  <span class="n">coe</span> <span class="o">:=</span> <span class="n">cat</span><span class="bp">.</span><span class="n">carrier</span> <span class="o">}</span>

<span class="n">def</span> <span class="n">Hom</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="n">cat</span><span class="bp">.</span><span class="o">{</span><span class="n">u</span> <span class="n">v</span><span class="o">}}</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">C</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">category</span><span class="bp">.</span><span class="n">hom</span> <span class="bp">_</span> <span class="n">C</span><span class="bp">.</span><span class="n">inst</span> <span class="n">x</span> <span class="n">y</span>

<span class="kn">variables</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="n">cat</span><span class="bp">.</span><span class="o">{</span><span class="n">u</span> <span class="n">v</span><span class="o">}}</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">C</span><span class="o">)</span>

<span class="bp">#</span><span class="kn">check</span> <span class="n">Hom</span> <span class="n">x</span> <span class="n">y</span>
</pre></div>

<a name="154140275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154140275" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154140275">Simon Hudon (Jan 02 2019 at 06:41)</a>:</h4>
<p>And then I can define the following notation:</p>
<div class="codehilite"><pre><span></span><span class="kn">notation</span> <span class="n">x</span> <span class="bp">`</span> <span class="err">‚ü∂</span><span class="o">[</span><span class="bp">`</span> <span class="n">c</span> <span class="bp">`</span><span class="o">]</span> <span class="bp">`</span> <span class="n">y</span> <span class="o">:=</span> <span class="n">Hom</span> <span class="n">c</span> <span class="n">x</span> <span class="n">y</span>
<span class="bp">#</span><span class="kn">check</span> <span class="n">Hom</span> <span class="n">C</span> <span class="n">x</span> <span class="n">y</span>
<span class="c1">-- x ‚ü∂[C] y : Type v</span>

<span class="n">local</span> <span class="kn">infix</span> <span class="bp">`</span> <span class="err">‚ü∂</span> <span class="bp">`</span> <span class="o">:=</span> <span class="n">Hom</span> <span class="bp">_</span>

<span class="bp">#</span><span class="kn">check</span> <span class="n">Hom</span> <span class="n">C</span> <span class="n">x</span> <span class="n">y</span>
<span class="c1">-- x ‚ü∂ y : Type v</span>
</pre></div>

<a name="154140405"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154140405" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154140405">Reid Barton (Jan 02 2019 at 06:45)</a>:</h4>
<p>A bonus is that we can now give the category of types the correct name, namely <strong>Set</strong></p>

<a name="154141701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154141701" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154141701">Johan Commelin (Jan 02 2019 at 07:22)</a>:</h4>
<p><span class="user-mention" data-user-id="110026">@Simon Hudon</span> Don't you mean to make the argument <code>C</code> to <code>Hom</code> <em>explicit</em>?</p>

<a name="154141723"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154141723" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154141723">Simon Hudon (Jan 02 2019 at 07:23)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> Yes you're right! I changed it in my file and didn't bother fixing it here but it does matter you're right</p>

<a name="154141731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154141731" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154141731">Simon Hudon (Jan 02 2019 at 07:24)</a>:</h4>
<p><span class="user-mention" data-user-id="110032">@Reid Barton</span> Wouldn't you define <em>Set</em> using <code>set_theory</code> instead?</p>

<a name="154142219"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154142219" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154142219">Reid Barton (Jan 02 2019 at 07:37)</a>:</h4>
<p>Nope!</p>

<a name="154142273"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154142273" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154142273">Reid Barton (Jan 02 2019 at 07:38)</a>:</h4>
<p>It would be messy, and equivalent anyways</p>

<a name="154142345"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154142345" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154142345">Reid Barton (Jan 02 2019 at 07:41)</a>:</h4>
<p><code>set_theory</code> sets have notions like global membership/subset predicates, which aren't relevant to Set</p>

<a name="154142459"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154142459" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154142459">Simon Hudon (Jan 02 2019 at 07:44)</a>:</h4>
<p>Oh! That simplifies a lot! I was trying to understand pushouts and pullbacks and on <a href="http://ncatlab.org" target="_blank" title="http://ncatlab.org">ncatlab.org</a>, they refer to Set a lot so I kind of pulled back from them</p>

<a name="154142511"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154142511" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154142511">Reid Barton (Jan 02 2019 at 07:46)</a>:</h4>
<p>The dictionary for reading mathematics is <code>Type</code> = set, and <code>set</code> = subset</p>

<a name="154142514"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154142514" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154142514">Reid Barton (Jan 02 2019 at 07:46)</a>:</h4>
<p>(outside of set theory of course)</p>

<a name="154142524"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/category%20theory%20documentation/near/154142524" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/35860categorytheorydocumentation.html#154142524">Simon Hudon (Jan 02 2019 at 07:47)</a>:</h4>
<p>Ooooh</p>


{% endraw %}
