---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/116395maths/98240intonenonneg.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/98240intonenonneg.html">int.one_nonneg</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="161453925"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/int.one_nonneg/near/161453925" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98240intonenonneg.html#161453925">Sebastien Gouezel (Mar 22 2019 at 14:48)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">:</span> <span class="o">(</span><span class="mi">0</span><span class="o">:</span><span class="bp">ℤ</span><span class="o">)</span> <span class="bp">≤</span> <span class="o">(</span><span class="mi">2</span><span class="o">:</span><span class="bp">ℤ</span><span class="o">)</span> <span class="o">:=</span> <span class="n">int</span><span class="bp">.</span><span class="n">one_nonneg</span>
</pre></div>


<p>is puzzling me (as you expect,  <code>int.one_nonneg</code> does not mention <code>2</code>). I guess the kernel computes by itself, but still this is funny. This was found by <code>library_search</code>.</p>

<a name="161454010"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/int.one_nonneg/near/161454010" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98240intonenonneg.html#161454010">Johan Commelin (Mar 22 2019 at 14:49)</a>:</h4>
<p>What you wrote is by definition <code>1 &lt; 2</code> which is by definition <code>0 &lt; 1</code>. Is that right?</p>

<a name="161454096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/int.one_nonneg/near/161454096" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98240intonenonneg.html#161454096">Sebastien Gouezel (Mar 22 2019 at 14:50)</a>:</h4>
<p>It also works with <code>17</code>, or whatever you like. Even <code>0</code> (but not <code>-1</code> :)</p>

<a name="161454759"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/int.one_nonneg/near/161454759" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98240intonenonneg.html#161454759">Kevin Buzzard (Mar 22 2019 at 14:57)</a>:</h4>
<p>The proof of <code>int.one_nonneg</code> mentions <code>zero_lt_one</code>:</p>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">:</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="bp">&lt;</span> <span class="o">(</span><span class="mi">17</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="o">:=</span> <span class="n">int</span><span class="bp">.</span><span class="n">zero_lt_one</span> <span class="c1">-- works fine</span>
</pre></div>

<a name="161454852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/int.one_nonneg/near/161454852" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98240intonenonneg.html#161454852">Kevin Buzzard (Mar 22 2019 at 14:58)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">:</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="bp">&lt;</span> <span class="o">(</span><span class="mi">17</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="bp">=</span> <span class="o">((</span><span class="mi">0</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="bp">&lt;</span> <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">))</span> <span class="o">:=</span> <span class="n">rfl</span>
</pre></div>

<a name="161454863"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/int.one_nonneg/near/161454863" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98240intonenonneg.html#161454863">Kevin Buzzard (Mar 22 2019 at 14:59)</a>:</h4>
<p>curiouser and curiouser</p>

<a name="161454888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/int.one_nonneg/near/161454888" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98240intonenonneg.html#161454888">Johan Commelin (Mar 22 2019 at 14:59)</a>:</h4>
<p>Both sides are true by definition?</p>

<a name="161455088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/int.one_nonneg/near/161455088" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98240intonenonneg.html#161455088">Kevin Buzzard (Mar 22 2019 at 15:01)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">:</span> <span class="o">((</span><span class="mi">2</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="bp">+</span> <span class="mi">2</span> <span class="bp">=</span> <span class="mi">4</span><span class="o">)</span> <span class="bp">=</span> <span class="o">((</span><span class="mi">3</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="bp">+</span> <span class="mi">3</span> <span class="bp">=</span> <span class="mi">6</span><span class="o">)</span> <span class="o">:=</span> <span class="n">rfl</span>
<span class="c">/-</span><span class="cm"></span>
<span class="cm">type mismatch, term</span>
<span class="cm">  rfl</span>
<span class="cm">has type</span>
<span class="cm">  ?m_2 = ?m_2</span>
<span class="cm">but is expected to have type</span>
<span class="cm">  2 + 2 = 4 = (3 + 3 = 6)</span>
<span class="cm">-/</span>
</pre></div>

<a name="161455215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/int.one_nonneg/near/161455215" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98240intonenonneg.html#161455215">Kevin Buzzard (Mar 22 2019 at 15:02)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">:</span> <span class="o">(</span><span class="mi">3</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="bp">&lt;</span> <span class="o">(</span><span class="mi">17</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="o">:=</span> <span class="n">int</span><span class="bp">.</span><span class="n">zero_lt_one</span> <span class="c1">-- works</span>
</pre></div>

<a name="161455245"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/int.one_nonneg/near/161455245" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98240intonenonneg.html#161455245">Johan Commelin (Mar 22 2019 at 15:02)</a>:</h4>
<p>/me <span aria-label="confused" class="emoji emoji-1f615" role="img" title="confused">:confused:</span></p>

<a name="161455247"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/int.one_nonneg/near/161455247" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98240intonenonneg.html#161455247">Kevin Buzzard (Mar 22 2019 at 15:02)</a>:</h4>
<p>maybe you can just prove everything using <code>int.zero_lt_one</code></p>

<a name="161455270"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/int.one_nonneg/near/161455270" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98240intonenonneg.html#161455270">Sebastien Gouezel (Mar 22 2019 at 15:02)</a>:</h4>
<p><code>2 + 2 = 4</code> is not true by definition. For the inequalities, the kernels can reduce them to <code>true</code>. So, when you give a proof which also reduces to <code>true</code>, it is happy.</p>

<a name="161455302"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/int.one_nonneg/near/161455302" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98240intonenonneg.html#161455302">Kevin Buzzard (Mar 22 2019 at 15:03)</a>:</h4>
<p>I thought 2 + 2 = 4 was true by definition.</p>

<a name="161455362"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/int.one_nonneg/near/161455362" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98240intonenonneg.html#161455362">Kevin Buzzard (Mar 22 2019 at 15:04)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">n</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span> <span class="n">n</span> <span class="bp">≥</span> <span class="mi">3</span> <span class="bp">→</span> <span class="n">x</span> <span class="err">^</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">y</span> <span class="err">^</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">z</span> <span class="err">^</span> <span class="n">n</span> <span class="bp">→</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">y</span> <span class="bp">*</span> <span class="n">z</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span> <span class="n">int</span><span class="bp">.</span><span class="n">zero_lt_one</span> <span class="c1">-- fails</span>
</pre></div>

<a name="161455410"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/int.one_nonneg/near/161455410" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98240intonenonneg.html#161455410">Sebastien Gouezel (Mar 22 2019 at 15:04)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">:</span> <span class="o">(</span><span class="mi">3</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="bp">&lt;</span> <span class="o">(</span><span class="mi">17</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="o">:=</span> <span class="n">trivial</span> <span class="c1">-- works</span>
<span class="kn">example</span> <span class="o">:</span> <span class="o">((</span><span class="mi">2</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="bp">+</span> <span class="mi">2</span> <span class="bp">=</span> <span class="mi">4</span><span class="o">)</span> <span class="o">:=</span> <span class="n">trivial</span> <span class="c1">-- fails</span>
</pre></div>

<a name="161455437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/int.one_nonneg/near/161455437" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98240intonenonneg.html#161455437">Kevin Buzzard (Mar 22 2019 at 15:04)</a>:</h4>
<p>I see, <code>rfl</code> is different</p>

<a name="161455547"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/int.one_nonneg/near/161455547" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98240intonenonneg.html#161455547">Kevin Buzzard (Mar 22 2019 at 15:05)</a>:</h4>
<p>So I can go through the library replacing all calls to <code>int.zero_lt_one</code> by <code>trivial</code>?</p>

<a name="161455606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/int.one_nonneg/near/161455606" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98240intonenonneg.html#161455606">Sebastien Gouezel (Mar 22 2019 at 15:06)</a>:</h4>
<p><code>rfl</code> is for equalities only, I would say. And yes, it should work.</p>

<a name="161455803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/int.one_nonneg/near/161455803" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98240intonenonneg.html#161455803">Kevin Buzzard (Mar 22 2019 at 15:08)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">:</span> <span class="o">(</span><span class="mi">3</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="bp">&lt;</span> <span class="o">(</span><span class="mi">17</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="bp">=</span> <span class="n">true</span> <span class="o">:=</span> <span class="n">rfl</span>
</pre></div>


<p>I see.</p>

<a name="161609389"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/int.one_nonneg/near/161609389" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98240intonenonneg.html#161609389">Scott Morrison (Mar 25 2019 at 02:29)</a>:</h4>
<p>So should I consider this example <code>example : (0:ℤ) ≤ (2:ℤ) := int.one_nonneg</code> as a bug report against <code>library_search</code>?</p>

<a name="161619085"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/int.one_nonneg/near/161619085" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98240intonenonneg.html#161619085">Sebastien Gouezel (Mar 25 2019 at 06:54)</a>:</h4>
<p>Not at all, this a perfectly valid and efficient proof. Rather as a remark that <code>library_search</code> is so efficient that it can uncover beautiful unexpected proofs.</p>


{% endraw %}

{% include archive_update.html %}