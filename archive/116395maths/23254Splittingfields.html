---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/116395maths/23254Splittingfields.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html">Splitting fields</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="151535820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151535820" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151535820">Chris Hughes (Dec 12 2018 at 16:16)</a>:</h4>
<p>So I thought I'd revive the splitting fields branch on community mathlib. So far I've just updated it to work with current mathlib. This is my definition of splitting fields. It's a bit unusual to write a recursive function like this returning a Type; is this a good approach? Also my definition of <code>of_field</code> the embedding from the base field gives me the error <code>rec_fn_macro only allowed in meta definitions</code>. What is this?</p>
<div class="codehilite"><pre><span></span><span class="n">def</span> <span class="n">splitting_field&#39;</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">}</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">discrete_field</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="k">by</span> <span class="n">exactI</span> <span class="n">polynomial</span> <span class="n">α</span><span class="o">),</span>
  <span class="k">by</span> <span class="n">exactI</span> <span class="n">nat_degree</span> <span class="n">f</span> <span class="bp">=</span> <span class="n">n</span> <span class="bp">→</span> <span class="kt">Type</span> <span class="n">u</span>
<span class="bp">|</span> <span class="mi">0</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">α</span> <span class="n">I</span> <span class="n">f</span> <span class="n">hn</span><span class="o">,</span> <span class="n">α</span>
<span class="bp">|</span> <span class="mi">1</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">α</span> <span class="n">I</span> <span class="n">f</span> <span class="n">hn</span><span class="o">,</span> <span class="n">α</span>
<span class="bp">|</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">α</span> <span class="n">I</span> <span class="n">f</span> <span class="n">hn</span><span class="o">,</span> <span class="k">by</span> <span class="n">exactI</span>
  <span class="k">have</span> <span class="n">hf</span> <span class="o">:</span> <span class="n">nat_degree</span> <span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">map</span> <span class="o">(</span><span class="n">coe</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">adjoin_root</span> <span class="o">(</span><span class="n">irr_factor</span> <span class="n">f</span> <span class="o">(</span><span class="k">by</span> <span class="n">rw</span> <span class="n">hn</span><span class="bp">;</span> <span class="n">exact</span> <span class="n">dec_trivial</span><span class="o">)))</span> <span class="bp">/</span>
    <span class="o">(</span><span class="n">X</span> <span class="bp">-</span> <span class="n">C</span> <span class="n">root</span><span class="o">))</span> <span class="bp">=</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">,</span> <span class="k">from</span> <span class="n">sorry</span><span class="o">,</span>
  <span class="n">splitting_field&#39;</span> <span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">map</span> <span class="o">(</span><span class="n">coe</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">adjoin_root</span> <span class="o">(</span><span class="n">irr_factor</span> <span class="n">f</span> <span class="o">(</span><span class="k">by</span> <span class="n">rw</span> <span class="n">hn</span><span class="bp">;</span> <span class="n">exact</span> <span class="n">dec_trivial</span><span class="o">)))</span> <span class="bp">/</span>
    <span class="o">(</span><span class="n">X</span> <span class="bp">-</span> <span class="n">C</span> <span class="n">root</span><span class="o">))</span> <span class="n">hf</span>

<span class="n">def</span> <span class="n">of_field&#39;</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">}</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">discrete_field</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="k">by</span> <span class="n">exactI</span> <span class="n">polynomial</span> <span class="n">α</span><span class="o">)</span>
  <span class="o">(</span><span class="n">hf</span> <span class="o">:</span> <span class="k">by</span> <span class="n">exactI</span> <span class="n">nat_degree</span> <span class="n">f</span> <span class="bp">=</span> <span class="n">n</span><span class="o">),</span> <span class="n">α</span> <span class="bp">→</span> <span class="k">by</span> <span class="n">exactI</span> <span class="n">splitting_field&#39;</span> <span class="n">f</span> <span class="n">hf</span>
<span class="bp">|</span> <span class="mi">0</span>     <span class="o">:=</span> <span class="bp">λ</span> <span class="n">α</span> <span class="n">I</span> <span class="n">f</span> <span class="n">hf</span> <span class="n">a</span><span class="o">,</span> <span class="n">a</span>
<span class="bp">|</span> <span class="mi">1</span>     <span class="o">:=</span> <span class="bp">λ</span> <span class="n">α</span> <span class="n">I</span> <span class="n">f</span> <span class="n">hf</span> <span class="n">a</span><span class="o">,</span> <span class="n">a</span>
<span class="bp">|</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">2</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">α</span> <span class="n">I</span> <span class="n">f</span> <span class="n">hf</span> <span class="n">a</span><span class="o">,</span> <span class="k">by</span> <span class="n">exactI</span> <span class="n">of_field&#39;</span> <span class="bp">_</span> <span class="bp">_</span> <span class="o">(</span><span class="err">↑</span><span class="n">a</span> <span class="o">:</span> <span class="n">adjoin_root</span> <span class="bp">_</span><span class="o">)</span>
</pre></div>

<a name="151536840"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151536840" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151536840">Chris Hughes (Dec 12 2018 at 16:32)</a>:</h4>
<p>Okay I still get the error <code>rec_fn_macro only allowed in meta definitions</code> even if I make it <code>meta</code></p>

<a name="151536970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151536970" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151536970">Rob Lewis (Dec 12 2018 at 16:34)</a>:</h4>
<p>Could you rearrange the arguments so that <code> {α : Type u} [discrete_field α]</code> are left of the colon? If nothing else it will let you get rid of the <code>exactI</code>s.</p>

<a name="151536981"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151536981" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151536981">Rob Lewis (Dec 12 2018 at 16:34)</a>:</h4>
<p>That error sounds like something funny in the equation compiler, so simplifying its job might help.</p>

<a name="151537095"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151537095" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151537095">Chris Hughes (Dec 12 2018 at 16:36)</a>:</h4>
<p>Not without changing my method significantly. I use a different type when I recursively call it.</p>

<a name="151537161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151537161" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151537161">Rob Lewis (Dec 12 2018 at 16:38)</a>:</h4>
<p>Oh, yeah, sorry. I misread that.</p>

<a name="151537354"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151537354" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151537354">Rob Lewis (Dec 12 2018 at 16:40)</a>:</h4>
<p>Where is <code>adjoin_root</code> defined?</p>

<a name="151537395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151537395" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151537395">Rob Lewis (Dec 12 2018 at 16:40)</a>:</h4>
<p>In the splitting field branch on community, I take it.</p>

<a name="151537405"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151537405" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151537405">Rob Lewis (Dec 12 2018 at 16:41)</a>:</h4>
<p>Think I'm having trouble reading today.</p>

<a name="151537835"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151537835" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151537835">Johan Commelin (Dec 12 2018 at 16:46)</a>:</h4>
<p><span class="user-mention" data-user-id="110044">@Chris Hughes</span> I think this is exactly the approach that we had in mind when <span class="user-mention" data-user-id="110049">@Mario Carneiro</span>, you and me were hacking on this in Orsay. Too bad it's giving troubles.</p>

<a name="151538608"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151538608" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151538608">Reid Barton (Dec 12 2018 at 16:57)</a>:</h4>
<p>I'm always tempted to package everything I care about together in a single recursive definition--here the type, its field instance, the map from the base field, the factorization of f</p>

<a name="151538615"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151538615" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151538615">Reid Barton (Dec 12 2018 at 16:57)</a>:</h4>
<p>using a big sigma or a structure</p>

<a name="151541456"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151541456" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151541456">Chris Hughes (Dec 12 2018 at 17:38)</a>:</h4>
<p>I found a work around by using <code>nat.rec_on</code> instead of the equation compiler. Seems like it has something to do with this <a href="https://github.com/leanprover/lean/issues/1890" target="_blank" title="https://github.com/leanprover/lean/issues/1890">https://github.com/leanprover/lean/issues/1890</a></p>

<a name="151552987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151552987" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151552987">Johan Commelin (Dec 12 2018 at 18:32)</a>:</h4>
<p><span class="user-mention" data-user-id="110044">@Chris Hughes</span> I think that this thread should know about this thread: <a href="#narrow/stream/116395-maths/topic/simple.20field.20theory" title="#narrow/stream/116395-maths/topic/simple.20field.20theory">https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/simple.20field.20theory</a></p>

<a name="151806515"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151806515" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151806515">Chris Hughes (Dec 14 2018 at 21:27)</a>:</h4>
<p>I've had a new problem, and it's taken me most of the day to figure out what's going on. I think the trouble is that I have an expression where <code>f : polynomial α</code> is mentioned and also some stuff of type <code>adjoin_root f</code>. When I try to rewrite with <code>f = _</code> It tries to rewrite all the types that mention <code>f</code> and hangs. I solved it using <code>conv</code> but I thought there might be a better way to do this.</p>

<a name="151831239"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151831239" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151831239">Johan Commelin (Dec 15 2018 at 09:59)</a>:</h4>
<p>Isn't this what <code>conv</code> is meant for? I think there's nothing wrong with using it here.</p>

<a name="151868222"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151868222" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151868222">Chris Hughes (Dec 16 2018 at 06:45)</a>:</h4>
<p>So I've some up against a more serious problem. I've defined something of this type</p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">splitting_field_aux</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">discrete_field</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="k">by</span> <span class="n">exactI</span> <span class="n">polynomial</span> <span class="n">α</span><span class="o">),</span>
  <span class="k">by</span> <span class="n">exactI</span> <span class="err">Σ&#39;</span> <span class="o">(</span><span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">discrete_field</span> <span class="n">β</span><span class="o">]</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">)</span> <span class="o">[</span><span class="n">is_field_hom</span> <span class="n">i</span><span class="o">]</span>
  <span class="o">(</span><span class="n">hs</span> <span class="o">:</span> <span class="k">by</span> <span class="n">exactI</span> <span class="n">splits</span> <span class="n">i</span> <span class="n">f</span><span class="o">),</span> <span class="bp">∀</span> <span class="o">{</span><span class="n">γ</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">discrete_field</span> <span class="n">γ</span><span class="o">]</span> <span class="o">(</span><span class="n">j</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">γ</span><span class="o">)</span>
  <span class="o">[</span><span class="n">is_field_hom</span> <span class="n">j</span><span class="o">]</span> <span class="o">(</span><span class="n">hj</span> <span class="o">:</span> <span class="k">by</span> <span class="n">exactI</span> <span class="n">splits</span> <span class="n">j</span> <span class="n">f</span><span class="o">),</span>
  <span class="bp">∃</span> <span class="n">k</span> <span class="o">:</span> <span class="n">β</span> <span class="bp">→</span> <span class="n">γ</span><span class="o">,</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">x</span><span class="o">,</span> <span class="n">k</span> <span class="o">(</span><span class="n">i</span> <span class="n">x</span><span class="o">)</span> <span class="bp">=</span> <span class="n">j</span> <span class="n">x</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">is_field_hom</span> <span class="n">k</span>
</pre></div>


<p>I bundled everything we needed to know together in one definition because I didn't want to have to deal with <code>eq.rec</code> and non definitional equation lemmas. The only trouble with this approach is that the homomorphism from the splitting field into any field that splits only goes into fields in the same universe. The only way around this that I can see is to unbundle the definition, and deal with nasty equation lemmas. Is there any easier way around this?</p>

<a name="151868598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151868598" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151868598">Johan Commelin (Dec 16 2018 at 06:58)</a>:</h4>
<p>I'm inclined to say that we shouldn't worry about universes here. If universe issues show up, I hope <code>ulift</code> will help.</p>

<a name="151868614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151868614" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151868614">Kenny Lau (Dec 16 2018 at 06:59)</a>:</h4>
<p>good luck transporting everything to <code>ulift</code> :P</p>

<a name="151868620"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151868620" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151868620">Mario Carneiro (Dec 16 2018 at 06:59)</a>:</h4>
<p>what is the problem with unbundling exactly?</p>

<a name="151868667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151868667" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151868667">Mario Carneiro (Dec 16 2018 at 07:00)</a>:</h4>
<p>I guess that would be much more convenient to use if it were unbundled, although maybe you need this for the construction?</p>

<a name="151868675"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151868675" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151868675">Mario Carneiro (Dec 16 2018 at 07:01)</a>:</h4>
<p>I think you should try to stay away from "universal definitions" of universal objects, because they are never universe polymorphic enough</p>

<a name="151868679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151868679" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151868679">Chris Hughes (Dec 16 2018 at 07:01)</a>:</h4>
<p>Then I'd have to unfold the definition to prove things about it. And the equation lemmas are not definitional, so I'd need eq.rec to turn it into <code>adjoin_root whatever </code> and eq.rec is hard to use.</p>

<a name="151868720"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151868720" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151868720">Chris Hughes (Dec 16 2018 at 07:02)</a>:</h4>
<p>What do you mean by stay away from universal definitions?</p>

<a name="151868721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151868721" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151868721">Mario Carneiro (Dec 16 2018 at 07:02)</a>:</h4>
<p>right, we definitely want to avoid that. But I'm still not following. Could you show a bit of how you get to this point?</p>

<a name="151868729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151868729" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151868729">Mario Carneiro (Dec 16 2018 at 07:03)</a>:</h4>
<p>For example, you can define <code>nat := \forall X, {X -&gt; (X -&gt; X) -&gt; X // naturality property}</code> but it's not a good definition because <code>X</code> only lives in one universe</p>

<a name="151868774"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151868774" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151868774">Chris Hughes (Dec 16 2018 at 07:04)</a>:</h4>
<p><a href="https://github.com/ChrisHughes24/mathlib/blob/5efef7b26f78b5bcbcbc43d4d3ae32be7aa6018b/field_theory/splitting_field.lean" target="_blank" title="https://github.com/ChrisHughes24/mathlib/blob/5efef7b26f78b5bcbcbc43d4d3ae32be7aa6018b/field_theory/splitting_field.lean">https://github.com/ChrisHughes24/mathlib/blob/5efef7b26f78b5bcbcbc43d4d3ae32be7aa6018b/field_theory/splitting_field.lean</a></p>

<a name="151868775"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151868775" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151868775">Mario Carneiro (Dec 16 2018 at 07:04)</a>:</h4>
<p>instead you want some kind of "intrinsic" characterization of the object that implies the universal property, in any universe</p>

<a name="151868790"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151868790" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151868790">Chris Hughes (Dec 16 2018 at 07:05)</a>:</h4>
<p>So in this example, maybe the fact that any proper subfield does not split?</p>

<a name="151868793"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151868793" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151868793">Chris Hughes (Dec 16 2018 at 07:05)</a>:</h4>
<p>I'll have to think about whether that approach is much harder.</p>

<a name="151868957"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151868957" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151868957">Mario Carneiro (Dec 16 2018 at 07:10)</a>:</h4>
<p>In this case, it looks like that is indeed the right "smallness" property</p>

<a name="151868963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151868963" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151868963">Mario Carneiro (Dec 16 2018 at 07:11)</a>:</h4>
<p>another way to express it is to start from the theorem you just proved, and show that splitting in one universe implies splitting in all the rest</p>

<a name="151868966"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151868966" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151868966">Mario Carneiro (Dec 16 2018 at 07:11)</a>:</h4>
<p>by taking a special choice of gamma, namely the subfield isomorphic to the gamma in another universe</p>

<a name="151869580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151869580" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151869580">Chris Hughes (Dec 16 2018 at 07:29)</a>:</h4>
<p>Proving that such a subfield exists is hard though, unless I'm missing a trick?</p>

<a name="151869584"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151869584" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151869584">Mario Carneiro (Dec 16 2018 at 07:29)</a>:</h4>
<p>This is a general fact about fields</p>

<a name="151869631"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151869631" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151869631">Mario Carneiro (Dec 16 2018 at 07:30)</a>:</h4>
<p>Every field hom is injective, so when you restrict to the range you get an isomorphism</p>

<a name="151869647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151869647" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151869647">Mario Carneiro (Dec 16 2018 at 07:31)</a>:</h4>
<p>(the isomorphism is not constructive in the reverse direction)</p>

<a name="151869788"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151869788" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151869788">Chris Hughes (Dec 16 2018 at 07:35)</a>:</h4>
<p>I still don't understand. Given a field, which subfield do I choose?</p>

<a name="151869922"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151869922" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151869922">Mario Carneiro (Dec 16 2018 at 07:38)</a>:</h4>
<p>oh wait I had it backwards, you need a field <em>into</em> the large universe</p>

<a name="151869945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151869945" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151869945">Mario Carneiro (Dec 16 2018 at 07:39)</a>:</h4>
<p>for that you can take a subfield of gamma sufficiently large to contain all the action from beta</p>

<a name="151869949"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151869949" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151869949">Mario Carneiro (Dec 16 2018 at 07:39)</a>:</h4>
<p>like the subfield generated by polynomials in alpha</p>

<a name="151870003"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151870003" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151870003">Mario Carneiro (Dec 16 2018 at 07:41)</a>:</h4>
<p>this subfield will be isomorphic to a quotient of a polynomial ring etc etc which is in <code>Type u</code></p>

<a name="151870007"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151870007" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151870007">Chris Hughes (Dec 16 2018 at 07:41)</a>:</h4>
<p>I see.</p>

<a name="151870008"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151870008" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151870008">Mario Carneiro (Dec 16 2018 at 07:41)</a>:</h4>
<p>and so your lemma applies and the polynomial splits there</p>

<a name="151870059"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151870059" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151870059">Mario Carneiro (Dec 16 2018 at 07:43)</a>:</h4>
<p>you should double check with <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> , I walked him through this a few months ago and I think he did almost exactly the same thing in the perfectoid project</p>

<a name="151870110"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151870110" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151870110">Mario Carneiro (Dec 16 2018 at 07:44)</a>:</h4>
<p>as an alternative, returning to the unbundling problem: I assume the reason it isn't definitional is because you are using wf recursion</p>

<a name="151870112"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151870112" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151870112">Mario Carneiro (Dec 16 2018 at 07:45)</a>:</h4>
<p>If you define one step of the induction as a lemma, then it will be definitional there</p>

<a name="151870163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151870163" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151870163">Chris Hughes (Dec 16 2018 at 07:46)</a>:</h4>
<p>That sounds easier.</p>

<a name="151870166"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151870166" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151870166">Mario Carneiro (Dec 16 2018 at 07:46)</a>:</h4>
<p>so you have something like <code>F : (A : Type u) (h : P.{u} A), Type u</code> and <code>prop : (A : Type u) (h : P.{u} A), P.{v} (F A)</code></p>

<a name="151870228"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151870228" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151870228">Mario Carneiro (Dec 16 2018 at 07:49)</a>:</h4>
<p>and then you have an induction proof putting it together, which does <code>F /\ P.{u} F</code>, and a cases proof doing the same thing with conclusion <code>P.{v} F</code></p>

<a name="151870287"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151870287" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151870287">Chris Hughes (Dec 16 2018 at 07:51)</a>:</h4>
<p>It's also not definitional because I've got an <code>ite</code> on <code>degree f \le 1</code></p>

<a name="151870289"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151870289" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151870289">Mario Carneiro (Dec 16 2018 at 07:51)</a>:</h4>
<p>Also, before I forget: a very general way of avoiding problems with types defined by complicated rules is to use an inductive type instead</p>

<a name="151870347"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151870347" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151870347">Mario Carneiro (Dec 16 2018 at 07:53)</a>:</h4>
<p>for example, simulating <code>if x &lt; 2 then nat else unit</code>:</p>
<div class="codehilite"><pre><span></span><span class="kn">inductive</span> <span class="n">my_cases</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Type</span>
<span class="bp">|</span> <span class="n">nat</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">&lt;</span> <span class="mi">2</span> <span class="bp">→</span> <span class="n">nat</span> <span class="bp">→</span> <span class="n">my_cases</span>
<span class="bp">|</span> <span class="n">unit</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">&gt;=</span> <span class="mi">2</span> <span class="bp">→</span> <span class="n">unit</span> <span class="bp">→</span> <span class="n">my_cases</span>
</pre></div>

<a name="151870352"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151870352" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151870352">Mario Carneiro (Dec 16 2018 at 07:53)</a>:</h4>
<p>You can do similar stuff with crazy well founded definitions</p>

<a name="151870393"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151870393" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151870393">Mario Carneiro (Dec 16 2018 at 07:54)</a>:</h4>
<p>in the inductive case you don't even have to worry about well foundedness</p>

<a name="151870896"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151870896" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151870896">Chris Hughes (Dec 16 2018 at 08:10)</a>:</h4>
<p>The other major issue I have is that making it a def gives me the error <code>rec_fn_macro</code> only allowed in meta definitions.</p>

<a name="151871212"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151871212" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151871212">Mario Carneiro (Dec 16 2018 at 08:21)</a>:</h4>
<p>that means there is probably a tactic referencing one of the <code>_match</code> type variables in the context by accident</p>

<a name="151871259"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151871259" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151871259">Mario Carneiro (Dec 16 2018 at 08:22)</a>:</h4>
<p>you can fix this by <code>clear</code>ing it when you have used it, or even using it right at the start and clearing it then (or if its random junk then just remove it)</p>

<a name="151871614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151871614" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151871614">Chris Hughes (Dec 16 2018 at 08:35)</a>:</h4>
<p>Will <code>resetI</code> cause problems with that?</p>

<a name="151871616"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151871616" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151871616">Mario Carneiro (Dec 16 2018 at 08:35)</a>:</h4>
<p>I don't think so</p>

<a name="151871661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151871661" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151871661">Mario Carneiro (Dec 16 2018 at 08:36)</a>:</h4>
<p>At some version of <code>resetI</code> I recall it deleting the recursive function variable as a side effect, not sure if that's still the case but I think not</p>

<a name="151874009"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/151874009" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#151874009">Kevin Buzzard (Dec 16 2018 at 09:54)</a>:</h4>
<p>I've only just seen this thread. Chris I'll dig out the universe conversation Mario and I had when I'm at a pc</p>

<a name="152018880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152018880" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152018880">Chris Hughes (Dec 17 2018 at 10:57)</a>:</h4>
<p>All done and sorry free. <span class="user-mention" data-user-id="110049">@Mario Carneiro</span> are you happy for me to push all of this to the splitting fields branch in community?</p>
<div class="codehilite"><pre><span></span><span class="n">def</span> <span class="n">splitting_field</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span> <span class="n">splitting_field</span><span class="bp">.</span><span class="n">type_aux</span> <span class="n">f</span> <span class="n">rfl</span>

<span class="kn">namespace</span> <span class="n">splitting_field</span>

<span class="kn">instance</span> <span class="n">field</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">discrete_field</span> <span class="o">(</span><span class="n">splitting_field</span> <span class="n">f</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">unfold</span> <span class="n">splitting_field</span><span class="bp">;</span> <span class="n">apply_instance</span>

<span class="n">def</span> <span class="n">mk</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">splitting_field</span> <span class="n">f</span> <span class="o">:=</span> <span class="n">mk_aux</span> <span class="n">f</span> <span class="n">rfl</span>

<span class="kn">instance</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">is_field_hom</span> <span class="o">(</span><span class="n">mk</span> <span class="n">f</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">unfold</span> <span class="n">mk</span><span class="bp">;</span> <span class="n">apply_instance</span>

<span class="kn">lemma</span> <span class="n">splitting_field_splits</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">splits</span> <span class="o">(</span><span class="n">mk</span> <span class="n">f</span><span class="o">)</span> <span class="n">f</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">splitting_field_aux</span> <span class="n">f</span> <span class="n">rfl</span><span class="o">)</span><span class="bp">.</span><span class="mi">2</span><span class="bp">.</span><span class="mi">2</span><span class="bp">.</span><span class="mi">2</span><span class="bp">.</span><span class="mi">2</span>

<span class="n">def</span> <span class="n">hom</span> <span class="o">{</span><span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">}</span> <span class="o">[</span><span class="n">discrete_field</span> <span class="n">β</span><span class="o">]</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">)</span> <span class="o">[</span><span class="n">is_field_hom</span> <span class="n">i</span><span class="o">]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">α</span><span class="o">)</span>
  <span class="o">(</span><span class="n">hβ</span> <span class="o">:</span> <span class="n">splits</span> <span class="n">i</span> <span class="n">f</span><span class="o">)</span> <span class="o">:</span> <span class="n">splitting_field</span> <span class="n">f</span> <span class="bp">→</span> <span class="n">β</span> <span class="o">:=</span>
<span class="n">classical</span><span class="bp">.</span><span class="n">some</span> <span class="o">(</span><span class="n">exists_hom</span> <span class="bp">_</span> <span class="n">f</span> <span class="n">rfl</span> <span class="n">i</span> <span class="n">hβ</span><span class="o">)</span>

<span class="bp">@</span><span class="o">[</span><span class="kn">instance</span><span class="o">]</span> <span class="kn">lemma</span> <span class="n">hom_is_field_hom</span> <span class="o">{</span><span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">}</span> <span class="o">[</span><span class="n">discrete_field</span> <span class="n">β</span><span class="o">]</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">)</span> <span class="o">[</span><span class="n">is_field_hom</span> <span class="n">i</span><span class="o">]</span>
  <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">hβ</span> <span class="o">:</span> <span class="n">splits</span> <span class="n">i</span> <span class="n">f</span><span class="o">)</span> <span class="o">:</span> <span class="n">is_field_hom</span> <span class="o">(</span><span class="n">hom</span> <span class="n">i</span> <span class="n">f</span> <span class="n">hβ</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">some_spec</span> <span class="o">(</span><span class="n">exists_hom</span> <span class="bp">_</span> <span class="n">f</span> <span class="n">rfl</span> <span class="n">i</span> <span class="n">hβ</span><span class="o">))</span><span class="bp">.</span><span class="mi">2</span>

<span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">lemma</span> <span class="n">hom_fixes</span> <span class="o">{</span><span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">}</span> <span class="o">[</span><span class="n">discrete_field</span> <span class="n">β</span><span class="o">]</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">)</span> <span class="o">[</span><span class="n">is_field_hom</span> <span class="n">i</span><span class="o">]</span>
  <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">hβ</span> <span class="o">:</span> <span class="n">splits</span> <span class="n">i</span> <span class="n">f</span><span class="o">)</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span><span class="o">,</span> <span class="n">hom</span> <span class="n">i</span> <span class="n">f</span> <span class="n">hβ</span> <span class="o">(</span><span class="n">mk</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">=</span> <span class="n">i</span> <span class="n">x</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">some_spec</span> <span class="o">(</span><span class="n">exists_hom</span> <span class="bp">_</span> <span class="n">f</span> <span class="n">rfl</span> <span class="n">i</span> <span class="n">hβ</span><span class="o">))</span><span class="bp">.</span><span class="mi">1</span>

<span class="n">attribute</span> <span class="o">[</span><span class="kn">irreducible</span><span class="o">]</span> <span class="n">hom</span> <span class="n">splitting_field</span> <span class="n">splitting_field</span><span class="bp">.</span><span class="n">field</span> <span class="n">splitting_field</span><span class="bp">.</span><span class="n">mk</span>
</pre></div>

<a name="152018894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152018894" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152018894">Kenny Lau (Dec 17 2018 at 10:57)</a>:</h4>
<p><span class="user-mention" data-user-id="110044">@Chris Hughes</span> so how did you extract an element from <code>factor_set</code>?</p>

<a name="152018952"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152018952" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152018952">Chris Hughes (Dec 17 2018 at 10:58)</a>:</h4>
<p>I proved the irreducible factor lemma for a noetherian domain.</p>

<a name="152018963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152018963" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152018963">Kenny Lau (Dec 17 2018 at 10:59)</a>:</h4>
<p>see <span class="user-mention" data-user-id="110049">@Mario Carneiro</span> this is problematic</p>

<a name="152019049"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152019049" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152019049">Chris Hughes (Dec 17 2018 at 11:00)</a>:</h4>
<p>I don't think it's problematic. You shouldn't use UFD for that anyway since it's true in greater generality.</p>

<a name="152019448"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152019448" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152019448">Mario Carneiro (Dec 17 2018 at 11:09)</a>:</h4>
<p>Looks good to me, although I would call <code>hom</code> <code>lift</code> instead</p>

<a name="152019459"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152019459" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152019459">Mario Carneiro (Dec 17 2018 at 11:09)</a>:</h4>
<p>what's problematic?</p>

<a name="152019463"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152019463" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152019463">Kenny Lau (Dec 17 2018 at 11:09)</a>:</h4>
<p>that <code>factor_set</code> is hard to use</p>

<a name="152019540"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152019540" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152019540">Mario Carneiro (Dec 17 2018 at 11:11)</a>:</h4>
<p>demo? what's <code>factor_set</code> doing here</p>

<a name="152019543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152019543" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152019543">Kenny Lau (Dec 17 2018 at 11:11)</a>:</h4>
<p>well could you prove that the factor set of a non-unit non-zero element is nonempty?</p>

<a name="152019546"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152019546" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152019546">Mario Carneiro (Dec 17 2018 at 11:12)</a>:</h4>
<p>what is <code>factor_set</code></p>

<a name="152019590"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152019590" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152019590">Kenny Lau (Dec 17 2018 at 11:12)</a>:</h4>
<p><code>associates.factor_set</code></p>

<a name="152019591"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152019591" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152019591">Patrick Massot (Dec 17 2018 at 11:12)</a>:</h4>
<p>Kenny, you shouldn't be so negative</p>

<a name="152019604"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152019604" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152019604">Mario Carneiro (Dec 17 2018 at 11:12)</a>:</h4>
<p>it's not in the mathlib version, remind me what it does</p>

<a name="152019613"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152019613" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152019613">Kenny Lau (Dec 17 2018 at 11:12)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">associates</span><span class="bp">.</span><span class="n">factors</span> <span class="o">:</span>
  <span class="bp">Π</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_1</span><span class="o">}</span> <span class="o">[</span><span class="bp">_</span><span class="n">inst_1</span> <span class="o">:</span> <span class="n">integral_domain</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="bp">_</span><span class="n">inst_2</span> <span class="o">:</span> <span class="n">unique_factorization_domain</span> <span class="n">α</span><span class="o">]</span>
  <span class="o">[</span><span class="bp">_</span><span class="n">inst_3</span> <span class="o">:</span> <span class="n">decidable_eq</span> <span class="o">(</span><span class="n">associates</span> <span class="n">α</span><span class="o">)],</span> <span class="n">associates</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">associates</span><span class="bp">.</span><span class="n">factor_set</span> <span class="n">α</span>
</pre></div>

<a name="152019624"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152019624" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152019624">Kenny Lau (Dec 17 2018 at 11:13)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> well played</p>

<a name="152019637"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152019637" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152019637">Chris Hughes (Dec 17 2018 at 11:13)</a>:</h4>
<p>If it was empty the product would be one. Seems like it's probably not that hard.</p>

<a name="152019643"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152019643" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152019643">Mario Carneiro (Dec 17 2018 at 11:13)</a>:</h4>
<p>oh it's a ufd thing</p>

<a name="152019646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152019646" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152019646">Kenny Lau (Dec 17 2018 at 11:13)</a>:</h4>
<p>how about that any non-zero non-unit is divisible by an irreducible</p>

<a name="152019685"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152019685" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152019685">Kenny Lau (Dec 17 2018 at 11:14)</a>:</h4>
<p>how do we convert from factors to divisibility</p>

<a name="152019697"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152019697" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152019697">Mario Carneiro (Dec 17 2018 at 11:14)</a>:</h4>
<p><code>dvd_eq_le</code></p>

<a name="152019698"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152019698" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152019698">Chris Hughes (Dec 17 2018 at 11:15)</a>:</h4>
<p>Prove that a UFD is noetherian, and use the lemma I proved.</p>

<a name="152019702"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152019702" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152019702">Mario Carneiro (Dec 17 2018 at 11:15)</a>:</h4>
<p>and <code>factors_le</code></p>

<a name="152019721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152019721" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152019721">Kenny Lau (Dec 17 2018 at 11:15)</a>:</h4>
<p>I see <span class="user-mention" data-user-id="110049">@Mario Carneiro</span></p>

<a name="152019761"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152019761" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152019761">Mario Carneiro (Dec 17 2018 at 11:16)</a>:</h4>
<p>it's a bit cumbersome to state, but it looks like the lemmas are there</p>

<a name="152019840"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152019840" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152019840">Mario Carneiro (Dec 17 2018 at 11:18)</a>:</h4>
<p>Anyway I think you could certainly push this</p>

<a name="152019848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152019848" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152019848">Mario Carneiro (Dec 17 2018 at 11:18)</a>:</h4>
<p>next stop algebraic closure?</p>

<a name="152019851"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152019851" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152019851">Mario Carneiro (Dec 17 2018 at 11:18)</a>:</h4>
<p>I guess that's another messy induction like this</p>

<a name="152022286"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152022286" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152022286">Johan Commelin (Dec 17 2018 at 12:05)</a>:</h4>
<p>Before going towards algebraic closure, I would like to have this PR'd. This is going to be a very useful tool in the theory if finite extensions. I think it makes sense to start defining <code>separable</code> and <code>normal</code> extensions now. We're pretty close to finite Galois extensions.</p>

<a name="152022370"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152022370" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152022370">Johan Commelin (Dec 17 2018 at 12:07)</a>:</h4>
<p><span class="user-mention" data-user-id="110044">@Chris Hughes</span> What are your plans now?</p>

<a name="152023539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152023539" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152023539">Johan Commelin (Dec 17 2018 at 12:31)</a>:</h4>
<p><span class="user-mention" data-user-id="110044">@Chris Hughes</span> I merged master into this branch and pushed.</p>

<a name="152023867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152023867" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152023867">Chris Hughes (Dec 17 2018 at 12:38)</a>:</h4>
<p>This branch does now depend on unmerged PRs that I have made.</p>

<a name="152023951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152023951" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152023951">Johan Commelin (Dec 17 2018 at 12:40)</a>:</h4>
<p>The one on multiplicities?</p>

<a name="152023975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152023975" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152023975">Chris Hughes (Dec 17 2018 at 12:41)</a>:</h4>
<p>And some others. I have three open to do with polynomials right now I think.</p>

<a name="152024033"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152024033" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152024033">Johan Commelin (Dec 17 2018 at 12:42)</a>:</h4>
<p>Yes, I see. Ok, let's hope those get merged soon.</p>

<a name="152024064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152024064" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152024064">Johan Commelin (Dec 17 2018 at 12:43)</a>:</h4>
<p>Do you want to do more with this branch? I mean, it's name is <code>splitting_fields</code>, so maybe new stuff should happen on a new branch?</p>

<a name="152024628"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152024628" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152024628">Chris Hughes (Dec 17 2018 at 12:53)</a>:</h4>
<p>I think new stuff should happen on a new branch. I think it's best to not make PRs too big.</p>

<a name="152025969"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152025969" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152025969">Johan Commelin (Dec 17 2018 at 13:18)</a>:</h4>
<p>So, if I'm not mistaken... the first 10 points of <a href="https://github.com/kckennylau/Lean/blob/master/algebraic-closure-roadmap.md" target="_blank" title="https://github.com/kckennylau/Lean/blob/master/algebraic-closure-roadmap.md">https://github.com/kckennylau/Lean/blob/master/algebraic-closure-roadmap.md</a> have now been done. (Although not everything is in mathlib yet.)</p>

<a name="152026250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152026250" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152026250">Johan Commelin (Dec 17 2018 at 13:23)</a>:</h4>
<p>Kenny, do you mind if I copy-paste that roadmap to the github wiki of the community repo? Then we can start ticking of things that we've done.</p>

<a name="152026341"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152026341" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152026341">Kenny Lau (Dec 17 2018 at 13:24)</a>:</h4>
<p>might want to replace the whole discriminant business with just GCD? ah the beauty of impredicativity</p>

<a name="152026448"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152026448" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152026448">Johan Commelin (Dec 17 2018 at 13:26)</a>:</h4>
<p>According to wiki, a polynomial is separable if it has just as many roots in its splitting field as its degree. So a square of a separable polynomial is not separable... choices...</p>

<a name="152026483"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152026483" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152026483">Kenny Lau (Dec 17 2018 at 13:27)</a>:</h4>
<p>I don't think we're talking about the same thing</p>

<a name="152026504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152026504" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152026504">Johan Commelin (Dec 17 2018 at 13:27)</a>:</h4>
<p>No, indeed. I was asking if we should copy your roadmap to the github wiki...</p>

<a name="152027091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152027091" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152027091">Kenny Lau (Dec 17 2018 at 13:36)</a>:</h4>
<p>and I was asking if you might want to change 11-14 to just 14</p>

<a name="152027295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152027295" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152027295">Johan Commelin (Dec 17 2018 at 13:39)</a>:</h4>
<p>That seems like a good plan.</p>

<a name="152027590"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152027590" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152027590">Kenny Lau (Dec 17 2018 at 13:43)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> and my only objection would be predicativity</p>

<a name="152027650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152027650" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152027650">Kenny Lau (Dec 17 2018 at 13:44)</a>:</h4>
<p>which I'm sure less people care about, compared to constructivity...</p>

<a name="152033427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Splitting%20fields/near/152033427" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/23254Splittingfields.html#152033427">Johan Commelin (Dec 17 2018 at 14:58)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/wiki/Algebraic-closure-roadmap" target="_blank" title="https://github.com/leanprover-community/mathlib/wiki/Algebraic-closure-roadmap">https://github.com/leanprover-community/mathlib/wiki/Algebraic-closure-roadmap</a></p>


{% endraw %}

{% include archive_update.html %}