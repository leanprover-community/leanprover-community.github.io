---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/116395maths/39678LIVECHATStructuresformathematicians.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html">LIVE CHAT: Structures for mathematicians</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="127264270"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127264270" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127264270">Kevin Buzzard (May 29 2018 at 17:53)</a>:</h4>
<p>At 8pm UK time (2000 BST, so 1900 GMT) I am going to a live Lean explanation, in this thread, of a very simple mathlib file which defines a (non-inductive) structure. Mathematicians need to learn how to make structures, it's something we do very differently in mathematics. Here we need a far more formal kind of interface. I will hopefully do a few of these. It's like "talking people through mathlib files".</p>

<a name="127264325"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127264325" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127264325">Kenny Lau (May 29 2018 at 17:54)</a>:</h4>
<p>youtube live?</p>

<a name="127264635"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127264635" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127264635">Johan Commelin (May 29 2018 at 18:01)</a>:</h4>
<p>No, it seems "Zulip live"</p>

<a name="127265656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127265656" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127265656">Kevin Buzzard (May 29 2018 at 18:20)</a>:</h4>
<p>Johan, I was inspired to do it after looking at the structure you constructed, which reminded me of the terrible first structure I constructed.</p>

<a name="127267673"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127267673" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127267673">Kevin Buzzard (May 29 2018 at 19:00)</a>:</h4>
<p>Hello, this is just me talking through <code>pnat.lean</code></p>

<a name="127267674"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127267674" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127267674">Kevin Buzzard (May 29 2018 at 19:00)</a>:</h4>
<p>It should be easy</p>

<a name="127267678"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127267678" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127267678">Kevin Buzzard (May 29 2018 at 19:00)</a>:</h4>
<p>and maybe people will find it later.</p>

<a name="127267695"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127267695" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127267695">Kevin Buzzard (May 29 2018 at 19:01)</a>:</h4>
<p>Ok so mathematicians use a lot of structures, and one structure I was brought up on is "the UK mathematician's nat", namely {1,2,3,...}</p>

<a name="127267698"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127267698" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127267698">Kevin Buzzard (May 29 2018 at 19:01)</a>:</h4>
<p>Ok so how do we define the UK mathematician's nat?</p>

<a name="127267701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127267701" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127267701">Kevin Buzzard (May 29 2018 at 19:01)</a>:</h4>
<p>Well pretty clearly we could define it like the computer scientist's nat := {0,1,2,3,...}</p>

<a name="127267702"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127267702" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127267702">Kevin Buzzard (May 29 2018 at 19:01)</a>:</h4>
<p>we could just make a structure</p>

<a name="127267742"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127267742" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127267742">Kevin Buzzard (May 29 2018 at 19:02)</a>:</h4>
<p>hmm</p>

<a name="127267745"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127267745" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127267745">Kevin Buzzard (May 29 2018 at 19:02)</a>:</h4>
<p>let me fire up lean</p>

<a name="127267771"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127267771" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127267771">Kevin Buzzard (May 29 2018 at 19:02)</a>:</h4>
<p>that's better</p>

<a name="127267796"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127267796" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127267796">Kevin Buzzard (May 29 2018 at 19:03)</a>:</h4>
<p>I am so rubbish at structures</p>

<a name="127267810"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127267810" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127267810">Kevin Buzzard (May 29 2018 at 19:03)</a>:</h4>
<p>aah bingo</p>

<a name="127267813"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127267813" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127267813">Kevin Buzzard (May 29 2018 at 19:03)</a>:</h4>
<p>it's not a structure</p>

<a name="127267817"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127267817" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127267817">Kevin Buzzard (May 29 2018 at 19:03)</a>:</h4>
<p>it's an inductive type</p>

<a name="127267819"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127267819" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127267819">Kevin Buzzard (May 29 2018 at 19:03)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">inductive</span> <span class="n">pnat</span>
<span class="bp">|</span> <span class="n">one</span> <span class="o">:</span> <span class="n">pnat</span>
<span class="bp">|</span> <span class="n">succ</span> <span class="o">:</span> <span class="n">pnat</span> <span class="bp">→</span> <span class="n">pnat</span>
</pre></div>

<a name="127267820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127267820" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127267820">Kevin Buzzard (May 29 2018 at 19:03)</a>:</h4>
<p>So there's pnat</p>

<a name="127267825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127267825" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127267825">Kevin Buzzard (May 29 2018 at 19:04)</a>:</h4>
<p>and that would work</p>

<a name="127267870"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127267870" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127267870">Kevin Buzzard (May 29 2018 at 19:04)</a>:</h4>
<p>and we could define addition and multiplication and prove addition is commutative</p>

<a name="127267873"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127267873" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127267873">Kevin Buzzard (May 29 2018 at 19:04)</a>:</h4>
<p>and do all that stuff again</p>

<a name="127267877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127267877" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127267877">Kevin Buzzard (May 29 2018 at 19:04)</a>:</h4>
<p>and that's stuff we already did with nat</p>

<a name="127267879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127267879" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127267879">Kevin Buzzard (May 29 2018 at 19:04)</a>:</h4>
<p>and that's kind of a waste</p>

<a name="127267889"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127267889" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127267889">Kevin Buzzard (May 29 2018 at 19:04)</a>:</h4>
<p>it would be nice to inherit all those theorems about nat and get them to pnat immediately</p>

<a name="127267896"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127267896" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127267896">Kevin Buzzard (May 29 2018 at 19:04)</a>:</h4>
<p>so let's take a look at what they did in Lean or mathlib, wherever they defined pnat</p>

<a name="127267932"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127267932" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127267932">Kevin Buzzard (May 29 2018 at 19:05)</a>:</h4>
<p>Ok so it's in mathlib</p>

<a name="127267936"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127267936" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127267936">Kevin Buzzard (May 29 2018 at 19:05)</a>:</h4>
<p>which means that computer scientists are not interested in this structure</p>

<a name="127267939"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127267939" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127267939">Kevin Buzzard (May 29 2018 at 19:05)</a>:</h4>
<p>You can get to it with "import data.pnat"</p>

<a name="127267943"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127267943" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127267943">Kevin Buzzard (May 29 2018 at 19:06)</a>:</h4>
<p>let's find it on github</p>

<a name="127267993"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127267993" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127267993">Kevin Buzzard (May 29 2018 at 19:06)</a>:</h4>
<p><a href="https://github.com/leanprover/mathlib/blob/master/data/pnat.lean" target="_blank" title="https://github.com/leanprover/mathlib/blob/master/data/pnat.lean">https://github.com/leanprover/mathlib/blob/master/data/pnat.lean</a></p>

<a name="127267996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127267996" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127267996">Kevin Buzzard (May 29 2018 at 19:06)</a>:</h4>
<p>There it is.</p>

<a name="127267999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127267999" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127267999">Kevin Buzzard (May 29 2018 at 19:06)</a>:</h4>
<p>Last modified two days ago!</p>

<a name="127268002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268002" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268002">Kevin Buzzard (May 29 2018 at 19:06)</a>:</h4>
<p>Things never stand still around here</p>

<a name="127268022"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268022" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268022">Kevin Buzzard (May 29 2018 at 19:07)</a>:</h4>
<p>OK so I'm going to talk through this file, or at least what I understand of this file, which is pretty much all of it I hope</p>

<a name="127268029"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268029" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268029">Kevin Buzzard (May 29 2018 at 19:07)</a>:</h4>
<p>and the first thing we notice</p>

<a name="127268034"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268034" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268034">Kevin Buzzard (May 29 2018 at 19:07)</a>:</h4>
<p>is that on line 1</p>

<a name="127268037"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268037" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268037">Kevin Buzzard (May 29 2018 at 19:07)</a>:</h4>
<p>they don't define it using an inductive structure like nat</p>

<a name="127268039"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268039" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268039">Kevin Buzzard (May 29 2018 at 19:07)</a>:</h4>
<p>they define it as a _subtype_</p>

<a name="127268041"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268041" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268041">Kevin Buzzard (May 29 2018 at 19:07)</a>:</h4>
<p>which is a bit more annoying to use in practice</p>

<a name="127268066"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268066" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268066">Kevin Buzzard (May 29 2018 at 19:08)</a>:</h4>
<p>oh wait I skipped a line</p>

<a name="127268093"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268093" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268093">Kevin Buzzard (May 29 2018 at 19:08)</a>:</h4>
<p><code>import tactic.basic</code></p>

<a name="127268099"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268099" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268099">Kevin Buzzard (May 29 2018 at 19:08)</a>:</h4>
<p>let's come back to that line when I have figured out why it's there</p>

<a name="127268104"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268104" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268104">Kevin Buzzard (May 29 2018 at 19:08)</a>:</h4>
<p><code>def pnat := {n : ℕ // n &gt; 0}</code></p>

<a name="127268105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268105" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268105">Kevin Buzzard (May 29 2018 at 19:08)</a>:</h4>
<p>And there it is.</p>

<a name="127268107"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268107" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268107">Kevin Buzzard (May 29 2018 at 19:08)</a>:</h4>
<p>There are sets <code>{x | blah}</code></p>

<a name="127268110"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268110" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268110">Kevin Buzzard (May 29 2018 at 19:08)</a>:</h4>
<p>and there are subtypes <code>{x // blah}</code></p>

<a name="127268112"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268112" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268112">Kevin Buzzard (May 29 2018 at 19:08)</a>:</h4>
<p>this one is a subtype</p>

<a name="127268135"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268135" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268135">Kevin Buzzard (May 29 2018 at 19:09)</a>:</h4>
<p>don't mind me I'm just editing mathlib</p>

<a name="127268138"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268138" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268138">Kevin Buzzard (May 29 2018 at 19:09)</a>:</h4>
<p>Ok so I was trying to work out what a subtype was</p>

<a name="127268140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268140" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268140">Kevin Buzzard (May 29 2018 at 19:09)</a>:</h4>
<p>but I know the answer</p>

<a name="127268197"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268197" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268197">Kevin Buzzard (May 29 2018 at 19:10)</a>:</h4>
<p>to make a pnat you have to give two pieces of data</p>

<a name="127268200"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268200" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268200">Kevin Buzzard (May 29 2018 at 19:10)</a>:</h4>
<p>1) a nat</p>

<a name="127268204"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268204" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268204">Kevin Buzzard (May 29 2018 at 19:10)</a>:</h4>
<p>2) a proof that it's positive</p>

<a name="127268209"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268209" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268209">Kevin Buzzard (May 29 2018 at 19:10)</a>:</h4>
<p>(that's &gt; 0 for you French speakers)</p>

<a name="127268220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268220" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268220">Kevin Buzzard (May 29 2018 at 19:10)</a>:</h4>
<p>so here's an example</p>

<a name="127268230"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268230" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268230">Kevin Buzzard (May 29 2018 at 19:11)</a>:</h4>
<p><code>definition x : pnat := ⟨59,oh crap⟩</code></p>

<a name="127268232"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268232" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268232">Kevin Buzzard (May 29 2018 at 19:11)</a>:</h4>
<p>that didn't go well</p>

<a name="127268235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268235" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268235">Kevin Buzzard (May 29 2018 at 19:11)</a>:</h4>
<p>I was in the middle of defining 59</p>

<a name="127268238"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268238" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268238">Kevin Buzzard (May 29 2018 at 19:11)</a>:</h4>
<p>and all of a sudden I needed a proof.</p>

<a name="127268240"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268240" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268240">Kevin Buzzard (May 29 2018 at 19:11)</a>:</h4>
<p>OK so let's try again but this time be prepared</p>

<a name="127268288"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268288" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268288">Kevin Buzzard (May 29 2018 at 19:12)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">theorem</span> <span class="n">H</span> <span class="o">:</span> <span class="mi">59</span> <span class="bp">&gt;</span> <span class="mi">0</span> <span class="o">:=</span> <span class="n">sorry</span>
<span class="kn">definition</span> <span class="n">x</span> <span class="o">:</span> <span class="n">pnat</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="mi">59</span><span class="o">,</span><span class="n">H</span><span class="bp">⟩</span>
</pre></div>

<a name="127268289"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268289" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268289">Kevin Buzzard (May 29 2018 at 19:12)</a>:</h4>
<p>Ok that went better</p>

<a name="127268295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268295" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268295">Kevin Buzzard (May 29 2018 at 19:12)</a>:</h4>
<p>I cheated with my proof that 59 &gt; 0 by saying the proof was sorry (which means "just assume it")</p>

<a name="127268298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268298" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268298">Kevin Buzzard (May 29 2018 at 19:12)</a>:</h4>
<p>and now I can finally make my pnat</p>

<a name="127268311"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268311" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268311">Kevin Buzzard (May 29 2018 at 19:13)</a>:</h4>
<p>This is going to be pretty inconvenient having to prove that things are positive</p>

<a name="127268316"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268316" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268316">Kevin Buzzard (May 29 2018 at 19:13)</a>:</h4>
<p>but actually in a couple of lines we're going to see a really good way of doing it</p>

<a name="127268324"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268324" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268324">Kevin Buzzard (May 29 2018 at 19:13)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">notation</span> <span class="bp">`ℕ+`</span> <span class="o">:=</span> <span class="n">pnat</span>

<span class="kn">instance</span> <span class="n">coe_pnat_nat</span> <span class="o">:</span> <span class="n">has_coe</span> <span class="bp">ℕ+</span> <span class="bp">ℕ</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="n">subtype</span><span class="bp">.</span><span class="n">val</span><span class="bp">⟩</span>
</pre></div>

<a name="127268325"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268325" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268325">Kevin Buzzard (May 29 2018 at 19:13)</a>:</h4>
<p>Those are the next couple of lines</p>

<a name="127268373"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268373" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268373">Kevin Buzzard (May 29 2018 at 19:14)</a>:</h4>
<p>The first one is easy: it sets up notation, and we're going to use the completely non-standard notation <code>ℕ+</code> for pnat</p>

<a name="127268376"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268376" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268376">Kevin Buzzard (May 29 2018 at 19:14)</a>:</h4>
<p>as opposed to a little plus or a little star or whatever the French use, maybe some sub zero or super zero</p>

<a name="127268383"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268383" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268383">Kevin Buzzard (May 29 2018 at 19:14)</a>:</h4>
<p>this sort of thing is a minefield</p>

<a name="127268387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268387" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268387">Kevin Buzzard (May 29 2018 at 19:15)</a>:</h4>
<p><code>ℕ+</code> will do</p>

<a name="127268413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268413" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268413">Kevin Buzzard (May 29 2018 at 19:15)</a>:</h4>
<p>and now this incomprehensible coe line is where we start making the interface for our structure</p>

<a name="127268417"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268417" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268417">Patrick Massot (May 29 2018 at 19:15)</a>:</h4>
<p>ℕ^*</p>

<a name="127268418"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268418" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268418">Kevin Buzzard (May 29 2018 at 19:15)</a>:</h4>
<p>because we are already finished with the structure</p>

<a name="127268425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268425" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268425">Kevin Buzzard (May 29 2018 at 19:15)</a>:</h4>
<p>Submit a PR Patrick</p>

<a name="127268486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268486" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268486">Kevin Buzzard (May 29 2018 at 19:16)</a>:</h4>
<p>The thing that mathematicians don't realise</p>

<a name="127268490"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268490" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268490">Kevin Buzzard (May 29 2018 at 19:16)</a>:</h4>
<p>or at least that I didn't realise at all</p>

<a name="127268492"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268492" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268492">Kevin Buzzard (May 29 2018 at 19:16)</a>:</h4>
<p>(I suspect Patrick knew full well)</p>

<a name="127268493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268493" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268493">Kevin Buzzard (May 29 2018 at 19:16)</a>:</h4>
<p>was that it's not just about making the structure</p>

<a name="127268494"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268494" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268494">Kevin Buzzard (May 29 2018 at 19:16)</a>:</h4>
<p>the next thing you have to do is to say to yourself</p>

<a name="127268502"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268502" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268502">Kevin Buzzard (May 29 2018 at 19:17)</a>:</h4>
<p>"what is every single basic thing that my users might want to do with this structure?"</p>

<a name="127268515"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268515" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268515">Kevin Buzzard (May 29 2018 at 19:17)</a>:</h4>
<p>And the first basic thing is that given a positive natural, a mathematician might also want to think of it as a natural.</p>

<a name="127268519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268519" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268519">Kevin Buzzard (May 29 2018 at 19:17)</a>:</h4>
<p>And in fact it's such a natural (no pun intended) to move from pnat to nat</p>

<a name="127268520"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268520" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268520">Kevin Buzzard (May 29 2018 at 19:17)</a>:</h4>
<p>that not only did they design a function for it</p>

<a name="127268529"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268529" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268529">Kevin Buzzard (May 29 2018 at 19:17)</a>:</h4>
<p>but they made it into a coercion</p>

<a name="127268532"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268532" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268532">Kevin Buzzard (May 29 2018 at 19:17)</a>:</h4>
<p>which means "it happens magically"</p>

<a name="127268580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268580" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268580">Kevin Buzzard (May 29 2018 at 19:18)</a>:</h4>
<p>Aah I see what to do</p>

<a name="127268582"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268582" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268582">Kevin Buzzard (May 29 2018 at 19:18)</a>:</h4>
<p>I have mathlib pnat open</p>

<a name="127268584"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268584" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268584">Kevin Buzzard (May 29 2018 at 19:18)</a>:</h4>
<p>and a copy of it</p>

<a name="127268586"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268586" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268586">Kevin Buzzard (May 29 2018 at 19:18)</a>:</h4>
<p>and I edit the copy</p>

<a name="127268587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268587" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268587">Kevin Buzzard (May 29 2018 at 19:18)</a>:</h4>
<p>great</p>

<a name="127268598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268598" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268598">Kevin Buzzard (May 29 2018 at 19:18)</a>:</h4>
<p>so let's see if we can understand this coercion</p>

<a name="127268602"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268602" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268602">Kevin Buzzard (May 29 2018 at 19:18)</a>:</h4>
<p>and then let's see it happen</p>

<a name="127268616"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268616" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268616">Kevin Buzzard (May 29 2018 at 19:18)</a>:</h4>
<p><code>instance coe_pnat_nat : has_coe ℕ+ ℕ := ⟨subtype.val⟩</code></p>

<a name="127268617"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268617" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268617">Kevin Buzzard (May 29 2018 at 19:19)</a>:</h4>
<p>instances are something I never understood</p>

<a name="127268622"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268622" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268622">Kevin Buzzard (May 29 2018 at 19:19)</a>:</h4>
<p>coercions not really either</p>

<a name="127268629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268629" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268629">Kevin Buzzard (May 29 2018 at 19:19)</a>:</h4>
<p>and then those dreaded pointy brackets</p>

<a name="127268633"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268633" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268633">Kevin Buzzard (May 29 2018 at 19:19)</a>:</h4>
<p>and then an incomprehensible <code>subtype.val</code></p>

<a name="127268636"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268636" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268636">Kevin Buzzard (May 29 2018 at 19:19)</a>:</h4>
<p>That's what I thought of that line in about January.</p>

<a name="127268646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268646" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268646">Kevin Buzzard (May 29 2018 at 19:19)</a>:</h4>
<p>But as Kenny once told me, Lean does not do magic</p>

<a name="127268652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268652" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268652">Kevin Buzzard (May 29 2018 at 19:19)</a>:</h4>
<p>so we can work out what this line does</p>

<a name="127268719"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268719" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268719">Kevin Buzzard (May 29 2018 at 19:20)</a>:</h4>
<p>and I work it out by having this pnat file open in Lean and just right clicking on subtype.val</p>

<a name="127268723"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268723" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268723">Kevin Buzzard (May 29 2018 at 19:20)</a>:</h4>
<p>and then selecting "go to definition"</p>

<a name="127268728"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268728" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268728">Kevin Buzzard (May 29 2018 at 19:20)</a>:</h4>
<p>and then we find ourselves right in the heart of core lean</p>

<a name="127268731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268731" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268731">Kevin Buzzard (May 29 2018 at 19:20)</a>:</h4>
<p>and we see</p>

<a name="127268733"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268733" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268733">Kevin Buzzard (May 29 2018 at 19:20)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">structure</span> <span class="n">subtype</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="n">Sort</span> <span class="n">u</span><span class="o">}</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">val</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">property</span> <span class="o">:</span> <span class="n">p</span> <span class="n">val</span><span class="o">)</span>
</pre></div>

<a name="127268742"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268742" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268742">Kevin Buzzard (May 29 2018 at 19:21)</a>:</h4>
<p>and pnat, the positive naturals, was a subtype</p>

<a name="127268750"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268750" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268750">Kevin Buzzard (May 29 2018 at 19:21)</a>:</h4>
<p>in fact if we switch notation off and look at pnat</p>

<a name="127268765"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268765" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268765">Kevin Buzzard (May 29 2018 at 19:21)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">def</span> <span class="n">pnat</span> <span class="o">:=</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">//</span> <span class="n">n</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">}</span>

<span class="kn">set_option</span> <span class="n">pp</span><span class="bp">.</span><span class="kn">notation</span> <span class="n">false</span>
<span class="bp">#</span><span class="kn">print</span> <span class="n">pnat</span>
</pre></div>

<a name="127268803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268803" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268803">Kevin Buzzard (May 29 2018 at 19:22)</a>:</h4>
<p>we see</p>

<a name="127268808"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268808" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268808">Kevin Buzzard (May 29 2018 at 19:22)</a>:</h4>
<p><code>def pnat : Type :=
subtype (λ (n : nat), gt n 0)</code></p>

<a name="127268814"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268814" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268814">Kevin Buzzard (May 29 2018 at 19:22)</a>:</h4>
<p>eew</p>

<a name="127268816"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268816" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268816">Kevin Buzzard (May 29 2018 at 19:22)</a>:</h4>
<p><code>gt</code> is <code>&gt;</code></p>

<a name="127268824"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268824" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268824">Kevin Buzzard (May 29 2018 at 19:22)</a>:</h4>
<p>so indeed we see a function nat to Prop</p>

<a name="127268827"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268827" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268827">Kevin Buzzard (May 29 2018 at 19:22)</a>:</h4>
<p>sending n to "n &gt; 0"</p>

<a name="127268833"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268833" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268833">Kevin Buzzard (May 29 2018 at 19:23)</a>:</h4>
<p>and we get a subtype, consisting of the n such that we have a proof that n &gt; 0</p>

<a name="127268846"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268846" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268846">Kevin Buzzard (May 29 2018 at 19:23)</a>:</h4>
<p>and we see from the definition of the subtype structure that the <code>n</code> is the <code>val</code> and the proof is the <code>property</code></p>

<a name="127268904"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268904" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268904">Kevin Buzzard (May 29 2018 at 19:24)</a>:</h4>
<p>so subtype.val sends the pnat <code>⟨59,H⟩</code></p>

<a name="127268905"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268905" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268905">Kevin Buzzard (May 29 2018 at 19:24)</a>:</h4>
<p>to its value</p>

<a name="127268906"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268906" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268906">Kevin Buzzard (May 29 2018 at 19:24)</a>:</h4>
<p>which is 59</p>

<a name="127268913"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268913" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268913">Kevin Buzzard (May 29 2018 at 19:24)</a>:</h4>
<p>and we made it a coercion using coercion instance magic</p>

<a name="127268920"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268920" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268920">Kevin Buzzard (May 29 2018 at 19:25)</a>:</h4>
<p>so that means it should happen naturally</p>

<a name="127268930"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268930" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268930">Kevin Buzzard (May 29 2018 at 19:25)</a>:</h4>
<p>Ok it works!</p>

<a name="127268987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268987" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268987">Kevin Buzzard (May 29 2018 at 19:26)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">theorem</span> <span class="n">H</span> <span class="o">:</span> <span class="mi">59</span> <span class="bp">&gt;</span> <span class="mi">0</span> <span class="o">:=</span> <span class="n">sorry</span>
<span class="kn">definition</span> <span class="n">x</span> <span class="o">:</span> <span class="n">pnat</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="mi">59</span><span class="o">,</span><span class="n">H</span><span class="bp">⟩</span>
<span class="bp">#</span><span class="kn">check</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">pnat</span><span class="o">)</span> <span class="c1">-- x : pnat</span>
<span class="bp">#</span><span class="kn">check</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span>
</pre></div>

<a name="127268991"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268991" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268991">Kevin Buzzard (May 29 2018 at 19:26)</a>:</h4>
<p>it would be better if you could see me typing</p>

<a name="127268992"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268992" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268992">Kevin Buzzard (May 29 2018 at 19:26)</a>:</h4>
<p>that would save me having to cut and paste</p>

<a name="127268993"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268993" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268993">Kevin Buzzard (May 29 2018 at 19:26)</a>:</h4>
<p>how do I do that?</p>

<a name="127268994"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268994" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268994">Kevin Buzzard (May 29 2018 at 19:26)</a>:</h4>
<p>Did someone say youtube ?</p>

<a name="127268996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268996" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268996">Kevin Buzzard (May 29 2018 at 19:26)</a>:</h4>
<p>Does twitch take this sort of stuff?</p>

<a name="127268997"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127268997" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127268997">Kevin Buzzard (May 29 2018 at 19:27)</a>:</h4>
<p>I have done all manner of weird things on twitch</p>

<a name="127269004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269004" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269004">Patrick Massot (May 29 2018 at 19:27)</a>:</h4>
<p>Yes, I don't understand why you don't record that and put it on youtube</p>

<a name="127269008"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269008" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269008">Kevin Buzzard (May 29 2018 at 19:27)</a>:</h4>
<p>because I'm just squeezing this in before I put the kids to bed</p>

<a name="127269009"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269009" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269009">Kevin Buzzard (May 29 2018 at 19:27)</a>:</h4>
<p>so back to the point</p>

<a name="127269011"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269011" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269011">Kevin Buzzard (May 29 2018 at 19:27)</a>:</h4>
<p>a miracle occurred!</p>

<a name="127269012"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269012" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269012">Kevin Buzzard (May 29 2018 at 19:27)</a>:</h4>
<p>A contradiction in type theory!</p>

<a name="127269015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269015" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269015">Kevin Buzzard (May 29 2018 at 19:27)</a>:</h4>
<p>x had type pnat</p>

<a name="127269016"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269016" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269016">Kevin Buzzard (May 29 2018 at 19:27)</a>:</h4>
<p>and type nat</p>

<a name="127269019"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269019" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269019">Kevin Buzzard (May 29 2018 at 19:27)</a>:</h4>
<p>as well</p>

<a name="127269021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269021" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269021">Kevin Buzzard (May 29 2018 at 19:27)</a>:</h4>
<p>but actually what happened was that coercion kicked in</p>

<a name="127269062"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269062" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269062">Kevin Buzzard (May 29 2018 at 19:28)</a>:</h4>
<p>The output of the second check was <code>↑x : ℕ</code></p>

<a name="127269074"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269074" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269074">Kevin Buzzard (May 29 2018 at 19:28)</a>:</h4>
<p>and that arrow (which you get with <code>\u</code>)</p>

<a name="127269077"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269077" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269077">Kevin Buzzard (May 29 2018 at 19:28)</a>:</h4>
<p>means "I got coerced!"</p>

<a name="127269084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269084" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269084">Kevin Buzzard (May 29 2018 at 19:28)</a>:</h4>
<p>so that has solved our first fundamental problem</p>

<a name="127269086"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269086" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269086">Kevin Buzzard (May 29 2018 at 19:28)</a>:</h4>
<p>which is that for a mathematician, pnat is a subset of nat</p>

<a name="127269088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269088" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269088">Kevin Buzzard (May 29 2018 at 19:28)</a>:</h4>
<p>and hence every pnat _is_ a nat</p>

<a name="127269092"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269092" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269092">Kevin Buzzard (May 29 2018 at 19:28)</a>:</h4>
<p>They don't have it so easy in DTT</p>

<a name="127269100"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269100" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269100">Kevin Buzzard (May 29 2018 at 19:29)</a>:</h4>
<p>so we are stuck with the cute little arrows</p>

<a name="127269107"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269107" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269107">Kevin Buzzard (May 29 2018 at 19:29)</a>:</h4>
<p>let's press on</p>

<a name="127269120"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269120" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269120">Kevin Buzzard (May 29 2018 at 19:29)</a>:</h4>
<p>The next line is clever</p>

<a name="127269146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269146" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269146">Kevin Buzzard (May 29 2018 at 19:30)</a>:</h4>
<p><code>def to_pnat (n : ℕ) (h : n &gt; 0 . tactic.exact_dec_trivial) : ℕ+ := ⟨n, h⟩</code></p>

<a name="127269177"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269177" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269177">Kevin Buzzard (May 29 2018 at 19:30)</a>:</h4>
<p>That's using a really cool piece of Lean functionality</p>

<a name="127269191"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269191" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269191">Kevin Buzzard (May 29 2018 at 19:30)</a>:</h4>
<p>...which breaks if I remove that <code>import</code> line</p>

<a name="127269193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269193" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269193">Kevin Buzzard (May 29 2018 at 19:30)</a>:</h4>
<p>so that's why the import is there</p>

<a name="127269213"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269213" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269213">Kevin Buzzard (May 29 2018 at 19:31)</a>:</h4>
<p>This is pretty much the rarest of ways to make a function input for Lean</p>

<a name="127269215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269215" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269215">Patrick Massot (May 29 2018 at 19:31)</a>:</h4>
<p>you could still hide the  cute little arrows from pp display though</p>

<a name="127269225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269225" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269225">Kevin Buzzard (May 29 2018 at 19:31)</a>:</h4>
<p>there's something in the manual about this</p>

<a name="127269228"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269228" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269228">Kevin Buzzard (May 29 2018 at 19:31)</a>:</h4>
<p>you can do pp.no_cute_arrows Patrick?</p>

<a name="127269280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269280" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269280">Kevin Buzzard (May 29 2018 at 19:32)</a>:</h4>
<p>here we are</p>

<a name="127269281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269281" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269281">Kevin Buzzard (May 29 2018 at 19:32)</a>:</h4>
<p><a href="https://leanprover.github.io/reference/expressions.html#implicit-arguments" target="_blank" title="https://leanprover.github.io/reference/expressions.html#implicit-arguments">https://leanprover.github.io/reference/expressions.html#implicit-arguments</a></p>

<a name="127269282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269282" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269282">Patrick Massot (May 29 2018 at 19:32)</a>:</h4>
<p><code>set_option pp.coercions false</code></p>

<a name="127269286"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269286" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269286">Kevin Buzzard (May 29 2018 at 19:32)</a>:</h4>
<p>does that mean Lean doesn't do them?</p>

<a name="127269290"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269290" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269290">Kevin Buzzard (May 29 2018 at 19:32)</a>:</h4>
<p>or just doesn't print the arrows?</p>

<a name="127269291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269291" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269291">Patrick Massot (May 29 2018 at 19:32)</a>:</h4>
<p>doesn't print</p>

<a name="127269293"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269293" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269293">Kevin Buzzard (May 29 2018 at 19:32)</a>:</h4>
<p>thought so :-)</p>

<a name="127269297"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269297" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269297">Patrick Massot (May 29 2018 at 19:32)</a>:</h4>
<p>hence the pp</p>

<a name="127269299"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269299" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269299">Johan Commelin (May 29 2018 at 19:32)</a>:</h4>
<p><code>pp</code> means "pretty print"</p>

<a name="127269300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269300" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269300">Patrick Massot (May 29 2018 at 19:32)</a>:</h4>
<p>meaning pretty print</p>

<a name="127269305"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269305" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269305">Kevin Buzzard (May 29 2018 at 19:33)</a>:</h4>
<p>presumably no setting of options can change Lean's behaviour?</p>

<a name="127269320"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269320" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269320">Kevin Buzzard (May 29 2018 at 19:33)</a>:</h4>
<p>in pnat we have the last of the ways that Lean can make an implicit argument</p>

<a name="127269324"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269324" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269324">Patrick Massot (May 29 2018 at 19:33)</a>:</h4>
<p><code>class.instance_max_depth</code></p>

<a name="127269331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269331" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269331">Kevin Buzzard (May 29 2018 at 19:33)</a>:</h4>
<p>"run a tactic to make the argument for you"</p>

<a name="127269333"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269333" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269333">Kevin Buzzard (May 29 2018 at 19:33)</a>:</h4>
<p>Patrick: touch\'e</p>

<a name="127269339"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269339" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269339">Kevin Buzzard (May 29 2018 at 19:33)</a>:</h4>
<p><code>def to_pnat (n : ℕ) (h : n &gt; 0 . tactic.exact_dec_trivial) : ℕ+ := ⟨n, h⟩</code></p>

<a name="127269389"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269389" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269389">Kevin Buzzard (May 29 2018 at 19:34)</a>:</h4>
<p>means "take an input n, and then see if you can prove n &gt; 0 by using the tactic <code>tactic.exact_dec_trivial</code>"</p>

<a name="127269394"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269394" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269394">Kevin Buzzard (May 29 2018 at 19:34)</a>:</h4>
<p>Let's see this tactic in action</p>

<a name="127269414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269414" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269414">Kevin Buzzard (May 29 2018 at 19:35)</a>:</h4>
<p><code>theorem H : 59 &gt; 0 := by tactic.exact_dec_trivial</code></p>

<a name="127269416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269416" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269416">Kevin Buzzard (May 29 2018 at 19:35)</a>:</h4>
<p>It works!</p>

<a name="127269420"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269420" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269420">Kevin Buzzard (May 29 2018 at 19:35)</a>:</h4>
<p>To find out what it does you can right click on it and it will be all tacticy stuff</p>

<a name="127269422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269422" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269422">Kevin Buzzard (May 29 2018 at 19:35)</a>:</h4>
<p>so I'm not going to do that</p>

<a name="127269424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269424" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269424">Kevin Buzzard (May 29 2018 at 19:35)</a>:</h4>
<p>but I know what is going on</p>

<a name="127269425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269425" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269425">Kevin Buzzard (May 29 2018 at 19:35)</a>:</h4>
<p>in fact there's a shorter way of doing it</p>

<a name="127269430"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269430" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269430">Kevin Buzzard (May 29 2018 at 19:35)</a>:</h4>
<p><code>theorem H : 59 &gt; 0 := dec_trivial</code></p>

<a name="127269432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269432" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269432">Kevin Buzzard (May 29 2018 at 19:36)</a>:</h4>
<p>(not a tactic, so no <code>by</code> this time)</p>

<a name="127269485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269485" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269485">Kevin Buzzard (May 29 2018 at 19:36)</a>:</h4>
<p><code>dec_trivial</code> just means "&gt; is decidable on nat so just please decide this for me by proving it's true"</p>

<a name="127269505"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269505" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269505">Kevin Buzzard (May 29 2018 at 19:37)</a>:</h4>
<p>apparently you can't use it to prove things are false though</p>

<a name="127269512"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269512" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269512">Kevin Buzzard (May 29 2018 at 19:37)</a>:</h4>
<p><code>theorem H1 : 0 &gt; 0 := dec_trivial</code></p>

<a name="127269514"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269514" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269514">Kevin Buzzard (May 29 2018 at 19:37)</a>:</h4>
<p>doesn't work</p>

<a name="127269527"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269527" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269527">Kevin Buzzard (May 29 2018 at 19:37)</a>:</h4>
<p>so let's see <code>to_pnat</code> in action!</p>

<a name="127269542"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269542" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269542">Kevin Buzzard (May 29 2018 at 19:38)</a>:</h4>
<p><code>definition y : pnat := to_pnat 12 </code></p>

<a name="127269579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269579" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269579">Kevin Buzzard (May 29 2018 at 19:38)</a>:</h4>
<p>that's much better than what we had before</p>

<a name="127269595"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269595" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269595">Kevin Buzzard (May 29 2018 at 19:38)</a>:</h4>
<p><code>definition z : pnat := to_pnat 0</code></p>

<a name="127269600"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269600" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269600">Kevin Buzzard (May 29 2018 at 19:38)</a>:</h4>
<p>you get some weird error</p>

<a name="127269610"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269610" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269610">Kevin Buzzard (May 29 2018 at 19:38)</a>:</h4>
<p>OK so let's press on</p>

<a name="127269612"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269612" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269612">Kevin Buzzard (May 29 2018 at 19:38)</a>:</h4>
<p><code>def succ_pnat (n : ℕ) : ℕ+ := ⟨succ n, succ_pos n⟩</code></p>

<a name="127269616"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269616" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269616">Kevin Buzzard (May 29 2018 at 19:38)</a>:</h4>
<p>this one looks easy.</p>

<a name="127269626"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269626" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269626">Kevin Buzzard (May 29 2018 at 19:39)</a>:</h4>
<p>Given n a nat, we are building a pnat called <code>succ_pnat n</code></p>

<a name="127269633"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269633" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269633">Kevin Buzzard (May 29 2018 at 19:39)</a>:</h4>
<p>and you can guess from the name that it will be n + 1</p>

<a name="127269638"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269638" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269638">Kevin Buzzard (May 29 2018 at 19:39)</a>:</h4>
<p>so I reckon that succ_pos n is going to be the theorem that n + 1 &gt; 0</p>

<a name="127269644"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269644" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269644">Kevin Buzzard (May 29 2018 at 19:39)</a>:</h4>
<p>we can check that easily</p>

<a name="127269659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269659" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269659">Mario Carneiro (May 29 2018 at 19:39)</a>:</h4>
<p>Obviously you can't prove false things using <code>dec_trivial</code>, they're false</p>

<a name="127269708"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269708" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269708">Mario Carneiro (May 29 2018 at 19:40)</a>:</h4>
<p>but you can prove the negation using <code>dec_trivial</code></p>

<a name="127269733"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269733" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269733">Kevin Buzzard (May 29 2018 at 19:40)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">variable</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span>
<span class="bp">#</span><span class="kn">check</span> <span class="n">succ_pos</span> <span class="n">n</span>
</pre></div>

<a name="127269739"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269739" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269739">Kevin Buzzard (May 29 2018 at 19:40)</a>:</h4>
<p><code>succ_pos n : 0 &lt; succ n</code></p>

<a name="127269750"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269750" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269750">Kevin Buzzard (May 29 2018 at 19:40)</a>:</h4>
<p>we could have right clicked and wandered back in to core lean or so, but this is another way</p>

<a name="127269767"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269767" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269767">Kevin Buzzard (May 29 2018 at 19:41)</a>:</h4>
<p>So that's two maps from nat to pnat and a map from pnat to nat</p>

<a name="127269774"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269774" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269774">Kevin Buzzard (May 29 2018 at 19:41)</a>:</h4>
<p>It's certainly the case that we could imagine using both those maps</p>

<a name="127269818"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269818" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269818">Kevin Buzzard (May 29 2018 at 19:42)</a>:</h4>
<p>but what do we need to do next?</p>

<a name="127269824"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269824" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269824">Kevin Buzzard (May 29 2018 at 19:42)</a>:</h4>
<p>This is the question that I as a mathematician find hard</p>

<a name="127269825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269825" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269825">Kevin Buzzard (May 29 2018 at 19:42)</a>:</h4>
<p>and I think that people like Mario just somehow know</p>

<a name="127269828"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269828" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269828">Kevin Buzzard (May 29 2018 at 19:42)</a>:</h4>
<p>I'm just going to cheat and look at the code</p>

<a name="127269831"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269831" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269831">Kevin Buzzard (May 29 2018 at 19:42)</a>:</h4>
<p><code>@[simp] theorem succ_pnat_coe (n : ℕ) : (succ_pnat n : ℕ) = succ n := rfl</code></p>

<a name="127269845"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269845" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269845">Kevin Buzzard (May 29 2018 at 19:43)</a>:</h4>
<p>OK so this says that given a nat, if we compute its successor as a pnat then it equals its successor as a nat</p>

<a name="127269852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269852" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269852">Kevin Buzzard (May 29 2018 at 19:43)</a>:</h4>
<p>Notice the secret coercion! That equality is between a pnat and a nat</p>

<a name="127269854"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269854" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269854">Kevin Buzzard (May 29 2018 at 19:43)</a>:</h4>
<p>and Lean coerces the left hand side</p>

<a name="127269855"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269855" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269855">Kevin Buzzard (May 29 2018 at 19:43)</a>:</h4>
<p>so if you think about it</p>

<a name="127269857"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269857" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269857">Kevin Buzzard (May 29 2018 at 19:43)</a>:</h4>
<p>when you unravel it</p>

<a name="127269860"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269860" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269860">Kevin Buzzard (May 29 2018 at 19:43)</a>:</h4>
<p>that theorem just says <code>succ n = succ n</code></p>

<a name="127269865"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269865" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269865">Kevin Buzzard (May 29 2018 at 19:43)</a>:</h4>
<p>so the proof is <code>rfl</code></p>

<a name="127269928"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269928" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269928">Kevin Buzzard (May 29 2018 at 19:44)</a>:</h4>
<p>Ok now <span class="user-mention" data-user-id="110049">@Mario Carneiro</span> told me that theorems whose proofs were rfl sometimes don't get names</p>

<a name="127269932"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269932" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269932">Kevin Buzzard (May 29 2018 at 19:44)</a>:</h4>
<p>but this one got lucky</p>

<a name="127269934"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269934" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269934">Kevin Buzzard (May 29 2018 at 19:44)</a>:</h4>
<p>it got a name</p>

<a name="127269936"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269936" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269936">Mario Carneiro (May 29 2018 at 19:44)</a>:</h4>
<p>it's a simp lemma, those need names</p>

<a name="127269940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269940" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269940">Kevin Buzzard (May 29 2018 at 19:44)</a>:</h4>
<p>and presumably that's because someone somewhere realised that this was a good simp lemma</p>

<a name="127269944"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269944" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269944">Kevin Buzzard (May 29 2018 at 19:44)</a>:</h4>
<p>NOTE FOR BEGINNERS</p>

<a name="127269946"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269946" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269946">Mario Carneiro (May 29 2018 at 19:44)</a>:</h4>
<p>also I'm not sure that's a good rule of thumb</p>

<a name="127269960"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269960" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269960">Mario Carneiro (May 29 2018 at 19:45)</a>:</h4>
<p>rfl proofs are very common</p>

<a name="127269963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269963" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269963">Kevin Buzzard (May 29 2018 at 19:45)</a>:</h4>
<p>It's important that you get your simp lemma the right way round</p>

<a name="127269971"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269971" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269971">Kevin Buzzard (May 29 2018 at 19:45)</a>:</h4>
<p>you don't want to prove that <code>succ n</code> equals <code>succ_pnat n</code></p>

<a name="127269975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269975" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269975">Kevin Buzzard (May 29 2018 at 19:45)</a>:</h4>
<p>because that would be a comp lemma</p>

<a name="127269984"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127269984" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127269984">Kevin Buzzard (May 29 2018 at 19:45)</a>:</h4>
<p>in maths it doesn't matter which order you put the things that are equal</p>

<a name="127270022"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270022" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270022">Kevin Buzzard (May 29 2018 at 19:46)</a>:</h4>
<p><code>x = y</code> and <code>y = x</code> mean the same thing</p>

<a name="127270034"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270034" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270034">Kevin Buzzard (May 29 2018 at 19:46)</a>:</h4>
<p>but in Lean you might want to consider putting the more complicated thing on the left</p>

<a name="127270042"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270042" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270042">Kevin Buzzard (May 29 2018 at 19:46)</a>:</h4>
<p>and then simp will simplify it to the right if it uses your lemma</p>

<a name="127270046"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270046" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270046">Kevin Buzzard (May 29 2018 at 19:46)</a>:</h4>
<p>and even if simp does not use your lemma</p>

<a name="127270053"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270053" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270053">Kevin Buzzard (May 29 2018 at 19:46)</a>:</h4>
<p>imagine when you're doing a rewrite</p>

<a name="127270060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270060" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270060">Kevin Buzzard (May 29 2018 at 19:46)</a>:</h4>
<p>you are trying to prove something</p>

<a name="127270065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270065" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270065">Kevin Buzzard (May 29 2018 at 19:46)</a>:</h4>
<p>so you're usally trying to make stuff easier</p>

<a name="127270075"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270075" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270075">Kevin Buzzard (May 29 2018 at 19:47)</a>:</h4>
<p>and you don't want to have to put left arrows everywhere because they look weird</p>

<a name="127270085"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270085" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270085">Kevin Buzzard (May 29 2018 at 19:47)</a>:</h4>
<p>so, mathematicians everywhere, remember that THIS WEIRD CS WORLD IS ASYMMETRIC</p>

<a name="127270092"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270092" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270092">Kevin Buzzard (May 29 2018 at 19:47)</a>:</h4>
<p>and if you've proved x = y, make sure x takes more characters to type</p>

<a name="127270097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270097" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270097">Kevin Buzzard (May 29 2018 at 19:47)</a>:</h4>
<p>or else you should have proved y = x</p>

<a name="127270142"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270142" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270142">Kevin Buzzard (May 29 2018 at 19:48)</a>:</h4>
<p>Next line</p>

<a name="127270143"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270143" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270143">Kevin Buzzard (May 29 2018 at 19:48)</a>:</h4>
<p><code>@[simp] theorem pos (n : ℕ+) : (n : ℕ) &gt; 0 := n.2</code></p>

<a name="127270150"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270150" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270150">Kevin Buzzard (May 29 2018 at 19:48)</a>:</h4>
<p>that looks like really poor Lean to me</p>

<a name="127270153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270153" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270153">Kevin Buzzard (May 29 2018 at 19:48)</a>:</h4>
<p>who wrote this file anyway</p>

<a name="127270156"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270156" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270156">Kevin Buzzard (May 29 2018 at 19:48)</a>:</h4>
<p>oh I heard of that guy</p>

<a name="127270165"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270165" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270165">Kevin Buzzard (May 29 2018 at 19:48)</a>:</h4>
<p>Now everyone knows that simp is used to prove _equalities_</p>

<a name="127270170"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270170" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270170">Kevin Buzzard (May 29 2018 at 19:48)</a>:</h4>
<p>so all your simp lemmas should be _equalities_</p>

<a name="127270171"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270171" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270171">Kevin Buzzard (May 29 2018 at 19:48)</a>:</h4>
<p>or _iff_s</p>

<a name="127270175"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270175" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270175">Kevin Buzzard (May 29 2018 at 19:48)</a>:</h4>
<p>and anything which is a random thing like &gt;</p>

<a name="127270180"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270180" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270180">Kevin Buzzard (May 29 2018 at 19:49)</a>:</h4>
<p>obviously should not be a simp lemma</p>

<a name="127270196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270196" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270196">Kevin Buzzard (May 29 2018 at 19:49)</a>:</h4>
<p>because simp, it turns out, does <em>not</em> stand for "this lemma is pretty simple"</p>

<a name="127270200"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270200" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270200">Mario Carneiro (May 29 2018 at 19:49)</a>:</h4>
<p>This is useful for fulfulling side conditions in algebraic rules, which sometimes need that things are nonzero or positive</p>

<a name="127270203"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270203" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270203">Kevin Buzzard (May 29 2018 at 19:49)</a>:</h4>
<p>it stands for "this lemma is appropriate for the simplifier"</p>

<a name="127270215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270215" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270215">Kevin Buzzard (May 29 2018 at 19:49)</a>:</h4>
<p>and 9 times out of 10 it's because it's an equality</p>

<a name="127270221"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270221" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270221">Patrick Massot (May 29 2018 at 19:49)</a>:</h4>
<p>I disagree our equality is symmetric. Would you write some cohomological vanishing theorem as <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mo>=</mo><msup><mi>H</mi><mi>i</mi></msup><mo>(</mo><mi>X</mi><mo separator="true">,</mo><mi>F</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">0 = H^i(X, F)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.824664em;"></span><span class="strut bottom" style="height:1.0746639999999998em;vertical-align:-0.25em;"></span><span class="base"><span class="mord mathrm">0</span><span class="mrel">=</span><span class="mord"><span class="mord mathit" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">i</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:0.13889em;">F</span><span class="mclose">)</span></span></span></span>?</p>

<a name="127270268"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270268" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270268">Kevin Buzzard (May 29 2018 at 19:50)</a>:</h4>
<p>but apparently there are other times when it's not</p>

<a name="127270285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270285" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270285">Kevin Buzzard (May 29 2018 at 19:50)</a>:</h4>
<p>Interesting point Patrick I guess you're right</p>

<a name="127270288"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270288" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270288">Kevin Buzzard (May 29 2018 at 19:50)</a>:</h4>
<p>Maybe 0 is a special case</p>

<a name="127270303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270303" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270303">Kevin Buzzard (May 29 2018 at 19:50)</a>:</h4>
<p>The conclusion of this is that working out if something is a simp lemma is still something which I haven't got the hang of</p>

<a name="127270309"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270309" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270309">Mario Carneiro (May 29 2018 at 19:50)</a>:</h4>
<p>most "let x = value" type statements have the variable on the left in math</p>

<a name="127270343"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270343" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270343">Patrick Massot (May 29 2018 at 19:51)</a>:</h4>
<p>What about <span class="tex-error">$$\int_{-\infty}^\infty e^{-x^2} dx = \srqt\pi$$</span>?</p>

<a name="127270345"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270345" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270345">Kevin Buzzard (May 29 2018 at 19:51)</a>:</h4>
<p>Now look at these</p>

<a name="127270348"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270348" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270348">Kevin Buzzard (May 29 2018 at 19:51)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">namespace</span> <span class="n">pnat</span>

<span class="kn">open</span> <span class="n">nat</span>
<span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">theorem</span> <span class="n">pos</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ+</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="bp">&gt;</span> <span class="mi">0</span> <span class="o">:=</span> <span class="n">n</span><span class="bp">.</span><span class="mi">2</span>

<span class="kn">theorem</span> <span class="n">eq</span> <span class="o">{</span><span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ+</span><span class="o">}</span> <span class="o">:</span> <span class="o">(</span><span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="bp">=</span> <span class="n">n</span> <span class="bp">→</span> <span class="n">m</span> <span class="bp">=</span> <span class="n">n</span> <span class="o">:=</span> <span class="n">subtype</span><span class="bp">.</span><span class="n">eq</span>

<span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">theorem</span> <span class="n">mk_coe</span> <span class="o">(</span><span class="n">n</span> <span class="n">h</span><span class="o">)</span> <span class="o">:</span> <span class="o">((</span><span class="bp">⟨</span><span class="n">n</span><span class="o">,</span> <span class="n">h</span><span class="bp">⟩</span> <span class="o">:</span> <span class="bp">ℕ+</span><span class="o">)</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="bp">=</span> <span class="n">n</span> <span class="o">:=</span> <span class="n">rfl</span>

<span class="kn">instance</span> <span class="o">:</span> <span class="n">has_add</span> <span class="bp">ℕ+</span> <span class="o">:=</span> <span class="bp">⟨λ</span> <span class="n">m</span> <span class="n">n</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">m</span> <span class="bp">+</span> <span class="n">n</span><span class="o">,</span> <span class="n">add_pos</span> <span class="n">m</span><span class="bp">.</span><span class="mi">2</span> <span class="n">n</span><span class="bp">.</span><span class="mi">2</span><span class="bp">⟩⟩</span>

<span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">theorem</span> <span class="n">add_coe</span> <span class="o">(</span><span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ+</span><span class="o">)</span> <span class="o">:</span> <span class="o">((</span><span class="n">m</span> <span class="bp">+</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ+</span><span class="o">)</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="bp">=</span> <span class="n">m</span> <span class="bp">+</span> <span class="n">n</span> <span class="o">:=</span> <span class="n">rfl</span>

<span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">theorem</span> <span class="n">ne_zero</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ+</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="bp">≠</span> <span class="mi">0</span> <span class="o">:=</span> <span class="n">ne_of_gt</span> <span class="n">n</span><span class="bp">.</span><span class="mi">2</span>
</pre></div>

<a name="127270404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270404" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270404">Kevin Buzzard (May 29 2018 at 19:52)</a>:</h4>
<p>The last thing we want to do is to define random theorems like <code>ne_zero</code> (the last one) and have its actual name be <code>ne_zero</code> in the root namespace</p>

<a name="127270408"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270408" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270408">Kevin Buzzard (May 29 2018 at 19:52)</a>:</h4>
<p>I did that a lot when I started</p>

<a name="127270416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270416" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270416">Kevin Buzzard (May 29 2018 at 19:52)</a>:</h4>
<p>The statement that if n is a pnat then n isn't zero -- clearly ne_zero is a good name for it</p>

<a name="127270417"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270417" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270417">Kevin Buzzard (May 29 2018 at 19:52)</a>:</h4>
<p>but its full name is <code>pnat.ne_zero</code></p>

<a name="127270423"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270423" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270423">Kevin Buzzard (May 29 2018 at 19:52)</a>:</h4>
<p>like all the other pnat things we're going to do now</p>

<a name="127270429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270429" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270429">Johan Commelin (May 29 2018 at 19:52)</a>:</h4>
<p>So, why is <code>theorem eq</code> not a simp theorem?</p>

<a name="127270430"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270430" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270430">Kevin Buzzard (May 29 2018 at 19:52)</a>:</h4>
<p>so that's why we opened the pnat namespace</p>

<a name="127270435"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270435" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270435">Kevin Buzzard (May 29 2018 at 19:53)</a>:</h4>
<p>we namespaced</p>

<a name="127270438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270438" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270438">Kevin Buzzard (May 29 2018 at 19:53)</a>:</h4>
<p>and we opened nat for good measure</p>

<a name="127270443"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270443" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270443">Mario Carneiro (May 29 2018 at 19:53)</a>:</h4>
<p>because the RHS has a variable not on the LHS</p>

<a name="127270452"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270452" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270452">Kevin Buzzard (May 29 2018 at 19:53)</a>:</h4>
<p>So theorem <code>eq</code> says a fundamental thing about subtypes.</p>

<a name="127270507"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270507" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270507">Kevin Buzzard (May 29 2018 at 19:54)</a>:</h4>
<p>Remember -- a subtype is a term and then a proof of something that depends only on the term</p>

<a name="127270516"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270516" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270516">Kevin Buzzard (May 29 2018 at 19:54)</a>:</h4>
<p>so if we have two subtype things with the same term and different proofs, are they the same?</p>

<a name="127270520"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270520" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270520">Patrick Massot (May 29 2018 at 19:54)</a>:</h4>
<p>What RHS variable?</p>

<a name="127270523"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270523" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270523">Kevin Buzzard (May 29 2018 at 19:54)</a>:</h4>
<p>And yes they are, because all proofs are the same</p>

<a name="127270526"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270526" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270526">Kevin Buzzard (May 29 2018 at 19:54)</a>:</h4>
<p>so that's why pnat.eq is true</p>

<a name="127270530"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270530" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270530">Kevin Buzzard (May 29 2018 at 19:54)</a>:</h4>
<p>and indeed the proof is subtype.eq and you can guess what that says</p>

<a name="127270532"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270532" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270532">Kevin Buzzard (May 29 2018 at 19:54)</a>:</h4>
<p>or right click on ir</p>

<a name="127270534"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270534" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270534">Kevin Buzzard (May 29 2018 at 19:54)</a>:</h4>
<p>it</p>

<a name="127270536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270536" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270536">Kevin Buzzard (May 29 2018 at 19:55)</a>:</h4>
<p>or #check it</p>

<a name="127270549"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270549" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270549">Kevin Buzzard (May 29 2018 at 19:55)</a>:</h4>
<p>Oh I know why eq isn't a simp lemma</p>

<a name="127270550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270550" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270550">Kevin Buzzard (May 29 2018 at 19:55)</a>:</h4>
<p>it's not an equality</p>

<a name="127270552"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270552" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270552">Mario Carneiro (May 29 2018 at 19:55)</a>:</h4>
<p><code>m = n</code> is not a simplification</p>

<a name="127270555"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270555" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270555">Kevin Buzzard (May 29 2018 at 19:55)</a>:</h4>
<p>it's an implication</p>

<a name="127270559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270559" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270559">Mario Carneiro (May 29 2018 at 19:55)</a>:</h4>
<p>and where is <code>n</code> coming from?</p>

<a name="127270567"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270567" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270567">Kevin Buzzard (May 29 2018 at 19:55)</a>:</h4>
<p>aah</p>

<a name="127270570"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270570" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270570">Mario Carneiro (May 29 2018 at 19:55)</a>:</h4>
<p>that's what I mean, <code>n</code> doesn't show up on the LHS</p>

<a name="127270575"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270575" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270575">Kevin Buzzard (May 29 2018 at 19:55)</a>:</h4>
<p>There's another simp rule of thumb</p>

<a name="127270620"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270620" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270620">Kevin Buzzard (May 29 2018 at 19:56)</a>:</h4>
<p>all the variables on the RHS should be in the LHS too</p>

<a name="127270625"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270625" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270625">Johan Commelin (May 29 2018 at 19:56)</a>:</h4>
<p>Whenever I have to subtype thingies in my goal, and I need to prove that they are equal, Lean should always apply <code>subtype.eq</code>. I can't think of any reason why you wouldn't want to do that.</p>

<a name="127270626"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270626" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270626">Patrick Massot (May 29 2018 at 19:56)</a>:</h4>
<p>why this rule?</p>

<a name="127270627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270627" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270627">Kevin Buzzard (May 29 2018 at 19:56)</a>:</h4>
<p>I should mention that to the guy who wrote the simp docs</p>

<a name="127270637"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270637" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270637">Mario Carneiro (May 29 2018 at 19:56)</a>:</h4>
<p>It's an extensionality theorem</p>

<a name="127270644"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270644" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270644">Mario Carneiro (May 29 2018 at 19:57)</a>:</h4>
<p>you don't always want it applied, because it complicates the goal</p>

<a name="127270651"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270651" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270651">Patrick Massot (May 29 2018 at 19:57)</a>:</h4>
<p>should it be tagged as such?</p>

<a name="127270655"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270655" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270655">Mario Carneiro (May 29 2018 at 19:57)</a>:</h4>
<p>probably</p>

<a name="127270657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270657" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270657">Kevin Buzzard (May 29 2018 at 19:57)</a>:</h4>
<p>More generally Johan, if you have two structures that are equal, you might want Lean to just decompose them and demand that you prove that all the bits you used to make them are equal</p>

<a name="127270666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270666" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270666">Kevin Buzzard (May 29 2018 at 19:57)</a>:</h4>
<p>but I think it would be a bit confusing if you were just motoring along and all of a sudden you have 10 goals</p>

<a name="127270670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270670" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270670">Johan Commelin (May 29 2018 at 19:57)</a>:</h4>
<blockquote>
<p>you don't always want it applied, because it complicates the goal</p>
</blockquote>
<p>Huh, the goal becomes easier, right? I just got rid of some irrelevant proofs...</p>

<a name="127270672"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270672" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270672">Kevin Buzzard (May 29 2018 at 19:57)</a>:</h4>
<p>because you wanted to prove complicated structures were equal</p>

<a name="127270717"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270717" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270717">Kevin Buzzard (May 29 2018 at 19:58)</a>:</h4>
<p>I think this sort of thing is an art</p>

<a name="127270731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270731" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270731">Kevin Buzzard (May 29 2018 at 19:58)</a>:</h4>
<p>I'm not sure what the best answer is but clearly Mario will speak from experience</p>

<a name="127270732"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270732" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270732">Mario Carneiro (May 29 2018 at 19:58)</a>:</h4>
<p>you were trying to prove <code>m = n</code>, now you are proving <code>\u m = \u n</code></p>

<a name="127270740"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270740" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270740">Mario Carneiro (May 29 2018 at 19:58)</a>:</h4>
<p>the goal got more complicated</p>

<a name="127270744"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270744" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270744">Mario Carneiro (May 29 2018 at 19:58)</a>:</h4>
<p>sometimes that's what you want, but it needs to be an explicit choice</p>

<a name="127270745"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270745" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270745">Kevin Buzzard (May 29 2018 at 19:58)</a>:</h4>
<p>Aah -- Johan -- if you actually had variables m and n which were pnats</p>

<a name="127270749"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270749" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270749">Kevin Buzzard (May 29 2018 at 19:58)</a>:</h4>
<p>then you might well not want it</p>

<a name="127270756"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270756" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270756">Kevin Buzzard (May 29 2018 at 19:59)</a>:</h4>
<p>but if m was explicitly <code>&lt;nat,proof&gt;</code></p>

<a name="127270760"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270760" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270760">Kevin Buzzard (May 29 2018 at 19:59)</a>:</h4>
<p>and so was n</p>

<a name="127270766"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270766" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270766">Kevin Buzzard (May 29 2018 at 19:59)</a>:</h4>
<p>then you might want it</p>

<a name="127270767"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270767" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270767">Kevin Buzzard (May 29 2018 at 19:59)</a>:</h4>
<p>(but you might not)</p>

<a name="127270774"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270774" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270774">Johan Commelin (May 29 2018 at 19:59)</a>:</h4>
<p>Hmm, fair enough</p>

<a name="127270775"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270775" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270775">Mario Carneiro (May 29 2018 at 19:59)</a>:</h4>
<p>and that version is a simp lemma</p>

<a name="127270789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270789" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270789">Kevin Buzzard (May 29 2018 at 19:59)</a>:</h4>
<p>ooh my son's gone</p>

<a name="127270791"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270791" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270791">Kevin Buzzard (May 29 2018 at 19:59)</a>:</h4>
<p>I just inherited a second screen</p>

<a name="127270796"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270796" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270796">Johan Commelin (May 29 2018 at 19:59)</a>:</h4>
<p>Ok, I have met subtypes where it was not a simp lemma, I think</p>

<a name="127270801"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270801" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270801">Kevin Buzzard (May 29 2018 at 20:00)</a>:</h4>
<p>Ok so mk_coe</p>

<a name="127270811"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270811" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270811">Johan Commelin (May 29 2018 at 20:00)</a>:</h4>
<p>Or is it a simp lemma for general subtypes?</p>

<a name="127270861"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270861" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270861">Kevin Buzzard (May 29 2018 at 20:00)</a>:</h4>
<p>that says "make the subtype and then coerce back to nat and you're back where you started"</p>

<a name="127270864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270864" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270864">Johan Commelin (May 29 2018 at 20:00)</a>:</h4>
<p>Hmm, yes, let's move on with this chat</p>

<a name="127270870"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270870" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270870">Mario Carneiro (May 29 2018 at 20:00)</a>:</h4>
<p><code>subtype.mk_eq_mk</code></p>

<a name="127270885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270885" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270885">Kevin Buzzard (May 29 2018 at 20:00)</a>:</h4>
<p><code>@[simp] theorem mk_coe (n h) : ((⟨n, h⟩ : ℕ+) : ℕ) = n := rfl</code></p>

<a name="127270888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270888" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270888">Mario Carneiro (May 29 2018 at 20:00)</a>:</h4>
<p>it's a general simp lemma</p>

<a name="127270901"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270901" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270901">Kevin Buzzard (May 29 2018 at 20:00)</a>:</h4>
<p>Actually there are several cool things about <code>mk_coe</code></p>

<a name="127270918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270918" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270918">Kevin Buzzard (May 29 2018 at 20:01)</a>:</h4>
<p>first, it's something which I wanted for my structure and Mario said it didn't have a name</p>

<a name="127270922"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270922" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270922">Kevin Buzzard (May 29 2018 at 20:01)</a>:</h4>
<p>hmm</p>

<a name="127270924"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270924" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270924">Kevin Buzzard (May 29 2018 at 20:01)</a>:</h4>
<p>maybe that's not entirely true</p>

<a name="127270933"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270933" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270933">Kevin Buzzard (May 29 2018 at 20:01)</a>:</h4>
<p>Mario -- why does this lemma use coercion instead of val?</p>

<a name="127270937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270937" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270937">Kevin Buzzard (May 29 2018 at 20:01)</a>:</h4>
<p>They're definitionally equal, right?</p>

<a name="127270972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270972" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270972">Kevin Buzzard (May 29 2018 at 20:02)</a>:</h4>
<p>Does it matter which one you choose when making your structure?</p>

<a name="127270986"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270986" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270986">Mario Carneiro (May 29 2018 at 20:02)</a>:</h4>
<p>it's a simp lemma</p>

<a name="127270995"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270995" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270995">Kevin Buzzard (May 29 2018 at 20:02)</a>:</h4>
<p>But what about <code>(⟨n, h⟩ : ℕ+).val = n</code></p>

<a name="127270999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127270999" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127270999">Mario Carneiro (May 29 2018 at 20:02)</a>:</h4>
<p>The val version is automatic, because simp knows about structures</p>

<a name="127271006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271006" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271006">Kevin Buzzard (May 29 2018 at 20:02)</a>:</h4>
<p>or <code>subtype.val (⟨n, h⟩ : ℕ+) = n</code></p>

<a name="127271010"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271010" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271010">Mario Carneiro (May 29 2018 at 20:02)</a>:</h4>
<p>but when the val is hidden in a coercion simp misses it</p>

<a name="127271014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271014" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271014">Kevin Buzzard (May 29 2018 at 20:02)</a>:</h4>
<p>oh so simp doesn't need to be told that</p>

<a name="127271017"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271017" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271017">Kevin Buzzard (May 29 2018 at 20:02)</a>:</h4>
<p>the thing I wrote</p>

<a name="127271021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271021" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271021">Kevin Buzzard (May 29 2018 at 20:02)</a>:</h4>
<p>but does need to be told the thing you put in the file</p>

<a name="127271030"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271030" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271030">Mario Carneiro (May 29 2018 at 20:03)</a>:</h4>
<p>right</p>

<a name="127271036"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271036" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271036">Kevin Buzzard (May 29 2018 at 20:03)</a>:</h4>
<p>You see -- there is so much subtlety in this stuff</p>

<a name="127271045"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271045" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271045">Kevin Buzzard (May 29 2018 at 20:03)</a>:</h4>
<p>I saw the definition of pnat in a maths lecture</p>

<a name="127271048"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271048" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271048">Mario Carneiro (May 29 2018 at 20:03)</a>:</h4>
<p>I mean you could have it as a simp lemma if you want</p>

<a name="127271050"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271050" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271050">Kevin Buzzard (May 29 2018 at 20:03)</a>:</h4>
<p>it was "take nat and remove 0"</p>

<a name="127271054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271054" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271054">Kevin Buzzard (May 29 2018 at 20:03)</a>:</h4>
<p>and that was it</p>

<a name="127271056"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271056" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271056">Mario Carneiro (May 29 2018 at 20:03)</a>:</h4>
<p>but it probably won't trigger</p>

<a name="127271059"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271059" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271059">Kevin Buzzard (May 29 2018 at 20:03)</a>:</h4>
<p>There is all this extra stuff here</p>

<a name="127271068"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271068" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271068">Kevin Buzzard (May 29 2018 at 20:03)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">instance</span> <span class="o">:</span> <span class="n">has_add</span> <span class="bp">ℕ+</span> <span class="o">:=</span> <span class="bp">⟨λ</span> <span class="n">m</span> <span class="n">n</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">m</span> <span class="bp">+</span> <span class="n">n</span><span class="o">,</span> <span class="n">add_pos</span> <span class="n">m</span><span class="bp">.</span><span class="mi">2</span> <span class="n">n</span><span class="bp">.</span><span class="mi">2</span><span class="bp">⟩⟩</span>

<span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">theorem</span> <span class="n">add_coe</span> <span class="o">(</span><span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ+</span><span class="o">)</span> <span class="o">:</span> <span class="o">((</span><span class="n">m</span> <span class="bp">+</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ+</span><span class="o">)</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="bp">=</span> <span class="n">m</span> <span class="bp">+</span> <span class="n">n</span> <span class="o">:=</span> <span class="n">rfl</span>
</pre></div>

<a name="127271073"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271073" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271073">Kevin Buzzard (May 29 2018 at 20:04)</a>:</h4>
<p>We want add on pnat</p>

<a name="127271116"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271116" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271116">Kevin Buzzard (May 29 2018 at 20:04)</a>:</h4>
<p>and here's something I only learnt recently</p>

<a name="127271134"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271134" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271134">Kevin Buzzard (May 29 2018 at 20:04)</a>:</h4>
<p>the only purpose of <code>has_add</code> and the 20 or so other <code>has_notation</code> things</p>

<a name="127271138"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271138" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271138">Kevin Buzzard (May 29 2018 at 20:04)</a>:</h4>
<p>is notation</p>

<a name="127271143"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271143" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271143">Kevin Buzzard (May 29 2018 at 20:05)</a>:</h4>
<p>The instance is so unimportant that it doesn't even deserve a name</p>

<a name="127271155"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271155" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271155">Kevin Buzzard (May 29 2018 at 20:05)</a>:</h4>
<p>although probably one could have called it <code>pnat.add</code></p>

<a name="127271162"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271162" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271162">Mario Carneiro (May 29 2018 at 20:05)</a>:</h4>
<p>it gets an automatic name if you don't specify, in this case <code>pnat.has_add</code></p>

<a name="127271167"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271167" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271167">Kevin Buzzard (May 29 2018 at 20:05)</a>:</h4>
<p>The definition of add on pnat clearly needs a theorem -- it needs the theorem that if a&gt;0 and b&gt;0 then a+b&gt;0</p>

<a name="127271170"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271170" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271170">Kevin Buzzard (May 29 2018 at 20:05)</a>:</h4>
<p>Oh I didn't know that -- thanks</p>

<a name="127271173"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271173" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271173">Mario Carneiro (May 29 2018 at 20:05)</a>:</h4>
<p><code>pnat.add</code> would be the name of the function itself</p>

<a name="127271179"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271179" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271179">Mario Carneiro (May 29 2018 at 20:05)</a>:</h4>
<p>if it had a name</p>

<a name="127271181"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271181" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271181">Kevin Buzzard (May 29 2018 at 20:05)</a>:</h4>
<p>Oh of course</p>

<a name="127271222"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271222" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271222">Kevin Buzzard (May 29 2018 at 20:06)</a>:</h4>
<p>The function is add</p>

<a name="127271233"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271233" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271233">Kevin Buzzard (May 29 2018 at 20:06)</a>:</h4>
<p>and the proof that it has an add is something else</p>

<a name="127271243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271243" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271243">Kevin Buzzard (May 29 2018 at 20:06)</a>:</h4>
<p>actually it's not a proof</p>

<a name="127271245"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271245" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271245">Kevin Buzzard (May 29 2018 at 20:06)</a>:</h4>
<p>it's data</p>

<a name="127271253"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271253" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271253">Kevin Buzzard (May 29 2018 at 20:06)</a>:</h4>
<p>OK so we need to proev that if a&gt;0 and b&gt;0 then a+b&gt;0</p>

<a name="127271258"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271258" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271258">Kevin Buzzard (May 29 2018 at 20:06)</a>:</h4>
<p>and we cheat and look at what Mario did</p>

<a name="127271277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271277" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271277">Kevin Buzzard (May 29 2018 at 20:07)</a>:</h4>
<p>and why is the output from #check so ugly?</p>

<a name="127271284"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271284" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271284">Kevin Buzzard (May 29 2018 at 20:07)</a>:</h4>
<p><code>#check add_pos </code></p>

<a name="127271291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271291" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271291">Kevin Buzzard (May 29 2018 at 20:07)</a>:</h4>
<p><code>add_pos : 0 &lt; ?M_3 → 0 &lt; ?M_4 → 0 &lt; ?M_3 + ?M_4</code></p>

<a name="127271293"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271293" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271293">Kevin Buzzard (May 29 2018 at 20:07)</a>:</h4>
<p>thanks Lean</p>

<a name="127271299"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271299" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271299">Kevin Buzzard (May 29 2018 at 20:07)</a>:</h4>
<p><code>#check @add_pos </code></p>

<a name="127271304"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271304" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271304">Kevin Buzzard (May 29 2018 at 20:07)</a>:</h4>
<p><code>add_pos : ∀ {α : Type u_1} [_inst_1 : ordered_cancel_comm_monoid α] {a b : α}, 0 &lt; a → 0 &lt; b → 0 &lt; a + b</code></p>

<a name="127271339"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271339" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271339">Kevin Buzzard (May 29 2018 at 20:08)</a>:</h4>
<p>not ideal either</p>

<a name="127271358"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271358" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271358">Kevin Buzzard (May 29 2018 at 20:08)</a>:</h4>
<p>I would have preferred</p>

<a name="127271364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271364" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271364">Kevin Buzzard (May 29 2018 at 20:08)</a>:</h4>
<p><code>0 &lt; a → 0 &lt; b → 0 &lt; a + b</code></p>

<a name="127271371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271371" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271371">Kevin Buzzard (May 29 2018 at 20:08)</a>:</h4>
<p>but unsurprisingly</p>

<a name="127271376"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271376" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271376">Kevin Buzzard (May 29 2018 at 20:08)</a>:</h4>
<p>it's the lemma we need</p>

<a name="127271395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271395" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271395">Kevin Buzzard (May 29 2018 at 20:09)</a>:</h4>
<p>Now these should be straightforward</p>

<a name="127271401"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271401" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271401">Kevin Buzzard (May 29 2018 at 20:09)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">theorem</span> <span class="n">add_coe</span> <span class="o">(</span><span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ+</span><span class="o">)</span> <span class="o">:</span> <span class="o">((</span><span class="n">m</span> <span class="bp">+</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ+</span><span class="o">)</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="bp">=</span> <span class="n">m</span> <span class="bp">+</span> <span class="n">n</span> <span class="o">:=</span> <span class="n">rfl</span>

<span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">theorem</span> <span class="n">ne_zero</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ+</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="bp">≠</span> <span class="mi">0</span> <span class="o">:=</span> <span class="n">ne_of_gt</span> <span class="n">n</span><span class="bp">.</span><span class="mi">2</span>

<span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">theorem</span> <span class="n">nat_coe_coe</span>  <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">}</span> <span class="o">:</span> <span class="n">n</span> <span class="bp">&gt;</span> <span class="mi">0</span> <span class="bp">→</span> <span class="o">((</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ+</span><span class="o">)</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="bp">=</span> <span class="n">n</span> <span class="o">:=</span> <span class="n">succ_pred_eq_of_pos</span>
<span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">theorem</span> <span class="n">to_pnat&#39;_coe</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">}</span> <span class="o">:</span> <span class="n">n</span> <span class="bp">&gt;</span> <span class="mi">0</span> <span class="bp">→</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">to_pnat&#39;</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="bp">=</span> <span class="n">n</span> <span class="o">:=</span> <span class="n">succ_pred_eq_of_pos</span>

<span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">theorem</span> <span class="n">coe_nat_coe</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ+</span><span class="o">)</span> <span class="o">:</span> <span class="o">((</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="bp">ℕ+</span><span class="o">)</span> <span class="bp">=</span> <span class="n">n</span> <span class="o">:=</span> <span class="n">eq</span> <span class="o">(</span><span class="n">nat_coe_coe</span> <span class="n">n</span><span class="bp">.</span><span class="n">pos</span><span class="o">)</span>
</pre></div>

<a name="127271414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271414" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271414">Kevin Buzzard (May 29 2018 at 20:09)</a>:</h4>
<p>you see -- this is the advantage of making it a subtype</p>

<a name="127271420"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271420" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271420">Kevin Buzzard (May 29 2018 at 20:09)</a>:</h4>
<p>we have to carry around all these proofs</p>

<a name="127271425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271425" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271425">Kevin Buzzard (May 29 2018 at 20:09)</a>:</h4>
<p>but <code>add_coe</code> says "adding the pnats is the same as adding the nats, by definition"</p>

<a name="127271485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271485" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271485">Kevin Buzzard (May 29 2018 at 20:10)</a>:</h4>
<p>and indeed if you look at the coercion you can see that this is just a statement of the form X = X</p>

<a name="127271500"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271500" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271500">Kevin Buzzard (May 29 2018 at 20:10)</a>:</h4>
<p>ne_zero : we will need to prove n &gt; 0 -&gt; n ne 0</p>

<a name="127271514"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271514" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271514">Kevin Buzzard (May 29 2018 at 20:10)</a>:</h4>
<p>and it would not surprise me if that were called ne_of_gt</p>

<a name="127271517"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271517" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271517">Kevin Buzzard (May 29 2018 at 20:10)</a>:</h4>
<p>and note that</p>

<a name="127271528"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271528" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271528">Kevin Buzzard (May 29 2018 at 20:10)</a>:</h4>
<p><code>n.2</code> is the proof</p>

<a name="127271531"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271531" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271531">Kevin Buzzard (May 29 2018 at 20:10)</a>:</h4>
<p>that n &gt; 0</p>

<a name="127271536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271536" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271536">Kevin Buzzard (May 29 2018 at 20:11)</a>:</h4>
<p>it's <code>n.property</code></p>

<a name="127271546"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271546" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271546">Kevin Buzzard (May 29 2018 at 20:11)</a>:</h4>
<p>for kids who are too cool to write such a long thing</p>

<a name="127271563"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271563" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271563">Kevin Buzzard (May 29 2018 at 20:11)</a>:</h4>
<p><code>nat_coe_coe</code></p>

<a name="127271565"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271565" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271565">Kevin Buzzard (May 29 2018 at 20:11)</a>:</h4>
<p>I have no idea why this is a simp lemma</p>

<a name="127271571"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271571" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271571">Kevin Buzzard (May 29 2018 at 20:11)</a>:</h4>
<p>I guess I do know</p>

<a name="127271573"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271573" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271573">Kevin Buzzard (May 29 2018 at 20:11)</a>:</h4>
<p>it's kind of "well there's only a minor precondition"</p>

<a name="127271614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271614" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271614">Kevin Buzzard (May 29 2018 at 20:12)</a>:</h4>
<p>"and then we get some serious simplification"</p>

<a name="127271619"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271619" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271619">Kevin Buzzard (May 29 2018 at 20:12)</a>:</h4>
<p>I am kind of surprised this works</p>

<a name="127271626"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271626" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271626">Kevin Buzzard (May 29 2018 at 20:12)</a>:</h4>
<p>we coerce a nat to a pnat</p>

<a name="127271632"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271632" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271632">Kevin Buzzard (May 29 2018 at 20:12)</a>:</h4>
<p>that doesn't even make sense</p>

<a name="127271635"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271635" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271635">Kevin Buzzard (May 29 2018 at 20:12)</a>:</h4>
<p>oh crap</p>

<a name="127271642"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271642" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271642">Kevin Buzzard (May 29 2018 at 20:12)</a>:</h4>
<p>I am looking at an old version of pnat</p>

<a name="127271645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271645" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271645">Kevin Buzzard (May 29 2018 at 20:12)</a>:</h4>
<p>rofl</p>

<a name="127271669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271669" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271669">Kevin Buzzard (May 29 2018 at 20:13)</a>:</h4>
<p>I'm now looking at the up to date version</p>

<a name="127271672"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271672" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271672">Kevin Buzzard (May 29 2018 at 20:13)</a>:</h4>
<p>and that line is gone :-)</p>

<a name="127271680"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271680" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271680">Kevin Buzzard (May 29 2018 at 20:13)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">theorem</span> <span class="n">add_coe</span> <span class="o">(</span><span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ+</span><span class="o">)</span> <span class="o">:</span> <span class="o">((</span><span class="n">m</span> <span class="bp">+</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ+</span><span class="o">)</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="bp">=</span> <span class="n">m</span> <span class="bp">+</span> <span class="n">n</span> <span class="o">:=</span> <span class="n">rfl</span>

<span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">theorem</span> <span class="n">ne_zero</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ+</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="bp">≠</span> <span class="mi">0</span> <span class="o">:=</span> <span class="n">ne_of_gt</span> <span class="n">n</span><span class="bp">.</span><span class="mi">2</span>

<span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">theorem</span> <span class="n">to_pnat&#39;_coe</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">}</span> <span class="o">:</span> <span class="n">n</span> <span class="bp">&gt;</span> <span class="mi">0</span> <span class="bp">→</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">to_pnat&#39;</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="bp">=</span> <span class="n">n</span> <span class="o">:=</span> <span class="n">succ_pred_eq_of_pos</span>

<span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">theorem</span> <span class="n">coe_to_pnat&#39;</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ+</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span><span class="bp">.</span><span class="n">to_pnat&#39;</span> <span class="bp">=</span> <span class="n">n</span> <span class="o">:=</span> <span class="n">eq</span> <span class="o">(</span><span class="n">to_pnat&#39;_coe</span> <span class="n">n</span><span class="bp">.</span><span class="n">pos</span><span class="o">)</span>
</pre></div>

<a name="127271682"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271682" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271682">Mario Carneiro (May 29 2018 at 20:13)</a>:</h4>
<blockquote>
<p>Last modified two days ago!<br>
Things never stand still around here</p>
</blockquote>

<a name="127271734"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271734" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271734">Kevin Buzzard (May 29 2018 at 20:14)</a>:</h4>
<p>Things stand still with my mathlib install I can assure you :-)</p>

<a name="127271747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271747" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271747">Kevin Buzzard (May 29 2018 at 20:14)</a>:</h4>
<p>Ok great</p>

<a name="127271750"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271750" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271750">Kevin Buzzard (May 29 2018 at 20:14)</a>:</h4>
<p><code>@[simp] theorem to_pnat'_coe {n : ℕ} : n &gt; 0 → (n.to_pnat' : ℕ) = n := succ_pred_eq_of_pos</code></p>

<a name="127271766"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271766" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271766">Kevin Buzzard (May 29 2018 at 20:15)</a>:</h4>
<p>that starts with a nat, uses <code>to_pnat'</code> to get to a pnat and then coerces back to a nat and the claim is we're back where we started</p>

<a name="127271777"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271777" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271777">Kevin Buzzard (May 29 2018 at 20:15)</a>:</h4>
<p><code>def to_pnat' (n : ℕ) : ℕ+ := succ_pnat (pred n)</code></p>

<a name="127271778"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271778" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271778">Kevin Buzzard (May 29 2018 at 20:15)</a>:</h4>
<p>Ok so this looks good</p>

<a name="127271785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271785" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271785">Kevin Buzzard (May 29 2018 at 20:15)</a>:</h4>
<p>if you unravel then we're claiming that succ (pred n) = n</p>

<a name="127271786"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271786" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271786">Kevin Buzzard (May 29 2018 at 20:15)</a>:</h4>
<p>and this is not rfl</p>

<a name="127271789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271789" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271789">Kevin Buzzard (May 29 2018 at 20:16)</a>:</h4>
<p>indeed it's not even true</p>

<a name="127271816"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271816" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271816">Kevin Buzzard (May 29 2018 at 20:16)</a>:</h4>
<p>it's false for n=0</p>

<a name="127271835"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271835" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271835">Kevin Buzzard (May 29 2018 at 20:16)</a>:</h4>
<p>but we have the hypo n &gt; 0</p>

<a name="127271843"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271843" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271843">Kevin Buzzard (May 29 2018 at 20:16)</a>:</h4>
<p>so we need a lemma that says n &gt; 0 implies succ pred n = n</p>

<a name="127271849"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271849" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271849">Kevin Buzzard (May 29 2018 at 20:16)</a>:</h4>
<p>and that would be called something like <code>succ_pred_eq_of_pos</code></p>

<a name="127271850"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271850" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271850">Kevin Buzzard (May 29 2018 at 20:16)</a>:</h4>
<p>which it indeed is</p>

<a name="127271869"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271869" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271869">Kevin Buzzard (May 29 2018 at 20:17)</a>:</h4>
<p>Ok nearly there</p>

<a name="127271876"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271876" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271876">Kevin Buzzard (May 29 2018 at 20:17)</a>:</h4>
<p>oh one more simp lemma</p>

<a name="127271882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271882" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271882">Kevin Buzzard (May 29 2018 at 20:17)</a>:</h4>
<p>you see this is exactly what I don't get</p>

<a name="127271885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271885" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271885">Kevin Buzzard (May 29 2018 at 20:17)</a>:</h4>
<p>who decides (a) what to prove (b) what to make a simp lemma</p>

<a name="127271889"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271889" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271889">Kevin Buzzard (May 29 2018 at 20:17)</a>:</h4>
<p>We have just proved 10 trivial things</p>

<a name="127271892"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271892" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271892">Kevin Buzzard (May 29 2018 at 20:17)</a>:</h4>
<p><code>@[simp] theorem coe_to_pnat' (n : ℕ+) : (n : ℕ).to_pnat' = n := eq (to_pnat'_coe n.pos)</code></p>

<a name="127271896"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271896" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271896">Mario Carneiro (May 29 2018 at 20:17)</a>:</h4>
<p>This is a very basic file, so it has almost nothing but simp lemmas</p>

<a name="127271897"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271897" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271897">Kevin Buzzard (May 29 2018 at 20:17)</a>:</h4>
<p>look!</p>

<a name="127271899"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271899" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271899">Kevin Buzzard (May 29 2018 at 20:17)</a>:</h4>
<p>We just proved <code>n = n</code> again</p>

<a name="127271902"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271902" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271902">Kevin Buzzard (May 29 2018 at 20:17)</a>:</h4>
<p>let's make it a simp lemma!</p>

<a name="127271950"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271950" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271950">Kevin Buzzard (May 29 2018 at 20:18)</a>:</h4>
<p>to_pnat' is a bit funny isn't it</p>

<a name="127271959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271959" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271959">Kevin Buzzard (May 29 2018 at 20:18)</a>:</h4>
<p><code>def to_pnat' (n : ℕ) : ℕ+ := succ_pnat (pred n)</code></p>

<a name="127271964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271964" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271964">Kevin Buzzard (May 29 2018 at 20:18)</a>:</h4>
<p>sends n to n if n is positive</p>

<a name="127271967"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271967" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271967">Kevin Buzzard (May 29 2018 at 20:18)</a>:</h4>
<p>and 0 to 1</p>

<a name="127271974"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271974" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271974">Kevin Buzzard (May 29 2018 at 20:19)</a>:</h4>
<p>because nobody listens to me when I say it should be 37</p>

<a name="127271991"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271991" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271991">Mario Carneiro (May 29 2018 at 20:19)</a>:</h4>
<p>hey, the succ pred thing wouldn't work with 37</p>

<a name="127271992"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127271992" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127271992">Kevin Buzzard (May 29 2018 at 20:19)</a>:</h4>
<p>and perhaps in this particular case they're right</p>

<a name="127272066"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272066" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272066">Kevin Buzzard (May 29 2018 at 20:20)</a>:</h4>
<p>Ok so we basically think of every possible way we can move between nats and pnats and then figure out what is true and make every simplification a simp lemma</p>

<a name="127272079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272079" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272079">Mario Carneiro (May 29 2018 at 20:20)</a>:</h4>
<p>exactly</p>

<a name="127272088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272088" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272088">Kevin Buzzard (May 29 2018 at 20:20)</a>:</h4>
<p>Now here's a meaty bit of file</p>

<a name="127272092"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272092" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272092">Kevin Buzzard (May 29 2018 at 20:20)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">instance</span> <span class="o">:</span> <span class="n">comm_monoid</span> <span class="bp">ℕ+</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">mul</span>       <span class="o">:=</span> <span class="bp">λ</span> <span class="n">m</span> <span class="n">n</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">m</span><span class="bp">.</span><span class="mi">1</span> <span class="bp">*</span> <span class="n">n</span><span class="bp">.</span><span class="mi">1</span><span class="o">,</span> <span class="n">mul_pos</span> <span class="n">m</span><span class="bp">.</span><span class="mi">2</span> <span class="n">n</span><span class="bp">.</span><span class="mi">2</span><span class="bp">⟩</span><span class="o">,</span>
  <span class="n">mul_assoc</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span><span class="o">,</span> <span class="n">subtype</span><span class="bp">.</span><span class="n">eq</span> <span class="o">(</span><span class="n">mul_assoc</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">),</span>
  <span class="n">one</span>       <span class="o">:=</span> <span class="n">succ_pnat</span> <span class="mi">0</span><span class="o">,</span>
  <span class="n">one_mul</span>   <span class="o">:=</span> <span class="bp">λ</span> <span class="n">a</span><span class="o">,</span> <span class="n">subtype</span><span class="bp">.</span><span class="n">eq</span> <span class="o">(</span><span class="n">one_mul</span> <span class="bp">_</span><span class="o">),</span>
  <span class="n">mul_one</span>   <span class="o">:=</span> <span class="bp">λ</span> <span class="n">a</span><span class="o">,</span> <span class="n">subtype</span><span class="bp">.</span><span class="n">eq</span> <span class="o">(</span><span class="n">mul_one</span> <span class="bp">_</span><span class="o">),</span>
  <span class="n">mul_comm</span>  <span class="o">:=</span> <span class="bp">λ</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span> <span class="n">subtype</span><span class="bp">.</span><span class="n">eq</span> <span class="o">(</span><span class="n">mul_comm</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)</span> <span class="o">}</span>
</pre></div>

<a name="127272101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272101" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272101">Kevin Buzzard (May 29 2018 at 20:20)</a>:</h4>
<p>it's a commutative monoid!</p>

<a name="127272109"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272109" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272109">Kevin Buzzard (May 29 2018 at 20:21)</a>:</h4>
<p>You can see what Lean thinks the axioms for a commutative monoid are, right there</p>

<a name="127272133"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272133" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272133">Kevin Buzzard (May 29 2018 at 20:21)</a>:</h4>
<p>Now if I had been doing this I would have done <code>instance : has_mul pnat := &lt;...&gt;</code> first</p>

<a name="127272135"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272135" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272135">Kevin Buzzard (May 29 2018 at 20:21)</a>:</h4>
<p>outside the monoid</p>

<a name="127272142"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272142" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272142">Kevin Buzzard (May 29 2018 at 20:21)</a>:</h4>
<p>and I would have done <code>has_one pnat</code></p>

<a name="127272147"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272147" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272147">Kevin Buzzard (May 29 2018 at 20:21)</a>:</h4>
<p>Mario -- does your pnat have a mul?</p>

<a name="127272150"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272150" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272150">Mario Carneiro (May 29 2018 at 20:21)</a>:</h4>
<p>yes, it's right there</p>

<a name="127272203"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272203" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272203">Mario Carneiro (May 29 2018 at 20:22)</a>:</h4>
<p><code>comm_monoid</code> implies <code>has_mul</code></p>

<a name="127272232"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272232" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272232">Kevin Buzzard (May 29 2018 at 20:23)</a>:</h4>
<p>If I type <code>#print comm_monoid</code></p>

<a name="127272243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272243" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272243">Kevin Buzzard (May 29 2018 at 20:23)</a>:</h4>
<p>I can't see this</p>

<a name="127272252"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272252" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272252">Kevin Buzzard (May 29 2018 at 20:23)</a>:</h4>
<p>Do I have to look at the source code to see that comm_monoid extends has_mul?</p>

<a name="127272254"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272254" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272254">Kevin Buzzard (May 29 2018 at 20:23)</a>:</h4>
<p>Or have I misunderstood?</p>

<a name="127272264"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272264" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272264">Mario Carneiro (May 29 2018 at 20:23)</a>:</h4>
<p><code>comm_monoid</code> extends <code>monoid</code> which extends <code>semigroup</code> which extends <code>has_mul</code></p>

<a name="127272268"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272268" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272268">Kevin Buzzard (May 29 2018 at 20:24)</a>:</h4>
<p><code>class comm_monoid (α : Type u) extends monoid α, comm_semigroup α</code></p>

<a name="127272331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272331" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272331">Kevin Buzzard (May 29 2018 at 20:24)</a>:</h4>
<p>but you had to know that</p>

<a name="127272336"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272336" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272336">Kevin Buzzard (May 29 2018 at 20:24)</a>:</h4>
<p>I could have written comm_monoid in a different way</p>

<a name="127272338"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272338" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272338">Kevin Buzzard (May 29 2018 at 20:24)</a>:</h4>
<p>and it would have _looked_ like there was a mul</p>

<a name="127272339"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272339" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272339">Kevin Buzzard (May 29 2018 at 20:24)</a>:</h4>
<p>but you wouldn't have got the notation</p>

<a name="127272343"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272343" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272343">Kevin Buzzard (May 29 2018 at 20:25)</a>:</h4>
<p>so I have to look in the source code to check my mul is a mul?</p>

<a name="127272353"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272353" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272353">Mario Carneiro (May 29 2018 at 20:25)</a>:</h4>
<div class="codehilite"><pre><span></span>set_option pp.implicit true
#check (by apply_instance : has_mul ℕ+)
-- @semigroup.to_has_mul ℕ+ (@monoid.to_semigroup ℕ+ (@comm_monoid.to_monoid ℕ+ pnat.comm_monoid)) : has_mul ℕ+
</pre></div>

<a name="127272357"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272357" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272357">Kevin Buzzard (May 29 2018 at 20:25)</a>:</h4>
<p>The technical point here, for those wondering, is how I can get Lean to use the notation <code>*</code> for multiplication of pnats</p>

<a name="127272369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272369" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272369">Mario Carneiro (May 29 2018 at 20:25)</a>:</h4>
<p>you already have the notation</p>

<a name="127272370"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272370" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272370">Mario Carneiro (May 29 2018 at 20:25)</a>:</h4>
<p>after that instance</p>

<a name="127272409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272409" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272409">Kevin Buzzard (May 29 2018 at 20:26)</a>:</h4>
<p>after making it a commutative monoid</p>

<a name="127272416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272416" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272416">Kevin Buzzard (May 29 2018 at 20:26)</a>:</h4>
<p>but you didn't know for sure that was going to happen</p>

<a name="127272419"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272419" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272419">Mario Carneiro (May 29 2018 at 20:26)</a>:</h4>
<p>proving it's a comm monoid a fortiori implies it's a monoid and a has_mul and all that</p>

<a name="127272425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272425" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272425">Kevin Buzzard (May 29 2018 at 20:26)</a>:</h4>
<p>you could only work it out by doing it and then checking that the multiplication notation stuck</p>

<a name="127272430"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272430" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272430">Kevin Buzzard (May 29 2018 at 20:26)</a>:</h4>
<p>with your #check</p>

<a name="127272434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272434" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272434">Kevin Buzzard (May 29 2018 at 20:26)</a>:</h4>
<p>if you had wanted to know before writing the code</p>

<a name="127272436"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272436" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272436">Kevin Buzzard (May 29 2018 at 20:26)</a>:</h4>
<p>you would have had to read Lean source code</p>

<a name="127272444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272444" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272444">Mario Carneiro (May 29 2018 at 20:27)</a>:</h4>
<p>If you define something with a <code>mul := </code> field it's in all likelihood extending <code>has_mul</code></p>

<a name="127272451"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272451" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272451">Kevin Buzzard (May 29 2018 at 20:27)</a>:</h4>
<p>you can't just work it out by querying the system</p>

<a name="127272458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272458" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272458">Kevin Buzzard (May 29 2018 at 20:27)</a>:</h4>
<p>exactly</p>

<a name="127272469"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272469" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272469">Kevin Buzzard (May 29 2018 at 20:27)</a>:</h4>
<p>You had to rely on someone else being sensible</p>

<a name="127272471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272471" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272471">Kevin Buzzard (May 29 2018 at 20:27)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">instance</span> <span class="o">:</span> <span class="n">comm_monoid</span> <span class="bp">ℕ+</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">mul</span>       <span class="o">:=</span> <span class="bp">λ</span> <span class="n">m</span> <span class="n">n</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">m</span><span class="bp">.</span><span class="mi">1</span> <span class="bp">*</span> <span class="n">n</span><span class="bp">.</span><span class="mi">1</span><span class="o">,</span> <span class="n">mul_pos</span> <span class="n">m</span><span class="bp">.</span><span class="mi">2</span> <span class="n">n</span><span class="bp">.</span><span class="mi">2</span><span class="bp">⟩</span><span class="o">,</span>
  <span class="n">mul_assoc</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span><span class="o">,</span> <span class="n">subtype</span><span class="bp">.</span><span class="n">eq</span> <span class="o">(</span><span class="n">mul_assoc</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">),</span>
  <span class="n">one</span>       <span class="o">:=</span> <span class="n">succ_pnat</span> <span class="mi">0</span><span class="o">,</span>
  <span class="n">one_mul</span>   <span class="o">:=</span> <span class="bp">λ</span> <span class="n">a</span><span class="o">,</span> <span class="n">subtype</span><span class="bp">.</span><span class="n">eq</span> <span class="o">(</span><span class="n">one_mul</span> <span class="bp">_</span><span class="o">),</span>
  <span class="n">mul_one</span>   <span class="o">:=</span> <span class="bp">λ</span> <span class="n">a</span><span class="o">,</span> <span class="n">subtype</span><span class="bp">.</span><span class="n">eq</span> <span class="o">(</span><span class="n">mul_one</span> <span class="bp">_</span><span class="o">),</span>
  <span class="n">mul_comm</span>  <span class="o">:=</span> <span class="bp">λ</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span> <span class="n">subtype</span><span class="bp">.</span><span class="n">eq</span> <span class="o">(</span><span class="n">mul_comm</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)</span> <span class="o">}</span>
</pre></div>

<a name="127272473"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272473" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272473">Mario Carneiro (May 29 2018 at 20:27)</a>:</h4>
<p>you can either read the code, the inheritance hierarchy, or get lean to tell you</p>

<a name="127272512"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272512" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272512">Kevin Buzzard (May 29 2018 at 20:28)</a>:</h4>
<p>But you didn't get Lean to tell you</p>

<a name="127272523"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272523" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272523">Mario Carneiro (May 29 2018 at 20:28)</a>:</h4>
<p>no because I knew that <code>comm_monoid</code> extends <code>has_mul</code> (and it wouldn't make sense any other way)</p>

<a name="127272538"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272538" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272538">Kevin Buzzard (May 29 2018 at 20:29)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">structure</span> <span class="n">tricky1</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">mul</span> <span class="o">:</span> <span class="n">G</span> <span class="bp">→</span> <span class="n">G</span> <span class="bp">→</span> <span class="n">G</span><span class="o">)</span>
<span class="o">(</span><span class="n">tricky_bit</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">)</span>
</pre></div>

<a name="127272539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272539" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272539">Mario Carneiro (May 29 2018 at 20:29)</a>:</h4>
<p>It is important that <code>has_mul</code> be declared only once though</p>

<a name="127272546"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272546" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272546">Kevin Buzzard (May 29 2018 at 20:29)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">structure</span> <span class="n">tricky2</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="kn">extends</span> <span class="n">has_mul</span> <span class="n">G</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">tricky_bit</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">)</span>
</pre></div>

<a name="127272555"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272555" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272555">Mario Carneiro (May 29 2018 at 20:29)</a>:</h4>
<p>only <code>tricky2</code> gets the notation, yes</p>

<a name="127272596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272596" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272596">Kevin Buzzard (May 29 2018 at 20:30)</a>:</h4>
<p>but your method for checking this fails</p>

<a name="127272607"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272607" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272607">Kevin Buzzard (May 29 2018 at 20:30)</a>:</h4>
<p>because you can't make any instances</p>

<a name="127272614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272614" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272614">Kevin Buzzard (May 29 2018 at 20:30)</a>:</h4>
<p><code>#check (by apply_instance : has_mul ℕ+)</code></p>

<a name="127272615"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272615" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272615">Kenny Lau (May 29 2018 at 20:30)</a>:</h4>
<p>sorry, you can</p>

<a name="127272620"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272620" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272620">Kevin Buzzard (May 29 2018 at 20:30)</a>:</h4>
<p>your method relied on pnat existing</p>

<a name="127272625"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272625" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272625">Kevin Buzzard (May 29 2018 at 20:30)</a>:</h4>
<p>show me Kenny :-)</p>

<a name="127272628"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272628" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272628">Kenny Lau (May 29 2018 at 20:30)</a>:</h4>
<p>just <code>sorry</code> everything</p>

<a name="127272630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272630" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272630">Kevin Buzzard (May 29 2018 at 20:30)</a>:</h4>
<p>Fair enough</p>

<a name="127272634"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272634" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272634">Kevin Buzzard (May 29 2018 at 20:30)</a>:</h4>
<p>even mul?</p>

<a name="127272638"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272638" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272638">Kevin Buzzard (May 29 2018 at 20:31)</a>:</h4>
<p>(deleted)</p>

<a name="127272649"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272649" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272649">Kevin Buzzard (May 29 2018 at 20:31)</a>:</h4>
<p>I seem to have wandered a bit</p>

<a name="127272700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272700" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272700">Kevin Buzzard (May 29 2018 at 20:32)</a>:</h4>
<p>OK so what do we need for mul -- clearly we need a proof that if a &gt; 0 and b &gt; 0 then a * b &gt; 0, and we think of what a good name for this lemma would be, and we think "oh maybe <code>mul_pos_of_pos_of_pos</code></p>

<a name="127272706"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272706" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272706">Kevin Buzzard (May 29 2018 at 20:32)</a>:</h4>
<p>and then we think "wait a minute that's too long"</p>

<a name="127272707"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272707" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272707">Kevin Buzzard (May 29 2018 at 20:32)</a>:</h4>
<p>why don't we just go with mul_pos</p>

<a name="127272709"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272709" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272709">Kevin Buzzard (May 29 2018 at 20:32)</a>:</h4>
<p>and indeed that's what it is</p>

<a name="127272710"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272710" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272710">Kevin Buzzard (May 29 2018 at 20:32)</a>:</h4>
<p>naming is an art</p>

<a name="127272712"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272712" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272712">Kevin Buzzard (May 29 2018 at 20:32)</a>:</h4>
<p>and it's another thing mathematicians are bad at</p>

<a name="127272713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272713" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272713">Kevin Buzzard (May 29 2018 at 20:32)</a>:</h4>
<p>The only training we get</p>

<a name="127272719"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272719" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272719">Kevin Buzzard (May 29 2018 at 20:33)</a>:</h4>
<p>is "Now by lemma 3.1 and 3.2 we see that Theorem A is proved!"</p>

<a name="127272724"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272724" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272724">Kevin Buzzard (May 29 2018 at 20:33)</a>:</h4>
<p>from our teachers</p>

<a name="127272729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272729" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272729">Mario Carneiro (May 29 2018 at 20:33)</a>:</h4>
<div class="codehilite"><pre><span></span>class tricky1 (G : Type) :=
(mul : G → G → G)
(tricky_bit : 0 = 1)

class tricky2 (G : Type) extends has_mul G :=
(tricky_bit : 0 = 1)

section
variables (G : Type) [tricky1 G]
#check (by apply_instance : has_mul G) --fail

instance tricky1.has_mul : has_mul G := ⟨tricky1.mul⟩

#check (by apply_instance : has_mul G) --fixed
end

section
variables (G : Type) [tricky2 G]
#check (by apply_instance : has_mul G) --success
end
</pre></div>

<a name="127272739"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272739" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272739">Kevin Buzzard (May 29 2018 at 20:33)</a>:</h4>
<p>There you go</p>

<a name="127272741"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272741" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272741">Kevin Buzzard (May 29 2018 at 20:33)</a>:</h4>
<p>couldn't be easier</p>

<a name="127272779"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272779" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272779">Kevin Buzzard (May 29 2018 at 20:34)</a>:</h4>
<p>Now</p>

<a name="127272783"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272783" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272783">Kevin Buzzard (May 29 2018 at 20:34)</a>:</h4>
<p>how are we going to prove all these stupid axioms?</p>

<a name="127272786"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272786" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272786">Kevin Buzzard (May 29 2018 at 20:34)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">instance</span> <span class="o">:</span> <span class="n">comm_monoid</span> <span class="bp">ℕ+</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">mul</span>       <span class="o">:=</span> <span class="bp">λ</span> <span class="n">m</span> <span class="n">n</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">m</span><span class="bp">.</span><span class="mi">1</span> <span class="bp">*</span> <span class="n">n</span><span class="bp">.</span><span class="mi">1</span><span class="o">,</span> <span class="n">mul_pos</span> <span class="n">m</span><span class="bp">.</span><span class="mi">2</span> <span class="n">n</span><span class="bp">.</span><span class="mi">2</span><span class="bp">⟩</span><span class="o">,</span>
  <span class="n">mul_assoc</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span><span class="o">,</span> <span class="n">subtype</span><span class="bp">.</span><span class="n">eq</span> <span class="o">(</span><span class="n">mul_assoc</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">),</span>
  <span class="n">one</span>       <span class="o">:=</span> <span class="n">succ_pnat</span> <span class="mi">0</span><span class="o">,</span>
  <span class="n">one_mul</span>   <span class="o">:=</span> <span class="bp">λ</span> <span class="n">a</span><span class="o">,</span> <span class="n">subtype</span><span class="bp">.</span><span class="n">eq</span> <span class="o">(</span><span class="n">one_mul</span> <span class="bp">_</span><span class="o">),</span>
  <span class="n">mul_one</span>   <span class="o">:=</span> <span class="bp">λ</span> <span class="n">a</span><span class="o">,</span> <span class="n">subtype</span><span class="bp">.</span><span class="n">eq</span> <span class="o">(</span><span class="n">mul_one</span> <span class="bp">_</span><span class="o">),</span>
  <span class="n">mul_comm</span>  <span class="o">:=</span> <span class="bp">λ</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span> <span class="n">subtype</span><span class="bp">.</span><span class="n">eq</span> <span class="o">(</span><span class="n">mul_comm</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)</span> <span class="o">}</span>
</pre></div>

<a name="127272787"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272787" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272787">Kevin Buzzard (May 29 2018 at 20:34)</a>:</h4>
<p>mul_assoc -- that's already proved for nats</p>

<a name="127272789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272789" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272789">Kevin Buzzard (May 29 2018 at 20:34)</a>:</h4>
<p>as is mul_comm</p>

<a name="127272795"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272795" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272795">Kevin Buzzard (May 29 2018 at 20:35)</a>:</h4>
<p>and the full proof of mul_comm is quite long if you have defined pnat as an inductive type with one and succ</p>

<a name="127272804"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272804" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272804">Kevin Buzzard (May 29 2018 at 20:35)</a>:</h4>
<p>so here we see the benefits</p>

<a name="127272821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272821" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272821">Kevin Buzzard (May 29 2018 at 20:35)</a>:</h4>
<p>the proof of mul_comm is "to check a * b = b * a, all we have to do is to check the underlying nats are the same, which is true because that's mul_comm for nat"</p>

<a name="127272827"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272827" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272827">Kevin Buzzard (May 29 2018 at 20:35)</a>:</h4>
<p>was subtype.eq a simp lemma?</p>

<a name="127272867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272867" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272867">Kevin Buzzard (May 29 2018 at 20:36)</a>:</h4>
<p>oh no</p>

<a name="127272869"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272869" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272869">Kevin Buzzard (May 29 2018 at 20:36)</a>:</h4>
<p>of course not</p>

<a name="127272871"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272871" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272871">Kevin Buzzard (May 29 2018 at 20:36)</a>:</h4>
<p>it has an implies</p>

<a name="127272875"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272875" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272875">Kevin Buzzard (May 29 2018 at 20:36)</a>:</h4>
<p>so we can't hope to prove that with simp I guess</p>

<a name="127272878"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272878" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272878">Kevin Buzzard (May 29 2018 at 20:36)</a>:</h4>
<p>all the proofs are the same</p>

<a name="127272885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272885" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272885">Kevin Buzzard (May 29 2018 at 20:36)</a>:</h4>
<p>on the other hand it still feels like a machine could have written those four proofs</p>

<a name="127272888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272888" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272888">Kevin Buzzard (May 29 2018 at 20:36)</a>:</h4>
<p>whereas I suspect Mario wrote them</p>

<a name="127272905"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272905" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272905">Kevin Buzzard (May 29 2018 at 20:37)</a>:</h4>
<p>Mario, why isn't there some weird tactic which deduces a bunch of lemmas for subtypes from the corresponding lemmas for the types?</p>

<a name="127272907"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272907" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272907">Patrick Massot (May 29 2018 at 20:37)</a>:</h4>
<p>We still have no conclusive proof that Mario is not a machine</p>

<a name="127272910"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272910" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272910">Kevin Buzzard (May 29 2018 at 20:37)</a>:</h4>
<p>true</p>

<a name="127272916"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272916" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272916">Patrick Massot (May 29 2018 at 20:37)</a>:</h4>
<p>This situation looks like what Simon solve for pi instances</p>

<a name="127272917"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272917" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272917">Kevin Buzzard (May 29 2018 at 20:37)</a>:</h4>
<p>People like Simon Hudon are good at writing that sort of thing</p>

<a name="127272921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272921" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272921">Patrick Massot (May 29 2018 at 20:38)</a>:</h4>
<p>Where is Simon by the way?</p>

<a name="127272956"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272956" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272956">Kevin Buzzard (May 29 2018 at 20:38)</a>:</h4>
<p>he's cool -- don't underestimate him</p>

<a name="127272960"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272960" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272960">Patrick Massot (May 29 2018 at 20:38)</a>:</h4>
<p>Haven't we lost him?</p>

<a name="127272965"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272965" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272965">Kevin Buzzard (May 29 2018 at 20:38)</a>:</h4>
<p>All that's left is <code>one</code></p>

<a name="127272967"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272967" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272967">Mario Carneiro (May 29 2018 at 20:38)</a>:</h4>
<p>because the proof is so short it's not worth automating</p>

<a name="127272970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272970" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272970">Mario Carneiro (May 29 2018 at 20:38)</a>:</h4>
<p>there is a balance point there</p>

<a name="127272976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272976" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272976">Kevin Buzzard (May 29 2018 at 20:38)</a>:</h4>
<p>and Mario used succ_pnat, there were 5 other ways he could have done it, I am pretty sure that 1 &gt; 0 is a named theorem, he could have used that</p>

<a name="127272981"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272981" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272981">Kevin Buzzard (May 29 2018 at 20:38)</a>:</h4>
<p>I don't think it matters</p>

<a name="127272982"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272982" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272982">Mario Carneiro (May 29 2018 at 20:38)</a>:</h4>
<p>If I had to define a hundred more like that, sure</p>

<a name="127272985"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272985" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272985">Kevin Buzzard (May 29 2018 at 20:39)</a>:</h4>
<p>I think every method will produce basically the same term</p>

<a name="127272994"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272994" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272994">Kevin Buzzard (May 29 2018 at 20:39)</a>:</h4>
<p>All that's left is this:</p>

<a name="127272996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127272996" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127272996">Kevin Buzzard (May 29 2018 at 20:39)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">theorem</span> <span class="n">one_coe</span> <span class="o">:</span> <span class="o">((</span><span class="mi">1</span> <span class="o">:</span> <span class="bp">ℕ+</span><span class="o">)</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span> <span class="n">rfl</span>

<span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">theorem</span> <span class="n">mul_coe</span> <span class="o">(</span><span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ+</span><span class="o">)</span> <span class="o">:</span> <span class="o">((</span><span class="n">m</span> <span class="bp">*</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ+</span><span class="o">)</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="bp">=</span> <span class="n">m</span> <span class="bp">*</span> <span class="n">n</span> <span class="o">:=</span> <span class="n">rfl</span>

<span class="c">/-</span><span class="cm">- The power of a pnat and a nat is a pnat. -/</span>
<span class="n">def</span> <span class="n">pow</span> <span class="o">(</span><span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ+</span><span class="o">)</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="bp">ℕ+</span> <span class="o">:=</span>
<span class="bp">⟨</span><span class="n">m</span> <span class="err">^</span> <span class="n">n</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">pos_pow_of_pos</span> <span class="bp">_</span> <span class="n">m</span><span class="bp">.</span><span class="n">pos</span><span class="bp">⟩</span>

<span class="kn">instance</span> <span class="o">:</span> <span class="n">has_pow</span> <span class="bp">ℕ+</span> <span class="bp">ℕ</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="n">pow</span><span class="bp">⟩</span>

<span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">theorem</span> <span class="n">pow_coe</span> <span class="o">(</span><span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ+</span><span class="o">)</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">m</span> <span class="err">^</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="bp">=</span> <span class="n">m</span> <span class="err">^</span> <span class="n">n</span> <span class="o">:=</span> <span class="n">rfl</span>

<span class="kn">end</span> <span class="n">pnat</span>
</pre></div>

<a name="127273053"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273053" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273053">Kevin Buzzard (May 29 2018 at 20:40)</a>:</h4>
<p>one_coe -- who knows why this is a simp lemma</p>

<a name="127273057"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273057" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273057">Kevin Buzzard (May 29 2018 at 20:40)</a>:</h4>
<p>Where does it end</p>

<a name="127273060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273060" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273060">Kevin Buzzard (May 29 2018 at 20:40)</a>:</h4>
<p>two_coe? Why is that not a simp lemma?</p>

<a name="127273064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273064" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273064">Mario Carneiro (May 29 2018 at 20:40)</a>:</h4>
<p>because that's not an atomic term</p>

<a name="127273068"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273068" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273068">Kevin Buzzard (May 29 2018 at 20:40)</a>:</h4>
<p>mul_coe -- proof is refl</p>

<a name="127273072"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273072" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273072">Kevin Buzzard (May 29 2018 at 20:40)</a>:</h4>
<p>Oh I see</p>

<a name="127273075"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273075" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273075">Kevin Buzzard (May 29 2018 at 20:41)</a>:</h4>
<p>one just _became_ an atomic term</p>

<a name="127273076"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273076" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273076">Mario Carneiro (May 29 2018 at 20:41)</a>:</h4>
<p>the simp lemma would be about <code>\u bit0 n = bit0 \u n</code></p>

<a name="127273084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273084" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273084">Kevin Buzzard (May 29 2018 at 20:41)</a>:</h4>
<p>when you decided that the fact that it was a monoid was worth proving</p>

<a name="127273097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273097" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273097">Kevin Buzzard (May 29 2018 at 20:41)</a>:</h4>
<p>and finally power</p>

<a name="127273144"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273144" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273144">Kevin Buzzard (May 29 2018 at 20:42)</a>:</h4>
<p>There's a has_pow thing instance. That presumably is tied to the <code>^</code> notation</p>

<a name="127273146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273146" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273146">Kevin Buzzard (May 29 2018 at 20:42)</a>:</h4>
<p>how new-fangled and fancy</p>

<a name="127273149"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273149" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273149">Kevin Buzzard (May 29 2018 at 20:42)</a>:</h4>
<p>it wasn't like this when I learnt it</p>

<a name="127273154"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273154" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273154">Kevin Buzzard (May 29 2018 at 20:42)</a>:</h4>
<p><code>#print notation ^</code></p>

<a name="127273157"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273157" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273157">Kevin Buzzard (May 29 2018 at 20:42)</a>:</h4>
<p><code>_ </code>^<code>:80 _:79 := has_pow.pow #1 #0</code></p>

<a name="127273169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273169" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273169">Kevin Buzzard (May 29 2018 at 20:43)</a>:</h4>
<p>Ok so the definition of pow is "work out pow in nats"</p>

<a name="127273180"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273180" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273180">Kevin Buzzard (May 29 2018 at 20:43)</a>:</h4>
<p>but you now need to prove that if m&gt;0 and n&gt;=0 then m^n&gt;0</p>

<a name="127273182"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273182" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273182">Kevin Buzzard (May 29 2018 at 20:43)</a>:</h4>
<p>and if this was me 6 months ago</p>

<a name="127273186"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273186" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273186">Kevin Buzzard (May 29 2018 at 20:43)</a>:</h4>
<p>I would think "oh I quite fancy this one"</p>

<a name="127273188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273188" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273188">Kevin Buzzard (May 29 2018 at 20:43)</a>:</h4>
<p>"induction on n should do it"</p>

<a name="127273190"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273190" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273190">Kevin Buzzard (May 29 2018 at 20:43)</a>:</h4>
<p>and I'd prove it</p>

<a name="127273229"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273229" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273229">Kevin Buzzard (May 29 2018 at 20:44)</a>:</h4>
<p>but that's not the way to think about Lean</p>

<a name="127273230"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273230" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273230">Kevin Buzzard (May 29 2018 at 20:44)</a>:</h4>
<p>the way to think about it is</p>

<a name="127273239"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273239" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273239">Kevin Buzzard (May 29 2018 at 20:44)</a>:</h4>
<p>"this looks pretty standard -- m &gt; 0 implies m^n &gt; 0"</p>

<a name="127273245"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273245" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273245">Kevin Buzzard (May 29 2018 at 20:44)</a>:</h4>
<p>maybe the person who was implementing pow on nat thought of this</p>

<a name="127273248"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273248" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273248">Kevin Buzzard (May 29 2018 at 20:44)</a>:</h4>
<p>and even if they didn't</p>

<a name="127273253"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273253" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273253">Kevin Buzzard (May 29 2018 at 20:44)</a>:</h4>
<p>maybe some obsessive mathlib guy thought of it</p>

<a name="127273259"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273259" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273259">Kevin Buzzard (May 29 2018 at 20:44)</a>:</h4>
<p>and maybe they gave it a name</p>

<a name="127273273"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273273" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273273">Kevin Buzzard (May 29 2018 at 20:45)</a>:</h4>
<p>and maybe it's someething like <code>pos_pow_of_pos</code></p>

<a name="127273279"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273279" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273279">Kevin Buzzard (May 29 2018 at 20:45)</a>:</h4>
<p>This is the way to write Lean</p>

<a name="127273282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273282" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273282">Kevin Buzzard (May 29 2018 at 20:45)</a>:</h4>
<p>don't write the code because you can</p>

<a name="127273287"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273287" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273287">Kevin Buzzard (May 29 2018 at 20:45)</a>:</h4>
<p>try and find the code someone else wrote already that does it</p>

<a name="127273291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273291" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273291">Kevin Buzzard (May 29 2018 at 20:45)</a>:</h4>
<p>write <code>nat.pos_pow</code> and hit ctrl-space</p>

<a name="127273292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273292" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273292">Kevin Buzzard (May 29 2018 at 20:45)</a>:</h4>
<p>and see if you get lucky</p>

<a name="127273351"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273351" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273351">Kevin Buzzard (May 29 2018 at 20:46)</a>:</h4>
<p>note that Mario used <code>m.pos</code> not <code>m.2</code></p>

<a name="127273355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273355" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273355">Kevin Buzzard (May 29 2018 at 20:46)</a>:</h4>
<p>That might just be for readability</p>

<a name="127273359"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273359" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273359">Kevin Buzzard (May 29 2018 at 20:46)</a>:</h4>
<p>The philosophy is that <code>m.2</code> is something Lean will always offer you</p>

<a name="127273364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273364" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273364">Kevin Buzzard (May 29 2018 at 20:47)</a>:</h4>
<p>but <code>m.pos</code> is basically better</p>

<a name="127273371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273371" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273371">Kevin Buzzard (May 29 2018 at 20:47)</a>:</h4>
<p>because it's more readable</p>

<a name="127273375"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273375" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273375">Kevin Buzzard (May 29 2018 at 20:47)</a>:</h4>
<p><code>@[simp] theorem pos (n : ℕ+) : (n : ℕ) &gt; 0 := n.2</code></p>

<a name="127273376"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273376" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273376">Mario Carneiro (May 29 2018 at 20:47)</a>:</h4>
<p>I'm sure it's just inconsistency</p>

<a name="127273380"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273380" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273380">Kevin Buzzard (May 29 2018 at 20:47)</a>:</h4>
<p>But you are making an interface for pnat</p>

<a name="127273388"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273388" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273388">Kevin Buzzard (May 29 2018 at 20:47)</a>:</h4>
<p>and that interface should involve a nice name for the assertion that a positive nat is positive</p>

<a name="127273390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273390" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273390">Mario Carneiro (May 29 2018 at 20:47)</a>:</h4>
<p>of course it doesn't matter at all what gets used in the proof</p>

<a name="127273425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273425" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273425">Kevin Buzzard (May 29 2018 at 20:48)</a>:</h4>
<p>which you should encourage the users to use</p>

<a name="127273442"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273442" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273442">Kevin Buzzard (May 29 2018 at 20:48)</a>:</h4>
<p>It literally makes no difference to anything?</p>

<a name="127273449"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273449" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273449">Kevin Buzzard (May 29 2018 at 20:48)</a>:</h4>
<p>Doesn't it increase compile time by a zillisecond?</p>

<a name="127273456"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273456" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273456">Kevin Buzzard (May 29 2018 at 20:48)</a>:</h4>
<p>you had to look up <code>pos</code> in some table</p>

<a name="127273464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273464" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273464">Mario Carneiro (May 29 2018 at 20:49)</a>:</h4>
<p>It's not literally the same proof term, and who knows how compile time is affected, but whatever difference is extremely minimal</p>

<a name="127273472"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273472" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273472">Kevin Buzzard (May 29 2018 at 20:49)</a>:</h4>
<p>Let me think epsilon more about poe</p>

<a name="127273474"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273474" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273474">Kevin Buzzard (May 29 2018 at 20:49)</a>:</h4>
<p>pow</p>

<a name="127273481"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273481" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273481">Kevin Buzzard (May 29 2018 at 20:49)</a>:</h4>
<p>What is going through the writer's mind when they write this</p>

<a name="127273492"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273492" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273492">Kevin Buzzard (May 29 2018 at 20:49)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="c">/-</span><span class="cm">- The power of a pnat and a nat is a pnat. -/</span>
<span class="n">def</span> <span class="n">pow</span> <span class="o">(</span><span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ+</span><span class="o">)</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="bp">ℕ+</span> <span class="o">:=</span>
<span class="bp">⟨</span><span class="n">m</span> <span class="err">^</span> <span class="n">n</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">pos_pow_of_pos</span> <span class="bp">_</span> <span class="n">m</span><span class="bp">.</span><span class="n">pos</span><span class="bp">⟩</span>
</pre></div>

<a name="127273493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273493" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273493">Mario Carneiro (May 29 2018 at 20:49)</a>:</h4>
<p>note that projection notation in both cases only works if <code>n</code> has visible type pnat</p>

<a name="127273503"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273503" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273503">Kevin Buzzard (May 29 2018 at 20:50)</a>:</h4>
<p>They are thinking "yay we now have pow"</p>

<a name="127273548"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273548" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273548">Kevin Buzzard (May 29 2018 at 20:50)</a>:</h4>
<p>but then <em>immediately after</em></p>

<a name="127273555"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273555" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273555">Kevin Buzzard (May 29 2018 at 20:50)</a>:</h4>
<p>they think "OK I now have some obligations"</p>

<a name="127273562"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273562" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273562">Kevin Buzzard (May 29 2018 at 20:50)</a>:</h4>
<p>There's the obvious one -- make an instance of has_pow, which is just an elaborate way of saying "let's enable <code>^</code> notation"</p>

<a name="127273568"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273568" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273568">Kevin Buzzard (May 29 2018 at 20:51)</a>:</h4>
<p>but then there's the less obvious (to me) fact:</p>

<a name="127273571"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273571" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273571">Kevin Buzzard (May 29 2018 at 20:51)</a>:</h4>
<p>which we've seen lots of times before</p>

<a name="127273576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273576" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273576">Kevin Buzzard (May 29 2018 at 20:51)</a>:</h4>
<p>we want to check that powers in pnat agree with powers in nat</p>

<a name="127273578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273578" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273578">Kevin Buzzard (May 29 2018 at 20:51)</a>:</h4>
<p>and even though the proof is refl</p>

<a name="127273580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273580" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273580">Kevin Buzzard (May 29 2018 at 20:51)</a>:</h4>
<p>this looks like it should be a simp lemma</p>

<a name="127273634"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273634" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273634">Kevin Buzzard (May 29 2018 at 20:52)</a>:</h4>
<p>It says "if we coerce m ^ n to nat we get what we expect"</p>

<a name="127273641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273641" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273641">Kevin Buzzard (May 29 2018 at 20:52)</a>:</h4>
<p>That is a way of thinking which is not normally taught to the mathematician</p>

<a name="127273650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273650" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273650">Kevin Buzzard (May 29 2018 at 20:53)</a>:</h4>
<p>to define pow : pnat -&gt; nat -&gt; nat we just use induction</p>

<a name="127273652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273652" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273652">Kevin Buzzard (May 29 2018 at 20:53)</a>:</h4>
<p>to prove it lands in pnat we prove a lemma</p>

<a name="127273653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273653" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273653">Kevin Buzzard (May 29 2018 at 20:53)</a>:</h4>
<p>and that's the end</p>

<a name="127273654"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273654" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273654">Kevin Buzzard (May 29 2018 at 20:53)</a>:</h4>
<p>We stop here:</p>

<a name="127273655"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273655" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273655">Kevin Buzzard (May 29 2018 at 20:53)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">def</span> <span class="n">pow</span> <span class="o">(</span><span class="n">m</span> <span class="o">:</span> <span class="bp">ℕ+</span><span class="o">)</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="bp">ℕ+</span> <span class="o">:=</span>
<span class="bp">⟨</span><span class="n">m</span> <span class="err">^</span> <span class="n">n</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">pos_pow_of_pos</span> <span class="bp">_</span> <span class="n">m</span><span class="bp">.</span><span class="n">pos</span><span class="bp">⟩</span>

<span class="kn">instance</span> <span class="o">:</span> <span class="n">has_pow</span> <span class="bp">ℕ+</span> <span class="bp">ℕ</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="n">pow</span><span class="bp">⟩</span>
</pre></div>

<a name="127273657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273657" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273657">Kevin Buzzard (May 29 2018 at 20:53)</a>:</h4>
<p>We don't do this bit</p>

<a name="127273659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273659" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273659">Kevin Buzzard (May 29 2018 at 20:53)</a>:</h4>
<p><code>@[simp] theorem pow_coe (m : ℕ+) (n : ℕ) : (↑(m ^ n) : ℕ) = m ^ n := rfl</code></p>

<a name="127273662"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273662" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273662">Kevin Buzzard (May 29 2018 at 20:53)</a>:</h4>
<p>but in CS if you don't do this</p>

<a name="127273704"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273704" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273704">Kevin Buzzard (May 29 2018 at 20:54)</a>:</h4>
<p>then your users moan that they used a pnat 50 lines ago and it won't disappear</p>

<a name="127273705"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273705" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273705">Kevin Buzzard (May 29 2018 at 20:54)</a>:</h4>
<p>even though we only care about nats now</p>

<a name="127273710"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273710" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273710">Kevin Buzzard (May 29 2018 at 20:54)</a>:</h4>
<p>in fact did we prove all the coercions?</p>

<a name="127273711"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273711" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273711">Kevin Buzzard (May 29 2018 at 20:54)</a>:</h4>
<p><code>@[simp] theorem mul_coe (m n : ℕ+) : ((m * n : ℕ+) : ℕ) = m * n := rfl</code></p>

<a name="127273716"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273716" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273716">Kevin Buzzard (May 29 2018 at 20:54)</a>:</h4>
<p><code>@[simp] theorem one_coe : ((1 : ℕ+) : ℕ) = 1 := rfl</code></p>

<a name="127273723"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273723" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273723">Kevin Buzzard (May 29 2018 at 20:54)</a>:</h4>
<p><code>@[simp] theorem add_coe (m n : ℕ+) : ((m + n : ℕ+) : ℕ) = m + n := rfl</code></p>

<a name="127273733"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273733" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273733">Kevin Buzzard (May 29 2018 at 20:55)</a>:</h4>
<p>They all got proved</p>

<a name="127273744"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273744" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273744">Kevin Buzzard (May 29 2018 at 20:55)</a>:</h4>
<p>Does that mean that if I have some complicated number made using lots of pnats and addition and multiplication etc</p>

<a name="127273745"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273745" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273745">Kevin Buzzard (May 29 2018 at 20:55)</a>:</h4>
<p>and then I made it a nat</p>

<a name="127273747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273747" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273747">Kevin Buzzard (May 29 2018 at 20:55)</a>:</h4>
<p>then simp would remove all the pnats for me?</p>

<a name="127273748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273748" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273748">Kevin Buzzard (May 29 2018 at 20:55)</a>:</h4>
<p>I think it might!</p>

<a name="127273796"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273796" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273796">Kevin Buzzard (May 29 2018 at 20:56)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">variables</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">ha</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">hb</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">hc</span> <span class="o">:</span> <span class="n">c</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">)</span>
</pre></div>

<a name="127273811"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273811" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273811">Kevin Buzzard (May 29 2018 at 20:57)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">def</span> <span class="n">A</span> <span class="o">:</span> <span class="n">pnat</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="n">a</span><span class="o">,</span><span class="n">ha</span><span class="bp">⟩</span>
<span class="n">def</span> <span class="n">B</span> <span class="o">:</span> <span class="n">pnat</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="n">b</span><span class="o">,</span><span class="n">hb</span><span class="bp">⟩</span>
<span class="n">def</span> <span class="n">C</span> <span class="o">:</span> <span class="n">pnat</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="n">c</span><span class="o">,</span><span class="n">hc</span><span class="bp">⟩</span>
</pre></div>

<a name="127273818"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273818" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273818">Kevin Buzzard (May 29 2018 at 20:57)</a>:</h4>
<p>One thing I learnt a while ago was that instead of asking "can Lean do this"</p>

<a name="127273822"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273822" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273822">Kevin Buzzard (May 29 2018 at 20:57)</a>:</h4>
<p>it's not hard to just make Lean try to do it yourself</p>

<a name="127273827"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273827" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273827">Kevin Buzzard (May 29 2018 at 20:57)</a>:</h4>
<p>you just use variables to make stuff</p>

<a name="127273890"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273890" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273890">Kevin Buzzard (May 29 2018 at 20:58)</a>:</h4>
<p>rofl</p>

<a name="127273906"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273906" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273906">Kevin Buzzard (May 29 2018 at 20:59)</a>:</h4>
<p>I need to work harder</p>

<a name="127273925"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273925" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273925">Kevin Buzzard (May 29 2018 at 20:59)</a>:</h4>
<p>dammit</p>

<a name="127273937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273937" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273937">Kevin Buzzard (May 29 2018 at 20:59)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">variables</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">nat</span><span class="o">}</span>
<span class="kn">variables</span> <span class="o">{</span><span class="n">ha</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">}</span> <span class="o">{</span><span class="n">hb</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">}</span> <span class="o">{</span><span class="n">hc</span> <span class="o">:</span> <span class="n">c</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">}</span>
<span class="n">def</span> <span class="n">A</span> <span class="o">:</span> <span class="n">pnat</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="n">a</span><span class="o">,</span><span class="n">ha</span><span class="bp">⟩</span>
<span class="n">def</span> <span class="n">B</span> <span class="o">:</span> <span class="n">pnat</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="n">b</span><span class="o">,</span><span class="n">hb</span><span class="bp">⟩</span>
<span class="n">def</span> <span class="n">C</span> <span class="o">:</span> <span class="n">pnat</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="n">c</span><span class="o">,</span><span class="n">hc</span><span class="bp">⟩</span>


<span class="kn">example</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">*</span> <span class="o">(</span><span class="n">A</span> <span class="bp">+</span> <span class="n">B</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">C</span> <span class="bp">+</span> <span class="o">(</span><span class="n">A</span> <span class="bp">+</span> <span class="n">B</span><span class="o">))</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">*</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="n">b</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">c</span> <span class="bp">+</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="n">b</span><span class="o">))</span> <span class="o">:=</span> <span class="n">sorry</span>
</pre></div>

<a name="127273974"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273974" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273974">Kevin Buzzard (May 29 2018 at 21:00)</a>:</h4>
<p>doesn't typecheck yet</p>

<a name="127273996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127273996" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127273996">Mario Carneiro (May 29 2018 at 21:00)</a>:</h4>
<p>Note that <code>A</code> and <code>B</code> are the same</p>

<a name="127274000"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274000" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274000">Mario Carneiro (May 29 2018 at 21:00)</a>:</h4>
<p>You should use <code>parameters</code> instead</p>

<a name="127274008"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274008" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274008">Kevin Buzzard (May 29 2018 at 21:00)</a>:</h4>
<p>for a b c</p>

<a name="127274009"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274009" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274009">Kevin Buzzard (May 29 2018 at 21:00)</a>:</h4>
<p>what about the proofs?</p>

<a name="127274010"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274010" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274010">Mario Carneiro (May 29 2018 at 21:00)</a>:</h4>
<p>all six</p>

<a name="127274039"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274039" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274039">Kevin Buzzard (May 29 2018 at 21:01)</a>:</h4>
<p>Parameters can only be used in a section</p>

<a name="127274043"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274043" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274043">Kevin Buzzard (May 29 2018 at 21:01)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">section</span>
<span class="kn">parameters</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">nat</span><span class="o">}</span>
<span class="kn">parameters</span> <span class="o">{</span><span class="n">ha</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">}</span> <span class="o">{</span><span class="n">hb</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">}</span> <span class="o">{</span><span class="n">hc</span> <span class="o">:</span> <span class="n">c</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">}</span>
<span class="n">def</span> <span class="n">A</span> <span class="o">:</span> <span class="n">pnat</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="n">a</span><span class="o">,</span><span class="n">ha</span><span class="bp">⟩</span>
<span class="n">def</span> <span class="n">B</span> <span class="o">:</span> <span class="n">pnat</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="n">b</span><span class="o">,</span><span class="n">hb</span><span class="bp">⟩</span>
<span class="n">def</span> <span class="n">C</span> <span class="o">:</span> <span class="n">pnat</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="n">c</span><span class="o">,</span><span class="n">hc</span><span class="bp">⟩</span>

<span class="kn">example</span> <span class="o">:</span> <span class="o">(</span><span class="n">A</span> <span class="bp">*</span> <span class="o">(</span><span class="n">A</span> <span class="bp">+</span> <span class="n">B</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">C</span> <span class="bp">+</span> <span class="o">(</span><span class="n">A</span> <span class="bp">+</span> <span class="n">B</span><span class="o">))</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">*</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="n">b</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">c</span> <span class="bp">+</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="n">b</span><span class="o">))</span> <span class="o">:=</span> <span class="n">sorry</span>

<span class="kn">end</span> <span class="kn">section</span>
</pre></div>

<a name="127274085"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274085" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274085">Kevin Buzzard (May 29 2018 at 21:02)</a>:</h4>
<p>and this typechecks</p>

<a name="127274092"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274092" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274092">Kevin Buzzard (May 29 2018 at 21:02)</a>:</h4>
<p>now let's remove the sorry (which I put there for typechecky reasons)</p>

<a name="127274093"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274093" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274093">Kevin Buzzard (May 29 2018 at 21:02)</a>:</h4>
<p>maybe that's something I could mention</p>

<a name="127274098"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274098" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274098">Kevin Buzzard (May 29 2018 at 21:02)</a>:</h4>
<p>I like my lean files to have no red squiggly underlines ever</p>

<a name="127274102"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274102" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274102">Kevin Buzzard (May 29 2018 at 21:03)</a>:</h4>
<p>but I am happy with plenty of sorrys</p>

<a name="127274108"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274108" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274108">Kevin Buzzard (May 29 2018 at 21:03)</a>:</h4>
<p>green squiggly underlines ftw</p>

<a name="127274111"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274111" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274111">Kevin Buzzard (May 29 2018 at 21:03)</a>:</h4>
<p>the reason for this</p>

<a name="127274113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274113" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274113">Kevin Buzzard (May 29 2018 at 21:03)</a>:</h4>
<p>is that if you make an error</p>

<a name="127274116"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274116" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274116">Kevin Buzzard (May 29 2018 at 21:03)</a>:</h4>
<p>then sometimes your new red squiggly underline appears in a weird place</p>

<a name="127274118"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274118" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274118">Kevin Buzzard (May 29 2018 at 21:03)</a>:</h4>
<p>and you might not notice it if they're everywhere</p>

<a name="127274121"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274121" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274121">Kevin Buzzard (May 29 2018 at 21:03)</a>:</h4>
<p>so every time I split in tactic mode</p>

<a name="127274123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274123" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274123">Kevin Buzzard (May 29 2018 at 21:03)</a>:</h4>
<p>I always put in two sorrys</p>

<a name="127274162"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274162" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274162">Kevin Buzzard (May 29 2018 at 21:04)</a>:</h4>
<p>etc etc</p>

<a name="127274174"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274174" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274174">Kevin Buzzard (May 29 2018 at 21:04)</a>:</h4>
<p><code>example : (A * (A + B) * (C + (A + B)) : ℕ) = a * (a + b) * (c + (a + b)) := rfl </code></p>

<a name="127274181"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274181" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274181">Kevin Buzzard (May 29 2018 at 21:04)</a>:</h4>
<p>that's not surprising</p>

<a name="127274188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274188" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274188">Kevin Buzzard (May 29 2018 at 21:04)</a>:</h4>
<p><code>example : ↑(A * (A + B) * (C + (A + B))) = a * (a + b) * (c + (a + b)) := rfl </code></p>

<a name="127274193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274193" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274193">Kevin Buzzard (May 29 2018 at 21:04)</a>:</h4>
<p>that's not surprising</p>

<a name="127274201"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274201" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274201">Kevin Buzzard (May 29 2018 at 21:04)</a>:</h4>
<p>why did he make all these rfl things simp lemmas?</p>

<a name="127274217"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274217" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274217">Kevin Buzzard (May 29 2018 at 21:05)</a>:</h4>
<p><code>example : ↑(A * (A + B) * (C + (A + B))) = a * (a + b) * (c + (a + b)) := by simp  </code></p>

<a name="127274218"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274218" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274218">Kevin Buzzard (May 29 2018 at 21:05)</a>:</h4>
<p>fails :-)</p>

<a name="127274222"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274222" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274222">Kevin Buzzard (May 29 2018 at 21:05)</a>:</h4>
<p><em>doh</em></p>

<a name="127274232"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274232" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274232">Kevin Buzzard (May 29 2018 at 21:05)</a>:</h4>
<p>aah well so it was probably for another reason</p>

<a name="127274284"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274284" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274284">Kevin Buzzard (May 29 2018 at 21:06)</a>:</h4>
<p>but at least we made it to the end, even if I'm still not 100% sure what makes a good simp lemma. Maybe I'm beginning to get the hang of it.</p>

<a name="127274294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274294" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274294">Mario Carneiro (May 29 2018 at 21:06)</a>:</h4>
<p>You have to unfold your new definitions</p>

<a name="127274295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274295" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274295">Kevin Buzzard (May 29 2018 at 21:06)</a>:</h4>
<p>But it's interesting to see the way of thinking -- put new structure on pnat, now immediately ask yourself if we need some lemmas</p>

<a name="127274299"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274299" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274299">Mario Carneiro (May 29 2018 at 21:06)</a>:</h4>
<p>try <code>by simp [A, B, C]</code></p>

<a name="127274314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274314" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274314">Kevin Buzzard (May 29 2018 at 21:07)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">section</span>
<span class="kn">parameters</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">nat</span><span class="o">}</span>
<span class="kn">parameters</span> <span class="o">{</span><span class="n">ha</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">}</span> <span class="o">{</span><span class="n">hb</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">}</span> <span class="o">{</span><span class="n">hc</span> <span class="o">:</span> <span class="n">c</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">}</span>
<span class="bp">@</span><span class="o">[</span><span class="kn">reducible</span><span class="o">]</span> <span class="n">def</span> <span class="n">A</span> <span class="o">:</span> <span class="n">pnat</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="n">a</span><span class="o">,</span><span class="n">ha</span><span class="bp">⟩</span>
<span class="bp">@</span><span class="o">[</span><span class="kn">reducible</span><span class="o">]</span> <span class="n">def</span> <span class="n">B</span> <span class="o">:</span> <span class="n">pnat</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="n">b</span><span class="o">,</span><span class="n">hb</span><span class="bp">⟩</span>
<span class="bp">@</span><span class="o">[</span><span class="kn">reducible</span><span class="o">]</span> <span class="n">def</span> <span class="n">C</span> <span class="o">:</span> <span class="n">pnat</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="n">c</span><span class="o">,</span><span class="n">hc</span><span class="bp">⟩</span>

<span class="kn">example</span> <span class="o">:</span> <span class="o">(</span><span class="n">A</span> <span class="bp">*</span> <span class="o">(</span><span class="n">A</span> <span class="bp">+</span> <span class="n">B</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">C</span> <span class="bp">+</span> <span class="o">(</span><span class="n">A</span> <span class="bp">+</span> <span class="n">B</span><span class="o">))</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">*</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="n">b</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">c</span> <span class="bp">+</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="n">b</span><span class="o">))</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">simp</span>

<span class="kn">end</span> <span class="kn">section</span>
</pre></div>

<a name="127274321"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274321" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274321">Kevin Buzzard (May 29 2018 at 21:07)</a>:</h4>
<p>That works because I told Lean to unfold A B and C eagerly</p>

<a name="127274333"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274333" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274333">Kevin Buzzard (May 29 2018 at 21:07)</a>:</h4>
<p><code>simp [A,B,C]</code>?</p>

<a name="127274336"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274336" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274336">Kevin Buzzard (May 29 2018 at 21:07)</a>:</h4>
<p>Is <code>A</code> a good simp lemma??</p>

<a name="127274383"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274383" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274383">Kevin Buzzard (May 29 2018 at 21:08)</a>:</h4>
<p>Normally when you start putting <code>simp [random thing]</code> it complains that the random thing isn't a good simp lemma</p>

<a name="127274392"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274392" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274392">Kevin Buzzard (May 29 2018 at 21:08)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">section</span>
<span class="kn">parameters</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">nat</span><span class="o">}</span>
<span class="kn">parameters</span> <span class="o">{</span><span class="n">ha</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">}</span> <span class="o">{</span><span class="n">hb</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">}</span> <span class="o">{</span><span class="n">hc</span> <span class="o">:</span> <span class="n">c</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">}</span>
<span class="n">def</span> <span class="n">A</span> <span class="o">:</span> <span class="n">pnat</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="n">a</span><span class="o">,</span><span class="n">ha</span><span class="bp">⟩</span>
<span class="n">def</span> <span class="n">B</span> <span class="o">:</span> <span class="n">pnat</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="n">b</span><span class="o">,</span><span class="n">hb</span><span class="bp">⟩</span>
<span class="n">def</span> <span class="n">C</span> <span class="o">:</span> <span class="n">pnat</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="n">c</span><span class="o">,</span><span class="n">hc</span><span class="bp">⟩</span>

<span class="kn">example</span> <span class="o">:</span> <span class="o">(</span><span class="n">A</span> <span class="bp">*</span> <span class="o">(</span><span class="n">A</span> <span class="bp">+</span> <span class="n">B</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">C</span> <span class="bp">+</span> <span class="o">(</span><span class="n">A</span> <span class="bp">+</span> <span class="n">B</span><span class="o">))</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">*</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="n">b</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">c</span> <span class="bp">+</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="n">b</span><span class="o">))</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">A</span><span class="o">,</span><span class="n">B</span><span class="o">,</span><span class="n">C</span><span class="o">]</span>


<span class="kn">end</span> <span class="kn">section</span>
</pre></div>

<a name="127274396"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274396" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274396">Kevin Buzzard (May 29 2018 at 21:08)</a>:</h4>
<p>well blow me down it works</p>

<a name="127274400"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274400" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274400">Mario Carneiro (May 29 2018 at 21:08)</a>:</h4>
<p><code>simp [my_def]</code> where <code>my_def</code> is a <code>def</code> means <code>simp [my_def.&lt;equation lemmas&gt;]</code></p>

<a name="127274405"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274405" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274405">Kevin Buzzard (May 29 2018 at 21:09)</a>:</h4>
<p>ooh</p>

<a name="127274411"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274411" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274411">Kevin Buzzard (May 29 2018 at 21:09)</a>:</h4>
<p>How do I see A's equation lemmas?</p>

<a name="127274420"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274420" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274420">Kevin Buzzard (May 29 2018 at 21:09)</a>:</h4>
<p><code>#print prefix A </code></p>

<a name="127274428"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274428" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274428">Kevin Buzzard (May 29 2018 at 21:09)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">A</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">{</span><span class="n">a</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">}</span> <span class="o">{</span><span class="n">ha</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">},</span> <span class="bp">ℕ+</span>
<span class="n">A</span><span class="bp">.</span><span class="n">equations</span><span class="bp">._</span><span class="n">eqn_1</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">{</span><span class="n">a</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">}</span> <span class="o">{</span><span class="n">ha</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">},</span> <span class="n">A</span> <span class="bp">=</span> <span class="bp">⟨</span><span class="n">a</span><span class="o">,</span> <span class="n">ha</span><span class="bp">⟩</span>
</pre></div>

<a name="127274479"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274479" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274479">Kevin Buzzard (May 29 2018 at 21:10)</a>:</h4>
<p>That doesn't look like a good simp lemma to me</p>

<a name="127274482"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274482" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274482">Mario Carneiro (May 29 2018 at 21:10)</a>:</h4>
<p>not by default, no</p>

<a name="127274486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274486" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274486">Kevin Buzzard (May 29 2018 at 21:10)</a>:</h4>
<p>there are variables on the RHS which don't appear on the LHS</p>

<a name="127274492"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274492" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274492">Mario Carneiro (May 29 2018 at 21:10)</a>:</h4>
<p>Actually they appear on the left too</p>

<a name="127274498"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274498" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274498">Kevin Buzzard (May 29 2018 at 21:10)</a>:</h4>
<p>and a wise person once told me not to put these into simp</p>

<a name="127274501"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274501" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274501">Mario Carneiro (May 29 2018 at 21:10)</a>:</h4>
<p>they are hidden because of the parameter thing</p>

<a name="127274521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274521" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274521">Mario Carneiro (May 29 2018 at 21:11)</a>:</h4>
<p>or possibly because you have <code>{a} {ha}</code></p>

<a name="127274523"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274523" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274523">Kevin Buzzard (May 29 2018 at 21:11)</a>:</h4>
<p>heh</p>

<a name="127274524"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274524" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274524">Kevin Buzzard (May 29 2018 at 21:11)</a>:</h4>
<p>I think the latter</p>

<a name="127274531"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274531" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274531">Kevin Buzzard (May 29 2018 at 21:11)</a>:</h4>
<p>Ok so we got there</p>

<a name="127274569"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274569" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274569">Kevin Buzzard (May 29 2018 at 21:12)</a>:</h4>
<p>and that's pnat.</p>

<a name="127274572"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274572" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274572">Mario Carneiro (May 29 2018 at 21:12)</a>:</h4>
<p>if they didn't appear on the left, you could use this theorem to prove 1 = 2</p>

<a name="127274578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274578" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274578">Kevin Buzzard (May 29 2018 at 21:12)</a>:</h4>
<p>Oh that would be a cool application of pnat</p>

<a name="127274586"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274586" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274586">Kevin Buzzard (May 29 2018 at 21:12)</a>:</h4>
<p>I need to go to tend to the family</p>

<a name="127274589"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274589" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274589">Kevin Buzzard (May 29 2018 at 21:12)</a>:</h4>
<p>but there's a random thing</p>

<a name="127274593"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274593" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274593">Kevin Buzzard (May 29 2018 at 21:12)</a>:</h4>
<p>which people will be able to link to and look at later on</p>

<a name="127274605"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274605" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274605">Kevin Buzzard (May 29 2018 at 21:13)</a>:</h4>
<p>and in particular in a couple of weeks when I am supposed to be teaching a bunch of mathematicians Lean and they don't know how to make structures</p>

<a name="127274610"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274610" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274610">Kevin Buzzard (May 29 2018 at 21:13)</a>:</h4>
<p>and it was much easier to write than a proper document</p>

<a name="127274613"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/LIVE%20CHAT%3A%20Structures%20for%20mathematicians/near/127274613" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/39678LIVECHATStructuresformathematicians.html#127274613">Kevin Buzzard (May 29 2018 at 21:13)</a>:</h4>
<p>Thanks for the help Mario and Patrick and Johan and others</p>


{% endraw %}

{% include archive_update.html %}