---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/116395maths/45407Collinearinincidencegeometry.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/45407Collinearinincidencegeometry.html">Collinear in incidence geometry</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="189423721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Collinear%20in%20incidence%20geometry/near/189423721" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/45407Collinearinincidencegeometry.html#189423721">Donald Sebastian Leung (Mar 01 2020 at 07:36)</a>:</h4>
<p>I've been working on formalizing incidence geometry in Lean as an exercise and came across the following question: when we say that a set of points are collinear, do they necessarily have to be distinct?</p>

<a name="189423787"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Collinear%20in%20incidence%20geometry/near/189423787" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/45407Collinearinincidencegeometry.html#189423787">Donald Sebastian Leung (Mar 01 2020 at 07:39)</a>:</h4>
<p>Also, does it make sense to say that zero points or one point is/are (trivially) collinear?</p>

<a name="189423789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Collinear%20in%20incidence%20geometry/near/189423789" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/45407Collinearinincidencegeometry.html#189423789">Kevin Buzzard (Mar 01 2020 at 07:39)</a>:</h4>
<p>That's all up to the person who is using those words.</p>

<a name="189423837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Collinear%20in%20incidence%20geometry/near/189423837" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/45407Collinearinincidencegeometry.html#189423837">Donald Sebastian Leung (Mar 01 2020 at 07:40)</a>:</h4>
<p>Thanks, so I suppose it's fine either way?</p>

<a name="189423868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Collinear%20in%20incidence%20geometry/near/189423868" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/45407Collinearinincidencegeometry.html#189423868">Kevin Buzzard (Mar 01 2020 at 07:42)</a>:</h4>
<p>I guess if I were using these words I would be clear about what I meant in these edge cases</p>

<a name="189436612"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Collinear%20in%20incidence%20geometry/near/189436612" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/45407Collinearinincidencegeometry.html#189436612">Reid Barton (Mar 01 2020 at 15:17)</a>:</h4>
<p>If you literally have a <code>set</code> of points, then its members are distinct by definition</p>

<a name="189436671"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Collinear%20in%20incidence%20geometry/near/189436671" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/45407Collinearinincidencegeometry.html#189436671">Patrick Massot (Mar 01 2020 at 15:18)</a>:</h4>
<p>My usual message every time someone mentions that formalization project: if you are serious about it, you should have a look at <a href="https://geocoq.github.io/GeoCoq/" target="_blank" title="https://geocoq.github.io/GeoCoq/">https://geocoq.github.io/GeoCoq/</a></p>

<a name="189438812"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Collinear%20in%20incidence%20geometry/near/189438812" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/45407Collinearinincidencegeometry.html#189438812">Reid Barton (Mar 01 2020 at 16:29)</a>:</h4>
<p>And GeoCoq is also a cautionary example of how hard the kind of issues you are asking about are: their definition of orthocenter is wrong (a right triangle has no orthocenter according to their definition, while the orthocenter should be defined as the vertex at the right angle) because of a definition of orthogonality which excludes certain points from being equal.</p>

<a name="189438817"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Collinear%20in%20incidence%20geometry/near/189438817" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/45407Collinearinincidencegeometry.html#189438817">Patrick Massot (Mar 01 2020 at 16:29)</a>:</h4>
<p>Did you just noticed that issue?</p>

<a name="189438818"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Collinear%20in%20incidence%20geometry/near/189438818" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/45407Collinearinincidencegeometry.html#189438818">Patrick Massot (Mar 01 2020 at 16:30)</a>:</h4>
<p>Or was it discussed somewhere else?</p>

<a name="189438923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Collinear%20in%20incidence%20geometry/near/189438923" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/45407Collinearinincidencegeometry.html#189438923">Reid Barton (Mar 01 2020 at 16:33)</a>:</h4>
<p>It was discussed before but possibly not on a public Zulip stream</p>

<a name="189438933"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Collinear%20in%20incidence%20geometry/near/189438933" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/45407Collinearinincidencegeometry.html#189438933">Patrick Massot (Mar 01 2020 at 16:33)</a>:</h4>
<p>Did you discuss it with the authors of GeoCoq?</p>

<a name="189438935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Collinear%20in%20incidence%20geometry/near/189438935" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/45407Collinearinincidencegeometry.html#189438935">Reid Barton (Mar 01 2020 at 16:33)</a>:</h4>
<p>No</p>

<a name="189438992"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Collinear%20in%20incidence%20geometry/near/189438992" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/45407Collinearinincidencegeometry.html#189438992">Patrick Massot (Mar 01 2020 at 16:35)</a>:</h4>
<p>I think this story is surprising, I'd be curious to know what they think about it.</p>

<a name="189439036"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Collinear%20in%20incidence%20geometry/near/189439036" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/45407Collinearinincidencegeometry.html#189439036">Patrick Massot (Mar 01 2020 at 16:36)</a>:</h4>
<p>I'll tell Julien Narboux he should come here.</p>

<a name="189440637"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Collinear%20in%20incidence%20geometry/near/189440637" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/45407Collinearinincidencegeometry.html#189440637">Julien Narboux (Mar 01 2020 at 17:28)</a>:</h4>
<p>You are right our definition is wrong, because it does not include the case of the right triangle  ! thank you for pointing this. It has to be noted that we even proved Lemma orthocenter_per : ∀ A B C H, Per A B C →is_orthocenter H A B C → H=B. without noticing that the hypotheses imply False !<br>
The orthocenter is not used much in GeoCoq, I guess by using it more we would have detected this error.</p>

<a name="189440762"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Collinear%20in%20incidence%20geometry/near/189440762" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/45407Collinearinincidencegeometry.html#189440762">Julien Narboux (Mar 01 2020 at 17:32)</a>:</h4>
<p>Our are right that giving good definitions is not always as trivial as it looks. My favorite example of this is the definition of a point being inside an angle. if you say that  a point P is inside an angle ABC if there are points X and Y such that P belongs to segment XY: this definition works nicely in euclidean geometry, but does not work in neutral geometry. This confusion led to a flawed proof by Legendre of the parallel postulate.</p>

<a name="189440836"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Collinear%20in%20incidence%20geometry/near/189440836" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/45407Collinearinincidencegeometry.html#189440836">Julien Narboux (Mar 01 2020 at 17:35)</a>:</h4>
<p>About collinearity, we have in GeoCoq, a predicate Col taking only three points as input, and Col A A B holds. Then we have a tactic to deal with pseudo-transitivity of collinearity: A&lt;&gt;B -&gt; Col A B P -&gt; Col  A B Q -&gt; Col A B R -&gt; Col P Q R. I think it is convenient to allow in the definition of Col equal points because in many case you do not know if the point are distinct.<br>
In education, and in the Elements, there is some kind of implicit assumptions that points are in general position, but when you do it in Coq, you have a lot of problems with degenerated cases.</p>

<a name="189458719"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Collinear%20in%20incidence%20geometry/near/189458719" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/45407Collinearinincidencegeometry.html#189458719">Donald Sebastian Leung (Mar 02 2020 at 02:32)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="110032">@Reid Barton</span>  and <span class="user-mention" data-user-id="268018">@Julien Narboux</span> for your input (and thanks <span class="user-mention" data-user-id="110031">@Patrick Massot</span>  for mentioning GeoCoq). On a note related to incorrectly formalizing definitions, I think I read somewhere that Andrew W. Appel formalized a predicative type system and proved its soundness (in Coq) and even published a paper on it that got accepted, but only later realized that he wanted an impredicative type system when trying to integrate it into part of a larger research project. It's interesting how one can trip up on definitions despite being well-trained in formal methods.</p>

<a name="189470497"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Collinear%20in%20incidence%20geometry/near/189470497" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/45407Collinearinincidencegeometry.html#189470497">Patrick Massot (Mar 02 2020 at 08:09)</a>:</h4>
<p>I have a question for Julien. I one hour, I'll be teaching my geometry class for future school teachers. I'll "prove" that every simple polygon can be triangulated without adding interior vertices (and then deduce the formula for the sum of angles of polygons). Each time I've explained this since I started formalized math I feel guilty (thinking I would have a very hard time formalizing this proof). Is this formalized in GeoCoq?</p>

<a name="189471066"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Collinear%20in%20incidence%20geometry/near/189471066" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/45407Collinearinincidencegeometry.html#189471066">Julien Narboux (Mar 02 2020 at 08:22)</a>:</h4>
<p>Patrick, no it is not formalized in GeoCoq. I think, Harrison has formalized the fact that simple polygon can be triangulated without adding interior vertices in HOL light for the proof of Pick's theorem. We worked on Pick's theorem in Coq a long time ago with a student but we never finished the formalization.</p>

<a name="189471146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Collinear%20in%20incidence%20geometry/near/189471146" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/45407Collinearinincidencegeometry.html#189471146">Julien Narboux (Mar 02 2020 at 08:23)</a>:</h4>
<p>Moreover, it is funny because the proof that the sum of angles of a triangle is 180° is one of the examples I give to explain that proofs given in high-school and in textbooks, often "read facts from the figure". See <a href="https://dpt-info.u-strasbg.fr/~narboux/slides/slides_toulouse.pdf" target="_blank" title="https://dpt-info.u-strasbg.fr/~narboux/slides/slides_toulouse.pdf">https://dpt-info.u-strasbg.fr/~narboux/slides/slides_toulouse.pdf</a> near slide 18.</p>

<a name="189471441"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Collinear%20in%20incidence%20geometry/near/189471441" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/45407Collinearinincidencegeometry.html#189471441">Julien Narboux (Mar 02 2020 at 08:28)</a>:</h4>
<p>The usual proof of the sum of angles of a just a triangle, is to consider the parallel line to one side going through the third vertex. And then, from the fact that we have alternate angles, we can conclude that the sum is 180°. But doing it formally requires some work , I wrote a short (unpublished) note about this a few years ago: <a href="https://www.overleaf.com/read/xxzrndcfycfy" target="_blank" title="https://www.overleaf.com/read/xxzrndcfycfy">https://www.overleaf.com/read/xxzrndcfycfy</a></p>

<a name="189489539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Collinear%20in%20incidence%20geometry/near/189489539" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/45407Collinearinincidencegeometry.html#189489539">Patrick Massot (Mar 02 2020 at 13:16)</a>:</h4>
<p>I know the triangle case is already based on pure cheating. I learned that from Arsac's book a long time ago.</p>

<a name="189489668"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Collinear%20in%20incidence%20geometry/near/189489668" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/45407Collinearinincidencegeometry.html#189489668">Patrick Massot (Mar 02 2020 at 13:18)</a>:</h4>
<p>Your Toulouse slides are really nice. On Page 63 you can add "Orsay (Lean)" next to Nijmegen and Nice.</p>


{% endraw %}

{% include archive_update.html %}