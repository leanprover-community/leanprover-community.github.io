---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/141825kbb/59003generators.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/141825kbb/index.html">kbb</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html">generators</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="133838138"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133838138" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133838138">Patrick Massot (Sep 12 2018 at 19:20)</a>:</h4>
<p>I just saw Kenny's work on generating SL2Z. It looks impressive</p>

<a name="133838160"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133838160" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133838160">Patrick Massot (Sep 12 2018 at 19:21)</a>:</h4>
<p>But I wonder how to properly generalize it.</p>

<a name="133838169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133838169" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133838169">Kenny Lau (Sep 12 2018 at 19:21)</a>:</h4>
<blockquote>
<p>I just saw Kenny's work on generating SL2Z. It looks impressive</p>
</blockquote>
<p>thanks!</p>

<a name="133838236"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133838236" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133838236">Patrick Massot (Sep 12 2018 at 19:22)</a>:</h4>
<p>I would have expected to see a predicate saying: this set generate this group. And then a mechanism constructor the eliminator from this</p>

<a name="133838249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133838249" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133838249">Patrick Massot (Sep 12 2018 at 19:22)</a>:</h4>
<p>Is this counter-intuitive order related to constructivity?</p>

<a name="133838264"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133838264" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133838264">Kenny Lau (Sep 12 2018 at 19:23)</a>:</h4>
<p>not constructivity</p>

<a name="133838278"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133838278" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133838278">Kenny Lau (Sep 12 2018 at 19:23)</a>:</h4>
<p>it's just the same reason we don't take quot.exists_rep as an axiom, but rather quot.ind</p>

<a name="133838398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133838398" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133838398">Patrick Massot (Sep 12 2018 at 19:25)</a>:</h4>
<p>?</p>

<a name="133838466"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133838466" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133838466">Kenny Lau (Sep 12 2018 at 19:26)</a>:</h4>
<p>it's easier to use</p>

<a name="133838826"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133838826" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133838826">Patrick Massot (Sep 12 2018 at 19:34)</a>:</h4>
<p>Do you think there could be some tactic consuming a proof of generation and building the eliminator?</p>

<a name="133838930"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133838930" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133838930">Kenny Lau (Sep 12 2018 at 19:36)</a>:</h4>
<p>I don't know about tactics</p>

<a name="133838972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133838972" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133838972">Patrick Massot (Sep 12 2018 at 19:37)</a>:</h4>
<p>Maybe a tactic is not needed, I'm only trying to understand whether there could be an interface which looks more natural (to me at least)</p>

<a name="133839028"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133839028" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133839028">Patrick Massot (Sep 12 2018 at 19:38)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> Do you have any insight? We are discussing <a href="https://github.com/semorrison/kbb/blob/master/src/SL2Z_generators.lean#L49" target="_blank" title="https://github.com/semorrison/kbb/blob/master/src/SL2Z_generators.lean#L49">https://github.com/semorrison/kbb/blob/master/src/SL2Z_generators.lean#L49</a> and <a href="https://github.com/semorrison/kbb/blob/master/src/SL2Z_generators.lean#L97" target="_blank" title="https://github.com/semorrison/kbb/blob/master/src/SL2Z_generators.lean#L97">https://github.com/semorrison/kbb/blob/master/src/SL2Z_generators.lean#L97</a></p>

<a name="133839676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133839676" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133839676">Mario Carneiro (Sep 12 2018 at 19:50)</a>:</h4>
<div class="codehilite"><pre><span></span>protected theorem induction_on {C : SL2Z → Prop} (A : SL2Z)
  (H1 : C 1) (HS : ∀ B, C B → C (S * B))
  (HT : ∀ B, C B → C (T * B)) : C A :=
</pre></div>


<p>It's amazing how little this tells me</p>

<a name="133839680"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133839680" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133839680">Mario Carneiro (Sep 12 2018 at 19:50)</a>:</h4>
<p>everything is letters</p>

<a name="133839695"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133839695" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133839695">Patrick Massot (Sep 12 2018 at 19:51)</a>:</h4>
<p>S and T are explicit elements of SL2Z defined a few lines earlier</p>

<a name="133839707"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133839707" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133839707">Patrick Massot (Sep 12 2018 at 19:51)</a>:</h4>
<p>So this theorem is a really weird way to state those elements generate SL2Z</p>

<a name="133839714"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133839714" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133839714">Mario Carneiro (Sep 12 2018 at 19:51)</a>:</h4>
<p>there is an <code>SL2Z</code> attribute?</p>

<a name="133839766"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133839766" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133839766">Patrick Massot (Sep 12 2018 at 19:52)</a>:</h4>
<p><a href="https://github.com/semorrison/kbb/blob/master/src/modular_group.lean#L6" target="_blank" title="https://github.com/semorrison/kbb/blob/master/src/modular_group.lean#L6">https://github.com/semorrison/kbb/blob/master/src/modular_group.lean#L6</a></p>

<a name="133839773"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133839773" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133839773">Mario Carneiro (Sep 12 2018 at 19:52)</a>:</h4>
<p>seems like a fine induction statement</p>

<a name="133839785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133839785" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133839785">Patrick Massot (Sep 12 2018 at 19:53)</a>:</h4>
<p>Sure. But the question is: what is the proper general context and interface? Dealing with generating sets for groups</p>

<a name="133839796"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133839796" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133839796">Mario Carneiro (Sep 12 2018 at 19:53)</a>:</h4>
<p>I don't think we have <code>span</code> for groups yet, I'm working on improving span for modules and we can do something similar in groups</p>

<a name="133839840"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133839840" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133839840">Mario Carneiro (Sep 12 2018 at 19:54)</a>:</h4>
<p>I guess it's usually called closure in groups?</p>

<a name="133839844"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133839844" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133839844">Patrick Massot (Sep 12 2018 at 19:54)</a>:</h4>
<p>I did spans for group a <em>very</em> long time ago</p>

<a name="133839848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133839848" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133839848">Mario Carneiro (Sep 12 2018 at 19:54)</a>:</h4>
<p>in mathlib?</p>

<a name="133839849"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133839849" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133839849">Patrick Massot (Sep 12 2018 at 19:54)</a>:</h4>
<p>no</p>

<a name="133839850"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133839850" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133839850">Mario Carneiro (Sep 12 2018 at 19:54)</a>:</h4>
<p>I think I recall</p>

<a name="133839853"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133839853" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133839853">Chris Hughes (Sep 12 2018 at 19:54)</a>:</h4>
<p>I think closure is in mathlib</p>

<a name="133839856"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133839856" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133839856">Patrick Massot (Sep 12 2018 at 19:54)</a>:</h4>
<p>It's the first thing I did</p>

<a name="133839858"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133839858" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133839858">Mario Carneiro (Sep 12 2018 at 19:54)</a>:</h4>
<p>you were doing something with norms in groups</p>

<a name="133839885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133839885" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133839885">Patrick Massot (Sep 12 2018 at 19:55)</a>:</h4>
<p><a href="https://github.com/PatrickMassot/lean-scratchpad/blob/master/src/invariant_norms.lean#L107" target="_blank" title="https://github.com/PatrickMassot/lean-scratchpad/blob/master/src/invariant_norms.lean#L107">https://github.com/PatrickMassot/lean-scratchpad/blob/master/src/invariant_norms.lean#L107</a></p>

<a name="133839888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133839888" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133839888">Mario Carneiro (Sep 12 2018 at 19:55)</a>:</h4>
<p>But we don't need the general theory for this theorem, and it won't make the proof any easier</p>

<a name="133839892"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133839892" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133839892">Mario Carneiro (Sep 12 2018 at 19:55)</a>:</h4>
<p>given what is currently available, this theorem is fine</p>

<a name="133839935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133839935" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133839935">Patrick Massot (Sep 12 2018 at 19:56)</a>:</h4>
<p>Yes. I was trying to formalize the trivial part of <a href="https://arxiv.org/abs/1803.07997" target="_blank" title="https://arxiv.org/abs/1803.07997">https://arxiv.org/abs/1803.07997</a></p>

<a name="133839947"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133839947" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133839947">Mario Carneiro (Sep 12 2018 at 19:56)</a>:</h4>
<p>if and when we get spans in groups it would be natural to state <code>span {S, T} = top</code></p>

<a name="133839970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133839970" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133839970">Kenny Lau (Sep 12 2018 at 19:56)</a>:</h4>
<p>guys, it's just closure</p>

<a name="133840001"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133840001" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133840001">Mario Carneiro (Sep 12 2018 at 19:57)</a>:</h4>
<p>?</p>

<a name="133840002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133840002" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133840002">Chris Hughes (Sep 12 2018 at 19:57)</a>:</h4>
<p>From <code>subgroup.lean</code> </p>
<div class="codehilite"><pre><span></span><span class="kn">inductive</span> <span class="n">in_closure</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span>
<span class="bp">|</span> <span class="n">basic</span> <span class="o">{</span><span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">}</span> <span class="o">:</span> <span class="n">a</span> <span class="err">∈</span> <span class="n">s</span> <span class="bp">→</span> <span class="n">in_closure</span> <span class="n">a</span>
<span class="bp">|</span> <span class="n">one</span> <span class="o">:</span> <span class="n">in_closure</span> <span class="mi">1</span>
<span class="bp">|</span> <span class="n">inv</span> <span class="o">{</span><span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">}</span> <span class="o">:</span> <span class="n">in_closure</span> <span class="n">a</span> <span class="bp">→</span> <span class="n">in_closure</span> <span class="n">a</span><span class="bp">⁻¹</span>
<span class="bp">|</span> <span class="n">mul</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">α</span><span class="o">}</span> <span class="o">:</span> <span class="n">in_closure</span> <span class="n">a</span> <span class="bp">→</span> <span class="n">in_closure</span> <span class="n">b</span> <span class="bp">→</span> <span class="n">in_closure</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span>
</pre></div>

<a name="133840007"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133840007" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133840007">Patrick Massot (Sep 12 2018 at 19:57)</a>:</h4>
<p>It's not my question though: I would like to first prove the span is everything, and then deduce the eliminator, not the other way around</p>

<a name="133840017"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133840017" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133840017">Mario Carneiro (Sep 12 2018 at 19:57)</a>:</h4>
<p>the proofs will be the same</p>

<a name="133840087"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133840087" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133840087">Patrick Massot (Sep 12 2018 at 19:58)</a>:</h4>
<p>Even better then. We can write things like we do in maths and have the same proofs</p>

<a name="133840112"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133840112" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133840112">Mario Carneiro (Sep 12 2018 at 19:58)</a>:</h4>
<p>ah, okay so you can write <code>closure {S, T} = univ</code></p>

<a name="133840133"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133840133" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133840133">Mario Carneiro (Sep 12 2018 at 19:59)</a>:</h4>
<p>and the proof is to prove <code>in_closure {S, T}</code> by exactly the same induction argument as used in that big proof</p>

<a name="133840136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133840136" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133840136">Patrick Massot (Sep 12 2018 at 19:59)</a>:</h4>
<p>Mario, did you follow both links of the messages when I pinged you?</p>

<a name="133840151"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133840151" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133840151">Patrick Massot (Sep 12 2018 at 19:59)</a>:</h4>
<p>The second linked line contains <code>closure {S, T} = univ</code></p>

<a name="133840158"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133840158" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133840158">Mario Carneiro (Sep 12 2018 at 19:59)</a>:</h4>
<p>ah, so it does</p>

<a name="133840236"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133840236" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133840236">Mario Carneiro (Sep 12 2018 at 20:00)</a>:</h4>
<p>However, the induction statement is a bit stronger than what you get from <code>closure</code></p>

<a name="133840251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133840251" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133840251">Mario Carneiro (Sep 12 2018 at 20:00)</a>:</h4>
<p>it says that <code>S</code> and <code>T</code> generate the group as a monoid</p>

<a name="133840253"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133840253" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133840253">Patrick Massot (Sep 12 2018 at 20:00)</a>:</h4>
<p>My questions were: 1) could we directly prove <code>closure {S, T} = univ</code> without more pain (you seem to say yes) 2) could you generate the induction statement automatically from there?</p>

<a name="133840273"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133840273" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133840273">Mario Carneiro (Sep 12 2018 at 20:01)</a>:</h4>
<p>there is no mention of inverses in the induction theorem</p>

<a name="133840290"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133840290" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133840290">Mario Carneiro (Sep 12 2018 at 20:01)</a>:</h4>
<p>but in the closure of a group you need to also assume closure by inverses</p>

<a name="133840314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133840314" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133840314">Mario Carneiro (Sep 12 2018 at 20:01)</a>:</h4>
<p>so the real equivalent statement would be <code>monoid.closure {S, T} = univ</code></p>

<a name="133840371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133840371" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133840371">Patrick Massot (Sep 12 2018 at 20:02)</a>:</h4>
<p>Ok, let's assume we also define <code>monoid.closure</code>. How do we generate the eliminator?</p>

<a name="133840380"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133840380" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133840380">Patrick Massot (Sep 12 2018 at 20:02)</a>:</h4>
<p>Would that be a tactic?</p>

<a name="133840383"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133840383" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133840383">Mario Carneiro (Sep 12 2018 at 20:02)</a>:</h4>
<p>no, a theorem</p>

<a name="133840392"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133840392" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133840392">Mario Carneiro (Sep 12 2018 at 20:03)</a>:</h4>
<p><code>monoid.closure</code> would be defined by an inductive type just like <code>in_closure</code> is</p>

<a name="133840398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133840398" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133840398">Mario Carneiro (Sep 12 2018 at 20:03)</a>:</h4>
<p>and its eliminator is basically exactly that theorem</p>

<a name="133840409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133840409" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133840409">Mario Carneiro (Sep 12 2018 at 20:03)</a>:</h4>
<p>You would prove that {x | C x} is a monoid containing <code>{S, T}</code> and so deduce it is <code>univ</code></p>

<a name="133840477"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133840477" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133840477">Patrick Massot (Sep 12 2018 at 20:04)</a>:</h4>
<p>Would you need to redo that for every generating set of every group, or would you have a general theorem?</p>

<a name="133840497"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133840497" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133840497">Mario Carneiro (Sep 12 2018 at 20:04)</a>:</h4>
<p>the general theorem <em>is</em> the eliminator for <code>in_closure</code></p>

<a name="133840526"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133840526" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133840526">Mario Carneiro (Sep 12 2018 at 20:05)</a>:</h4>
<p>the part that needs to be redone is the unfolding of the set <code>{S, T}</code> into two induction hypotheses about multiplying by <code>S</code> and <code>T</code></p>

<a name="133841661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133841661" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133841661">Patrick Massot (Sep 12 2018 at 20:27)</a>:</h4>
<p>I tried to do the exercise, but clearly I missed something because it looks very complicated</p>

<a name="133841998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133841998" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133841998">Patrick Massot (Sep 12 2018 at 20:33)</a>:</h4>
<p>I wrote, at the end of that file:</p>
<div class="codehilite"><pre><span></span><span class="kn">section</span>
<span class="kn">variables</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">α</span><span class="o">]</span>
<span class="kn">inductive</span> <span class="n">monoid</span><span class="bp">.</span><span class="n">in_closure</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span>
<span class="bp">|</span> <span class="n">basic</span> <span class="o">{</span><span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">}</span> <span class="o">:</span> <span class="n">a</span> <span class="err">∈</span> <span class="n">s</span> <span class="bp">→</span> <span class="n">monoid</span><span class="bp">.</span><span class="n">in_closure</span> <span class="n">a</span>
<span class="bp">|</span> <span class="n">one</span> <span class="o">:</span> <span class="n">monoid</span><span class="bp">.</span><span class="n">in_closure</span> <span class="mi">1</span>
<span class="bp">|</span> <span class="n">mul</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">α</span><span class="o">}</span> <span class="o">:</span> <span class="n">monoid</span><span class="bp">.</span><span class="n">in_closure</span> <span class="n">a</span> <span class="bp">→</span> <span class="n">monoid</span><span class="bp">.</span><span class="n">in_closure</span> <span class="n">b</span> <span class="bp">→</span> <span class="n">monoid</span><span class="bp">.</span><span class="n">in_closure</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span>


<span class="n">def</span> <span class="n">monoid</span><span class="bp">.</span><span class="n">closure</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="o">:=</span> <span class="o">{</span><span class="n">a</span> <span class="bp">|</span> <span class="n">monoid</span><span class="bp">.</span><span class="n">in_closure</span> <span class="n">s</span> <span class="n">a</span> <span class="o">}</span>
<span class="kn">end</span>

<span class="bp">@</span><span class="o">[</span><span class="n">elab_as_eliminator</span><span class="o">]</span>
<span class="kn">protected</span> <span class="kn">theorem</span> <span class="n">induction_on&#39;</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="n">SL2Z</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">}</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="n">SL2Z</span><span class="o">)</span>
  <span class="o">(</span><span class="n">H1</span> <span class="o">:</span> <span class="n">C</span> <span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="n">HS</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">B</span><span class="o">,</span> <span class="n">C</span> <span class="n">B</span> <span class="bp">→</span> <span class="n">C</span> <span class="o">(</span><span class="n">S</span> <span class="bp">*</span> <span class="n">B</span><span class="o">))</span>
  <span class="o">(</span><span class="n">HT</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">B</span><span class="o">,</span> <span class="n">C</span> <span class="n">B</span> <span class="bp">→</span> <span class="n">C</span> <span class="o">(</span><span class="n">T</span> <span class="bp">*</span> <span class="n">B</span><span class="o">))</span> <span class="o">:</span> <span class="n">C</span> <span class="n">A</span> <span class="o">:=</span>
<span class="k">begin</span>

  <span class="k">have</span> <span class="o">:</span> <span class="n">monoid</span><span class="bp">.</span><span class="n">in_closure</span> <span class="o">({</span><span class="n">S</span><span class="o">,</span> <span class="n">T</span><span class="o">}</span> <span class="o">:</span> <span class="n">set</span> <span class="n">SL2Z</span><span class="o">)</span> <span class="n">A</span> <span class="o">:=</span> <span class="n">sorry</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">monoid</span><span class="bp">.</span><span class="n">in_closure</span><span class="bp">.</span><span class="n">rec_on</span> <span class="n">this</span> <span class="bp">_</span> <span class="n">H1</span><span class="o">,</span>
  <span class="n">sorry</span>
<span class="kn">end</span>
</pre></div>


<p>The first sorry is irrelevant. But the tactic state after the first sorry is not what I was hoping for. I tried to move on but it looked too complicated to be what you suggested</p>

<a name="133842668"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133842668" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133842668">Mario Carneiro (Sep 12 2018 at 20:45)</a>:</h4>
<p>There is a theorem that <code>in_closure</code> can be generated by only left multiplication by the generators</p>

<a name="133842747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133842747" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133842747">Mario Carneiro (Sep 12 2018 at 20:46)</a>:</h4>
<p>If you want it to be by definition, you will need the following definition for <code>monoid.in_closure</code></p>
<div class="codehilite"><pre><span></span>inductive monoid.in_closure (s : set α) : α → Prop
| one : monoid.in_closure 1
| mul_basic {a b : α} : a ∈ s → monoid.in_closure b → monoid.in_closure (a * b)
</pre></div>

<a name="133843061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133843061" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133843061">Patrick Massot (Sep 12 2018 at 20:52)</a>:</h4>
<p>Ok, thanks</p>

<a name="133843071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133843071" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133843071">Patrick Massot (Sep 12 2018 at 20:52)</a>:</h4>
<p>That theorem is indeed what I saw I needed to prove, and I was confused because it seemed to contradict the announced triviality</p>

<a name="133843094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133843094" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133843094">Patrick Massot (Sep 12 2018 at 20:53)</a>:</h4>
<p>With the stronger definition of <code>monoid.in_closure</code>, the new proof is</p>
<div class="codehilite"><pre><span></span><span class="bp">@</span><span class="o">[</span><span class="n">elab_as_eliminator</span><span class="o">]</span>
<span class="kn">protected</span> <span class="kn">theorem</span> <span class="n">induction_on&#39;</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="n">SL2Z</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">}</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="n">SL2Z</span><span class="o">)</span>
  <span class="o">(</span><span class="n">H1</span> <span class="o">:</span> <span class="n">C</span> <span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="n">HS</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">B</span><span class="o">,</span> <span class="n">C</span> <span class="n">B</span> <span class="bp">→</span> <span class="n">C</span> <span class="o">(</span><span class="n">S</span> <span class="bp">*</span> <span class="n">B</span><span class="o">))</span>
  <span class="o">(</span><span class="n">HT</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">B</span><span class="o">,</span> <span class="n">C</span> <span class="n">B</span> <span class="bp">→</span> <span class="n">C</span> <span class="o">(</span><span class="n">T</span> <span class="bp">*</span> <span class="n">B</span><span class="o">))</span> <span class="o">:</span> <span class="n">C</span> <span class="n">A</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="k">have</span> <span class="o">:</span> <span class="n">monoid</span><span class="bp">.</span><span class="n">in_closure</span> <span class="o">({</span><span class="n">S</span><span class="o">,</span> <span class="n">T</span><span class="o">}</span> <span class="o">:</span> <span class="n">set</span> <span class="n">SL2Z</span><span class="o">)</span> <span class="n">A</span> <span class="o">:=</span> <span class="n">sorry</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">monoid</span><span class="bp">.</span><span class="n">in_closure</span><span class="bp">.</span><span class="n">rec_on</span> <span class="n">this</span> <span class="n">H1</span><span class="o">,</span>
  <span class="n">intros</span> <span class="n">A</span> <span class="n">B</span> <span class="n">H</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">H</span> <span class="bp">;</span> <span class="n">intro</span> <span class="n">h</span> <span class="bp">;</span> <span class="n">finish</span>
<span class="kn">end</span>
</pre></div>

<a name="133843118"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133843118" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133843118">Patrick Massot (Sep 12 2018 at 20:53)</a>:</h4>
<p>which looks like it could admit a general version</p>

<a name="133843177"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133843177" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133843177">Patrick Massot (Sep 12 2018 at 20:54)</a>:</h4>
<p>Now, I need to go to bed, but I'll probably come back to all this tomorrow</p>

<a name="133843182"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133843182" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133843182">Patrick Massot (Sep 12 2018 at 20:54)</a>:</h4>
<p>Thanks again!</p>

<a name="133860592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133860592" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133860592">Johan Commelin (Sep 13 2018 at 03:57)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> A really cool way to generalise this is to apply this strategy to the action of <code>SL2Z</code> on matrices with determinant <code>m</code>. You get the same sort of "Euclidean algorithm"-like induction steps. The end result is that you prove that every matrix is equivalent to <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>a</mi></mrow></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>b</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>d</mi></mrow></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{pmatrix} a &amp; b \\ 0 &amp; d \end{pmatrix}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:1.45em;"></span><span class="strut bottom" style="height:2.40003em;vertical-align:-0.95003em;"></span><span class="base"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathit">a</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathit">b</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathit">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span></span></span></span>, where <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>⋅</mo><mi>d</mi><mo>=</mo><mi>m</mi><mo separator="true">,</mo><mspace width="1em"></mspace><mi>a</mi><mo>&gt;</mo><mn>0</mn><mo separator="true">,</mo><mspace width="1em"></mspace><mi>d</mi><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">a \cdot d = m,\quad a &gt; 0,\quad d &gt; 0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="base"><span class="mord mathit">a</span><span class="mbin">⋅</span><span class="mord mathit">d</span><span class="mrel">=</span><span class="mord mathit">m</span><span class="mpunct">,</span><span class="mord mathit"><span class="mspace quad"></span><span class="mord mathit">a</span></span><span class="mrel">&gt;</span><span class="mord mathrm">0</span><span class="mpunct">,</span><span class="mord mathit"><span class="mspace quad"></span><span class="mord mathit">d</span></span><span class="mrel">&gt;</span><span class="mord mathrm">0</span></span></span></span>, and <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mo>≤</mo><mi>b</mi><mo>&lt;</mo><mi>d</mi></mrow><annotation encoding="application/x-tex">0 \le b &lt; d</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.83041em;vertical-align:-0.13597em;"></span><span class="base"><span class="mord mathrm">0</span><span class="mrel">≤</span><span class="mord mathit">b</span><span class="mrel">&lt;</span><span class="mord mathit">d</span></span></span></span>.</p>

<a name="133860598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133860598" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133860598">Johan Commelin (Sep 13 2018 at 03:57)</a>:</h4>
<p>In particular, the set of orbits is finite.</p>

<a name="133860606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133860606" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133860606">Johan Commelin (Sep 13 2018 at 03:57)</a>:</h4>
<p>If you apply this to the case <code>m = 1</code> you recover the result that <code>S</code> and <code>T</code> generate <code>SL2Z</code>.</p>

<a name="133860657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133860657" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133860657">Johan Commelin (Sep 13 2018 at 03:58)</a>:</h4>
<p>Once we know this set is finite for arbitrary <code>m : int</code>, then we can define Hecke operators!</p>

<a name="133860676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133860676" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133860676">Johan Commelin (Sep 13 2018 at 03:59)</a>:</h4>
<p>I think that would be a really cool move.</p>

<a name="133865425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133865425" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133865425">Johan Commelin (Sep 13 2018 at 06:31)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> What do you think of this?</p>

<a name="133865474"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133865474" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133865474">Kenny Lau (Sep 13 2018 at 06:32)</a>:</h4>
<p>great!</p>

<a name="133865482"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133865482" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133865482">Johan Commelin (Sep 13 2018 at 06:32)</a>:</h4>
<p>How hard do you think it is to adapt your proof?</p>

<a name="133865538"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133865538" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133865538">Kenny Lau (Sep 13 2018 at 06:34)</a>:</h4>
<p>maybe 30% hard!</p>

<a name="133865539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133865539" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133865539">Kenny Lau (Sep 13 2018 at 06:34)</a>:</h4>
<p>can't wait to see someone implement it!</p>

<a name="133865541"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133865541" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133865541">Johan Commelin (Sep 13 2018 at 06:34)</a>:</h4>
<p>Lol</p>

<a name="133865606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133865606" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133865606">Johan Commelin (Sep 13 2018 at 06:37)</a>:</h4>
<p>Do we have notation for group actions?</p>

<a name="133865720"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133865720" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133865720">Kenny Lau (Sep 13 2018 at 06:41)</a>:</h4>
<p>I used <code>\ci</code> a long time ago</p>

<a name="133865802"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133865802" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133865802">Johan Commelin (Sep 13 2018 at 06:43)</a>:</h4>
<p>But it is not in mathlib?</p>

<a name="133865874"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133865874" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133865874">Kenny Lau (Sep 13 2018 at 06:45)</a>:</h4>
<p>it isn't</p>

<a name="133865918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133865918" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133865918">Johan Commelin (Sep 13 2018 at 06:46)</a>:</h4>
<p>Hmm, so I generalised the simp lemmas a bit. Now I need to cook up a new induction statement.</p>

<a name="133865931"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133865931" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133865931">Johan Commelin (Sep 13 2018 at 06:46)</a>:</h4>
<p>Should <code>C 1</code> be replaced by the explicit representatives that I described above?</p>

<a name="133866151"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133866151" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133866151">Kenny Lau (Sep 13 2018 at 06:53)</a>:</h4>
<p>sure</p>

<a name="133866338"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133866338" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133866338">Johan Commelin (Sep 13 2018 at 06:58)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> Does this look good?</p>
<div class="codehilite"><pre><span></span><span class="kn">protected</span> <span class="kn">theorem</span> <span class="n">induction_on</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="o">(</span><span class="n">Mat</span> <span class="n">m</span><span class="o">)</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">}</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="n">Mat</span> <span class="n">m</span><span class="o">)</span>
  <span class="o">(</span><span class="n">H0</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">d</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">}</span> <span class="o">(</span><span class="n">h1</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">d</span> <span class="bp">=</span> <span class="n">m</span><span class="o">)</span> <span class="o">(</span><span class="n">h2</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">a</span><span class="o">)</span> <span class="o">(</span><span class="n">h3</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">d</span><span class="o">)</span> <span class="o">(</span><span class="n">h4</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">≤</span> <span class="n">b</span><span class="o">)</span> <span class="o">(</span><span class="n">h5</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">&lt;</span> <span class="n">d</span><span class="o">),</span> <span class="n">C</span> <span class="bp">⟨</span><span class="n">a</span><span class="o">,</span><span class="n">b</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="n">d</span><span class="o">,</span><span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">h1</span><span class="o">]</span><span class="bp">⟩</span><span class="o">)</span>
  <span class="o">(</span><span class="n">HS</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">B</span><span class="o">,</span> <span class="n">C</span> <span class="n">B</span> <span class="bp">→</span> <span class="n">C</span> <span class="o">(</span><span class="n">SL2Z_M_</span> <span class="n">m</span> <span class="n">S</span> <span class="n">B</span><span class="o">))</span> <span class="o">(</span><span class="n">HT</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">B</span><span class="o">,</span> <span class="n">C</span> <span class="n">B</span> <span class="bp">→</span> <span class="n">C</span> <span class="o">(</span><span class="n">SL2Z_M_</span> <span class="n">m</span> <span class="n">T</span> <span class="n">B</span><span class="o">))</span> <span class="o">:</span> <span class="n">C</span> <span class="n">A</span> <span class="o">:=</span>
</pre></div>

<a name="133866356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133866356" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133866356">Kenny Lau (Sep 13 2018 at 06:59)</a>:</h4>
<p>what if m is negative?</p>

<a name="133866357"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133866357" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133866357">Kenny Lau (Sep 13 2018 at 06:59)</a>:</h4>
<p>or 0?</p>

<a name="133866417"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133866417" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133866417">Johan Commelin (Sep 13 2018 at 07:00)</a>:</h4>
<p>Hmm, good point, I guess I should drop my requirement on <code>d</code>.</p>

<a name="133866422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133866422" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133866422">Johan Commelin (Sep 13 2018 at 07:00)</a>:</h4>
<p>Let me think it through...</p>

<a name="133866507"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133866507" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133866507">Johan Commelin (Sep 13 2018 at 07:02)</a>:</h4>
<p>For <code>m = 0</code> the statement might be false.</p>

<a name="133866514"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133866514" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133866514">Johan Commelin (Sep 13 2018 at 07:03)</a>:</h4>
<p>You have matrices <code>(a, 0, 0, 0)</code>. And I think they are not sharing orbits, are they?</p>

<a name="133866572"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133866572" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133866572">Johan Commelin (Sep 13 2018 at 07:04)</a>:</h4>
<p>So I drop <code>h3</code>, and <code>h5</code> becomes <code>b &lt; (abs d)</code>.</p>

<a name="133866862"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133866862" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133866862">Johan Commelin (Sep 13 2018 at 07:13)</a>:</h4>
<p>What is the general strategy to kill this goal:</p>
<div class="codehilite"><pre><span></span><span class="n">H</span> <span class="o">:</span> <span class="n">C</span> <span class="o">{</span><span class="n">a</span> <span class="o">:=</span> <span class="n">B</span><span class="bp">.</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span> <span class="o">:=</span> <span class="n">B</span><span class="bp">.</span><span class="n">b</span><span class="o">,</span> <span class="n">c</span> <span class="o">:=</span> <span class="n">B</span><span class="bp">.</span><span class="n">c</span><span class="o">,</span> <span class="n">d</span> <span class="o">:=</span> <span class="n">B</span><span class="bp">.</span><span class="n">d</span><span class="o">,</span> <span class="n">det</span> <span class="o">:=</span> <span class="bp">_</span><span class="o">}</span>
<span class="err">⊢</span> <span class="n">C</span> <span class="n">B</span>
</pre></div>

<a name="133866866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133866866" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133866866">Johan Commelin (Sep 13 2018 at 07:14)</a>:</h4>
<p><code>exact H</code> doesn't work. Somehow I'dd like to prove it by some extensionality or something.</p>

<a name="133867094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133867094" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133867094">Patrick Massot (Sep 13 2018 at 07:20)</a>:</h4>
<p>Did you try convert H ?</p>

<a name="133867109"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133867109" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133867109">Kenny Lau (Sep 13 2018 at 07:21)</a>:</h4>
<p><code>cases B; exact H</code></p>

<a name="133867838"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133867838" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133867838">Patrick Massot (Sep 13 2018 at 07:43)</a>:</h4>
<p>Kenny's solution is more efficient. But I think it's still good to keep in mind that <code>convert H, cases B, congr</code> works</p>

<a name="133867881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133867881" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133867881">Patrick Massot (Sep 13 2018 at 07:44)</a>:</h4>
<p>Because <code>convert H</code> is a natural thing to try when <code>exact H</code> refuses to work</p>

<a name="133867887"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133867887" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133867887">Kenny Lau (Sep 13 2018 at 07:44)</a>:</h4>
<p>I disagree</p>

<a name="133867892"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133867892" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133867892">Kenny Lau (Sep 13 2018 at 07:44)</a>:</h4>
<p><code>congr</code> can go uncontrollable</p>

<a name="133867893"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133867893" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133867893">Kenny Lau (Sep 13 2018 at 07:45)</a>:</h4>
<p>(<code>convert</code> is just a kind of <code>congr</code>)</p>

<a name="133867908"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133867908" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133867908">Patrick Massot (Sep 13 2018 at 07:45)</a>:</h4>
<p>I'm not saying this will always work</p>

<a name="133867912"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133867912" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133867912">Kenny Lau (Sep 13 2018 at 07:45)</a>:</h4>
<p>I'm saying we shouldn't make <code>convert</code> our "first resort"</p>

<a name="133867952"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133867952" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133867952">Kenny Lau (Sep 13 2018 at 07:46)</a>:</h4>
<p>for lack of a better word</p>

<a name="133868391"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133868391" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133868391">Johan Commelin (Sep 13 2018 at 07:58)</a>:</h4>
<p>Here is what I've got so far</p>
<div class="codehilite"><pre><span></span><span class="bp">@</span><span class="o">[</span><span class="n">elab_as_eliminator</span><span class="o">]</span>
<span class="kn">protected</span> <span class="kn">theorem</span> <span class="n">induction_on</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="o">(</span><span class="n">Mat</span> <span class="n">m</span><span class="o">)</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">}</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="n">Mat</span> <span class="n">m</span><span class="o">)</span>
  <span class="o">(</span><span class="n">H0</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">d</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">}</span> <span class="o">(</span><span class="n">h1</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">d</span> <span class="bp">=</span> <span class="n">m</span><span class="o">)</span> <span class="o">(</span><span class="n">h2</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">≤</span> <span class="n">a</span><span class="o">)</span> <span class="o">(</span><span class="n">h3</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">≤</span> <span class="n">b</span><span class="o">)</span> <span class="o">(</span><span class="n">h4</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">≤</span> <span class="n">d</span> <span class="bp">∨</span> <span class="n">b</span> <span class="bp">≤</span> <span class="bp">-</span><span class="n">d</span><span class="o">),</span> <span class="n">C</span> <span class="bp">⟨</span><span class="n">a</span><span class="o">,</span><span class="n">b</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="n">d</span><span class="o">,</span><span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">h1</span><span class="o">]</span><span class="bp">⟩</span><span class="o">)</span>
  <span class="o">(</span><span class="n">HS</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">B</span><span class="o">,</span> <span class="n">C</span> <span class="n">B</span> <span class="bp">→</span> <span class="n">C</span> <span class="o">(</span><span class="n">SL2Z_M_</span> <span class="n">m</span> <span class="n">S</span> <span class="n">B</span><span class="o">))</span> <span class="o">(</span><span class="n">HT</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">B</span><span class="o">,</span> <span class="n">C</span> <span class="n">B</span> <span class="bp">→</span> <span class="n">C</span> <span class="o">(</span><span class="n">SL2Z_M_</span> <span class="n">m</span> <span class="n">T</span> <span class="n">B</span><span class="o">))</span> <span class="o">:</span> <span class="n">C</span> <span class="n">A</span> <span class="o">:=</span>
<span class="k">have</span> <span class="n">hSid</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">B</span><span class="o">,</span> <span class="o">(</span><span class="n">SL2Z_M_</span> <span class="n">m</span> <span class="n">S</span> <span class="o">(</span><span class="n">SL2Z_M_</span> <span class="n">m</span> <span class="n">S</span> <span class="o">(</span><span class="n">SL2Z_M_</span> <span class="n">m</span> <span class="n">S</span> <span class="o">(</span><span class="n">SL2Z_M_</span> <span class="n">m</span> <span class="n">S</span> <span class="n">B</span><span class="o">))))</span> <span class="bp">=</span> <span class="n">B</span><span class="o">,</span> <span class="k">from</span> <span class="bp">λ</span> <span class="n">B</span><span class="o">,</span> <span class="k">by</span> <span class="n">ext</span><span class="bp">;</span> <span class="n">simp</span> <span class="o">[</span><span class="n">SL2Z_M_</span><span class="o">],</span>
<span class="k">have</span> <span class="n">HS&#39;</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">B</span><span class="o">,</span> <span class="n">C</span> <span class="o">(</span><span class="n">SL2Z_M_</span> <span class="n">m</span> <span class="n">S</span> <span class="n">B</span><span class="o">)</span> <span class="bp">→</span> <span class="n">C</span> <span class="n">B</span><span class="o">,</span>
  <span class="k">from</span> <span class="bp">λ</span> <span class="n">B</span> <span class="n">ih</span><span class="o">,</span> <span class="k">have</span> <span class="n">H</span> <span class="o">:</span> <span class="bp">_</span> <span class="o">:=</span> <span class="o">(</span><span class="n">HS</span> <span class="bp">_</span> <span class="err">$</span> <span class="n">HS</span> <span class="bp">_</span> <span class="err">$</span> <span class="n">HS</span> <span class="bp">_</span> <span class="n">ih</span><span class="o">),</span> <span class="k">by</span> <span class="n">rwa</span> <span class="n">hSid</span> <span class="n">B</span> <span class="n">at</span> <span class="n">H</span><span class="o">,</span>
<span class="k">have</span> <span class="n">hTinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">B</span><span class="o">,</span> <span class="n">SL2Z_M_</span> <span class="n">m</span> <span class="n">S</span> <span class="o">(</span><span class="n">SL2Z_M_</span> <span class="n">m</span> <span class="n">S</span> <span class="o">(</span><span class="n">SL2Z_M_</span> <span class="n">m</span> <span class="n">S</span> <span class="o">(</span><span class="n">SL2Z_M_</span> <span class="n">m</span> <span class="n">T</span> <span class="o">(</span><span class="n">SL2Z_M_</span> <span class="n">m</span> <span class="n">S</span> <span class="o">(</span><span class="n">SL2Z_M_</span> <span class="n">m</span> <span class="n">T</span> <span class="o">(</span><span class="n">SL2Z_M_</span> <span class="n">m</span> <span class="n">S</span> <span class="n">B</span><span class="o">))))))</span> <span class="bp">=</span> <span class="n">SL2Z_M_</span> <span class="n">m</span> <span class="n">T</span><span class="bp">⁻¹</span> <span class="n">B</span><span class="o">,</span>
  <span class="k">from</span> <span class="bp">λ</span> <span class="n">B</span><span class="o">,</span> <span class="k">by</span> <span class="n">repeat</span> <span class="o">{</span><span class="n">rw</span> <span class="o">[</span><span class="err">←</span><span class="n">is_monoid_action</span><span class="bp">.</span><span class="n">mul</span> <span class="o">(</span><span class="n">SL2Z_M_</span> <span class="n">m</span><span class="o">)]}</span><span class="bp">;</span> <span class="n">congr</span><span class="o">,</span>
<span class="k">have</span> <span class="n">HT&#39;</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">B</span><span class="o">,</span> <span class="n">C</span> <span class="n">B</span> <span class="bp">→</span> <span class="n">C</span> <span class="o">(</span><span class="n">SL2Z_M_</span> <span class="n">m</span> <span class="n">T</span><span class="bp">⁻¹</span> <span class="n">B</span><span class="o">),</span>
  <span class="k">from</span> <span class="bp">λ</span> <span class="n">B</span> <span class="n">ih</span><span class="o">,</span> <span class="k">by</span> <span class="o">{</span><span class="k">have</span> <span class="n">H</span> <span class="o">:=</span> <span class="o">(</span><span class="n">HS</span> <span class="bp">_</span> <span class="err">$</span> <span class="n">HS</span> <span class="bp">_</span> <span class="err">$</span> <span class="n">HS</span> <span class="bp">_</span> <span class="err">$</span> <span class="n">HT</span> <span class="bp">_</span> <span class="err">$</span> <span class="n">HS</span> <span class="bp">_</span> <span class="err">$</span> <span class="n">HT</span> <span class="bp">_</span> <span class="err">$</span> <span class="n">HS</span> <span class="bp">_</span> <span class="n">ih</span><span class="o">),</span> <span class="k">by</span> <span class="n">rwa</span> <span class="o">[</span><span class="n">hTinv</span><span class="o">]</span> <span class="n">at</span> <span class="n">H</span><span class="o">},</span>
<span class="c1">-- have HT2 : ∀ n : ℤ, C (T^n),</span>
<span class="c1">--   from λ n, int.induction_on n H1</span>
<span class="c1">--     (λ i ih, by rw [add_comm, gpow_add]; from HT _ ih)</span>
<span class="c1">--     (λ i ih, by rw [sub_eq_neg_add, gpow_add]; from HT1 _ ih),</span>
<span class="k">have</span> <span class="n">HT3</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">B</span><span class="o">,</span> <span class="n">C</span> <span class="o">(</span><span class="n">SL2Z_M_</span> <span class="n">m</span> <span class="n">T</span> <span class="n">B</span><span class="o">)</span> <span class="bp">→</span> <span class="n">C</span> <span class="n">B</span><span class="o">,</span> <span class="k">from</span> <span class="bp">λ</span> <span class="n">B</span> <span class="n">ih</span><span class="o">,</span>
  <span class="k">begin</span>
    <span class="k">have</span> <span class="n">H</span> <span class="o">:=</span> <span class="n">HT&#39;</span> <span class="o">(</span><span class="n">SL2Z_M_</span> <span class="n">m</span> <span class="n">T</span> <span class="n">B</span><span class="o">)</span> <span class="n">ih</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">[</span><span class="err">←</span><span class="n">is_monoid_action</span><span class="bp">.</span><span class="n">mul</span> <span class="o">(</span><span class="n">SL2Z_M_</span> <span class="n">m</span><span class="o">)]</span> <span class="n">at</span> <span class="n">H</span><span class="o">,</span>
    <span class="n">simp</span> <span class="n">at</span> <span class="n">H</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">[</span><span class="n">is_monoid_action</span><span class="bp">.</span><span class="n">one</span> <span class="o">(</span><span class="n">SL2Z_M_</span> <span class="n">m</span><span class="o">)]</span> <span class="n">at</span> <span class="n">H</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">H</span>
  <span class="kn">end</span><span class="o">,</span>
<span class="k">have</span> <span class="n">HT4</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">B</span><span class="o">,</span> <span class="n">C</span> <span class="o">(</span><span class="n">SL2Z_M_</span> <span class="n">m</span> <span class="n">T</span><span class="bp">⁻¹</span> <span class="n">B</span><span class="o">)</span> <span class="bp">→</span> <span class="n">C</span> <span class="n">B</span><span class="o">,</span> <span class="k">from</span> <span class="bp">λ</span> <span class="n">B</span> <span class="n">ih</span><span class="o">,</span>
  <span class="k">begin</span>
    <span class="k">have</span> <span class="n">H</span> <span class="o">:=</span> <span class="n">HT</span> <span class="o">(</span><span class="n">SL2Z_M_</span> <span class="n">m</span> <span class="n">T</span><span class="bp">⁻¹</span> <span class="n">B</span><span class="o">)</span> <span class="n">ih</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">[</span><span class="err">←</span><span class="n">is_monoid_action</span><span class="bp">.</span><span class="n">mul</span> <span class="o">(</span><span class="n">SL2Z_M_</span> <span class="n">m</span><span class="o">)]</span> <span class="n">at</span> <span class="n">H</span><span class="o">,</span>
    <span class="n">simp</span> <span class="n">at</span> <span class="n">H</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">[</span><span class="n">is_monoid_action</span><span class="bp">.</span><span class="n">one</span> <span class="o">(</span><span class="n">SL2Z_M_</span> <span class="n">m</span><span class="o">)]</span> <span class="n">at</span> <span class="n">H</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">H</span>
  <span class="kn">end</span><span class="o">,</span>
<span class="k">have</span> <span class="n">HT5</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">B</span> <span class="o">(</span><span class="n">n</span><span class="o">:</span><span class="bp">ℤ</span><span class="o">),</span> <span class="n">C</span> <span class="o">(</span><span class="n">SL2Z_M_</span> <span class="n">m</span> <span class="o">(</span><span class="n">T</span><span class="err">^</span><span class="n">n</span><span class="o">)</span> <span class="n">B</span><span class="o">)</span> <span class="bp">→</span> <span class="n">C</span> <span class="n">B</span><span class="o">,</span> <span class="k">from</span> <span class="bp">λ</span> <span class="n">B</span> <span class="n">n</span><span class="o">,</span>
  <span class="n">int</span><span class="bp">.</span><span class="n">induction_on</span> <span class="n">n</span> <span class="o">(</span><span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">gpow_zero</span><span class="o">,</span> <span class="n">is_monoid_action</span><span class="bp">.</span><span class="n">one</span> <span class="o">(</span><span class="n">SL2Z_M_</span> <span class="n">m</span><span class="o">)]</span><span class="bp">;</span> <span class="k">from</span> <span class="n">id</span><span class="o">)</span>
    <span class="o">(</span><span class="bp">λ</span> <span class="n">i</span> <span class="n">ih1</span> <span class="n">ih2</span><span class="o">,</span> <span class="n">ih1</span> <span class="err">$</span> <span class="n">HT3</span> <span class="bp">_</span> <span class="err">$</span> <span class="k">begin</span>
      <span class="n">conv</span> <span class="o">{</span> <span class="n">congr</span><span class="o">,</span> <span class="n">rw</span> <span class="err">←</span><span class="n">is_monoid_action</span><span class="bp">.</span><span class="n">mul</span> <span class="o">(</span><span class="n">SL2Z_M_</span> <span class="n">m</span><span class="o">)</span> <span class="o">},</span>
      <span class="n">conv</span> <span class="n">at</span> <span class="n">ih2</span> <span class="o">{</span> <span class="n">congr</span><span class="o">,</span> <span class="n">rw</span> <span class="o">[</span><span class="n">add_comm</span><span class="o">,</span> <span class="n">gpow_add</span><span class="o">,</span> <span class="n">gpow_one</span><span class="o">]</span> <span class="o">},</span>
      <span class="n">assumption</span> <span class="kn">end</span><span class="o">)</span>
    <span class="o">(</span><span class="bp">λ</span> <span class="n">i</span> <span class="n">ih1</span> <span class="n">ih2</span><span class="o">,</span> <span class="n">ih1</span> <span class="err">$</span> <span class="n">HT4</span> <span class="bp">_</span> <span class="err">$</span> <span class="k">begin</span>
      <span class="n">conv</span> <span class="o">{</span> <span class="n">congr</span><span class="o">,</span> <span class="n">rw</span> <span class="err">←</span><span class="n">is_monoid_action</span><span class="bp">.</span><span class="n">mul</span> <span class="o">(</span><span class="n">SL2Z_M_</span> <span class="n">m</span><span class="o">)</span> <span class="o">},</span>
      <span class="n">conv</span> <span class="n">at</span> <span class="n">ih2</span> <span class="o">{</span> <span class="n">congr</span><span class="o">,</span> <span class="n">rw</span> <span class="o">[</span><span class="n">sub_eq_neg_add</span><span class="o">,</span> <span class="n">gpow_add</span><span class="o">,</span> <span class="n">gpow_neg_one</span><span class="o">]</span> <span class="o">},</span>
      <span class="n">assumption</span> <span class="kn">end</span><span class="o">),</span>
</pre></div>

<a name="133868669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133868669" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133868669">Patrick Massot (Sep 13 2018 at 08:06)</a>:</h4>
<p>Isn't it even more contrived to prove first the induction lemma in that case?</p>

<a name="133868818"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133868818" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133868818">Johan Commelin (Sep 13 2018 at 08:10)</a>:</h4>
<p>I don't know. But if we want Hecke operators, we need it.</p>

<a name="133868845"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133868845" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133868845">Patrick Massot (Sep 13 2018 at 08:12)</a>:</h4>
<p>Why don't you want to state the result you need in the way you would state it on paper, and then deduce the induction statement?</p>

<a name="133869045"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133869045" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133869045">Patrick Massot (Sep 13 2018 at 08:16)</a>:</h4>
<p>Is there an available written proof you are trying to follow?</p>

<a name="133869613"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133869613" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133869613">Johan Commelin (Sep 13 2018 at 08:28)</a>:</h4>
<p>No, I just cooked up a proof this morning.</p>

<a name="133869619"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133869619" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133869619">Johan Commelin (Sep 13 2018 at 08:28)</a>:</h4>
<p>There are probably proofs around, but I haven't found one yet.</p>

<a name="133869714"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133869714" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133869714">Patrick Massot (Sep 13 2018 at 08:30)</a>:</h4>
<p>Do you need help here?</p>

<a name="133870014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133870014" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133870014">Johan Commelin (Sep 13 2018 at 08:39)</a>:</h4>
<p>I'm learning <span class="emoji emoji-1f606" title="lol">:lol:</span></p>

<a name="133870584"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133870584" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133870584">Johan Commelin (Sep 13 2018 at 08:51)</a>:</h4>
<p>I've pushed a proof that has 1 <code>sorry</code> for the case <code>A.c = 0</code>.</p>

<a name="133870594"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133870594" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133870594">Johan Commelin (Sep 13 2018 at 08:51)</a>:</h4>
<p>I still need to learn how to juggle around hypotheses.</p>

<a name="133870643"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133870643" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133870643">Johan Commelin (Sep 13 2018 at 08:52)</a>:</h4>
<p>A mathematician says: Ooh, if <code>A.a ≤ 0</code> then replace <code>A</code> by <code>-A</code>. I find it hard to make such a step in Lean.</p>

<a name="133870668"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133870668" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133870668">Johan Commelin (Sep 13 2018 at 08:53)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> Do you want to teach me?</p>

<a name="133870692"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133870692" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133870692">Patrick Massot (Sep 13 2018 at 08:53)</a>:</h4>
<p>where did you push?</p>

<a name="133870698"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133870698" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133870698">Kenny Lau (Sep 13 2018 at 08:53)</a>:</h4>
<p>well <code>S*S*A = -A</code></p>

<a name="133870707"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133870707" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133870707">Kenny Lau (Sep 13 2018 at 08:53)</a>:</h4>
<p>so you prove it for <code>S*S*A</code> first</p>

<a name="133870708"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133870708" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133870708">Johan Commelin (Sep 13 2018 at 08:53)</a>:</h4>
<p>Fail... I only commited. Now I pushed.</p>

<a name="133870763"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133870763" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133870763">Johan Commelin (Sep 13 2018 at 08:54)</a>:</h4>
<p>I have <code>hneg : ∀ (B : Mat m), SL2Z_M_ m S (SL2Z_M_ m S B) = -B</code> in my context</p>

<a name="133870798"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133870798" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133870798">Patrick Massot (Sep 13 2018 at 08:55)</a>:</h4>
<p>I also see <code>n n : ℕ,</code> which is a good recipe for confusion</p>

<a name="133870954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133870954" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133870954">Johan Commelin (Sep 13 2018 at 08:58)</a>:</h4>
<p>That is because of the <code>strong_induction</code></p>

<a name="133870981"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133870981" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133870981">Johan Commelin (Sep 13 2018 at 08:59)</a>:</h4>
<p>I don't understand why <code>strong_induction</code> does this, but we could safely forget about the first <code>n</code>. It has played it's role, and the new <code>n</code> took over.</p>

<a name="133870997"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133870997" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133870997">Patrick Massot (Sep 13 2018 at 08:59)</a>:</h4>
<p>Why don't you use another name for the new <code>n</code>?</p>

<a name="133871066"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133871066" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133871066">Patrick Massot (Sep 13 2018 at 09:00)</a>:</h4>
<p>Anyway, I can't help with this sorry without knowing what is the paper proof</p>

<a name="133871215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133871215" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133871215">Johan Commelin (Sep 13 2018 at 09:04)</a>:</h4>
<p>Never mind. I might have found a way out.</p>

<a name="133876350"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133876350" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133876350">Johan Commelin (Sep 13 2018 at 11:03)</a>:</h4>
<p>I did find a way out, but it is becoming pretty crazy. (I also had lunch. Please don't be worried that I kept banging my head against this wall for 3 hours.)</p>

<a name="133876357"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133876357" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133876357">Johan Commelin (Sep 13 2018 at 11:03)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> Would you want to take over?</p>

<a name="133876502"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133876502" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133876502">Kenny Lau (Sep 13 2018 at 11:06)</a>:</h4>
<p>I’m not free now</p>

<a name="133879346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133879346" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133879346">Johan Commelin (Sep 13 2018 at 12:04)</a>:</h4>
<p>There are 3 <code>sorry</code>s left in <a href="https://github.com/semorrison/kbb/blob/master/src/SL2Z_generators.lean#L118-L125" target="_blank" title="https://github.com/semorrison/kbb/blob/master/src/SL2Z_generators.lean#L118-L125">https://github.com/semorrison/kbb/blob/master/src/SL2Z_generators.lean#L118-L125</a>,</p>

<a name="133879350"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133879350" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133879350">Johan Commelin (Sep 13 2018 at 12:04)</a>:</h4>
<p>they should all be <code>by schoolkid</code>.</p>

<a name="133886099"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133886099" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133886099">Patrick Massot (Sep 13 2018 at 13:56)</a>:</h4>
<p>Let's say I try the first one</p>

<a name="133887384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133887384" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133887384">Johan Commelin (Sep 13 2018 at 14:14)</a>:</h4>
<p>Ooh, I was just trying that one.</p>

<a name="133887395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133887395" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133887395">Patrick Massot (Sep 13 2018 at 14:14)</a>:</h4>
<p>I'm almost there!</p>

<a name="133887396"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133887396" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133887396">Johan Commelin (Sep 13 2018 at 14:14)</a>:</h4>
<p>I just finished a maths paper. So I am allowing myself some Lean time.</p>

<a name="133887413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133887413" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133887413">Johan Commelin (Sep 13 2018 at 14:14)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> I only need <code>1 ≤ A.d * A.d</code></p>

<a name="133887417"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133887417" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133887417">Patrick Massot (Sep 13 2018 at 14:14)</a>:</h4>
<p>I'm at <code>this : A.d * A.d &gt; 0
⊢ A.d * A.d - 1 ≥ 0</code></p>

<a name="133887434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133887434" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133887434">Johan Commelin (Sep 13 2018 at 14:15)</a>:</h4>
<p>Right, same place (-;</p>

<a name="133887447"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133887447" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133887447">Johan Commelin (Sep 13 2018 at 14:15)</a>:</h4>
<p>I'll move to sorry₂</p>

<a name="133887464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133887464" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133887464">Patrick Massot (Sep 13 2018 at 14:15)</a>:</h4>
<p>Oh no, for Lean it's not the same place</p>

<a name="133887759"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133887759" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133887759">Patrick Massot (Sep 13 2018 at 14:18)</a>:</h4>
<p>I'm soo close <code>this : A.d * A.d &gt; 0 ⊢ 1 ≤ A.d * A.d</code></p>

<a name="133888301"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133888301" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133888301">Patrick Massot (Sep 13 2018 at 14:25)</a>:</h4>
<p>Done!</p>

<a name="133888383"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133888383" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133888383">Patrick Massot (Sep 13 2018 at 14:26)</a>:</h4>
<p>Should I move to the third one?</p>

<a name="133888446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133888446" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133888446">Johan Commelin (Sep 13 2018 at 14:27)</a>:</h4>
<p>Yes please.</p>

<a name="133888450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133888450" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133888450">Johan Commelin (Sep 13 2018 at 14:27)</a>:</h4>
<p>Did you push?</p>

<a name="133888471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133888471" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133888471">Patrick Massot (Sep 13 2018 at 14:27)</a>:</h4>
<p>Do you want me to push?</p>

<a name="133888556"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133888556" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133888556">Patrick Massot (Sep 13 2018 at 14:28)</a>:</h4>
<p>I pushed</p>

<a name="133888816"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133888816" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133888816">Johan Commelin (Sep 13 2018 at 14:31)</a>:</h4>
<p>This should be a standard lemma: <code>A.b / A.d * A.d ≤ A.b</code> But I can't find it...</p>

<a name="133888868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133888868" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133888868">Patrick Massot (Sep 13 2018 at 14:32)</a>:</h4>
<p>What is this <code>/</code>? Euclidean quotient?</p>

<a name="133888951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133888951" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133888951">Patrick Massot (Sep 13 2018 at 14:33)</a>:</h4>
<p>seems so</p>

<a name="133889038"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133889038" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133889038">Johan Commelin (Sep 13 2018 at 14:34)</a>:</h4>
<p>Right, so <code>(11 / (-3)) = -3</code></p>

<a name="133889145"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133889145" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133889145">Rob Lewis (Sep 13 2018 at 14:36)</a>:</h4>
<p><code>int.div_mul_le</code>? Are you working over <code>int</code>? I'm not really following the context.</p>

<a name="133889184"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133889184" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133889184">Patrick Massot (Sep 13 2018 at 14:37)</a>:</h4>
<p>bingo!</p>

<a name="133889768"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133889768" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133889768">Patrick Massot (Sep 13 2018 at 14:44)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> Are you sure this sorry is true?</p>

<a name="133889783"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133889783" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133889783">Patrick Massot (Sep 13 2018 at 14:45)</a>:</h4>
<p>It actually looks really weird</p>

<a name="133889898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133889898" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133889898">Johan Commelin (Sep 13 2018 at 14:46)</a>:</h4>
<p>I'm done with 2</p>

<a name="133889907"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133889907" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133889907">Johan Commelin (Sep 13 2018 at 14:46)</a>:</h4>
<p>You're worried about 3?</p>

<a name="133889911"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133889911" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133889911">Patrick Massot (Sep 13 2018 at 14:46)</a>:</h4>
<p>yes</p>

<a name="133890106"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133890106" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133890106">Johan Commelin (Sep 13 2018 at 14:49)</a>:</h4>
<p>Hmm, I think it is fine. Proof by example: <code>abs (101 - (101/13 * 13)) ≤ abs(13)</code>, which reduces to <code>10 ≤ 13</code>.</p>

<a name="133890209"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133890209" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133890209">Johan Commelin (Sep 13 2018 at 14:51)</a>:</h4>
<p>By the way, I pushed my fix of sorry₂</p>

<a name="133890585"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133890585" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133890585">Patrick Massot (Sep 13 2018 at 14:56)</a>:</h4>
<p>hold on</p>

<a name="133890611"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133890611" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133890611">Patrick Massot (Sep 13 2018 at 14:56)</a>:</h4>
<p>You sent me on a wrong track to make sure you'll be done first!</p>

<a name="133890810"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133890810" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133890810">Johan Commelin (Sep 13 2018 at 14:58)</a>:</h4>
<p>Guess what, I have to catch a train. So I won't be Leaning for the next 90 minutes.</p>

<a name="133890829"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133890829" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133890829">Patrick Massot (Sep 13 2018 at 14:59)</a>:</h4>
<p>And now you set me a deadline!</p>

<a name="133890833"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133890833" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133890833">Johan Commelin (Sep 13 2018 at 14:59)</a>:</h4>
<p>And I haven't made any progress on sorry₃</p>

<a name="133890842"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133890842" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133890842">Johan Commelin (Sep 13 2018 at 14:59)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> is online <span class="emoji emoji-23f3" title="time ticking">:time_ticking:</span></p>

<a name="133890852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133890852" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133890852">Kenny Lau (Sep 13 2018 at 14:59)</a>:</h4>
<p>hi</p>

<a name="133893902"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133893902" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133893902">Patrick Massot (Sep 13 2018 at 15:39)</a>:</h4>
<p>done</p>

<a name="133893911"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133893911" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133893911">Patrick Massot (Sep 13 2018 at 15:39)</a>:</h4>
<p>so much suffering...</p>

<a name="133898166"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133898166" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133898166">Johan Commelin (Sep 13 2018 at 16:52)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> Thank you so much!</p>

<a name="133898533"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133898533" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133898533">Patrick Massot (Sep 13 2018 at 16:59)</a>:</h4>
<p>The stupid lemma in the middle is now in mathlib</p>

<a name="133898624"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133898624" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133898624">Patrick Massot (Sep 13 2018 at 17:00)</a>:</h4>
<p>I also removed a couple of simp that were in the middle of the proof hence frowned upon</p>

<a name="133898828"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133898828" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133898828">Johan Commelin (Sep 13 2018 at 17:04)</a>:</h4>
<p>Ok, I realised that it might have been easier to assume <code>m &gt; 0</code>. And then deduce the result for negative <code>m</code> via an <code>SL2Z</code>-equivariant isom between <code>Mat m</code> and <code>Mat -m</code>.</p>

<a name="133898847"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133898847" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133898847">Johan Commelin (Sep 13 2018 at 17:05)</a>:</h4>
<p>Anyway, the next step would be to use this horrible lemma to prove that for <code>m ≠ 0</code> the set of orbits of <code>SL2Z_M_</code> is finite.</p>

<a name="133898860"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133898860" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133898860">Johan Commelin (Sep 13 2018 at 17:05)</a>:</h4>
<p>Once we have that, we can define the Hecke operator.</p>

<a name="133905932"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133905932" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133905932">Johan Commelin (Sep 13 2018 at 18:59)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> Are you interested in golfing what we came up with?</p>

<a name="133905941"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133905941" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133905941">Kenny Lau (Sep 13 2018 at 18:59)</a>:</h4>
<p>after I finish with my PR</p>

<a name="133906100"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133906100" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133906100">Patrick Massot (Sep 13 2018 at 19:01)</a>:</h4>
<p>Which PR?</p>

<a name="133906246"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133906246" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133906246">Kenny Lau (Sep 13 2018 at 19:03)</a>:</h4>
<p><a href="https://github.com/leanprover/mathlib/pull/345" target="_blank" title="https://github.com/leanprover/mathlib/pull/345">https://github.com/leanprover/mathlib/pull/345</a></p>

<a name="133906679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133906679" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133906679">Patrick Massot (Sep 13 2018 at 19:10)</a>:</h4>
<p>Nice!</p>

<a name="133912059"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133912059" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133912059">Patrick Massot (Sep 13 2018 at 20:40)</a>:</h4>
<p>I made a small start on SL2Z\SL2ZM, simply telling Lean what this mean, and somehow stating what I think Johan told us we should prove in order to get finiteness</p>

<a name="133912075"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133912075" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133912075">Patrick Massot (Sep 13 2018 at 20:41)</a>:</h4>
<p>But what is stated may be false</p>

<a name="133912087"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133912087" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133912087">Patrick Massot (Sep 13 2018 at 20:41)</a>:</h4>
<p>and the names are stupid too</p>

<a name="133922532"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133922532" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133922532">Johan Commelin (Sep 14 2018 at 00:41)</a>:</h4>
<p>Thanks! That is exactly what I had in mind. (I do think we might need a bit more conditions in <code>reps</code>. I think we can/should just copy the condition from <code>H0</code> in the induction lemma.</p>

<a name="133922587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133922587" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133922587">Johan Commelin (Sep 14 2018 at 00:42)</a>:</h4>
<p>The set of orbits is only finite if <code>m ≠ 0</code>. Otherwise it is parameterised by pairs of coprime integers (up to ±1).</p>

<a name="133937043"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133937043" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133937043">Patrick Massot (Sep 14 2018 at 07:38)</a>:</h4>
<p>Done</p>

<a name="133937107"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133937107" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133937107">Patrick Massot (Sep 14 2018 at 07:40)</a>:</h4>
<p>Note that a small modification of the setup is required to recover the generation theorem for SL2. The relevant action is not the action of the full SL2 on Mat m, but only the monoid spanned by S and T. But otherwise the proof should be the same</p>

<a name="133937363"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133937363" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133937363">Johan Commelin (Sep 14 2018 at 07:47)</a>:</h4>
<p>Cool!</p>

<a name="133937413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133937413" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133937413">Johan Commelin (Sep 14 2018 at 07:48)</a>:</h4>
<p>I guess for the finiteness result that is still sorried, we could do the dual thing. Build an injection into a product of <code>fin</code>s.</p>

<a name="133938572"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133938572" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133938572">Kenny Lau (Sep 14 2018 at 08:16)</a>:</h4>
<p>are we going to restate the SL2Z theorem as a special case?</p>

<a name="133938580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133938580" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133938580">Kenny Lau (Sep 14 2018 at 08:16)</a>:</h4>
<p>also, it doesn't compile because someone deleted mul_self_pos</p>

<a name="133938658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133938658" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133938658">Patrick Massot (Sep 14 2018 at 08:19)</a>:</h4>
<p>It does compile</p>

<a name="133938662"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133938662" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133938662">Patrick Massot (Sep 14 2018 at 08:19)</a>:</h4>
<p><code>mul_self_pos</code> is now in mathlib</p>

<a name="133938669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133938669" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133938669">Patrick Massot (Sep 14 2018 at 08:20)</a>:</h4>
<p>Did you try to compile using <code>leanpkg build</code>? (hint: the correct answer is yes)</p>

<a name="133938729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133938729" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133938729">Patrick Massot (Sep 14 2018 at 08:20)</a>:</h4>
<p>Yes, we could restate the SL2Z theorem as a special case. It should cost much and will be convenient</p>

<a name="133938734"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133938734" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133938734">Patrick Massot (Sep 14 2018 at 08:21)</a>:</h4>
<p>Feel free to do so, I need to do real work now</p>

<a name="133938801"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133938801" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133938801">Kenny Lau (Sep 14 2018 at 08:22)</a>:</h4>
<blockquote>
<p><code>mul_self_pos</code> is now in mathlib</p>
</blockquote>
<p>well I haven't updated mathlib, that's why</p>

<a name="133939553"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133939553" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133939553">Patrick Massot (Sep 14 2018 at 08:40)</a>:</h4>
<p>leanpkg will do that for you</p>

<a name="133939561"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133939561" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133939561">Patrick Massot (Sep 14 2018 at 08:40)</a>:</h4>
<p>Use leanpkg build</p>

<a name="133939915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133939915" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133939915">Johan Commelin (Sep 14 2018 at 08:48)</a>:</h4>
<p>And restart Lean in VScode afterwards...</p>

<a name="133971124"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133971124" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133971124">Kenny Lau (Sep 14 2018 at 18:36)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span>  you see... I might change your proof if you don't mind</p>

<a name="133971164"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133971164" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133971164">Johan Commelin (Sep 14 2018 at 18:37)</a>:</h4>
<p>I just pushed a first start on hecke operators...</p>

<a name="133971202"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133971202" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133971202">Johan Commelin (Sep 14 2018 at 18:37)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> Please assume <code>m &gt; 0</code></p>

<a name="133971249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133971249" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133971249">Kenny Lau (Sep 14 2018 at 18:38)</a>:</h4>
<p>what do you mean</p>

<a name="133971264"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133971264" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133971264">Johan Commelin (Sep 14 2018 at 18:38)</a>:</h4>
<p>It will probably make your life easier. And I now realise that we won't ever use <code>m &lt; 0</code></p>

<a name="133971274"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133971274" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133971274">Johan Commelin (Sep 14 2018 at 18:38)</a>:</h4>
<p>Not in this project.</p>

<a name="133971281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133971281" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133971281">Kenny Lau (Sep 14 2018 at 18:38)</a>:</h4>
<p>oh well</p>

<a name="133971297"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133971297" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133971297">Johan Commelin (Sep 14 2018 at 18:39)</a>:</h4>
<p>And outside the project, the can deduce the result by an <code>SL2Z</code>-equivariant map <code>Mat m → Mat -m</code></p>

<a name="133971327"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133971327" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133971327">Kenny Lau (Sep 14 2018 at 18:39)</a>:</h4>
<p>right</p>

<a name="133971438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133971438" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133971438">Patrick Massot (Sep 14 2018 at 18:41)</a>:</h4>
<blockquote>
<p>Patrick Massot  you see... I might change your proof if you don't mind</p>
</blockquote>
<p>I have no idea what you are talking about</p>

<a name="133971446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133971446" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133971446">Kenny Lau (Sep 14 2018 at 18:41)</a>:</h4>
<p>your whole induction_on proof</p>

<a name="133971559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133971559" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133971559">Patrick Massot (Sep 14 2018 at 18:43)</a>:</h4>
<p>It's not my proof, I only contributed a handful of schoolkid lines</p>

<a name="133971567"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133971567" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133971567">Kenny Lau (Sep 14 2018 at 18:43)</a>:</h4>
<p>oh, <span class="user-mention" data-user-id="112680">@Johan Commelin</span> then</p>

<a name="133971673"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133971673" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133971673">Johan Commelin (Sep 14 2018 at 18:45)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> Sure, go ahead!</p>

<a name="133972834"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133972834" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133972834">Kenny Lau (Sep 14 2018 at 19:05)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> this is the original base case:</p>
<div class="codehilite"><pre><span></span><span class="o">(</span><span class="n">H0</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="n">Mat</span> <span class="n">m</span><span class="o">}</span> <span class="o">(</span><span class="n">h0</span> <span class="o">:</span> <span class="n">A</span><span class="bp">.</span><span class="n">c</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">h1</span> <span class="o">:</span> <span class="n">A</span><span class="bp">.</span><span class="n">a</span> <span class="bp">*</span> <span class="n">A</span><span class="bp">.</span><span class="n">d</span> <span class="bp">=</span> <span class="n">m</span><span class="o">)</span> <span class="o">(</span><span class="n">h2</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">≤</span> <span class="n">A</span><span class="bp">.</span><span class="n">a</span><span class="o">)</span> <span class="o">(</span><span class="n">h3</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">≤</span> <span class="n">A</span><span class="bp">.</span><span class="n">b</span><span class="o">)</span> <span class="o">(</span><span class="n">h4</span> <span class="o">:</span> <span class="n">int</span><span class="bp">.</span><span class="n">nat_abs</span> <span class="n">A</span><span class="bp">.</span><span class="n">b</span> <span class="bp">≤</span> <span class="n">int</span><span class="bp">.</span><span class="n">nat_abs</span> <span class="n">A</span><span class="bp">.</span><span class="n">d</span><span class="o">),</span> <span class="n">C</span> <span class="n">A</span><span class="o">)</span>
</pre></div>

<a name="133972846"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133972846" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133972846">Kenny Lau (Sep 14 2018 at 19:05)</a>:</h4>
<p>it can be changed to:</p>
<div class="codehilite"><pre><span></span><span class="o">(</span><span class="n">H0</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="n">Mat</span> <span class="n">m</span><span class="o">}</span> <span class="o">(</span><span class="n">h0</span> <span class="o">:</span> <span class="n">A</span><span class="bp">.</span><span class="n">c</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">h1</span> <span class="o">:</span> <span class="n">A</span><span class="bp">.</span><span class="n">a</span> <span class="bp">*</span> <span class="n">A</span><span class="bp">.</span><span class="n">d</span> <span class="bp">=</span> <span class="n">m</span><span class="o">)</span> <span class="o">(</span><span class="n">h2</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">A</span><span class="bp">.</span><span class="n">a</span><span class="o">)</span> <span class="o">(</span><span class="n">h3</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">≤</span> <span class="n">A</span><span class="bp">.</span><span class="n">b</span><span class="o">)</span> <span class="o">(</span><span class="n">h4</span> <span class="o">:</span> <span class="n">int</span><span class="bp">.</span><span class="n">nat_abs</span> <span class="n">A</span><span class="bp">.</span><span class="n">b</span> <span class="bp">&lt;</span> <span class="n">int</span><span class="bp">.</span><span class="n">nat_abs</span> <span class="n">A</span><span class="bp">.</span><span class="n">d</span><span class="o">),</span> <span class="n">C</span> <span class="n">A</span><span class="o">)</span>
</pre></div>

<a name="133972966"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133972966" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133972966">Johan Commelin (Sep 14 2018 at 19:07)</a>:</h4>
<p>1) <code>h1</code> is redundant. It follows from <code>h0</code> and <code>A.det</code>. (I realised this half-way writing my own proof.)<br>
2) Now you have no upper-bound on <code>A.b</code>. So how will you prove finiteness of orbits?</p>

<a name="133973018"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133973018" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133973018">Kenny Lau (Sep 14 2018 at 19:08)</a>:</h4>
<p>what do you mean I have no upper-bound on A.b?</p>

<a name="133973037"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133973037" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133973037">Kenny Lau (Sep 14 2018 at 19:08)</a>:</h4>
<p>I changed two <code>le</code> to <code>lt</code></p>

<a name="133973041"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133973041" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133973041">Kenny Lau (Sep 14 2018 at 19:08)</a>:</h4>
<p>it restricted things</p>

<a name="133973056"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133973056" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133973056">Johan Commelin (Sep 14 2018 at 19:08)</a>:</h4>
<p>Aah, sorry, I didn't see the <code>h4</code>.</p>

<a name="133973068"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133973068" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133973068">Johan Commelin (Sep 14 2018 at 19:08)</a>:</h4>
<p>Yes, I know you could make those restrictions, but I didn't know if it would make the proof easier.</p>

<a name="133973071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133973071" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133973071">Johan Commelin (Sep 14 2018 at 19:08)</a>:</h4>
<p>I thought things would get harder.</p>

<a name="133973178"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/generators/near/133973178" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/59003generators.html#133973178">Kenny Lau (Sep 14 2018 at 19:10)</a>:</h4>
<p>I always do more work to ensure that the users do less work</p>


{% endraw %}
