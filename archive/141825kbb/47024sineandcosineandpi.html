---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/141825kbb/47024sineandcosineandpi.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/141825kbb/index.html">kbb</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html">sine and cosine and pi</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="134008790"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134008790" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134008790">Chris Hughes (Sep 15 2018 at 11:34)</a>:</h4>
<p>I've started working on sine and cosine. I have cleaned the proofs up until <code>exp (x + y)</code> and I'm currently working on things like <code>sin (x + y)</code>. I have no idea how to define pi however. <span class="user-mention" data-user-id="110049">@Mario Carneiro</span> what's the best way to do this?</p>

<a name="134009489"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134009489" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134009489">Patrick Massot (Sep 15 2018 at 11:56)</a>:</h4>
<p>Do you have complex exp or only real?</p>

<a name="134010115"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134010115" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134010115">Chris Hughes (Sep 15 2018 at 12:15)</a>:</h4>
<p>complex. I'll define real.exp in terms of complex.exp</p>

<a name="134011693"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134011693" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134011693">Patrick Massot (Sep 15 2018 at 13:06)</a>:</h4>
<p>Ok, so <code>sin (x + y)</code> and friends follow immediately from <code>exp(x+y)</code>.</p>

<a name="134011700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134011700" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134011700">Johan Commelin (Sep 15 2018 at 13:06)</a>:</h4>
<p>You're such a mathematician.</p>

<a name="134011706"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134011706" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134011706">Johan Commelin (Sep 15 2018 at 13:07)</a>:</h4>
<p>Remember that you get a <code>/2</code> in those expressions. You need to convince Lean that you aren't dividing by zero.</p>

<a name="134011751"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134011751" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134011751">Johan Commelin (Sep 15 2018 at 13:08)</a>:</h4>
<p>But Chris is pushing progress to the <code>exp</code> branch on community mathlib</p>

<a name="134011752"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134011752" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134011752">Patrick Massot (Sep 15 2018 at 13:08)</a>:</h4>
<p>For <code>pi</code> you can prove that cos vanishes somewhere between 0 and 2 using the intermediate value theorem, and define pi as twice the first zero of cos. This is cheap but I guess proving other properties from that is painful. A better solution is probably to prove the classification of subgroups of (R, +), and define 2pi as the positive generator of ker(t mapsto exp(i*t)) (this kernel cannot be dense because exp is continuous and non-constant)</p>

<a name="134011758"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134011758" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134011758">Johan Commelin (Sep 15 2018 at 13:09)</a>:</h4>
<p>Rights, so we need continuity of <code>exp</code>.</p>

<a name="134011759"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134011759" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134011759">Johan Commelin (Sep 15 2018 at 13:09)</a>:</h4>
<p>For either definition.</p>

<a name="134011760"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134011760" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134011760">Patrick Massot (Sep 15 2018 at 13:09)</a>:</h4>
<p>I both cases yes</p>

<a name="134011807"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134011807" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134011807">Johan Commelin (Sep 15 2018 at 13:10)</a>:</h4>
<p>What is the best way to do this continuity proof?</p>

<a name="134011809"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134011809" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134011809">Johan Commelin (Sep 15 2018 at 13:10)</a>:</h4>
<p>Generalise to arbitrary power series?</p>

<a name="134011813"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134011813" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134011813">Patrick Massot (Sep 15 2018 at 13:10)</a>:</h4>
<p>We could also cheat and define pi using a random series, but then the link with exp and cos would be harder to establish</p>

<a name="134011817"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134011817" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134011817">Johan Commelin (Sep 15 2018 at 13:11)</a>:</h4>
<p>I like your second definition.</p>

<a name="134011821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134011821" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134011821">Johan Commelin (Sep 15 2018 at 13:11)</a>:</h4>
<p>We should probably just check what Coq/Mizar/Isabelle do</p>

<a name="134011825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134011825" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134011825">Reid Barton (Sep 15 2018 at 13:11)</a>:</h4>
<p>If you have <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>e</mi><mrow><mi>x</mi><mo>+</mo><mi>y</mi></mrow></msup><mo>=</mo><msup><mi>e</mi><mi>x</mi></msup><msup><mi>e</mi><mi>y</mi></msup></mrow><annotation encoding="application/x-tex">e^{x+y} = e^x e^y</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.771331em;"></span><span class="strut bottom" style="height:0.771331em;vertical-align:0em;"></span><span class="base"><span class="mord"><span class="mord mathit">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.771331em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathit mtight">x</span><span class="mbin mtight">+</span><span class="mord mathit mtight" style="margin-right:0.03588em;">y</span></span></span></span></span></span></span></span></span><span class="mrel">=</span><span class="mord"><span class="mord mathit">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">x</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathit">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight" style="margin-right:0.03588em;">y</span></span></span></span></span></span></span></span></span></span></span> then it suffices to show that <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>e</mi><mi>x</mi></msup></mrow><annotation encoding="application/x-tex">e^x</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.664392em;"></span><span class="strut bottom" style="height:0.664392em;vertical-align:0em;"></span><span class="base"><span class="mord"><span class="mord mathit">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">x</span></span></span></span></span></span></span></span></span></span></span> is continuous at 0, and for this you can use a crude bound on the power series.</p>

<a name="134011879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134011879" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134011879">Johan Commelin (Sep 15 2018 at 13:13)</a>:</h4>
<p>Ok, sounds good.</p>

<a name="134011923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134011923" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134011923">Reid Barton (Sep 15 2018 at 13:14)</a>:</h4>
<p>Patrick, you still have to prove that <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>e</mi><mrow><mi>i</mi><mi>t</mi></mrow></msup><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">e^{it} = 1</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.824664em;"></span><span class="strut bottom" style="height:0.824664em;vertical-align:0em;"></span><span class="base"><span class="mord"><span class="mord mathit">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathit mtight">i</span><span class="mord mathit mtight">t</span></span></span></span></span></span></span></span></span><span class="mrel">=</span><span class="mord mathrm">1</span></span></span></span> for some nonzero real <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.61508em;"></span><span class="strut bottom" style="height:0.61508em;vertical-align:0em;"></span><span class="base"><span class="mord mathit">t</span></span></span></span> first, right?</p>

<a name="134011977"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134011977" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134011977">Patrick Massot (Sep 15 2018 at 13:16)</a>:</h4>
<p>indeed we must exclude that the kernel is trivial</p>

<a name="134012154"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134012154" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134012154">Reid Barton (Sep 15 2018 at 13:22)</a>:</h4>
<p>Does the definition of pi really rely on some explicit estimate like <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>cos</mi><mn>2</mn><mo>&lt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\cos 2 &lt; 0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.68354em;vertical-align:-0.0391em;"></span><span class="base"><span class="mop">cos</span><span class="mord mathrm">2</span><span class="mrel">&lt;</span><span class="mord mathrm">0</span></span></span></span>? <br>
I guess if you have differential calculus at your disposal, you could show that <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>sin</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">\sin t</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.66786em;"></span><span class="strut bottom" style="height:0.66786em;vertical-align:0em;"></span><span class="base"><span class="mop">sin</span><span class="mord mathit">t</span></span></span></span> is bounded, and then conclude that <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>cos</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">\cos t</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.61508em;"></span><span class="strut bottom" style="height:0.61508em;vertical-align:0em;"></span><span class="base"><span class="mop">cos</span><span class="mord mathit">t</span></span></span></span> cannot be positive everywhere... wait no, I don't even see how to make this work.</p>

<a name="134012167"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134012167" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134012167">Patrick Massot (Sep 15 2018 at 13:23)</a>:</h4>
<p><a href="https://isabelle.in.tum.de/dist/library/HOL/HOL/Transcendental.html" target="_blank" title="https://isabelle.in.tum.de/dist/library/HOL/HOL/Transcendental.html">https://isabelle.in.tum.de/dist/library/HOL/HOL/Transcendental.html</a> seems to use my first method</p>

<a name="134012218"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134012218" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134012218">Reid Barton (Sep 15 2018 at 13:25)</a>:</h4>
<p>Okay--if <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>cos</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">\cos t</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.61508em;"></span><span class="strut bottom" style="height:0.61508em;vertical-align:0em;"></span><span class="base"><span class="mop">cos</span><span class="mord mathit">t</span></span></span></span> was positive everywhere then <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>sin</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">\sin t</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.66786em;"></span><span class="strut bottom" style="height:0.66786em;vertical-align:0em;"></span><span class="base"><span class="mop">sin</span><span class="mord mathit">t</span></span></span></span> would be increasing, and then <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>cos</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">\cos t</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.61508em;"></span><span class="strut bottom" style="height:0.61508em;vertical-align:0em;"></span><span class="base"><span class="mop">cos</span><span class="mord mathit">t</span></span></span></span> would have to lie below some line of negative slope, a contradiction.<br>
Not sure if one can extract an "elementary" (no differential calculus) proof along these lines.</p>

<a name="134012328"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134012328" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134012328">Patrick Massot (Sep 15 2018 at 13:29)</a>:</h4>
<p>This all looks super tedious</p>

<a name="134012331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134012331" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134012331">Patrick Massot (Sep 15 2018 at 13:29)</a>:</h4>
<p>Let's do perfectoid spaces</p>

<a name="134012706"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134012706" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134012706">Johan Commelin (Sep 15 2018 at 13:40)</a>:</h4>
<p>Hmmm, <span class="user-mention" data-user-id="110032">@Reid Barton</span> I can easily follow your maths proof that <code>exp</code> is continuous if it is ctu at <code>0</code>.</p>

<a name="134012709"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134012709" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134012709">Johan Commelin (Sep 15 2018 at 13:40)</a>:</h4>
<p>But how do I put this into Lean?</p>

<a name="134012791"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134012791" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134012791">Patrick Massot (Sep 15 2018 at 13:43)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/blob/completions/analysis/topology/topological_structures.lean#L289" target="_blank" title="https://github.com/leanprover-community/mathlib/blob/completions/analysis/topology/topological_structures.lean#L289">https://github.com/leanprover-community/mathlib/blob/completions/analysis/topology/topological_structures.lean#L289</a> may help</p>

<a name="134012906"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134012906" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134012906">Johan Commelin (Sep 15 2018 at 13:46)</a>:</h4>
<p>Aah thanks, that indeed looks useful.</p>

<a name="134012930"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134012930" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134012930">Johan Commelin (Sep 15 2018 at 13:47)</a>:</h4>
<p>Do we know that <code>(exp x) \ne 0</code>?</p>

<a name="134012932"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134012932" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134012932">Patrick Massot (Sep 15 2018 at 13:47)</a>:</h4>
<p>It's not yet merged in mathlib, but doesn't depend on much</p>

<a name="134012936"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134012936" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134012936">Johan Commelin (Sep 15 2018 at 13:47)</a>:</h4>
<p>Because then we know that <code>exp</code> is a group hom, which might also help.</p>

<a name="134012999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134012999" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134012999">Chris Hughes (Sep 15 2018 at 13:49)</a>:</h4>
<p>We do know exp \ne 0</p>

<a name="134013589"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134013589" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134013589">Johan Commelin (Sep 15 2018 at 14:07)</a>:</h4>
<p>Hmmm, I'm horrible with these continuity proofs...</p>

<a name="134013597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134013597" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134013597">Johan Commelin (Sep 15 2018 at 14:07)</a>:</h4>
<p>So there is <code>squeeze_zero</code>, but I don't think there is a generic squeeze lemma, right?</p>

<a name="134013604"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134013604" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134013604">Patrick Massot (Sep 15 2018 at 14:07)</a>:</h4>
<p>there is</p>

<a name="134013612"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134013612" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134013612">Johan Commelin (Sep 15 2018 at 14:07)</a>:</h4>
<p>Ooh, my VScode didn't find it.</p>

<a name="134013653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134013653" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134013653">Johan Commelin (Sep 15 2018 at 14:08)</a>:</h4>
<p>Let me try again</p>

<a name="134013665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134013665" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134013665">Johan Commelin (Sep 15 2018 at 14:08)</a>:</h4>
<p>Aah, it only has squeeze in its docstring</p>

<a name="134013667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134013667" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134013667">Johannes Hölzl (Sep 15 2018 at 14:08)</a>:</h4>
<p>grep for sandwich in mathlib</p>

<a name="134013671"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134013671" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134013671">Patrick Massot (Sep 15 2018 at 14:08)</a>:</h4>
<p><a href="https://github.com/leanprover/mathlib/blob/5613d2ecc92ce8fae9555745bd94756dec61a323/analysis/topology/topological_structures.lean#L438" target="_blank" title="https://github.com/leanprover/mathlib/blob/5613d2ecc92ce8fae9555745bd94756dec61a323/analysis/topology/topological_structures.lean#L438">https://github.com/leanprover/mathlib/blob/5613d2ecc92ce8fae9555745bd94756dec61a323/analysis/topology/topological_structures.lean#L438</a></p>

<a name="134013680"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134013680" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134013680">Patrick Massot (Sep 15 2018 at 14:09)</a>:</h4>
<p>grep for squeeze also works</p>

<a name="134013687"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134013687" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134013687">Patrick Massot (Sep 15 2018 at 14:09)</a>:</h4>
<p>but grep for gendarme doesn't work</p>

<a name="134013912"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134013912" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134013912">Johan Commelin (Sep 15 2018 at 14:14)</a>:</h4>
<p>Hmm snap, of course that doesn't help for continuity of the complex version.</p>

<a name="134013997"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134013997" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134013997">Patrick Massot (Sep 15 2018 at 14:16)</a>:</h4>
<p>Anyway, the long term reasoning is clear: we don't want a trick, we want general results on power series</p>

<a name="134014067"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134014067" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134014067">Johan Commelin (Sep 15 2018 at 14:18)</a>:</h4>
<p>Right. And I think I'dd rather work on the long term</p>

<a name="134014074"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134014074" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134014074">Johan Commelin (Sep 15 2018 at 14:18)</a>:</h4>
<p>So, should we create <code>power_series.lean</code> on cocalc?</p>

<a name="134014085"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134014085" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134014085">Johan Commelin (Sep 15 2018 at 14:19)</a>:</h4>
<p>Maybe Kevin will see it. I think I don't care</p>

<a name="134014151"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134014151" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134014151">Johan Commelin (Sep 15 2018 at 14:21)</a>:</h4>
<p>Is that ok with others? Then we could multiplayer power series into existence.</p>

<a name="134014152"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134014152" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134014152">Johan Commelin (Sep 15 2018 at 14:21)</a>:</h4>
<p>I'm quite addicted to that experience.</p>

<a name="134014192"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134014192" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134014192">Patrick Massot (Sep 15 2018 at 14:22)</a>:</h4>
<p>I would wait until <span class="user-mention" data-user-id="110294">@Johannes Hölzl</span> tells us about how this is done in Isabelle (they have a lot of analysis there)</p>

<a name="134014543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134014543" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134014543">Johannes Hölzl (Sep 15 2018 at 14:35)</a>:</h4>
<p>I will take a look</p>

<a name="134014907"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134014907" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134014907">Johannes Hölzl (Sep 15 2018 at 14:48)</a>:</h4>
<p>So, continuity of <code>exp</code> is proved using derivability. There is a section "Term-by-Term Differentiability of Power Series" in <a href="http://isabelle.in.tum.de/dist/library/HOL/HOL/Transcendental.html" target="_blank" title="http://isabelle.in.tum.de/dist/library/HOL/HOL/Transcendental.html">http://isabelle.in.tum.de/dist/library/HOL/HOL/Transcendental.html</a> where most of it is proved. The central part is <code>termdiffs</code> which states: <code>DERIV (λx. ∑n. c n * x^n) x :&gt; (∑n. (diffs c) n * x^n)</code>.  Where <code>diffs c := (λn. of_nat (Suc n) * c (Suc n))</code> (<code>Suc</code> is <code>nat.succ</code> and <code>of_nat</code> is the coercion nat to a real_algebra).</p>

<a name="134014963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134014963" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134014963">Johannes Hölzl (Sep 15 2018 at 14:50)</a>:</h4>
<p>The lemma <code>termdiffs</code> assumes that various power series converge.</p>

<a name="134015048"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134015048" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134015048">Johan Commelin (Sep 15 2018 at 14:53)</a>:</h4>
<p>So it would make sense to define power series, and then we need to change the definition of exp to use those power series.</p>

<a name="134015049"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134015049" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134015049">Johan Commelin (Sep 15 2018 at 14:53)</a>:</h4>
<p>Is that right?</p>

<a name="134015051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134015051" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134015051">Johan Commelin (Sep 15 2018 at 14:53)</a>:</h4>
<p>I mean, there won't change that much</p>

<a name="134015240"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134015240" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134015240">Johannes Hölzl (Sep 15 2018 at 14:57)</a>:</h4>
<p>Yes, I think it would make sense to define power series. Also derivatives...</p>

<a name="134015325"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134015325" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134015325">Johan Commelin (Sep 15 2018 at 14:58)</a>:</h4>
<p>Ok, and this is purely algebraic stuff, right?</p>

<a name="134015338"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134015338" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134015338">Johan Commelin (Sep 15 2018 at 14:58)</a>:</h4>
<p>Or do you also mean the analytic derivative?</p>

<a name="134015355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134015355" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134015355">Johannes Hölzl (Sep 15 2018 at 14:59)</a>:</h4>
<p>I guess we need to analytic derivative to prove continuity</p>

<a name="134015413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134015413" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134015413">Johan Commelin (Sep 15 2018 at 15:00)</a>:</h4>
<p>Hmmm, ok</p>

<a name="134015419"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134015419" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134015419">Johan Commelin (Sep 15 2018 at 15:00)</a>:</h4>
<p>And we really need all of this to define pi?</p>

<a name="134015436"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134015436" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134015436">Johan Commelin (Sep 15 2018 at 15:01)</a>:</h4>
<p>Well, we will need this stuff anyway</p>

<a name="134015498"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134015498" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134015498">Johan Commelin (Sep 15 2018 at 15:03)</a>:</h4>
<p>I'm going to create a <code>power_series.lean</code> on CoCalc</p>

<a name="134015586"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134015586" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134015586">Johannes Hölzl (Sep 15 2018 at 15:05)</a>:</h4>
<p>In Isabelle:<br>
<code>pi = 2 * (THE x. 0 ≤ x ∧ x ≤ 2 ∧ cos x = 0)</code> <br>
and then even more algebric facts about <code>cos</code> and <code>sin</code></p>

<a name="134015647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134015647" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134015647">Johan Commelin (Sep 15 2018 at 15:06)</a>:</h4>
<p>Right, but I guess there is a hidden proof that such <code>x</code> exists, not?</p>

<a name="134015653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134015653" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134015653">Johannes Hölzl (Sep 15 2018 at 15:06)</a>:</h4>
<p>of course</p>

<a name="134015655"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134015655" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134015655">Johannes Hölzl (Sep 15 2018 at 15:06)</a>:</h4>
<p><code>cos_is_zero: "∃!x::real. 0 ≤ x ∧ x ≤ 2 ∧ cos x = 0"</code></p>

<a name="134015666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134015666" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134015666">Johannes Hölzl (Sep 15 2018 at 15:07)</a>:</h4>
<p>it uses IVT</p>

<a name="134015678"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134015678" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134015678">Johan Commelin (Sep 15 2018 at 15:07)</a>:</h4>
<p>Right, so we need continuity</p>

<a name="134015726"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134015726" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134015726">Johannes Hölzl (Sep 15 2018 at 15:08)</a>:</h4>
<p>it also uses derivative of <code>cos</code> and that <code>sin 2 &gt; 0</code></p>

<a name="134015749"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134015749" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134015749">Johan Commelin (Sep 15 2018 at 15:09)</a>:</h4>
<p>Ok</p>

<a name="134021725"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134021725" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134021725">Chris Hughes (Sep 15 2018 at 18:19)</a>:</h4>
<p>I just pushed a load of stuff to the <code>exp</code> branch of community mathlib. It's about as far as I can go without continuity of <code>exp</code> and I'm not sure what the best approach for that is.</p>

<a name="134023255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134023255" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134023255">Mario Carneiro (Sep 15 2018 at 19:17)</a>:</h4>
<p><span class="user-mention" data-user-id="110044">@Chris Hughes</span> In metamath we used a very low brow approach to exp (it comes before analysis), which I think worked quite well.</p>
<ul>
<li>I assume you already have things like the addition formula and other algebraic stuff on sin and cos.</li>
<li><code>exp</code> is continuous iff it is continuous at each point. By facts about multiplying functions continuous at a point, you can show that it suffices to prove <code>exp</code> is continuous at zero.</li>
<li><code>1 + x &lt;= exp x</code> for positive <code>x</code> by taking away the rest of the summands; <code>exp x &lt;= 1/(1-x)</code> by comparing the infinite series of these two. Thus <code>exp</code> is continuous and even differentiable at zero by the sandwich lemma.</li>
<li>It follows from basic topological ring action that <code>sin</code> is continuous.</li>
<li><code>pi</code> is the infimum of the positive zeros of the <code>sin</code> function. We need to show this is well defined and a zero of the sin function.</li>
<li>Suppose <code>a</code> is a zero of <code>sin</code> in the range <code>(2,4)</code>, and <code>b</code> is a positive zero of sin. Show that if <code>pi &lt; a</code> then <code>(pi + a) / 2 &lt;= b</code>, because <code>2*a - b</code> is also a zero of <code>sin</code>.</li>
<li>By the intermediate value theorem applied to <code>sin</code>, and <code>sin 2 &gt; 0</code> and <code>sin 4 &lt; 0</code>, there is a zero <code>a</code> in this range, and <code>pi</code> exists. if <code>pi &lt; a</code>, then <code>(pi + a) / 2 &lt;= pi</code> by the above lemma, since <code>pi</code> is the infimum of all positive roots of sin. Thus <code>a &lt;= pi</code> and thus <code>pi</code> is the unique zero of sin in this range.</li>
</ul>

<a name="134023510"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134023510" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134023510">Chris Hughes (Sep 15 2018 at 19:27)</a>:</h4>
<p>Can you point me to the sandwich lemma, and the facts about multiplying functions continuous at points? I've never touched anything in the analysis folder before now.</p>

<a name="134023552"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134023552" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134023552">Mario Carneiro (Sep 15 2018 at 19:28)</a>:</h4>
<p>For the bounds:</p>
<ul>
<li><code>sin 4 = 2 * sin 2 * cos 2</code> is negative because <code>sin 2</code> is positive and <code>cos 2</code> is negative</li>
<li><code>-7/9 &lt; cos 2 &lt; -1/9</code> because <code>cos 2 = 2 * (cos 1)^2 - 1</code> and <code>1/3 &lt; cos 1 &lt; 2/3</code></li>
<li><code>sin (2*x)</code> is positive for all <code>0&lt;x&lt;=1</code> because <code>sin x</code> and <code>cos x</code> are</li>
<li><code>x - x^3/3 &lt; sin x &lt; x</code> and <code>1 - 2/3 * x^2 &lt; cos x &lt; 1 - x^2/3</code> on <code>(0, 1]</code> by infinite series bounds</li>
</ul>

<a name="134023609"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134023609" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134023609">Mario Carneiro (Sep 15 2018 at 19:30)</a>:</h4>
<p>I'm not sure we have it, but it should be easy to show over the reals (or whatever generalization best encompasses the reals)</p>

<a name="134023667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134023667" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134023667">Mario Carneiro (Sep 15 2018 at 19:33)</a>:</h4>
<p>By the way, metamath used to have a direct proof before analysis was developed, but now continuity of exp follows from differentiability, and continuity uses various topological notions and proofs. I think the definition of <code>exp</code> can be in <code>data.{real,complex}.basic</code>, but <code>pi</code> and other facts that depend on continuity should go in the topological part, at <code>analysis.{real,complex}</code></p>

<a name="134023818"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134023818" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134023818">Chris Hughes (Sep 15 2018 at 19:39)</a>:</h4>
<p>Where are the relevant theorems in the lean library? Do we have IVT?</p>

<a name="134023917"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134023917" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134023917">Mario Carneiro (Sep 15 2018 at 19:42)</a>:</h4>
<p>I don't think we do. I would want to just prove it over the reals for now</p>

<a name="134024102"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134024102" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134024102">Chris Hughes (Sep 15 2018 at 19:49)</a>:</h4>
<p>How do I state continuous at a point?</p>

<a name="134024208"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134024208" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134024208">Mario Carneiro (Sep 15 2018 at 19:52)</a>:</h4>
<p>In topology, <code>f : X -&gt; Y</code> is continuous at <code>x</code> if <code>tendsto f (nhds x) (nhds (f x))</code></p>

<a name="134024352"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134024352" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134024352">Chris Hughes (Sep 15 2018 at 19:57)</a>:</h4>
<p>And what are the lemmas that let me prove that it's continuous everywhere if it's continuous at 0?</p>

<a name="134024397"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134024397" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134024397">Chris Hughes (Sep 15 2018 at 19:59)</a>:</h4>
<p>I'm not even sure why that's true.</p>

<a name="134024517"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134024517" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134024517">Patrick Massot (Sep 15 2018 at 20:02)</a>:</h4>
<p>I think I already answered that earlier today</p>

<a name="134024523"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134024523" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134024523">Chris Hughes (Sep 15 2018 at 20:02)</a>:</h4>
<p>I think I've worked out vaguely why it's true in maths, but not in lean.</p>

<a name="134024526"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134024526" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134024526">Patrick Massot (Sep 15 2018 at 20:02)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/blob/completions/analysis/topology/topological_structures.lean#L289" target="_blank" title="https://github.com/leanprover-community/mathlib/blob/completions/analysis/topology/topological_structures.lean#L289">https://github.com/leanprover-community/mathlib/blob/completions/analysis/topology/topological_structures.lean#L289</a></p>

<a name="134024575"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134024575" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134024575">Patrick Massot (Sep 15 2018 at 20:04)</a>:</h4>
<p>Importing that and apply it to reals prove that <code>tendsto f (nhds x) (nhds (f x))</code> iff <code>tendsto (lambda h, f (x+h)) (nhds 0) (nhds (f x))</code></p>

<a name="134024581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134024581" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134024581">Mario Carneiro (Sep 15 2018 at 20:04)</a>:</h4>
<p>this is a consequence of <code>(\lam x, x + h)</code> being a homeo</p>

<a name="134024583"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134024583" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134024583">Patrick Massot (Sep 15 2018 at 20:04)</a>:</h4>
<p>In case of exp you can rewrite f (x+h) as exp(x)*exp(h), use exp(x) converges (it's constant) and the result at zero</p>

<a name="134024634"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134024634" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134024634">Chris Hughes (Sep 15 2018 at 20:06)</a>:</h4>
<p>Is this the correct statement of <code>exp</code> is continuous at x = 0 </p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">continuous_exp</span> <span class="o">:</span> <span class="n">tendsto</span> <span class="n">exp</span> <span class="o">(</span><span class="n">nhds</span> <span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">nhds</span> <span class="mi">1</span><span class="o">)</span>
</pre></div>

<a name="134024638"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134024638" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134024638">Mario Carneiro (Sep 15 2018 at 20:06)</a>:</h4>
<p>yes, hopefully you know <code>exp 0 = 1</code> already by algebraic stuff</p>

<a name="134024640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134024640" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134024640">Patrick Massot (Sep 15 2018 at 20:06)</a>:</h4>
<p>The name is bad, but the statement is ok</p>

<a name="134024646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134024646" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134024646">Patrick Massot (Sep 15 2018 at 20:07)</a>:</h4>
<p>assuming you know exp 0</p>

<a name="134024648"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134024648" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134024648">Mario Carneiro (Sep 15 2018 at 20:07)</a>:</h4>
<p>that's true, it should say <code>tendsto_exp_zero</code> or something</p>

<a name="134024700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134024700" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134024700">Patrick Massot (Sep 15 2018 at 20:09)</a>:</h4>
<p>We should probably prove the lemma for general homomorphisms between topological group (continuity at zero implies continuity)</p>

<a name="134024770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134024770" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134024770">Chris Hughes (Sep 15 2018 at 20:12)</a>:</h4>
<p>And this only works for <code>real.exp</code> right?</p>

<a name="134024810"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134024810" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134024810">Patrick Massot (Sep 15 2018 at 20:12)</a>:</h4>
<p>Why?</p>

<a name="134024811"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134024811" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134024811">Patrick Massot (Sep 15 2018 at 20:12)</a>:</h4>
<p>Didn't you prove the addition formula for complex numbers?</p>

<a name="134024860"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134024860" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134024860">Chris Hughes (Sep 15 2018 at 20:14)</a>:</h4>
<p>Yes, but <code>tendsto_of_tendsto_of_tendsto_of_le_of_le</code> requires a partial order on complexes, unless I'm doing something wrong.</p>

<a name="134024868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134024868" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134024868">Patrick Massot (Sep 15 2018 at 20:15)</a>:</h4>
<p>Oh, I meant that continuity at zero in C implies continuity everywhere</p>

<a name="134024869"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134024869" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134024869">Mario Carneiro (Sep 15 2018 at 20:15)</a>:</h4>
<p>The metamath comment says that the key step is <code>abs (exp x - x - 1) &lt;= (abs x) ^ 2 * 3/4</code></p>

<a name="134024871"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134024871" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134024871">Patrick Massot (Sep 15 2018 at 20:15)</a>:</h4>
<p>But Mario's idea to prove continuity at zero works in R</p>

<a name="134024882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134024882" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134024882">Patrick Massot (Sep 15 2018 at 20:15)</a>:</h4>
<p>but he seems to have a new idea</p>

<a name="134024883"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134024883" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134024883">Mario Carneiro (Sep 15 2018 at 20:15)</a>:</h4>
<p>this bound works on complexes too</p>

<a name="134024925"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134024925" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134024925">Mario Carneiro (Sep 15 2018 at 20:16)</a>:</h4>
<p>it is a special case of the tail bound on exp</p>

<a name="134024939"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134024939" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134024939">Mario Carneiro (Sep 15 2018 at 20:17)</a>:</h4>
<p><code>abs (sum k = m,...,infty (x ^ n / n!)) &lt;= (abs a)^m * ((m + 1) / (m! * m))</code></p>

<a name="134024982"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134024982" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134024982">Mario Carneiro (Sep 15 2018 at 20:18)</a>:</h4>
<p>when <code>abs x &lt;= 1</code></p>

<a name="134024988"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134024988" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134024988">Patrick Massot (Sep 15 2018 at 20:19)</a>:</h4>
<p>I need to go, sorry</p>

<a name="134024991"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134024991" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134024991">Chris Hughes (Sep 15 2018 at 20:19)</a>:</h4>
<p>How does the bound work on the complexes when they don't have linear order? What's the correct statement? <code>abs ∘ exp</code> is continuous doesn't seem like enough to prove <code>exp</code> is continuous. Bear in mind I know very little about analysis.</p>

<a name="134025095"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134025095" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134025095">Chris Hughes (Sep 15 2018 at 20:22)</a>:</h4>
<p>If I manage to turn my goal into something in terms of functions I recognize, I;m sure I'll be fine, but I just need to work out how to get from <code>nhds</code> to something I recognize.</p>

<a name="134025197"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134025197" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134025197">Kenny Lau (Sep 15 2018 at 20:26)</a>:</h4>
<p>you should go revise M1P1 :P</p>

<a name="134025204"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134025204" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134025204">Chris Hughes (Sep 15 2018 at 20:26)</a>:</h4>
<p>That doesn't mention anything to do with complex numbers.</p>

<a name="134025251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134025251" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134025251">Mario Carneiro (Sep 15 2018 at 20:28)</a>:</h4>
<p>The statement <code>abs (exp x - x - 1) &lt;= (abs x) ^ 2 * 3/4</code> is enough to prove that <code>exp</code> is differentiable at 0</p>

<a name="134025253"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134025253" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134025253">Mario Carneiro (Sep 15 2018 at 20:28)</a>:</h4>
<p>here <code>x</code> is a complex number</p>

<a name="134025255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134025255" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134025255">Chris Hughes (Sep 15 2018 at 20:28)</a>:</h4>
<p>I could probably manage that.</p>

<a name="134025261"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134025261" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134025261">Chris Hughes (Sep 15 2018 at 20:29)</a>:</h4>
<p>You'll have to help me turn that into anything about continuity.</p>

<a name="134025263"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134025263" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134025263">Mario Carneiro (Sep 15 2018 at 20:29)</a>:</h4>
<p>For continuity you could probably just do the zeroth order tail bound, which is <code>abs (exp x - 1) &lt;= (abs x) * 2</code></p>

<a name="134025306"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134025306" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134025306">Kenny Lau (Sep 15 2018 at 20:30)</a>:</h4>
<p>is it realistic to develop a general theory of complex power series?</p>

<a name="134025308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134025308" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134025308">Mario Carneiro (Sep 15 2018 at 20:30)</a>:</h4>
<p>maybe, but I'd prefer to defer it</p>

<a name="134088538"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134088538" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134088538">Patrick Massot (Sep 17 2018 at 08:50)</a>:</h4>
<p><span class="user-mention" data-user-id="110044">@Chris Hughes</span> are you currently working on exp?</p>

<a name="134088612"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134088612" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134088612">Chris Hughes (Sep 17 2018 at 08:52)</a>:</h4>
<p>No, and I am doing other things today. I might work on it tomorrow.</p>

<a name="134117371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134117371" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134117371">Chris Hughes (Sep 17 2018 at 18:12)</a>:</h4>
<p>I made some progress. I proved IVT, though I'm not sure if there is some clever simple proof.</p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">IVT</span> <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">}</span> <span class="o">(</span><span class="n">hf</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">f</span><span class="o">)</span> <span class="o">{</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">}</span> <span class="o">(</span><span class="n">hx</span> <span class="o">:</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">≤</span> <span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">hy</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">≤</span> <span class="n">f</span> <span class="n">y</span><span class="o">)</span>
  <span class="o">(</span><span class="n">hxy</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">y</span><span class="o">)</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">z</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">z</span> <span class="bp">∧</span> <span class="n">z</span> <span class="bp">≤</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">f</span> <span class="n">z</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="k">let</span> <span class="n">z</span> <span class="o">:=</span> <span class="n">Sup</span> <span class="o">{</span><span class="n">a</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">a</span> <span class="bp">≤</span> <span class="mi">0</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">a</span> <span class="bp">∧</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">y</span><span class="o">}</span> <span class="k">in</span>
<span class="k">have</span> <span class="n">hz₁</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">a</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">g</span> <span class="err">∈</span> <span class="o">{</span><span class="n">a</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">a</span> <span class="bp">≤</span> <span class="mi">0</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">a</span> <span class="bp">∧</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">y</span><span class="o">},</span> <span class="n">g</span> <span class="bp">≤</span> <span class="n">a</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="n">y</span><span class="o">,</span> <span class="bp">λ</span> <span class="bp">_</span> <span class="n">h</span><span class="o">,</span> <span class="n">h</span><span class="bp">.</span><span class="mi">2</span><span class="bp">.</span><span class="mi">2</span><span class="bp">⟩</span><span class="o">,</span>
<span class="k">have</span> <span class="n">hz₂</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">a</span><span class="o">,</span> <span class="n">a</span> <span class="err">∈</span> <span class="o">{</span><span class="n">a</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">a</span> <span class="bp">≤</span> <span class="mi">0</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">a</span> <span class="bp">∧</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">y</span><span class="o">}</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="n">x</span><span class="o">,</span> <span class="n">hx</span><span class="o">,</span> <span class="n">le_refl</span> <span class="bp">_</span><span class="o">,</span> <span class="n">hxy</span><span class="bp">⟩</span><span class="o">,</span>
<span class="bp">⟨</span><span class="n">z</span><span class="o">,</span> <span class="n">le_Sup</span> <span class="bp">_</span> <span class="n">hz₁</span> <span class="bp">⟨</span><span class="n">hx</span><span class="o">,</span> <span class="n">le_refl</span> <span class="bp">_</span><span class="o">,</span> <span class="n">hxy</span><span class="bp">⟩</span><span class="o">,</span>
  <span class="o">(</span><span class="n">Sup_le</span> <span class="o">{</span><span class="n">a</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">a</span> <span class="bp">≤</span> <span class="mi">0</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">a</span> <span class="bp">∧</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">y</span><span class="o">}</span> <span class="n">hz₂</span> <span class="n">hz₁</span><span class="o">)</span><span class="bp">.</span><span class="mi">2</span> <span class="o">(</span><span class="bp">λ</span> <span class="bp">_</span> <span class="n">h</span><span class="o">,</span> <span class="n">h</span><span class="bp">.</span><span class="mi">2</span><span class="bp">.</span><span class="mi">2</span><span class="o">),</span>
  <span class="n">eq_of_forall_dist_le</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">ε</span> <span class="n">ε0</span><span class="o">,</span>
    <span class="k">let</span> <span class="bp">⟨</span><span class="n">δ</span><span class="o">,</span> <span class="n">hδ0</span><span class="o">,</span> <span class="n">hδ</span><span class="bp">⟩</span> <span class="o">:=</span> <span class="n">tendsto_nhds_of_metric</span><span class="bp">.</span><span class="mi">1</span> <span class="o">(</span><span class="n">continuous_iff_tendsto</span><span class="bp">.</span><span class="mi">1</span> <span class="n">hf</span> <span class="n">z</span><span class="o">)</span> <span class="n">ε</span> <span class="n">ε0</span> <span class="k">in</span>
    <span class="o">(</span><span class="n">le_total</span> <span class="mi">0</span> <span class="o">(</span><span class="n">f</span> <span class="n">z</span><span class="o">))</span><span class="bp">.</span><span class="n">elim</span>
      <span class="o">(</span><span class="bp">λ</span> <span class="n">h</span><span class="o">,</span> <span class="n">le_of_not_gt</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">hfε</span><span class="o">,</span> <span class="k">begin</span>
        <span class="n">rw</span> <span class="o">[</span><span class="n">dist_0_eq_abs</span><span class="o">,</span> <span class="n">abs_of_nonneg</span> <span class="n">h</span><span class="o">]</span> <span class="n">at</span> <span class="n">hfε</span><span class="o">,</span>
        <span class="n">refine</span> <span class="n">mt</span> <span class="o">(</span><span class="n">Sup_le</span> <span class="o">{</span><span class="n">a</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">a</span> <span class="bp">≤</span> <span class="mi">0</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">a</span> <span class="bp">∧</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">y</span><span class="o">}</span> <span class="n">hz₂</span> <span class="n">hz₁</span><span class="o">)</span><span class="bp">.</span><span class="mi">2</span>
          <span class="o">(</span><span class="n">not_le_of_gt</span> <span class="o">(</span><span class="n">sub_lt_self</span> <span class="n">z</span> <span class="o">(</span><span class="n">half_pos</span> <span class="n">hδ0</span><span class="o">)))</span>
          <span class="o">(</span><span class="bp">λ</span> <span class="n">g</span> <span class="n">hg</span><span class="o">,</span> <span class="n">le_of_not_gt</span>
            <span class="o">(</span><span class="bp">λ</span> <span class="n">hgδ</span><span class="o">,</span> <span class="n">not_lt_of_ge</span> <span class="n">hg</span><span class="bp">.</span><span class="mi">1</span>
              <span class="o">(</span><span class="n">lt_trans</span> <span class="o">(</span><span class="n">sub_pos_of_lt</span> <span class="n">hfε</span><span class="o">)</span> <span class="o">(</span><span class="n">sub_lt_of_sub_lt</span>
                <span class="o">(</span><span class="n">lt_of_le_of_lt</span> <span class="o">(</span><span class="n">le_abs_self</span> <span class="bp">_</span><span class="o">)</span> <span class="bp">_</span><span class="o">))))),</span>
        <span class="n">rw</span> <span class="n">abs_sub</span><span class="o">,</span>
        <span class="n">exact</span> <span class="n">hδ</span> <span class="o">(</span><span class="n">abs_sub_lt_iff</span><span class="bp">.</span><span class="mi">2</span> <span class="bp">⟨</span><span class="n">lt_of_le_of_lt</span> <span class="o">(</span><span class="n">sub_nonpos</span><span class="bp">.</span><span class="mi">2</span> <span class="o">(</span><span class="n">le_Sup</span> <span class="bp">_</span> <span class="n">hz₁</span> <span class="n">hg</span><span class="o">))</span> <span class="n">hδ0</span><span class="o">,</span>
          <span class="k">by</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">z</span><span class="o">]</span> <span class="n">at</span> <span class="bp">*;</span> <span class="n">linarith</span><span class="bp">⟩</span><span class="o">)</span>
        <span class="kn">end</span><span class="o">)</span>
      <span class="o">(</span><span class="bp">λ</span> <span class="n">h</span><span class="o">,</span> <span class="n">le_of_not_gt</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">hfε</span><span class="o">,</span> <span class="k">begin</span>
        <span class="n">rw</span> <span class="o">[</span><span class="n">dist_0_eq_abs</span><span class="o">,</span> <span class="n">abs_of_nonpos</span> <span class="n">h</span><span class="o">]</span> <span class="n">at</span> <span class="n">hfε</span><span class="o">,</span>
        <span class="n">refine</span> <span class="n">mt</span> <span class="o">(</span><span class="n">le_Sup</span> <span class="o">{</span><span class="n">a</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">a</span> <span class="bp">≤</span> <span class="mi">0</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">a</span> <span class="bp">∧</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">y</span><span class="o">})</span>
          <span class="o">(</span><span class="bp">λ</span> <span class="n">h</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">k</span><span class="o">,</span> <span class="n">k</span> <span class="err">∈</span> <span class="o">{</span><span class="n">a</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">a</span> <span class="bp">≤</span> <span class="mi">0</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">a</span> <span class="bp">∧</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">y</span><span class="o">}</span> <span class="bp">→</span> <span class="n">k</span> <span class="bp">≤</span> <span class="n">z</span><span class="o">,</span>
            <span class="n">not_le_of_gt</span> <span class="o">((</span><span class="n">lt_add_iff_pos_left</span> <span class="n">z</span><span class="o">)</span><span class="bp">.</span><span class="mi">2</span> <span class="o">(</span><span class="n">half_pos</span> <span class="n">hδ0</span><span class="o">))</span>
              <span class="o">(</span><span class="n">h</span> <span class="bp">_</span> <span class="bp">⟨</span><span class="n">le_trans</span> <span class="o">(</span><span class="n">le_sub_iff_add_le</span><span class="bp">.</span><span class="mi">2</span> <span class="o">(</span><span class="n">le_trans</span> <span class="o">(</span><span class="n">le_abs_self</span> <span class="bp">_</span><span class="o">)</span>
                    <span class="o">(</span><span class="n">le_of_lt</span> <span class="o">(</span><span class="n">hδ</span> <span class="err">$</span> <span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">dist_eq</span><span class="o">,</span> <span class="n">add_sub_cancel</span><span class="o">,</span> <span class="n">abs_of_nonneg</span> <span class="o">(</span><span class="n">le_of_lt</span> <span class="o">(</span><span class="n">half_pos</span> <span class="n">hδ0</span><span class="o">))]</span><span class="bp">;</span>
                      <span class="n">exact</span> <span class="n">half_lt_self</span> <span class="n">hδ0</span><span class="o">))))</span>
                  <span class="o">(</span><span class="n">le_of_lt</span> <span class="o">(</span><span class="n">sub_neg_of_lt</span> <span class="n">hfε</span><span class="o">)),</span>
                <span class="n">le_trans</span> <span class="o">(</span><span class="n">le_Sup</span> <span class="bp">_</span> <span class="n">hz₁</span> <span class="bp">⟨</span><span class="n">hx</span><span class="o">,</span> <span class="n">le_refl</span> <span class="bp">_</span><span class="o">,</span> <span class="n">hxy</span><span class="bp">⟩</span><span class="o">)</span> <span class="o">(</span><span class="n">le_of_lt</span> <span class="o">((</span><span class="n">lt_add_iff_pos_left</span> <span class="bp">_</span><span class="o">)</span><span class="bp">.</span><span class="mi">2</span> <span class="o">(</span><span class="n">half_pos</span> <span class="n">hδ0</span><span class="o">))),</span>
                <span class="n">le_of_not_gt</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">hδy</span><span class="o">,</span> <span class="n">not_lt_of_ge</span> <span class="n">hy</span> <span class="o">(</span><span class="n">lt_of_le_of_lt</span> <span class="o">(</span><span class="k">show</span> <span class="n">f</span> <span class="n">y</span> <span class="bp">≤</span> <span class="n">f</span> <span class="n">y</span> <span class="bp">-</span> <span class="n">f</span> <span class="n">z</span> <span class="bp">-</span> <span class="n">ε</span><span class="o">,</span> <span class="k">by</span> <span class="n">linarith</span><span class="o">)</span>
                  <span class="o">(</span><span class="n">sub_neg_of_lt</span> <span class="o">(</span><span class="n">lt_of_le_of_lt</span> <span class="o">(</span><span class="n">le_abs_self</span> <span class="bp">_</span><span class="o">)</span>
                    <span class="o">(</span><span class="bp">@</span><span class="n">hδ</span> <span class="n">y</span> <span class="o">(</span><span class="n">abs_sub_lt_iff</span><span class="bp">.</span><span class="mi">2</span> <span class="bp">⟨</span><span class="k">by</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">z</span><span class="o">]</span> <span class="n">at</span> <span class="bp">*;</span> <span class="n">linarith</span><span class="o">,</span>
                      <span class="n">sub_lt_iff_lt_add</span><span class="bp">.</span><span class="mi">2</span> <span class="o">(</span><span class="k">by</span> <span class="n">rw</span> <span class="n">add_comm</span><span class="bp">;</span> <span class="n">exact</span> <span class="n">lt_add_of_le_of_pos</span>
                        <span class="o">((</span><span class="n">Sup_le</span> <span class="bp">_</span> <span class="n">hz₂</span> <span class="n">hz₁</span><span class="o">)</span><span class="bp">.</span><span class="mi">2</span> <span class="o">(</span><span class="bp">λ</span> <span class="bp">_</span> <span class="n">h</span><span class="o">,</span> <span class="n">h</span><span class="bp">.</span><span class="mi">2</span><span class="bp">.</span><span class="mi">2</span><span class="o">))</span> <span class="n">hδ0</span><span class="o">)</span><span class="bp">⟩</span><span class="o">))))))</span><span class="bp">⟩</span><span class="o">))</span> <span class="n">hz₁</span>
        <span class="kn">end</span><span class="o">)</span><span class="bp">⟩</span>
</pre></div>

<a name="134117436"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134117436" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134117436">Johan Commelin (Sep 17 2018 at 18:13)</a>:</h4>
<p>Well done!</p>

<a name="134117495"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134117495" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134117495">Johan Commelin (Sep 17 2018 at 18:14)</a>:</h4>
<p><span class="user-mention" data-user-id="110044">@Chris Hughes</span> I guess you could quite easily change the <code>0</code>s in the statement into a parameter, right?</p>

<a name="134117550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134117550" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134117550">Johan Commelin (Sep 17 2018 at 18:15)</a>:</h4>
<p>Hmm, but you are use <code>half_pos</code> and things like that.</p>

<a name="134117558"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134117558" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134117558">Johan Commelin (Sep 17 2018 at 18:15)</a>:</h4>
<p>So maybe you should just leave this like it is.</p>

<a name="134117956"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134117956" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134117956">Chris Hughes (Sep 17 2018 at 18:22)</a>:</h4>
<p>I can deduce the general statement from this quite easily I imagine.</p>

<a name="134117967"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134117967" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134117967">Johan Commelin (Sep 17 2018 at 18:22)</a>:</h4>
<p>Yes, agreed.</p>

<a name="134117976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134117976" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134117976">Chris Hughes (Sep 17 2018 at 18:22)</a>:</h4>
<p>The more important generalisation is that it only needs to be continuous on the interval.</p>

<a name="134118217"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134118217" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134118217">Kenny Lau (Sep 17 2018 at 18:26)</a>:</h4>
<p><span class="user-mention" data-user-id="110044">@Chris Hughes</span> how much topology do you know?</p>

<a name="134118244"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134118244" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134118244">Chris Hughes (Sep 17 2018 at 18:27)</a>:</h4>
<p>More or less none.</p>

<a name="134118305"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134118305" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134118305">Kenny Lau (Sep 17 2018 at 18:28)</a>:</h4>
<p>if x&lt;y and f(x)&lt;0 and f(y)&gt;0, then {t | f(t) &lt; 0} and {t | f(t) &gt; 0} are two disjoint open subsets of [x,y]. Since [x,y] is connected, the union of those two sets can't be the entirety of [x,y], so there must be something not belonging to those two sets, i.e. t such that f(t) = 0</p>

<a name="134118524"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134118524" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134118524">Johan Commelin (Sep 17 2018 at 18:32)</a>:</h4>
<p>Do we know that intervals are connected?</p>

<a name="134118620"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134118620" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134118620">Johan Commelin (Sep 17 2018 at 18:32)</a>:</h4>
<p>Does Lean even know what an interval is?</p>

<a name="134118624"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134118624" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134118624">Reid Barton (Sep 17 2018 at 18:32)</a>:</h4>
<p>I don't think we have connectedness yet</p>

<a name="134118642"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134118642" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134118642">Reid Barton (Sep 17 2018 at 18:33)</a>:</h4>
<p>We do have intervals though and Lean knows closed ones are compact</p>

<a name="134118740"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134118740" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134118740">Reid Barton (Sep 17 2018 at 18:34)</a>:</h4>
<p>Basically it's a similar proof to the one above I think, except the set {a | f a &lt;= 0 ...} is now called U</p>

<a name="134118868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134118868" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134118868">Kenny Lau (Sep 17 2018 at 18:36)</a>:</h4>
<p>right, we know they're compact but not that they're connected...?</p>

<a name="134119204"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134119204" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134119204">Mario Carneiro (Sep 17 2018 at 18:42)</a>:</h4>
<p>right, the meat of this proof is showing that R is connected</p>

<a name="134119343"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134119343" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134119343">Mario Carneiro (Sep 17 2018 at 18:44)</a>:</h4>
<p>I think you can pretty trivially generalize the assumption to <code>∀ x, a &lt; x → x &lt; b → tendsto f (nhds x) (nhds (f x))</code></p>

<a name="134119442"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134119442" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134119442">Mario Carneiro (Sep 17 2018 at 18:46)</a>:</h4>
<p>If you prefer, you can prove the version assuming <code>continuous f</code> as a corollary</p>

<a name="134119455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134119455" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134119455">Mario Carneiro (Sep 17 2018 at 18:46)</a>:</h4>
<p>other than that, I think this is fine for the first cut</p>

<a name="134120625"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134120625" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134120625">Chris Hughes (Sep 17 2018 at 19:07)</a>:</h4>
<p>I almost generalized it to <code>∀ x, a &lt; x → x &lt; b → tendsto f (nhds x) (nhds (f x))</code>. I have <code>lt</code> instead of <code>le</code>. Generalizing it to <code>lt</code> seems to add quite a bit of complication.</p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">IVT</span> <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">}</span> <span class="o">{</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">}</span>
  <span class="o">(</span><span class="n">hf</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">a</span><span class="o">,</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">a</span> <span class="bp">→</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">y</span> <span class="bp">→</span> <span class="n">tendsto</span> <span class="n">f</span> <span class="o">(</span><span class="n">nhds</span> <span class="n">a</span><span class="o">)</span> <span class="o">(</span><span class="n">nhds</span> <span class="o">(</span><span class="n">f</span> <span class="n">a</span><span class="o">)))</span> <span class="o">(</span><span class="n">hx</span> <span class="o">:</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">≤</span> <span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">hy</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">≤</span> <span class="n">f</span> <span class="n">y</span><span class="o">)</span>
  <span class="o">(</span><span class="n">hxy</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">y</span><span class="o">)</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">z</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">z</span> <span class="bp">∧</span> <span class="n">z</span> <span class="bp">≤</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">f</span> <span class="n">z</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="k">let</span> <span class="n">z</span> <span class="o">:=</span> <span class="n">Sup</span> <span class="o">{</span><span class="n">a</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">a</span> <span class="bp">≤</span> <span class="mi">0</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">a</span> <span class="bp">∧</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">y</span><span class="o">}</span> <span class="k">in</span>
<span class="k">have</span> <span class="n">hz₁</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">a</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">g</span> <span class="err">∈</span> <span class="o">{</span><span class="n">a</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">a</span> <span class="bp">≤</span> <span class="mi">0</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">a</span> <span class="bp">∧</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">y</span><span class="o">},</span> <span class="n">g</span> <span class="bp">≤</span> <span class="n">a</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="n">y</span><span class="o">,</span> <span class="bp">λ</span> <span class="bp">_</span> <span class="n">h</span><span class="o">,</span> <span class="n">h</span><span class="bp">.</span><span class="mi">2</span><span class="bp">.</span><span class="mi">2</span><span class="bp">⟩</span><span class="o">,</span>
<span class="k">have</span> <span class="n">hz₂</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">a</span><span class="o">,</span> <span class="n">a</span> <span class="err">∈</span> <span class="o">{</span><span class="n">a</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">a</span> <span class="bp">≤</span> <span class="mi">0</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">a</span> <span class="bp">∧</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">y</span><span class="o">}</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="n">x</span><span class="o">,</span> <span class="n">hx</span><span class="o">,</span> <span class="n">le_refl</span> <span class="bp">_</span><span class="o">,</span> <span class="n">hxy</span><span class="bp">⟩</span><span class="o">,</span>
<span class="k">have</span> <span class="n">hxz</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">z</span><span class="o">,</span> <span class="k">from</span> <span class="n">le_Sup</span> <span class="bp">_</span> <span class="n">hz₁</span> <span class="bp">⟨</span><span class="n">hx</span><span class="o">,</span> <span class="n">le_refl</span> <span class="bp">_</span><span class="o">,</span> <span class="n">hxy</span><span class="bp">⟩</span><span class="o">,</span>
<span class="k">have</span> <span class="n">hzy</span> <span class="o">:</span> <span class="n">z</span> <span class="bp">≤</span> <span class="n">y</span><span class="o">,</span> <span class="k">from</span> <span class="o">(</span><span class="n">Sup_le</span> <span class="bp">_</span> <span class="n">hz₂</span> <span class="n">hz₁</span><span class="o">)</span><span class="bp">.</span><span class="mi">2</span> <span class="o">(</span><span class="bp">λ</span> <span class="bp">_</span> <span class="n">h</span><span class="o">,</span> <span class="n">h</span><span class="bp">.</span><span class="mi">2</span><span class="bp">.</span><span class="mi">2</span><span class="o">),</span>
<span class="bp">⟨</span><span class="n">z</span><span class="o">,</span> <span class="n">hxz</span><span class="o">,</span> <span class="n">hzy</span><span class="o">,</span>
  <span class="n">eq_of_forall_dist_le</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">ε</span> <span class="n">ε0</span><span class="o">,</span>
    <span class="k">let</span> <span class="bp">⟨</span><span class="n">δ</span><span class="o">,</span> <span class="n">hδ0</span><span class="o">,</span> <span class="n">hδ</span><span class="bp">⟩</span> <span class="o">:=</span> <span class="n">tendsto_nhds_of_metric</span><span class="bp">.</span><span class="mi">1</span> <span class="o">(</span><span class="n">hf</span> <span class="bp">_</span> <span class="n">hxz</span> <span class="n">hzy</span><span class="o">)</span> <span class="n">ε</span> <span class="n">ε0</span> <span class="k">in</span>
    <span class="o">(</span><span class="n">le_total</span> <span class="mi">0</span> <span class="o">(</span><span class="n">f</span> <span class="n">z</span><span class="o">))</span><span class="bp">.</span><span class="n">elim</span>
      <span class="o">(</span><span class="bp">λ</span> <span class="n">h</span><span class="o">,</span> <span class="n">le_of_not_gt</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">hfε</span><span class="o">,</span> <span class="k">begin</span>
        <span class="n">rw</span> <span class="o">[</span><span class="n">dist_0_eq_abs</span><span class="o">,</span> <span class="n">abs_of_nonneg</span> <span class="n">h</span><span class="o">]</span> <span class="n">at</span> <span class="n">hfε</span><span class="o">,</span>
        <span class="n">refine</span> <span class="n">mt</span> <span class="o">(</span><span class="n">Sup_le</span> <span class="o">{</span><span class="n">a</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">a</span> <span class="bp">≤</span> <span class="mi">0</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">a</span> <span class="bp">∧</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">y</span><span class="o">}</span> <span class="n">hz₂</span> <span class="n">hz₁</span><span class="o">)</span><span class="bp">.</span><span class="mi">2</span>
          <span class="o">(</span><span class="n">not_le_of_gt</span> <span class="o">(</span><span class="n">sub_lt_self</span> <span class="n">z</span> <span class="o">(</span><span class="n">half_pos</span> <span class="n">hδ0</span><span class="o">)))</span>
          <span class="o">(</span><span class="bp">λ</span> <span class="n">g</span> <span class="n">hg</span><span class="o">,</span> <span class="n">le_of_not_gt</span>
            <span class="o">(</span><span class="bp">λ</span> <span class="n">hgδ</span><span class="o">,</span> <span class="n">not_lt_of_ge</span> <span class="n">hg</span><span class="bp">.</span><span class="mi">1</span>
              <span class="o">(</span><span class="n">lt_trans</span> <span class="o">(</span><span class="n">sub_pos_of_lt</span> <span class="n">hfε</span><span class="o">)</span> <span class="o">(</span><span class="n">sub_lt_of_sub_lt</span>
                <span class="o">(</span><span class="n">lt_of_le_of_lt</span> <span class="o">(</span><span class="n">le_abs_self</span> <span class="bp">_</span><span class="o">)</span> <span class="bp">_</span><span class="o">))))),</span>
        <span class="n">rw</span> <span class="n">abs_sub</span><span class="o">,</span>
        <span class="n">exact</span> <span class="n">hδ</span> <span class="o">(</span><span class="n">abs_sub_lt_iff</span><span class="bp">.</span><span class="mi">2</span> <span class="bp">⟨</span><span class="n">lt_of_le_of_lt</span> <span class="o">(</span><span class="n">sub_nonpos</span><span class="bp">.</span><span class="mi">2</span> <span class="o">(</span><span class="n">le_Sup</span> <span class="bp">_</span> <span class="n">hz₁</span> <span class="n">hg</span><span class="o">))</span> <span class="n">hδ0</span><span class="o">,</span>
          <span class="k">by</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">z</span><span class="o">]</span> <span class="n">at</span> <span class="bp">*;</span> <span class="n">linarith</span><span class="bp">⟩</span><span class="o">)</span>
        <span class="kn">end</span><span class="o">)</span>
      <span class="o">(</span><span class="bp">λ</span> <span class="n">h</span><span class="o">,</span> <span class="n">le_of_not_gt</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">hfε</span><span class="o">,</span> <span class="k">begin</span>
        <span class="n">rw</span> <span class="o">[</span><span class="n">dist_0_eq_abs</span><span class="o">,</span> <span class="n">abs_of_nonpos</span> <span class="n">h</span><span class="o">]</span> <span class="n">at</span> <span class="n">hfε</span><span class="o">,</span>
        <span class="n">refine</span> <span class="n">mt</span> <span class="o">(</span><span class="n">le_Sup</span> <span class="o">{</span><span class="n">a</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">a</span> <span class="bp">≤</span> <span class="mi">0</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">a</span> <span class="bp">∧</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">y</span><span class="o">})</span>
          <span class="o">(</span><span class="bp">λ</span> <span class="n">h</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">k</span><span class="o">,</span> <span class="n">k</span> <span class="err">∈</span> <span class="o">{</span><span class="n">a</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">a</span> <span class="bp">≤</span> <span class="mi">0</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">a</span> <span class="bp">∧</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">y</span><span class="o">}</span> <span class="bp">→</span> <span class="n">k</span> <span class="bp">≤</span> <span class="n">z</span><span class="o">,</span>
            <span class="n">not_le_of_gt</span> <span class="o">((</span><span class="n">lt_add_iff_pos_left</span> <span class="n">z</span><span class="o">)</span><span class="bp">.</span><span class="mi">2</span> <span class="o">(</span><span class="n">half_pos</span> <span class="n">hδ0</span><span class="o">))</span>
              <span class="o">(</span><span class="n">h</span> <span class="bp">_</span> <span class="bp">⟨</span><span class="n">le_trans</span> <span class="o">(</span><span class="n">le_sub_iff_add_le</span><span class="bp">.</span><span class="mi">2</span> <span class="o">(</span><span class="n">le_trans</span> <span class="o">(</span><span class="n">le_abs_self</span> <span class="bp">_</span><span class="o">)</span>
                    <span class="o">(</span><span class="n">le_of_lt</span> <span class="o">(</span><span class="n">hδ</span> <span class="err">$</span> <span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">dist_eq</span><span class="o">,</span> <span class="n">add_sub_cancel</span><span class="o">,</span> <span class="n">abs_of_nonneg</span> <span class="o">(</span><span class="n">le_of_lt</span> <span class="o">(</span><span class="n">half_pos</span> <span class="n">hδ0</span><span class="o">))]</span><span class="bp">;</span>
                      <span class="n">exact</span> <span class="n">half_lt_self</span> <span class="n">hδ0</span><span class="o">))))</span>
                  <span class="o">(</span><span class="n">le_of_lt</span> <span class="o">(</span><span class="n">sub_neg_of_lt</span> <span class="n">hfε</span><span class="o">)),</span>
                <span class="n">le_trans</span> <span class="n">hxz</span> <span class="o">(</span><span class="n">le_of_lt</span> <span class="o">((</span><span class="n">lt_add_iff_pos_left</span> <span class="bp">_</span><span class="o">)</span><span class="bp">.</span><span class="mi">2</span> <span class="o">(</span><span class="n">half_pos</span> <span class="n">hδ0</span><span class="o">))),</span>
                <span class="n">le_of_not_gt</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">hδy</span><span class="o">,</span> <span class="n">not_lt_of_ge</span> <span class="n">hy</span> <span class="o">(</span><span class="n">lt_of_le_of_lt</span> <span class="o">(</span><span class="k">show</span> <span class="n">f</span> <span class="n">y</span> <span class="bp">≤</span> <span class="n">f</span> <span class="n">y</span> <span class="bp">-</span> <span class="n">f</span> <span class="n">z</span> <span class="bp">-</span> <span class="n">ε</span><span class="o">,</span> <span class="k">by</span> <span class="n">linarith</span><span class="o">)</span>
                  <span class="o">(</span><span class="n">sub_neg_of_lt</span> <span class="o">(</span><span class="n">lt_of_le_of_lt</span> <span class="o">(</span><span class="n">le_abs_self</span> <span class="bp">_</span><span class="o">)</span>
                    <span class="o">(</span><span class="bp">@</span><span class="n">hδ</span> <span class="n">y</span> <span class="o">(</span><span class="n">abs_sub_lt_iff</span><span class="bp">.</span><span class="mi">2</span> <span class="bp">⟨</span><span class="k">by</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">z</span><span class="o">]</span> <span class="n">at</span> <span class="bp">*;</span> <span class="n">linarith</span><span class="o">,</span>
                      <span class="n">sub_lt_iff_lt_add</span><span class="bp">.</span><span class="mi">2</span> <span class="o">(</span><span class="k">by</span> <span class="n">rw</span> <span class="n">add_comm</span><span class="bp">;</span> <span class="n">exact</span> <span class="n">lt_add_of_le_of_pos</span>
                        <span class="n">hzy</span> <span class="n">hδ0</span><span class="o">)</span><span class="bp">⟩</span><span class="o">))))))</span><span class="bp">⟩</span><span class="o">))</span> <span class="n">hz₁</span>
        <span class="kn">end</span><span class="o">)</span><span class="bp">⟩</span>
</pre></div>

<a name="134120816"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134120816" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134120816">Chris Hughes (Sep 17 2018 at 19:10)</a>:</h4>
<p>In fact generalizing to <code>lt</code> makes the statement false I think.</p>

<a name="134120937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134120937" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134120937">Johan Commelin (Sep 17 2018 at 19:12)</a>:</h4>
<p>Right, you need the closed interval.</p>

<a name="134121041"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134121041" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134121041">Mario Carneiro (Sep 17 2018 at 19:14)</a>:</h4>
<p>ah yes, you're right. In order to properly say "continuous on [a, b]" you would need <code>tendsto f (nhds a ⊓ principal (Icc a b)) (nhds (f a))</code></p>

<a name="134121162"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134121162" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134121162">Chris Hughes (Sep 17 2018 at 19:17)</a>:</h4>
<p>What does that mean, and how is it different from my assumption?</p>

<a name="134121414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134121414" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134121414">Chris Hughes (Sep 17 2018 at 19:22)</a>:</h4>
<p>Is it weaker or stronger than my assumption?</p>

<a name="134121530"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134121530" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134121530">Johan Commelin (Sep 17 2018 at 19:24)</a>:</h4>
<p><span class="user-mention" data-user-id="110044">@Chris Hughes</span> you know about left/right-continuity at a point?</p>

<a name="134121551"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134121551" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134121551">Mario Carneiro (Sep 17 2018 at 19:25)</a>:</h4>
<p>My predicate says that <code>f</code> restricted to <code>[a, b]</code> is continuous</p>

<a name="134121563"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134121563" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134121563">Mario Carneiro (Sep 17 2018 at 19:25)</a>:</h4>
<p>so it might have discontinuity at a or b from outside the interval</p>

<a name="134121604"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134121604" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134121604">Chris Hughes (Sep 17 2018 at 19:26)</a>:</h4>
<p>I see.</p>

<a name="134121609"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134121609" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134121609">Johan Commelin (Sep 17 2018 at 19:26)</a>:</h4>
<p>Eg: <code>f x = if x \in [a,b] then 0 else 1</code></p>

<a name="134121627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134121627" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134121627">Mario Carneiro (Sep 17 2018 at 19:26)</a>:</h4>
<p>But you should be able to extend any continuous function on [a,b] to one continuous in your sense anyway, so I wouldn't make a big deal about it</p>

<a name="134256188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134256188" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134256188">Chris Hughes (Sep 19 2018 at 17:26)</a>:</h4>
<p>I managed to prove this today. </p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">exp_continuous_aux</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℂ</span><span class="o">}</span> <span class="o">(</span><span class="n">hx</span> <span class="o">:</span> <span class="n">abs</span> <span class="n">x</span> <span class="bp">≤</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="n">exp</span> <span class="n">x</span> <span class="bp">-</span> <span class="n">x</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">abs</span> <span class="n">x</span> <span class="err">^</span> <span class="mi">2</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">5</span> <span class="bp">/</span> <span class="mi">6</span><span class="o">)</span> <span class="o">:=</span>
</pre></div>


<p>It's <code>5 / 6</code> instead of <code>3/4</code>, is that going to be a problem? I'm not sure where my extra <code>1/12</code> went</p>

<a name="134256238"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134256238" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134256238">Chris Hughes (Sep 19 2018 at 17:27)</a>:</h4>
<p>I suppose it depends on whether I can still prove the cos inequalities</p>

<a name="134256650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134256650" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134256650">Mario Carneiro (Sep 19 2018 at 17:35)</a>:</h4>
<p>that's weird, how did you prove it?</p>

<a name="134256727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134256727" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134256727">Mario Carneiro (Sep 19 2018 at 17:36)</a>:</h4>
<p>I don't think we need any particular bound for this part, that's enough for continuity of course</p>

<a name="134256880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134256880" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134256880">Chris Hughes (Sep 19 2018 at 17:39)</a>:</h4>
<p>This is my proof. I think the lost information is probably in the step<br>
<code>sum (range (j - 3)) (λ m, 1 / (m + 3).fact) ≤ sum (range (j - 3)) (λ m, 1 / 6 * (1 / 2) ^ m)</code></p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">exp_continuous_aux</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℂ</span><span class="o">}</span> <span class="o">(</span><span class="n">hx</span> <span class="o">:</span> <span class="n">abs</span> <span class="n">x</span> <span class="bp">≤</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="n">exp</span> <span class="n">x</span> <span class="bp">-</span> <span class="n">x</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">abs</span> <span class="n">x</span> <span class="err">^</span> <span class="mi">2</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">5</span> <span class="bp">/</span> <span class="mi">6</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">have</span> <span class="n">onesubhalf</span> <span class="o">:</span> <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">-</span> <span class="mi">1</span> <span class="bp">/</span> <span class="mi">2</span> <span class="bp">=</span> <span class="mi">1</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">,</span> <span class="k">by</span> <span class="n">norm_num</span><span class="o">,</span>
<span class="k">have</span> <span class="n">abshalf</span> <span class="o">:</span> <span class="n">abs</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">/</span> <span class="mi">2</span> <span class="o">:</span> <span class="n">ℂ</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">1</span> <span class="bp">/</span> <span class="mi">2</span> <span class="o">:=</span>
  <span class="k">calc</span> <span class="n">abs</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">/</span> <span class="mi">2</span> <span class="o">:</span> <span class="n">ℂ</span><span class="o">)</span> <span class="bp">=</span> <span class="n">abs</span> <span class="o">((</span><span class="mi">1</span> <span class="bp">/</span> <span class="mi">2</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span> <span class="n">ℂ</span><span class="o">)</span> <span class="o">:</span> <span class="n">congr_arg</span> <span class="n">abs</span> <span class="err">$</span> <span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">of_real_div</span><span class="o">,</span> <span class="n">of_real_bit0</span><span class="o">,</span> <span class="n">of_real_inv</span><span class="o">]</span>
  <span class="bp">...</span> <span class="bp">=</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">/</span> <span class="mi">2</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">abs_of_nonneg</span><span class="o">]</span><span class="bp">;</span> <span class="n">norm_num</span><span class="o">,</span>
<span class="k">begin</span>
  <span class="n">conv</span> <span class="k">in</span> <span class="o">(</span><span class="n">exp</span> <span class="n">x</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="o">{</span><span class="n">congr</span><span class="o">,</span> <span class="n">skip</span><span class="o">,</span> <span class="n">rw</span> <span class="err">←</span> <span class="n">lim_const</span> <span class="n">x</span><span class="o">},</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">exp</span><span class="o">,</span> <span class="n">sub_eq_add_neg</span><span class="o">,</span> <span class="n">sub_eq_add_neg</span><span class="o">,</span> <span class="err">←</span> <span class="n">lim_const</span> <span class="mi">1</span><span class="o">,</span>
    <span class="err">←</span> <span class="n">lim_neg</span><span class="o">,</span> <span class="err">←</span> <span class="n">lim_neg</span><span class="o">,</span> <span class="n">lim_add</span><span class="o">,</span> <span class="n">lim_add</span><span class="o">,</span> <span class="err">←</span> <span class="n">lim_abs</span><span class="o">],</span>
  <span class="n">refine</span> <span class="n">real</span><span class="bp">.</span><span class="n">lim_le</span> <span class="bp">_</span> <span class="bp">_</span> <span class="o">(</span><span class="n">cau_seq</span><span class="bp">.</span><span class="n">le_of_exists</span> <span class="bp">⟨</span><span class="mi">3</span><span class="o">,</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">j</span> <span class="n">hj</span><span class="o">,</span> <span class="bp">_</span><span class="o">)</span><span class="bp">⟩</span><span class="o">),</span>
  <span class="k">show</span> <span class="o">(</span><span class="n">abs</span> <span class="o">(</span><span class="n">sum</span> <span class="o">(</span><span class="n">range</span> <span class="n">j</span><span class="o">)</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">m</span><span class="o">,</span> <span class="n">x</span> <span class="err">^</span> <span class="n">m</span> <span class="bp">/</span> <span class="n">m</span><span class="bp">.</span><span class="n">fact</span><span class="o">)</span> <span class="bp">-</span> <span class="n">x</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">abs</span> <span class="n">x</span> <span class="err">^</span> <span class="mi">2</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">5</span> <span class="bp">/</span> <span class="mi">6</span><span class="o">)),</span>
  <span class="n">exact</span> <span class="k">calc</span> <span class="n">abs</span> <span class="o">((</span><span class="n">sum</span> <span class="o">(</span><span class="n">range</span> <span class="n">j</span><span class="o">))</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">m</span><span class="o">,</span> <span class="n">x</span> <span class="err">^</span> <span class="n">m</span> <span class="bp">/</span> <span class="n">m</span><span class="bp">.</span><span class="n">fact</span><span class="o">)</span> <span class="bp">-</span> <span class="n">x</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
      <span class="n">abs</span> <span class="n">x</span> <span class="err">^</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">abs</span> <span class="o">(</span><span class="n">sum</span> <span class="o">(</span><span class="n">range</span> <span class="o">(</span><span class="n">j</span> <span class="bp">-</span> <span class="mi">2</span><span class="o">))</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">m</span><span class="o">,</span> <span class="n">x</span> <span class="err">^</span> <span class="n">m</span> <span class="bp">/</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">)</span><span class="bp">.</span><span class="n">fact</span><span class="o">))</span> <span class="o">:</span>
    <span class="k">by</span> <span class="n">conv</span> <span class="o">{</span><span class="n">to_lhs</span><span class="o">,</span> <span class="n">rw</span> <span class="o">[</span><span class="err">←</span> <span class="n">nat</span><span class="bp">.</span><span class="n">sub_add_cancel</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">le_of_succ_le</span> <span class="n">hj</span><span class="o">),</span> <span class="n">sum_range_succ&#39;</span><span class="o">,</span> <span class="n">sum_range_succ&#39;</span><span class="o">]}</span><span class="bp">;</span>
      <span class="n">simp</span> <span class="o">[</span><span class="n">pow_succ</span><span class="o">,</span> <span class="n">mul_sum</span><span class="bp">.</span><span class="n">symm</span><span class="o">,</span> <span class="n">abs_mul</span><span class="o">,</span> <span class="n">mul_div_assoc</span><span class="o">,</span> <span class="n">mul_assoc</span><span class="o">]</span>
  <span class="bp">...</span> <span class="bp">=</span> <span class="n">abs</span> <span class="n">x</span> <span class="err">^</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">abs</span> <span class="o">(</span><span class="n">sum</span> <span class="o">(</span><span class="n">range</span> <span class="o">(</span><span class="n">j</span> <span class="bp">-</span> <span class="mi">3</span><span class="o">))</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">m</span><span class="o">,</span> <span class="n">x</span> <span class="err">^</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">/</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">3</span><span class="o">)</span><span class="bp">.</span><span class="n">fact</span><span class="o">)</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:</span>
    <span class="k">by</span> <span class="n">conv</span> <span class="o">{</span><span class="n">to_lhs</span><span class="o">,</span> <span class="n">rw</span> <span class="o">[</span><span class="err">←</span> <span class="n">nat</span><span class="bp">.</span><span class="n">succ_sub_succ</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">succ_sub</span> <span class="n">hj</span><span class="o">,</span> <span class="n">sum_range_succ&#39;</span><span class="o">]</span> <span class="o">}</span><span class="bp">;</span>
      <span class="n">simp</span> <span class="o">[</span><span class="n">nat</span><span class="bp">.</span><span class="n">fact</span><span class="o">,</span> <span class="n">bit0</span><span class="o">]</span>
  <span class="bp">...</span> <span class="bp">≤</span> <span class="n">abs</span> <span class="n">x</span> <span class="err">^</span> <span class="mi">2</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">5</span> <span class="bp">/</span> <span class="mi">6</span><span class="o">)</span> <span class="o">:</span> <span class="n">mul_le_mul_of_nonneg_left</span>
    <span class="o">(</span><span class="k">calc</span> <span class="n">abs</span> <span class="o">(</span><span class="n">sum</span> <span class="o">(</span><span class="n">range</span> <span class="o">(</span><span class="n">j</span> <span class="bp">-</span> <span class="mi">3</span><span class="o">))</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">m</span><span class="o">,</span> <span class="n">x</span> <span class="err">^</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">/</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">3</span><span class="o">)</span><span class="bp">.</span><span class="n">fact</span><span class="o">)</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">)</span>
          <span class="bp">≤</span> <span class="n">abs</span> <span class="o">(</span><span class="n">sum</span> <span class="o">(</span><span class="n">range</span> <span class="o">(</span><span class="n">j</span> <span class="bp">-</span> <span class="mi">3</span><span class="o">))</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">m</span><span class="o">,</span> <span class="n">x</span> <span class="err">^</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">/</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">3</span><span class="o">)</span><span class="bp">.</span><span class="n">fact</span><span class="o">))</span> <span class="bp">+</span> <span class="n">abs</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:</span>
        <span class="n">abs_add</span> <span class="bp">_</span> <span class="bp">_</span>
      <span class="bp">...</span> <span class="bp">=</span> <span class="n">abs</span> <span class="o">(</span><span class="n">sum</span> <span class="o">(</span><span class="n">range</span> <span class="o">(</span><span class="n">j</span> <span class="bp">-</span> <span class="mi">3</span><span class="o">))</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">m</span><span class="o">,</span> <span class="n">x</span> <span class="err">^</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">/</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">3</span><span class="o">)</span><span class="bp">.</span><span class="n">fact</span><span class="o">))</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">/</span> <span class="mi">2</span> <span class="o">:</span>
        <span class="k">by</span> <span class="n">rw</span> <span class="n">abshalf</span>
      <span class="bp">...</span> <span class="bp">≤</span> <span class="n">sum</span> <span class="o">(</span><span class="n">range</span> <span class="o">(</span><span class="n">j</span> <span class="bp">-</span> <span class="mi">3</span><span class="o">))</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">m</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="n">x</span> <span class="err">^</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">/</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">3</span><span class="o">)</span><span class="bp">.</span><span class="n">fact</span><span class="o">))</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">/</span> <span class="mi">2</span> <span class="o">:</span>
        <span class="n">add_le_add_right</span> <span class="o">(</span><span class="n">abv_sum_le_sum_abv</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)</span> <span class="bp">_</span>
      <span class="bp">...</span> <span class="bp">≤</span> <span class="n">sum</span> <span class="o">(</span><span class="n">range</span> <span class="o">(</span><span class="n">j</span> <span class="bp">-</span> <span class="mi">3</span><span class="o">))</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">m</span><span class="o">,</span> <span class="mi">1</span> <span class="bp">/</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">3</span><span class="o">)</span><span class="bp">.</span><span class="n">fact</span><span class="o">)</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">/</span> <span class="mi">2</span> <span class="o">:</span>
        <span class="n">add_le_add_right</span> <span class="o">(</span><span class="n">sum_le_sum</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">n</span> <span class="bp">_</span><span class="o">,</span>
          <span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">abs_div</span><span class="o">,</span> <span class="n">is_absolute_value</span><span class="bp">.</span><span class="n">abv_pow</span> <span class="n">abs</span><span class="o">,</span> <span class="err">←</span> <span class="n">of_real_nat_cast</span><span class="o">,</span>
            <span class="n">abs_of_nonneg</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">cast_nonneg</span> <span class="bp">_</span><span class="o">)]</span><span class="bp">;</span>
          <span class="n">refine</span> <span class="o">(</span><span class="n">div_le_div_right</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">cast_pos</span><span class="bp">.</span><span class="mi">2</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">fact_pos</span> <span class="bp">_</span><span class="o">)))</span><span class="bp">.</span><span class="mi">2</span>
            <span class="o">(</span><span class="n">pow_le_one</span> <span class="bp">_</span> <span class="o">(</span><span class="n">abs_nonneg</span> <span class="bp">_</span><span class="o">)</span> <span class="n">hx</span><span class="o">)))</span> <span class="bp">_</span>
      <span class="bp">...</span> <span class="bp">≤</span> <span class="n">sum</span> <span class="o">(</span><span class="n">range</span> <span class="o">(</span><span class="n">j</span> <span class="bp">-</span> <span class="mi">3</span><span class="o">))</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">m</span><span class="o">,</span> <span class="mi">1</span> <span class="bp">/</span> <span class="mi">6</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">)</span> <span class="err">^</span> <span class="n">m</span><span class="o">)</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">/</span> <span class="mi">2</span> <span class="o">:</span>
        <span class="n">add_le_add_right</span> <span class="o">(</span><span class="n">sum_le_sum</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">n</span> <span class="n">hn</span><span class="o">,</span> <span class="k">begin</span>
          <span class="n">clear</span> <span class="n">hn</span><span class="o">,</span>
          <span class="n">induction</span> <span class="n">n</span> <span class="k">with</span> <span class="n">n</span> <span class="n">ih</span><span class="o">,</span>
          <span class="o">{</span> <span class="n">simp</span> <span class="o">[</span><span class="n">bit0</span><span class="o">,</span> <span class="n">bit1</span><span class="o">,</span> <span class="n">mul_add</span><span class="o">,</span> <span class="n">add_mul</span><span class="o">]</span> <span class="o">},</span>
          <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="n">nat</span><span class="bp">.</span><span class="n">fact_succ</span><span class="o">,</span> <span class="n">pow_succ&#39;</span><span class="o">,</span> <span class="n">one_div_eq_inv</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">cast_mul</span><span class="o">,</span> <span class="n">mul_inv&#39;</span><span class="o">,</span> <span class="err">←</span> <span class="n">mul_assoc</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">/</span> <span class="mi">6</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)],</span>
            <span class="n">refine</span> <span class="n">mul_le_mul</span> <span class="o">(</span><span class="k">by</span> <span class="n">rwa</span> <span class="n">inv_eq_one_div</span><span class="o">)</span> <span class="bp">_</span>
              <span class="o">(</span><span class="n">inv_nonneg</span><span class="bp">.</span><span class="mi">2</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">cast_nonneg</span> <span class="bp">_</span><span class="o">))</span>
              <span class="o">(</span><span class="n">mul_nonneg</span> <span class="o">(</span><span class="k">by</span> <span class="n">norm_num</span><span class="o">)</span> <span class="o">(</span><span class="n">pow_nonneg</span> <span class="o">(</span><span class="k">by</span> <span class="n">norm_num</span><span class="o">)</span> <span class="bp">_</span><span class="o">)),</span>
            <span class="n">rw</span> <span class="o">[</span><span class="n">one_div_eq_inv</span><span class="o">],</span>
            <span class="n">refine</span> <span class="o">(</span><span class="n">inv_le_inv</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">cast_pos</span><span class="bp">.</span><span class="mi">2</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">succ_pos</span> <span class="bp">_</span><span class="o">))</span> <span class="o">(</span><span class="k">by</span> <span class="n">norm_num</span><span class="o">))</span><span class="bp">.</span><span class="mi">2</span>
              <span class="o">(</span><span class="k">by</span> <span class="n">rw</span> <span class="err">←</span> <span class="n">nat</span><span class="bp">.</span><span class="n">cast_two</span><span class="bp">;</span> <span class="n">exact</span> <span class="n">nat</span><span class="bp">.</span><span class="n">cast_le</span><span class="bp">.</span><span class="mi">2</span> <span class="n">dec_trivial</span><span class="o">)</span> <span class="o">}</span>
        <span class="kn">end</span><span class="o">)</span> <span class="bp">_</span>
      <span class="bp">...</span> <span class="bp">=</span> <span class="mi">1</span> <span class="bp">/</span> <span class="mi">6</span> <span class="bp">*</span> <span class="o">((</span><span class="mi">1</span> <span class="bp">-</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">)</span> <span class="err">^</span> <span class="o">(</span><span class="n">j</span> <span class="bp">-</span> <span class="mi">3</span><span class="o">))</span> <span class="bp">/</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">-</span> <span class="mi">1</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">))</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">/</span> <span class="mi">2</span> <span class="o">:</span>
        <span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="err">←</span> <span class="n">mul_sum</span><span class="o">,</span> <span class="n">geo_series_eq</span><span class="o">]</span><span class="bp">;</span> <span class="n">norm_num</span>
      <span class="bp">...</span> <span class="bp">≤</span> <span class="mi">1</span> <span class="bp">/</span> <span class="mi">6</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">/</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">-</span> <span class="mi">1</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">))</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">/</span> <span class="mi">2</span> <span class="o">:</span>
        <span class="n">add_le_add_right</span> <span class="o">(</span><span class="n">mul_le_mul_of_nonneg_left</span> <span class="o">((</span><span class="n">div_le_div_right</span> <span class="o">(</span><span class="k">by</span> <span class="n">norm_num</span><span class="o">))</span><span class="bp">.</span><span class="mi">2</span>
          <span class="o">(</span><span class="n">sub_le_self</span> <span class="bp">_</span> <span class="o">(</span><span class="n">pow_nonneg</span> <span class="o">(</span><span class="k">by</span> <span class="n">norm_num</span><span class="o">)</span> <span class="bp">_</span><span class="o">)))</span> <span class="o">(</span><span class="k">by</span> <span class="n">norm_num</span><span class="o">))</span> <span class="bp">_</span>
      <span class="bp">...</span> <span class="bp">=</span> <span class="mi">5</span> <span class="bp">/</span> <span class="mi">6</span> <span class="o">:</span> <span class="k">by</span> <span class="n">norm_num</span><span class="o">)</span>
    <span class="o">(</span><span class="n">pow_two_nonneg</span> <span class="o">(</span><span class="n">abs</span> <span class="n">x</span><span class="o">))</span>
<span class="kn">end</span>
</pre></div>

<a name="134256944"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134256944" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134256944">Mario Carneiro (Sep 19 2018 at 17:40)</a>:</h4>
<p>Oh, you really did the case n=1 directly</p>

<a name="134256959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134256959" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134256959">Mario Carneiro (Sep 19 2018 at 17:40)</a>:</h4>
<p>I was thinking you would just prove the general case, there is less stuff floating around that way</p>

<a name="134256986"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134256986" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134256986">Mario Carneiro (Sep 19 2018 at 17:41)</a>:</h4>
<p>well, it's done now, we can revisit later</p>

<a name="134256999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134256999" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134256999">Chris Hughes (Sep 19 2018 at 17:41)</a>:</h4>
<p>Not sure what the general case is.</p>

<a name="134257011"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134257011" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134257011">Mario Carneiro (Sep 19 2018 at 17:42)</a>:</h4>
<blockquote>
<p><code>abs (sum k = m,...,infty (x ^ n / n!)) &lt;= (abs a)^m * ((m + 1) / (m! * m))</code></p>
</blockquote>

<a name="134257073"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134257073" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134257073">Mario Carneiro (Sep 19 2018 at 17:42)</a>:</h4>
<p>You can also write <code>exp x - finset.sum ...</code> instead of that tail sum if you prefer</p>

<a name="134257083"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134257083" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134257083">Chris Hughes (Sep 19 2018 at 17:42)</a>:</h4>
<p>That makes way more sense.</p>

<a name="134257611"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134257611" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134257611">Reid Barton (Sep 19 2018 at 17:50)</a>:</h4>
<p>By the way, how hard is it to get log once we have exp? Specifically how hard is it to show that every nonzero complex number is in the range of exp?</p>

<a name="134258931"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134258931" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134258931">Mario Carneiro (Sep 19 2018 at 18:13)</a>:</h4>
<p>This comes fairly late in the development.</p>
<ul>
<li>First you do the real log function. exp is easily seen to be increasing so you get an inverse by IVT. I can expand on this</li>
<li><code>sin</code> is a bijection from [-pi/2, pi/2] to [-1, 1]. Again, this has subparts</li>
<li>Injectivity of <code>exp</code>: <code>exp x = 1</code> iff <code>x = 2*pi*i*n</code> for some <code>n</code></li>
<li>The complex square root function exists. You can define it as <code>sqrt z = sqrt (abs z) * ((abs z + z) / abs (abs z + z))</code> off the negative real axis</li>
<li>If <code>D</code> is an interval of length 2pi, and <code>y : D</code> is chosen to be a multiple of 2 pi from <code>2 * arcsin (im (sqrt z))</code>, then <code>z = exp (I * y)</code>, which shows surjectivity of the imaginary part</li>
<li>By combining surjectivity on real and imaginary parts and injectivity, you get that <code>exp</code> is bijective in any domain of the form <code>{z | z.im \in D}</code></li>
</ul>

<a name="134264128"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134264128" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134264128">Chris Hughes (Sep 19 2018 at 19:40)</a>:</h4>
<p>How do you get the bounds on cosine?</p>

<a name="134264158"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134264158" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134264158">Chris Hughes (Sep 19 2018 at 19:41)</a>:</h4>
<p>specifically <code>1/3 &lt; cos 1 &lt; 2 / 3</code> the fact that <code>exp x - x - 1 \le abs x ^ 2 * 3 / 4</code> is only good enough for <code>1/4 \le cos 1 \le 7 / 4</code></p>

<a name="134264219"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134264219" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134264219">Chris Hughes (Sep 19 2018 at 19:42)</a>:</h4>
<p>do you need bounds on sine 1 and use cos^2 + sin^2 = 1</p>

<a name="134265225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134265225" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134265225">Mario Carneiro (Sep 19 2018 at 20:03)</a>:</h4>
<p>The claim is that <code>abs (cos x - (1 - x^2 / 2)) &lt; x^2 / 6</code> for <code>x \in (0, 1]</code>. By the <code>m=4</code> case of the tail bound on exp, <code>cos x - (1 - x^2 / 2) = re (exp4 (I*x)) &lt;= abs (exp4 (I*x)) &lt;= x^4 * ((4 + 1) / (4! * 4)) &lt; x^4 / 6 &lt;= x^2 / 6</code>, where <code>exp4</code> is the tail of <code>exp</code> starting at 4.</p>

<a name="134265277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134265277" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134265277">Mario Carneiro (Sep 19 2018 at 20:04)</a>:</h4>
<p>(sorry! looks like you do need more of the tail bound)</p>

<a name="134265313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134265313" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134265313">Mario Carneiro (Sep 19 2018 at 20:05)</a>:</h4>
<p>in metamath, each inequality there is a sublemma (or instance of a lemma), probably don't pack it all together since it is independently useful</p>

<a name="134308558"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134308558" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134308558">Chris Hughes (Sep 20 2018 at 13:17)</a>:</h4>
<p>Major progress. The following have now been proved. <span class="user-mention" data-user-id="110049">@Mario Carneiro</span> how do I get continuous exp from the first one?</p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">exp_bound</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℂ</span><span class="o">}</span> <span class="o">(</span><span class="n">hx</span> <span class="o">:</span> <span class="n">abs</span> <span class="n">x</span> <span class="bp">≤</span> <span class="mi">1</span><span class="o">)</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">}</span> <span class="o">(</span><span class="n">hn</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">abs</span> <span class="o">(</span><span class="n">exp</span> <span class="n">x</span> <span class="bp">-</span> <span class="o">(</span><span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span><span class="o">)</span><span class="bp">.</span><span class="n">sum</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">m</span><span class="o">,</span> <span class="n">x</span> <span class="err">^</span> <span class="n">m</span> <span class="bp">/</span> <span class="n">m</span><span class="bp">.</span><span class="n">fact</span><span class="o">))</span> <span class="bp">≤</span> <span class="n">abs</span> <span class="n">x</span> <span class="err">^</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">*</span> <span class="o">(</span><span class="n">n</span><span class="bp">.</span><span class="n">fact</span> <span class="bp">*</span> <span class="n">n</span><span class="o">)</span><span class="bp">⁻¹</span>

<span class="kn">lemma</span> <span class="n">cos_one_bound</span> <span class="o">:</span> <span class="n">abs&#39;</span> <span class="o">(</span><span class="n">real</span><span class="bp">.</span><span class="n">cos</span> <span class="mi">1</span> <span class="bp">-</span> <span class="mi">1</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">≤</span> <span class="mi">1</span> <span class="bp">/</span> <span class="mi">18</span>
</pre></div>

<a name="134308648"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134308648" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134308648">Kenny Lau (Sep 20 2018 at 13:19)</a>:</h4>
<p>you might want to specialize the <code>n</code> first if you want to prove continuity</p>

<a name="134308663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134308663" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134308663">Kenny Lau (Sep 20 2018 at 13:19)</a>:</h4>
<p>and you want to prove continuity at 0 first</p>

<a name="134308717"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134308717" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134308717">Kenny Lau (Sep 20 2018 at 13:20)</a>:</h4>
<p>(since exp(y)-exp(x) = exp(x) [exp(y-x)-1])</p>

<a name="134308725"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134308725" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134308725">Mario Carneiro (Sep 20 2018 at 13:20)</a>:</h4>
<p>As I mentioned, if you take <code>n = 1</code> then you have <code>abs (exp x - 1) &lt;= abs x</code></p>

<a name="134308769"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134308769" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134308769">Kenny Lau (Sep 20 2018 at 13:20)</a>:</h4>
<p>so combining our statements, <code>|exp(y)-exp(x)| &lt;= exp(x) |y-x|</code></p>

<a name="134308802"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134308802" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134308802">Kenny Lau (Sep 20 2018 at 13:21)</a>:</h4>
<p>so set <code>delta = epsilon/exp(x)</code></p>

<a name="134308914"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134308914" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134308914">Mario Carneiro (Sep 20 2018 at 13:22)</a>:</h4>
<p>wait, isn't the bound off by one? the claim was about <code>sum m=n ... infty (x^m/m!)</code> which should be <code>abs (exp x - (range n).sum (λ m, x ^ m / m.fact))</code></p>

<a name="134308960"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134308960" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134308960">Mario Carneiro (Sep 20 2018 at 13:23)</a>:</h4>
<p>the RHS looks right</p>

<a name="134309088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134309088" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134309088">Kenny Lau (Sep 20 2018 at 13:25)</a>:</h4>
<p>well n=1 gives <code>|exp(x)-1-x| &lt;= |x|^2</code></p>

<a name="134309323"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134309323" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134309323">Mario Carneiro (Sep 20 2018 at 13:29)</a>:</h4>
<p>I guess the order is right, the constant is a bit off</p>

<a name="134309338"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134309338" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134309338">Mario Carneiro (Sep 20 2018 at 13:29)</a>:</h4>
<div class="codehilite"><pre><span></span>lemma exp_bound {x : ℂ} (hx : abs x ≤ 1) {n : ℕ} (hn : 0 &lt; n) :
  abs (exp x - (range n).sum (λ m, x ^ m / m.fact)) ≤ abs x ^ n * (n.succ / (n.fact * n)) := sorry
</pre></div>

<a name="134312362"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134312362" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134312362">Chris Hughes (Sep 20 2018 at 14:20)</a>:</h4>
<p>Does it matter? We have everything we need for pi</p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">cos_one_le</span> <span class="o">:</span> <span class="n">real</span><span class="bp">.</span><span class="n">cos</span> <span class="mi">1</span> <span class="bp">≤</span> <span class="mi">5</span> <span class="bp">/</span> <span class="mi">9</span> <span class="o">:=</span>
<span class="k">calc</span> <span class="n">real</span><span class="bp">.</span><span class="n">cos</span> <span class="mi">1</span> <span class="bp">≤</span> <span class="mi">1</span> <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">/</span> <span class="mi">18</span> <span class="o">:</span> <span class="n">sub_le_iff_le_add</span><span class="bp">.</span><span class="mi">1</span> <span class="o">(</span><span class="n">abs_sub_le_iff</span><span class="bp">.</span><span class="mi">1</span> <span class="n">cos_one_bound</span><span class="o">)</span><span class="bp">.</span><span class="mi">1</span>
<span class="bp">...</span> <span class="bp">=</span> <span class="mi">5</span> <span class="bp">/</span> <span class="mi">9</span> <span class="o">:</span> <span class="k">by</span> <span class="n">norm_num</span>

<span class="kn">lemma</span> <span class="n">le_cos_one</span> <span class="o">:</span> <span class="mi">4</span> <span class="bp">/</span> <span class="mi">9</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">cos</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="k">calc</span> <span class="mi">4</span> <span class="bp">/</span> <span class="mi">9</span> <span class="bp">=</span> <span class="mi">1</span> <span class="bp">/</span> <span class="mi">2</span> <span class="bp">-</span> <span class="mi">1</span> <span class="bp">/</span> <span class="mi">18</span> <span class="o">:</span> <span class="k">by</span> <span class="n">norm_num</span>
<span class="bp">...</span> <span class="bp">≤</span> <span class="n">real</span><span class="bp">.</span><span class="n">cos</span> <span class="mi">1</span> <span class="o">:</span> <span class="n">sub_le_of_sub_le</span> <span class="o">(</span><span class="n">abs_sub_le_iff</span><span class="bp">.</span><span class="mi">1</span> <span class="n">cos_one_bound</span><span class="o">)</span><span class="bp">.</span><span class="mi">2</span>

<span class="kn">lemma</span> <span class="n">cos_two_le</span> <span class="o">:</span> <span class="n">real</span><span class="bp">.</span><span class="n">cos</span> <span class="mi">2</span> <span class="bp">≤</span> <span class="bp">-</span><span class="mi">31</span> <span class="bp">/</span> <span class="mi">81</span> <span class="o">:=</span>
<span class="k">calc</span> <span class="n">real</span><span class="bp">.</span><span class="n">cos</span> <span class="mi">2</span> <span class="bp">=</span> <span class="n">real</span><span class="bp">.</span><span class="n">cos</span> <span class="o">(</span><span class="mi">2</span> <span class="bp">*</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:</span> <span class="n">congr_arg</span> <span class="n">real</span><span class="bp">.</span><span class="n">cos</span> <span class="o">(</span><span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">bit0</span><span class="o">])</span>
<span class="bp">...</span> <span class="bp">=</span> <span class="bp">_</span> <span class="o">:</span> <span class="n">real</span><span class="bp">.</span><span class="n">cos_two_mul</span> <span class="mi">1</span>
<span class="bp">...</span> <span class="bp">≤</span> <span class="mi">2</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">5</span> <span class="bp">/</span> <span class="mi">9</span><span class="o">)</span> <span class="err">^</span> <span class="mi">2</span> <span class="bp">-</span> <span class="mi">1</span> <span class="o">:</span>
  <span class="n">sub_le_sub_right</span> <span class="o">(</span><span class="n">mul_le_mul_of_nonneg_left</span>
  <span class="o">(</span><span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">pow_two</span><span class="o">,</span> <span class="n">pow_two</span><span class="o">]</span><span class="bp">;</span> <span class="n">exact</span>
    <span class="n">mul_self_le_mul_self</span> <span class="o">(</span><span class="n">le_trans</span> <span class="o">(</span><span class="k">by</span> <span class="n">norm_num</span><span class="o">)</span> <span class="n">le_cos_one</span><span class="o">)</span> <span class="bp">_</span><span class="o">)</span>
  <span class="o">(</span><span class="k">by</span> <span class="n">norm_num</span><span class="o">))</span> <span class="bp">_</span>
<span class="bp">...</span> <span class="bp">=</span> <span class="bp">-</span><span class="mi">31</span> <span class="bp">/</span> <span class="mi">81</span> <span class="o">:</span> <span class="k">by</span> <span class="n">norm_num</span>
</pre></div>

<a name="134312866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134312866" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134312866">Patrick Massot (Sep 20 2018 at 14:28)</a>:</h4>
<p>Wonderful! Can you get pi before tomorrow then?</p>

<a name="134312999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134312999" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134312999">Chris Hughes (Sep 20 2018 at 14:30)</a>:</h4>
<p>If someone tells me how to turn my inequalities about exp into a proof of continuity. I don't know what the lemma is.</p>

<a name="134313023"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134313023" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134313023">Patrick Massot (Sep 20 2018 at 14:30)</a>:</h4>
<p>Did you push everything?</p>

<a name="134313051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134313051" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134313051">Patrick Massot (Sep 20 2018 at 14:31)</a>:</h4>
<p>Doesn't seem so</p>

<a name="134313053"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134313053" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134313053">Chris Hughes (Sep 20 2018 at 14:31)</a>:</h4>
<p>Not yet</p>

<a name="134313077"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134313077" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134313077">Patrick Massot (Sep 20 2018 at 14:31)</a>:</h4>
<p>It would be easier to see what inequalities you have</p>

<a name="134313314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134313314" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134313314">Chris Hughes (Sep 20 2018 at 14:35)</a>:</h4>
<p>Just pushing now</p>

<a name="134313328"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134313328" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134313328">Reid Barton (Sep 20 2018 at 14:35)</a>:</h4>
<p>Do we know that <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mrow><mi mathvariant="double-struck">C</mi></mrow></mrow><annotation encoding="application/x-tex">\mathbb{C}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68889em;"></span><span class="strut bottom" style="height:0.68889em;vertical-align:0em;"></span><span class="base"><span class="mord"><span class="mord mathbb">C</span></span></span></span></span> is a normed group?</p>

<a name="134313791"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134313791" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134313791">Reid Barton (Sep 20 2018 at 14:42)</a>:</h4>
<p>I guess it would be quite easy to add. Then you should be able to use <code>tendsto_iff_norm_tendsto_zero</code> and <code>tendsto_of_tendsto_of_tendsto_of_le_of_le</code> somehow</p>

<a name="134313820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134313820" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134313820">Reid Barton (Sep 20 2018 at 14:43)</a>:</h4>
<p>or maybe even <code>squeeze_zero</code></p>

<a name="134313883"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134313883" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134313883">Mario Carneiro (Sep 20 2018 at 14:44)</a>:</h4>
<p>There should be a theorem about continuity on metric spaces</p>

<a name="134313917"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134313917" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134313917">Mario Carneiro (Sep 20 2018 at 14:44)</a>:</h4>
<p><code>continuous_of_metric</code></p>

<a name="134313943"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134313943" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134313943">Mario Carneiro (Sep 20 2018 at 14:45)</a>:</h4>
<p>oh wait, you just want continuity at zero, that is <code>tendsto_nhds_of_metric</code></p>

<a name="134314004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134314004" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134314004">Mario Carneiro (Sep 20 2018 at 14:46)</a>:</h4>
<p>just rewrite <code>dist 0 x</code> to <code>abs x</code> and you should be set with a straight epsilon delta proof</p>

<a name="134314065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134314065" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134314065">Mario Carneiro (Sep 20 2018 at 14:47)</a>:</h4>
<p>You shouldn't make your constants too precise, it makes the proof harder for norm_num and the gain is not that great. In particular you should weaken the second theorem to <code>cos 2 &lt; 0</code></p>

<a name="134327309"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134327309" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134327309">Chris Hughes (Sep 20 2018 at 18:26)</a>:</h4>
<p>So I have <code>lemma tendsto_exp_zero_one : tendsto exp (nhds 0) (nhds 1) :=</code></p>

<a name="134327314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134327314" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134327314">Chris Hughes (Sep 20 2018 at 18:26)</a>:</h4>
<p>How do I get continuity?</p>

<a name="134327360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134327360" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134327360">Kenny Lau (Sep 20 2018 at 18:27)</a>:</h4>
<p>note that exp(x+h) = exp(x) exp(h)</p>

<a name="134327365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134327365" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134327365">Mario Carneiro (Sep 20 2018 at 18:27)</a>:</h4>
<p>do we know that C is a topological ring?</p>

<a name="134327446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134327446" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134327446">Chris Hughes (Sep 20 2018 at 18:28)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> yes</p>

<a name="134327484"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134327484" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134327484">Kenny Lau (Sep 20 2018 at 18:29)</a>:</h4>
<p><code>\forall x, tendsto (\lambda h, exp x * exp h) (nhds 0) (nhds (exp x * 1))</code></p>

<a name="134327497"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134327497" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134327497">Kenny Lau (Sep 20 2018 at 18:29)</a>:</h4>
<p><code>\forall x, tendsto (\lambda h, exp (x+h)) (nhds 0) (nhds (exp x))</code></p>

<a name="134327515"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134327515" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134327515">Kenny Lau (Sep 20 2018 at 18:29)</a>:</h4>
<p><code>\forall x, tendsto exp (nhds x) (nhds (exp x))</code></p>

<a name="134327544"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134327544" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134327544">Chris Hughes (Sep 20 2018 at 18:30)</a>:</h4>
<p>What lemmas are you applying Kenny?</p>

<a name="134327620"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134327620" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134327620">Mario Carneiro (Sep 20 2018 at 18:30)</a>:</h4>
<p>Ah, found it: <code>continuous_mul</code> is what you want</p>

<a name="134327646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134327646" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134327646">Mario Carneiro (Sep 20 2018 at 18:31)</a>:</h4>
<p>to deduce the first of Kenny's statements</p>

<a name="134327667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134327667" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134327667">Mario Carneiro (Sep 20 2018 at 18:31)</a>:</h4>
<p>wait no, <code>tendsto_mul</code></p>

<a name="134327741"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134327741" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134327741">Mario Carneiro (Sep 20 2018 at 18:32)</a>:</h4>
<p>the second one is easy/algebraic, and the third is that lemma that Patrick mentioned</p>

<a name="134327920"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134327920" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134327920">Mario Carneiro (Sep 20 2018 at 18:35)</a>:</h4>
<p>Alternatively you could just use continuity of subtraction to avoid mentioning homeos</p>

<a name="134327987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134327987" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134327987">Kenny Lau (Sep 20 2018 at 18:36)</a>:</h4>
<p>from 2 to 3 can be easily done with epsilon-delta</p>

<a name="134327994"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134327994" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134327994">Kenny Lau (Sep 20 2018 at 18:36)</a>:</h4>
<p>would not recommend epsilon-delta to deduce 1</p>

<a name="134328003"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134328003" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134328003">Mario Carneiro (Sep 20 2018 at 18:36)</a>:</h4>
<p>don't listen to kenny, you are done with epsilons now</p>

<a name="134328021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134328021" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134328021">Kenny Lau (Sep 20 2018 at 18:36)</a>:</h4>
<p>we're in the post-epsilon stage of maths, right</p>

<a name="134328141"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134328141" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134328141">Mario Carneiro (Sep 20 2018 at 18:38)</a>:</h4>
<p>if you know <code>tendsto (\lambda h, exp (x+h)) (nhds 0) (nhds (exp x))</code> then if you compose with <code>(\lambda y, y - x)</code> which is continuous then you get <code>tendsto (\lambda y, exp (x+(y - x))) (nhds x) (nhds (exp x))</code></p>

<a name="134328347"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134328347" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134328347">Chris Hughes (Sep 20 2018 at 18:41)</a>:</h4>
<p>My goal is <code>tendsto (λ (x_1 : ℂ), exp x) (nhds 0) (nhds 1)</code> I try <code>apply tendsto_exp_zero_one</code>, which looks like this <code>tendsto_exp_zero_one : tendsto (λ x : ℂ, exp x) (nhds (0 : ℂ)) (nhds (1 : ℂ))</code> and it hangs.</p>

<a name="134328427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134328427" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134328427">Mario Carneiro (Sep 20 2018 at 18:42)</a>:</h4>
<p>use exact</p>

<a name="134328505"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134328505" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134328505">Mario Carneiro (Sep 20 2018 at 18:43)</a>:</h4>
<p>apply will go crazy unfolding pis because of a bug</p>

<a name="134328583"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134328583" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134328583">Chris Hughes (Sep 20 2018 at 18:44)</a>:</h4>
<p><code>exact this</code> fails</p>
<div class="codehilite"><pre><span></span><span class="n">x</span> <span class="o">:</span> <span class="n">complex</span><span class="o">,</span>
<span class="n">this</span> <span class="o">:</span>
  <span class="bp">@</span><span class="n">filter</span><span class="bp">.</span><span class="n">tendsto</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span> <span class="mi">0</span><span class="o">}</span> <span class="n">complex</span> <span class="n">complex</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">complex</span><span class="o">),</span> <span class="n">complex</span><span class="bp">.</span><span class="n">exp</span> <span class="n">x</span><span class="o">)</span>
    <span class="o">(</span><span class="bp">@</span><span class="n">nhds</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">complex</span>
       <span class="o">(</span><span class="bp">@</span><span class="n">uniform_space</span><span class="bp">.</span><span class="n">to_topological_space</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">complex</span>
          <span class="o">(</span><span class="bp">@</span><span class="n">metric_space</span><span class="bp">.</span><span class="n">to_uniform_space&#39;</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">complex</span> <span class="n">complex</span><span class="bp">.</span><span class="n">metric_space</span><span class="o">))</span>
       <span class="o">(</span><span class="bp">@</span><span class="n">has_zero</span><span class="bp">.</span><span class="n">zero</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">complex</span> <span class="n">complex</span><span class="bp">.</span><span class="n">has_zero</span><span class="o">))</span>
    <span class="o">(</span><span class="bp">@</span><span class="n">nhds</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">complex</span>
       <span class="o">(</span><span class="bp">@</span><span class="n">uniform_space</span><span class="bp">.</span><span class="n">to_topological_space</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">complex</span>
          <span class="o">(</span><span class="bp">@</span><span class="n">metric_space</span><span class="bp">.</span><span class="n">to_uniform_space&#39;</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">complex</span> <span class="n">complex</span><span class="bp">.</span><span class="n">metric_space</span><span class="o">))</span>
       <span class="o">(</span><span class="bp">@</span><span class="n">has_one</span><span class="bp">.</span><span class="n">one</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">complex</span> <span class="n">complex</span><span class="bp">.</span><span class="n">has_one</span><span class="o">))</span>
<span class="err">⊢</span> <span class="bp">@</span><span class="n">filter</span><span class="bp">.</span><span class="n">tendsto</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span> <span class="mi">0</span><span class="o">}</span> <span class="n">complex</span> <span class="n">complex</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x_1</span> <span class="o">:</span> <span class="n">complex</span><span class="o">),</span> <span class="n">complex</span><span class="bp">.</span><span class="n">exp</span> <span class="n">x</span><span class="o">)</span>
    <span class="o">(</span><span class="bp">@</span><span class="n">nhds</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">complex</span>
       <span class="o">(</span><span class="bp">@</span><span class="n">uniform_space</span><span class="bp">.</span><span class="n">to_topological_space</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">complex</span>
          <span class="o">(</span><span class="bp">@</span><span class="n">metric_space</span><span class="bp">.</span><span class="n">to_uniform_space&#39;</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">complex</span> <span class="n">complex</span><span class="bp">.</span><span class="n">metric_space</span><span class="o">))</span>
       <span class="o">(</span><span class="bp">@</span><span class="n">has_zero</span><span class="bp">.</span><span class="n">zero</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">complex</span> <span class="n">complex</span><span class="bp">.</span><span class="n">has_zero</span><span class="o">))</span>
    <span class="o">(</span><span class="bp">@</span><span class="n">nhds</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">complex</span>
       <span class="o">(</span><span class="bp">@</span><span class="n">uniform_space</span><span class="bp">.</span><span class="n">to_topological_space</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">complex</span>
          <span class="o">(</span><span class="bp">@</span><span class="n">metric_space</span><span class="bp">.</span><span class="n">to_uniform_space&#39;</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">complex</span> <span class="n">complex</span><span class="bp">.</span><span class="n">metric_space</span><span class="o">))</span>
       <span class="o">(</span><span class="bp">@</span><span class="n">has_one</span><span class="bp">.</span><span class="n">one</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">complex</span> <span class="n">complex</span><span class="bp">.</span><span class="n">has_one</span><span class="o">))</span>
</pre></div>

<a name="134328600"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134328600" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134328600">Chris Hughes (Sep 20 2018 at 18:44)</a>:</h4>
<p>I see the problem.</p>

<a name="134328612"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134328612" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134328612">Chris Hughes (Sep 20 2018 at 18:44)</a>:</h4>
<p>Silly me</p>

<a name="134328653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134328653" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134328653">Mario Carneiro (Sep 20 2018 at 18:45)</a>:</h4>
<p>is that sarcasm? because I don't</p>

<a name="134328719"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134328719" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134328719">Chris Hughes (Sep 20 2018 at 18:46)</a>:</h4>
<p><code>x_1</code> instead of <code>x</code> on first line</p>

<a name="134328864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134328864" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134328864">Mario Carneiro (Sep 20 2018 at 18:49)</a>:</h4>
<p>by the way, <code>convert</code> is a nice way to diagnose these bugs</p>

<a name="134329021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134329021" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134329021">Chris Hughes (Sep 20 2018 at 18:51)</a>:</h4>
<p>What's the lemma I use for composing with sub</p>

<a name="134329079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134329079" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134329079">Chris Hughes (Sep 20 2018 at 18:52)</a>:</h4>
<p><code>tends.comp</code> d'oh</p>

<a name="134330094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134330094" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134330094">Chris Hughes (Sep 20 2018 at 19:06)</a>:</h4>
<p>This must be easy surely</p>
<div class="codehilite"><pre><span></span><span class="n">tendsto</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℂ</span><span class="o">),</span> <span class="n">y</span> <span class="bp">-</span> <span class="n">x</span><span class="o">)</span> <span class="o">(</span><span class="n">nhds</span> <span class="n">x</span><span class="o">)</span> <span class="o">(</span><span class="n">nhds</span> <span class="mi">0</span><span class="o">)</span>
</pre></div>

<a name="134330122"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134330122" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134330122">Mario Carneiro (Sep 20 2018 at 19:07)</a>:</h4>
<p>by the way I suggest you do all your compositions at the start, getting something like <code>tendsto (\lam y, exp x * exp (y - x)) (nhds x) (nhds (exp x * exp (x - x)))</code></p>

<a name="134330209"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134330209" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134330209">Chris Hughes (Sep 20 2018 at 19:08)</a>:</h4>
<p>I worked that bit out. Do I have to use <code>tendsto_sub</code> and the identity and constant functions?</p>

<a name="134330229"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134330229" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134330229">Mario Carneiro (Sep 20 2018 at 19:08)</a>:</h4>
<p>yes</p>

<a name="134330252"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134330252" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134330252">Mario Carneiro (Sep 20 2018 at 19:09)</a>:</h4>
<p>that's the easiest way, at least</p>

<a name="134331002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134331002" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134331002">Chris Hughes (Sep 20 2018 at 19:20)</a>:</h4>
<p>exp is continuous is now a fact.</p>

<a name="134331114"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134331114" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134331114">Kenny Lau (Sep 20 2018 at 19:22)</a>:</h4>
<p>how much time do we still have?</p>

<a name="134331370"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134331370" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134331370">Patrick Massot (Sep 20 2018 at 19:27)</a>:</h4>
<p>Here it's 9:27pm</p>

<a name="134331423"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134331423" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134331423">Patrick Massot (Sep 20 2018 at 19:28)</a>:</h4>
<p>So 8:27pm in London</p>

<a name="134331429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134331429" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134331429">Patrick Massot (Sep 20 2018 at 19:28)</a>:</h4>
<p>So we have 12 hours</p>

<a name="134331434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134331434" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134331434">Patrick Massot (Sep 20 2018 at 19:28)</a>:</h4>
<p>roughly</p>

<a name="134331458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134331458" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134331458">Patrick Massot (Sep 20 2018 at 19:29)</a>:</h4>
<p>Who's going to tell Kevin tomorrow? <span class="user-mention" data-user-id="112680">@Johan Commelin</span> ?</p>

<a name="134332215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134332215" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134332215">Chris Hughes (Sep 20 2018 at 19:43)</a>:</h4>
<p>How do you prove <code>continuous real.sin</code> from <code>continuous complex.sin</code>?</p>

<a name="134332221"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134332221" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134332221">Mario Carneiro (Sep 20 2018 at 19:43)</a>:</h4>
<p>continuity of real part</p>

<a name="134332228"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134332228" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134332228">Mario Carneiro (Sep 20 2018 at 19:43)</a>:</h4>
<p>and continuity of real injection</p>

<a name="134332274"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134332274" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134332274">Mario Carneiro (Sep 20 2018 at 19:44)</a>:</h4>
<p>How did you define <code>real.sin</code>?</p>

<a name="134332761"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134332761" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134332761">Patrick Massot (Sep 20 2018 at 19:52)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/blob/4c670fc338c3e6cdff8c1f01e03f1279fd3926bd/data/complex/exponential.lean#L349" target="_blank" title="https://github.com/leanprover-community/mathlib/blob/4c670fc338c3e6cdff8c1f01e03f1279fd3926bd/data/complex/exponential.lean#L349">https://github.com/leanprover-community/mathlib/blob/4c670fc338c3e6cdff8c1f01e03f1279fd3926bd/data/complex/exponential.lean#L349</a></p>

<a name="134332776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134332776" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134332776">Chris Hughes (Sep 20 2018 at 19:52)</a>:</h4>
<p>(complex.sin x).re</p>

<a name="134332789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134332789" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134332789">Patrick Massot (Sep 20 2018 at 19:53)</a>:</h4>
<p>So continuity should indeed follow as Mario wrote</p>

<a name="134332800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134332800" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134332800">Chris Hughes (Sep 20 2018 at 19:53)</a>:</h4>
<p>I couldn't find <code>continuous_re</code></p>

<a name="134332815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134332815" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134332815">Patrick Massot (Sep 20 2018 at 19:54)</a>:</h4>
<p>Do you want us to prove it, or did you do it already?</p>

<a name="134333423"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134333423" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134333423">Mario Carneiro (Sep 20 2018 at 20:03)</a>:</h4>
<p>I think there is a theorem that <code>re</code> is a contracting map, which is enough to prove continuity</p>

<a name="134333500"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134333500" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134333500">Mario Carneiro (Sep 20 2018 at 20:04)</a>:</h4>
<p><code>abs_re_le_abs</code></p>

<a name="134334686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134334686" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134334686">Chris Hughes (Sep 20 2018 at 20:24)</a>:</h4>
<p>I managed to work it out. I thought there was some simple proof without deltas, but deltas is really short anyway.</p>

<a name="134334711"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134334711" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134334711">Patrick Massot (Sep 20 2018 at 20:25)</a>:</h4>
<p>How far are you from pi then?</p>

<a name="134334779"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134334779" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134334779">Chris Hughes (Sep 20 2018 at 20:26)</a>:</h4>
<p>More or less there. Just have to apply IVT which I have already proved.</p>

<a name="134334986"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134334986" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134334986">Patrick Massot (Sep 20 2018 at 20:29)</a>:</h4>
<p>So, who's writing to Kevin tomorrow?</p>

<a name="134335942"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134335942" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134335942">Chris Hughes (Sep 20 2018 at 20:46)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">def</span> <span class="n">pi</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="o">:=</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">classical</span><span class="bp">.</span><span class="n">some</span> <span class="n">exists_cos_eq_zero</span>
</pre></div>

<a name="134336002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134336002" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134336002">Kenny Lau (Sep 20 2018 at 20:47)</a>:</h4>
<p>then pi can be 3*3.14...?</p>

<a name="134336024"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134336024" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134336024">Mario Carneiro (Sep 20 2018 at 20:47)</a>:</h4>
<p>have you proven that <code>cos (pi/2) = 0</code>?</p>

<a name="134336148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134336148" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134336148">Chris Hughes (Sep 20 2018 at 20:49)</a>:</h4>
<p><code>lemma exists_cos_eq_zero : ∃ x, 1 ≤ x ∧ x ≤ 2 ∧ cos x = 0 </code> <span class="user-mention" data-user-id="110064">@Kenny Lau</span></p>

<a name="134336153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134336153" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134336153">Kenny Lau (Sep 20 2018 at 20:49)</a>:</h4>
<p>fair enough</p>

<a name="134336162"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134336162" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134336162">Mario Carneiro (Sep 20 2018 at 20:49)</a>:</h4>
<p>also <code>sin (pi/2) = 1</code></p>

<a name="134336172"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134336172" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134336172">Mario Carneiro (Sep 20 2018 at 20:49)</a>:</h4>
<p>the rest should be easy</p>

<a name="134336183"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134336183" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134336183">Kenny Lau (Sep 20 2018 at 20:49)</a>:</h4>
<p>well sin(pi/2)=1 implies cos(pi/2)=0...</p>

<a name="134336248"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134336248" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134336248">Mario Carneiro (Sep 20 2018 at 20:50)</a>:</h4>
<p>but it looks like he proved <code>cos (pi/2) = 0</code>, which only implies <code>sin(pi/2) = +- 1</code></p>

<a name="134336301"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134336301" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134336301">Mario Carneiro (Sep 20 2018 at 20:51)</a>:</h4>
<p>Metamath uses the lemma that <code>sin x &gt; 0</code> on <code>(0, 2]</code> by double angle formulas on what you already have</p>

<a name="134336386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134336386" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134336386">Chris Hughes (Sep 20 2018 at 20:52)</a>:</h4>
<p>I'm sure that's all quite easily doable.</p>

<a name="134336400"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134336400" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134336400">Mario Carneiro (Sep 20 2018 at 20:53)</a>:</h4>
<p>yes, it's mostly smooth sailing at this point</p>

<a name="134336439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134336439" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134336439">Chris Hughes (Sep 20 2018 at 20:53)</a>:</h4>
<p>I pushed.</p>

<a name="134337086"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134337086" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134337086">Kenny Lau (Sep 20 2018 at 21:04)</a>:</h4>
<p>I'm afraid it's now 05:03 AM in Hong Kong and I must leave now...</p>

<a name="134337111"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134337111" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134337111">Kenny Lau (Sep 20 2018 at 21:04)</a>:</h4>
<p>although I will wake up 4 hours later</p>

<a name="134337124"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134337124" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134337124">Mario Carneiro (Sep 20 2018 at 21:04)</a>:</h4>
<p>ooh, you are 12 hours away from me</p>

<a name="134343929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134343929" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134343929">Kevin Buzzard (Sep 20 2018 at 23:10)</a>:</h4>
<p>I've been 50 for about 10 minutes</p>

<a name="134343951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134343951" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134343951">Chris Hughes (Sep 20 2018 at 23:11)</a>:</h4>
<p>Happy Birthday!</p>

<a name="134343958"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134343958" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134343958">Kevin Buzzard (Sep 20 2018 at 23:11)</a>:</h4>
<p>Holey Moley we have pi!</p>

<a name="134343964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134343964" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134343964">Kevin Buzzard (Sep 20 2018 at 23:11)</a>:</h4>
<p>I am so happy!</p>

<a name="134344081"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/sine%20and%20cosine%20and%20pi/near/134344081" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/141825kbb/47024sineandcosineandpi.html#134344081">Kevin Buzzard (Sep 20 2018 at 23:13)</a>:</h4>
<p>I need to go to bed!</p>


{% endraw %}

{% include archive_update.html %}