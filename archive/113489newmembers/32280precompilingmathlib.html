---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113489newmembers/32280precompilingmathlib.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113489newmembers/index.html">new members</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113489newmembers/32280precompilingmathlib.html">pre-compiling mathlib</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="166687188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/pre-compiling%20mathlib/near/166687188" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/32280precompilingmathlib.html#166687188">Greg Conneen (May 28 2019 at 06:32)</a>:</h4>
<p>I just got my new host up and running, and I'm very happy with performance. However, I no longer have mathlib already compiled on this machine, and I completely forget how to go about doing that. Could someone walk me through that process? I'd like for mathlib files to not take quite so long to parse anymore.</p>

<a name="166687198"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/pre-compiling%20mathlib/near/166687198" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/32280precompilingmathlib.html#166687198">Johan Commelin (May 28 2019 at 06:32)</a>:</h4>
<p>What OS?</p>

<a name="166687217"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/pre-compiling%20mathlib/near/166687217" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/32280precompilingmathlib.html#166687217">Johan Commelin (May 28 2019 at 06:33)</a>:</h4>
<p>There should be helpful info here: <a href="https://github.com/leanprover-community/mathlib#installation" target="_blank" title="https://github.com/leanprover-community/mathlib#installation">https://github.com/leanprover-community/mathlib#installation</a></p>

<a name="166687422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/pre-compiling%20mathlib/near/166687422" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/32280precompilingmathlib.html#166687422">Greg Conneen (May 28 2019 at 06:37)</a>:</h4>
<p>Windows 2019 datacenter</p>

<a name="166687428"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/pre-compiling%20mathlib/near/166687428" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/32280precompilingmathlib.html#166687428">Johan Commelin (May 28 2019 at 06:37)</a>:</h4>
<p>Ok, then I can't help (-;</p>

<a name="166687436"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/pre-compiling%20mathlib/near/166687436" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/32280precompilingmathlib.html#166687436">Johan Commelin (May 28 2019 at 06:37)</a>:</h4>
<p>But maybe that link can still help</p>

<a name="166687445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/pre-compiling%20mathlib/near/166687445" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/32280precompilingmathlib.html#166687445">Greg Conneen (May 28 2019 at 06:37)</a>:</h4>
<p>Great, thank you</p>

<a name="166687704"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/pre-compiling%20mathlib/near/166687704" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/32280precompilingmathlib.html#166687704">Sebastien Gouezel (May 28 2019 at 06:43)</a>:</h4>
<p>Here is the way I do it, which is probably not the recommended way but works fine (I have done it a few weeks ago on my new Windows 10 machine):</p>
<ul>
<li>download the release from <a href="https://github.com/leanprover/lean/releases/tag/v3.4.2" target="_blank" title="https://github.com/leanprover/lean/releases/tag/v3.4.2">https://github.com/leanprover/lean/releases/tag/v3.4.2</a>, install it and make it available in your path</li>
<li>install git</li>
<li>in a shell, do : <code>git clone https://github.com/leanprover-community/mathlib.git</code></li>
<li>go to the mathlib subdirectory, and create there a file leanpkg.path containing the two lines</li>
</ul>
<div class="codehilite"><pre><span></span>builtin_path
path ./src
</pre></div>


<ul>
<li>in the mathlib subdirectory, do : <code>lean --make</code></li>
</ul>

<a name="166687773"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/pre-compiling%20mathlib/near/166687773" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/32280precompilingmathlib.html#166687773">Johan Commelin (May 28 2019 at 06:44)</a>:</h4>
<p>This means manually compiling all of mathlib, right?</p>

<a name="166687788"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/pre-compiling%20mathlib/near/166687788" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/32280precompilingmathlib.html#166687788">Johan Commelin (May 28 2019 at 06:44)</a>:</h4>
<p>He should be able to get a precompiled mathlib</p>

<a name="166687789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/pre-compiling%20mathlib/near/166687789" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/32280precompilingmathlib.html#166687789">Sebastien Gouezel (May 28 2019 at 06:44)</a>:</h4>
<p>Yes. With my connection, this is faster than downloading it over the internet :)</p>

<a name="166687814"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/pre-compiling%20mathlib/near/166687814" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/32280precompilingmathlib.html#166687814">Sebastien Gouezel (May 28 2019 at 06:45)</a>:</h4>
<p>Slow connection, but fast computer :)</p>

<a name="166687947"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/pre-compiling%20mathlib/near/166687947" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/32280precompilingmathlib.html#166687947">Greg Conneen (May 28 2019 at 06:47)</a>:</h4>
<p>I'm currently overseas accessing my server remotely. My connection is pretty bad. This is the solution I was looking for</p>

<a name="166688001"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/pre-compiling%20mathlib/near/166688001" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/32280precompilingmathlib.html#166688001">Johan Commelin (May 28 2019 at 06:48)</a>:</h4>
<p>Your connection doesn't matter. What matters is the connection between your server and github</p>

<a name="166688173"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/pre-compiling%20mathlib/near/166688173" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/32280precompilingmathlib.html#166688173">Greg Conneen (May 28 2019 at 06:52)</a>:</h4>
<p>Unfortunately that's the connection that's slow</p>

<a name="166688186"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/pre-compiling%20mathlib/near/166688186" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/32280precompilingmathlib.html#166688186">Greg Conneen (May 28 2019 at 06:52)</a>:</h4>
<p>I mentioned I'm overseas because if I were there I could fix my internet</p>

<a name="166688227"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/pre-compiling%20mathlib/near/166688227" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/32280precompilingmathlib.html#166688227">Johan Commelin (May 28 2019 at 06:53)</a>:</h4>
<p>Ooh, ok. It's not some VPS that you are renting?</p>

<a name="166688393"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/pre-compiling%20mathlib/near/166688393" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/32280precompilingmathlib.html#166688393">Greg Conneen (May 28 2019 at 06:56)</a>:</h4>
<p>No, it's my device. I usually just use it for managing websites, discord bot scripts, and running simulations, but it's the only thing with compute power that I can access from Japan. So I sorta turned it into a work machine</p>


{% endraw %}

{% include archive_update.html %}