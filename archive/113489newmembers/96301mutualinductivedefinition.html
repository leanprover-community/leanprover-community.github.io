---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/113489newmembers/96301mutualinductivedefinition.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113489newmembers/index.html">new members</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113489newmembers/96301mutualinductivedefinition.html">mutual inductive definition</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="147808981"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mutual%20inductive%20definition/near/147808981" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/96301mutualinductivedefinition.html#147808981">Shaun Steenkamp (Nov 16 2018 at 10:35)</a>:</h4>
<p>can one of you explain why I cannot get this mutual inductive definition to work?</p>
<div class="codehilite"><pre><span></span><span class="n">mutual</span> <span class="kn">inductive</span> <span class="n">Foo</span><span class="o">,</span> <span class="n">Bar</span>
<span class="k">with</span> <span class="n">Foo</span> <span class="o">:</span> <span class="kt">Type</span>
<span class="bp">|</span> <span class="n">bizz</span> <span class="o">:</span> <span class="n">Foo</span>
<span class="bp">|</span> <span class="n">buzz</span> <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">Foo</span><span class="o">}</span> <span class="o">:</span> <span class="n">Bar</span> <span class="n">f</span> <span class="bp">→</span> <span class="n">Foo</span>
<span class="k">with</span> <span class="n">Bar</span> <span class="o">:</span> <span class="n">Foo</span> <span class="bp">→</span> <span class="kt">Type</span>
<span class="bp">|</span> <span class="n">baz</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">Foo</span><span class="o">)</span> <span class="o">:</span> <span class="n">Bar</span> <span class="n">f</span>
</pre></div>


<p>For reference, the following works in Agda</p>
<div class="codehilite"><pre><span></span><span class="kr">mutual</span>
  <span class="kr">data</span> Foo <span class="ow">:</span> <span class="kt">Set</span> <span class="kr">where</span>
    <span class="nf">bizz</span> <span class="ow">:</span> Foo
    <span class="nf">buzz</span> <span class="ow">:</span> <span class="o">{</span>f <span class="ow">:</span> Foo<span class="o">}</span> <span class="ow">→</span> Bar f <span class="ow">→</span> Foo

  <span class="kr">data</span> Bar <span class="ow">:</span> Foo <span class="ow">→</span> <span class="kt">Set</span> <span class="kr">where</span>
    <span class="nf">baz</span> <span class="ow">:</span> <span class="o">(</span>f <span class="ow">:</span> Foo<span class="o">)</span> <span class="ow">→</span> Bar f
</pre></div>

<a name="147809137"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mutual%20inductive%20definition/near/147809137" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/96301mutualinductivedefinition.html#147809137">Mario Carneiro (Nov 16 2018 at 10:39)</a>:</h4>
<p>this is called an inductive-recursive definition, and it is stronger than lean's axiomatics</p>

<a name="147809215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mutual%20inductive%20definition/near/147809215" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/96301mutualinductivedefinition.html#147809215">Mario Carneiro (Nov 16 2018 at 10:40)</a>:</h4>
<p>There may be another way to encode the type you want, but inductive recursive definitions can be used to prove DTT is consistent, so lean can't do it</p>

<a name="147809656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mutual%20inductive%20definition/near/147809656" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/96301mutualinductivedefinition.html#147809656">Keeley Hoek (Nov 16 2018 at 10:51)</a>:</h4>
<p>Incidentally, Mario, were you working on a Lean consistency project at some point?</p>

<a name="147809895"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mutual%20inductive%20definition/near/147809895" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/96301mutualinductivedefinition.html#147809895">Shaun Steenkamp (Nov 16 2018 at 10:58)</a>:</h4>
<p>What is DTT?</p>

<a name="147810111"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mutual%20inductive%20definition/near/147810111" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/96301mutualinductivedefinition.html#147810111">Patrick Massot (Nov 16 2018 at 11:02)</a>:</h4>
<p>dependent type theory</p>

<a name="147810119"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mutual%20inductive%20definition/near/147810119" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/96301mutualinductivedefinition.html#147810119">Patrick Massot (Nov 16 2018 at 11:03)</a>:</h4>
<p>That's the name of the game we are playing</p>

<a name="147811271"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mutual%20inductive%20definition/near/147811271" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/96301mutualinductivedefinition.html#147811271">Mario Carneiro (Nov 16 2018 at 11:30)</a>:</h4>
<p>yes, I'll be defending my masters thesis in a few weeks and lean consistency is in it</p>

<a name="147811346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mutual%20inductive%20definition/near/147811346" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/96301mutualinductivedefinition.html#147811346">Mario Carneiro (Nov 16 2018 at 11:30)</a>:</h4>
<p><a href="https://github.com/digama0/lean-type-theory/releases/tag/v0.21" target="_blank" title="https://github.com/digama0/lean-type-theory/releases/tag/v0.21">https://github.com/digama0/lean-type-theory/releases/tag/v0.21</a></p>

<a name="147811386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mutual%20inductive%20definition/near/147811386" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/96301mutualinductivedefinition.html#147811386">Kenny Lau (Nov 16 2018 at 11:31)</a>:</h4>
<p>so, is lean consistent?</p>

<a name="147811742"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mutual%20inductive%20definition/near/147811742" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/96301mutualinductivedefinition.html#147811742">Abhimanyu Pallavi Sudhir (Nov 16 2018 at 11:38)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> How is that not independent?</p>

<a name="147812715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mutual%20inductive%20definition/near/147812715" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/96301mutualinductivedefinition.html#147812715">Mario Carneiro (Nov 16 2018 at 12:02)</a>:</h4>
<p>yes, assuming some large cardinal assumptions</p>

<a name="147812723"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mutual%20inductive%20definition/near/147812723" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/96301mutualinductivedefinition.html#147812723">Mario Carneiro (Nov 16 2018 at 12:03)</a>:</h4>
<p>which is the usual story with consistency proofs</p>

<a name="147813619"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mutual%20inductive%20definition/near/147813619" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/96301mutualinductivedefinition.html#147813619">Johannes Hölzl (Nov 16 2018 at 12:25)</a>:</h4>
<p>I think this shape is called inductive-inductive: mutual inductive types where at least one is indexed by the other one, inductive-recursive means to mutually define inductive types and recursive definitions where at least one inductive type depends on the recursive definition.<br>
I think inductive-inductive can be reduced to inductive, inductive-recursive cannot</p>

<a name="147813885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mutual%20inductive%20definition/near/147813885" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/96301mutualinductivedefinition.html#147813885">Mario Carneiro (Nov 16 2018 at 12:30)</a>:</h4>
<p>you might be right about the name, but I'm pretty sure inductive-inductive is also axiomatically strong</p>

<a name="147813968"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mutual%20inductive%20definition/near/147813968" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/96301mutualinductivedefinition.html#147813968">Mario Carneiro (Nov 16 2018 at 12:32)</a>:</h4>
<p>because you can define the well typed terms of DTT by induction-induction with the set of well formed contexts and the set of types in a context</p>

<a name="147814054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mutual%20inductive%20definition/near/147814054" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/96301mutualinductivedefinition.html#147814054">Mario Carneiro (Nov 16 2018 at 12:34)</a>:</h4>
<p>Inductive recursive can be reduced to inductive inductive, I think, where the recursive function becomes a functional relation</p>

<a name="147814450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mutual%20inductive%20definition/near/147814450" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/96301mutualinductivedefinition.html#147814450">Johannes Hölzl (Nov 16 2018 at 12:42)</a>:</h4>
<p>Ah, or it was this way round</p>

<a name="147817435"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mutual%20inductive%20definition/near/147817435" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/96301mutualinductivedefinition.html#147817435">Shaun Steenkamp (Nov 16 2018 at 13:45)</a>:</h4>
<blockquote>
<p>There may be another way to encode the type you want, but inductive recursive definitions can be used to prove DTT is consistent, so lean can't do it</p>
</blockquote>
<p>Consistent with respect to what?</p>

<a name="147821293"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mutual%20inductive%20definition/near/147821293" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/96301mutualinductivedefinition.html#147821293">Johannes Hölzl (Nov 16 2018 at 14:54)</a>:</h4>
<p>with respect to DTT with a larger type universe and inductive recursive definitions (I guess)</p>

<a name="147821961"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mutual%20inductive%20definition/near/147821961" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/96301mutualinductivedefinition.html#147821961">Floris van Doorn (Nov 16 2018 at 15:05)</a>:</h4>
<p>This is indeed an inductive-inductive definition. I think adding these won't increase the proof stength of the system. In extensional type theory, inductive-inductive definitions can be defined from indexed inductive types, but I don't think it's known in whether this is the case in intensional type theory.<br>
Inductive-recursive definitions indeed do increase the proof stength of the system: you can build a (Tarski) universe using induction-recursion.<br>
Ncatlab links:<br>
<a href="https://ncatlab.org/nlab/show/inductive-inductive+type" target="_blank" title="https://ncatlab.org/nlab/show/inductive-inductive+type">https://ncatlab.org/nlab/show/inductive-inductive+type</a><br>
<a href="https://ncatlab.org/nlab/show/inductive-recursive+type" target="_blank" title="https://ncatlab.org/nlab/show/inductive-recursive+type">https://ncatlab.org/nlab/show/inductive-recursive+type</a></p>


{% endraw %}
