---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/113489newmembers/37083Raymond.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113489newmembers/index.html">new members</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113489newmembers/37083Raymond.html">Raymond</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="157810140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Raymond/near/157810140" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/37083Raymond.html#157810140">Patrick Massot (Feb 07 2019 at 20:26)</a>:</h4>
<p>I see a new mathematician online here! Hi Raymond!</p>

<a name="157813214"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Raymond/near/157813214" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/37083Raymond.html#157813214">Kevin Buzzard (Feb 07 2019 at 21:11)</a>:</h4>
<p>A number theorist, no less!</p>

<a name="157813294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Raymond/near/157813294" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/37083Raymond.html#157813294">Patrick Massot (Feb 07 2019 at 21:12)</a>:</h4>
<p>Sébastien, we really need to find how to attract more geometers...</p>

<a name="157815795"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Raymond/near/157815795" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/37083Raymond.html#157815795">Sebastien Gouezel (Feb 07 2019 at 21:49)</a>:</h4>
<p>First we have to define manifolds and tangent bundles and de Rham cohomology.</p>

<a name="157815969"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Raymond/near/157815969" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/37083Raymond.html#157815969">Patrick Massot (Feb 07 2019 at 21:51)</a>:</h4>
<p>I know... But, before you came here, I was the only geometer, so I started perfectoid spaces with Kevin and Johan instead. And now I teach 13 hours per week until April <span aria-label="exhausted" class="emoji emoji-1f625" role="img" title="exhausted">:exhausted:</span></p>

<a name="157822242"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Raymond/near/157822242" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/37083Raymond.html#157822242">Jan-David Salchow (Feb 07 2019 at 23:23)</a>:</h4>
<p>+1 for manifolds</p>

<a name="157825814"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Raymond/near/157825814" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/37083Raymond.html#157825814">Kevin Buzzard (Feb 08 2019 at 00:29)</a>:</h4>
<p>I think manifolds is a wonderful goal.</p>

<a name="157826998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Raymond/near/157826998" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/37083Raymond.html#157826998">Kenny Lau (Feb 08 2019 at 00:55)</a>:</h4>
<p>I thought <span class="user-mention" data-user-id="110031">@Patrick Massot</span> warned us against manifolds</p>

<a name="157827116"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Raymond/near/157827116" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/37083Raymond.html#157827116">Kevin Buzzard (Feb 08 2019 at 00:57)</a>:</h4>
<p>He just said it was interesting how much work there was in the details which he usually left to the students</p>

<a name="157840414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Raymond/near/157840414" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/37083Raymond.html#157840414">Johan Commelin (Feb 08 2019 at 07:12)</a>:</h4>
<p>Hoi <span class="user-mention" data-user-id="199347">@Raymond</span>. Je bent ineens heel populair (-; <span aria-label="thumbs up" class="emoji emoji-1f44d" role="img" title="thumbs up">:thumbs_up:</span></p>

<a name="157842282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Raymond/near/157842282" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/37083Raymond.html#157842282">Patrick Massot (Feb 08 2019 at 08:02)</a>:</h4>
<blockquote>
<p>I thought Patrick Massot warned us against manifolds</p>
</blockquote>
<p>I said we should do manifolds, but it's slightly more complicated than you may think. But really we should be finishing stuff, especially when we announced them everywhere. So I won't work on manifolds until perfectoid spaces are done. In the mean time, everybody is welcome to do calculus which is ridiculously missing and will block manifolds anyway.</p>

<a name="157844601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Raymond/near/157844601" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/37083Raymond.html#157844601">Raymond (Feb 08 2019 at 08:57)</a>:</h4>
<p>Hi all! I started learning lean after <span class="user-mention" data-user-id="198366">@David Holmes</span> told me it was fun, and I am going through these problems on Kevin's website now. It still feels like a lot of trial-and-error, but I am slowly getting used to this.</p>

<a name="157844905"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Raymond/near/157844905" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/37083Raymond.html#157844905">Kevin Buzzard (Feb 08 2019 at 09:02)</a>:</h4>
<p>I wrote those problems in about 5 seconds flat and I'm sure they're completely unbalanced. There is a certain art to it all. I have some time for Lean now but there are about 10 things I want to do, and making good teaching materials is one of them, but currently everything is a bit haphazard.</p>

<a name="157860110"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Raymond/near/157860110" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/37083Raymond.html#157860110">David Holmes (Feb 08 2019 at 13:50)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="199347">@Raymond</span>, nice to see you! I forgot I used the word `fun'... Actually, it was really fun after I got through the logic puzzles (a =&gt; b stuff). It was constructing the natural and the complex numbers that I really liked. I should play with this again...</p>

<a name="157860228"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Raymond/near/157860228" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/37083Raymond.html#157860228">Kevin Buzzard (Feb 08 2019 at 13:52)</a>:</h4>
<p>I just spent an hour with a joint maths/computing student building group cohomology from scratch. We got as far as H^0 but she was just a learner so we went slowly.</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">algebra</span><span class="bp">.</span><span class="n">module</span>

<span class="n">class</span> <span class="n">G_module</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span>
  <span class="kn">extends</span> <span class="n">add_comm_group</span> <span class="n">M</span><span class="o">,</span> <span class="n">has_scalar</span> <span class="n">G</span> <span class="n">M</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">id</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">m</span> <span class="o">:</span> <span class="n">M</span><span class="o">,</span> <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="err">•</span> <span class="n">m</span> <span class="bp">=</span> <span class="n">m</span><span class="o">)</span>
<span class="o">(</span><span class="n">mul</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">g</span> <span class="n">h</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">m</span> <span class="o">:</span> <span class="n">M</span><span class="o">,</span> <span class="n">g</span> <span class="err">•</span> <span class="o">(</span><span class="n">h</span> <span class="err">•</span> <span class="n">m</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="n">g</span> <span class="bp">*</span> <span class="n">h</span><span class="o">)</span> <span class="err">•</span> <span class="n">m</span><span class="o">)</span>
<span class="o">(</span><span class="n">linear</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">g</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="n">M</span><span class="o">,</span> <span class="n">g</span> <span class="err">•</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">n</span><span class="o">)</span> <span class="bp">=</span> <span class="n">g</span> <span class="err">•</span> <span class="n">m</span> <span class="bp">+</span> <span class="n">g</span> <span class="err">•</span> <span class="n">n</span><span class="o">)</span>

<span class="kn">definition</span> <span class="n">H0</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">G_module</span> <span class="n">G</span> <span class="n">M</span><span class="o">]</span>
<span class="o">:=</span> <span class="o">{</span><span class="n">m</span> <span class="o">:</span> <span class="n">M</span> <span class="bp">//</span> <span class="bp">∀</span> <span class="n">g</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="n">g</span> <span class="err">•</span> <span class="n">m</span> <span class="bp">=</span> <span class="n">m</span><span class="o">}</span>

<span class="kn">variables</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">G_module</span> <span class="n">G</span> <span class="n">M</span><span class="o">]</span>

<span class="kn">variables</span> <span class="o">{</span><span class="n">G</span><span class="o">}</span> <span class="o">{</span><span class="n">M</span><span class="o">}</span>

<span class="kn">lemma</span> <span class="n">g_zero</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span> <span class="n">g</span> <span class="err">•</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">M</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="k">have</span> <span class="n">h</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">+</span> <span class="n">g</span> <span class="err">•</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">M</span><span class="o">)</span> <span class="bp">=</span> <span class="n">g</span> <span class="err">•</span> <span class="mi">0</span> <span class="bp">+</span> <span class="n">g</span> <span class="err">•</span> <span class="mi">0</span><span class="o">,</span>
    <span class="k">calc</span>
    <span class="mi">0</span> <span class="bp">+</span> <span class="n">g</span> <span class="err">•</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">M</span><span class="o">)</span> <span class="bp">=</span> <span class="n">g</span> <span class="err">•</span> <span class="mi">0</span> <span class="o">:</span> <span class="n">zero_add</span> <span class="bp">_</span>
    <span class="bp">...</span>             <span class="bp">=</span> <span class="n">g</span> <span class="err">•</span> <span class="o">(</span><span class="mi">0</span> <span class="bp">+</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">add_zero</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">M</span><span class="o">)]</span>
    <span class="bp">...</span>         <span class="bp">=</span> <span class="n">g</span> <span class="err">•</span> <span class="mi">0</span> <span class="bp">+</span> <span class="n">g</span> <span class="err">•</span> <span class="mi">0</span> <span class="o">:</span> <span class="n">G_module</span><span class="bp">.</span><span class="n">linear</span> <span class="n">g</span> <span class="mi">0</span> <span class="mi">0</span><span class="o">,</span>
   <span class="n">symmetry</span><span class="o">,</span>
   <span class="n">exact</span> <span class="n">add_right_cancel</span> <span class="n">h</span>
<span class="kn">end</span>

<span class="kn">lemma</span> <span class="n">g_neg</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">(</span><span class="n">m</span> <span class="o">:</span> <span class="n">M</span><span class="o">)</span> <span class="o">:</span> <span class="n">g</span> <span class="err">•</span> <span class="o">(</span><span class="bp">-</span><span class="n">m</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">-</span><span class="o">(</span><span class="n">g</span><span class="err">•</span> <span class="n">m</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">apply</span> <span class="n">eq_neg_of_add_eq_zero</span><span class="o">,</span>
  <span class="n">rw</span> <span class="err">←</span><span class="n">G_module</span><span class="bp">.</span><span class="n">linear</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">neg_add_self</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">g_zero</span> <span class="n">g</span>
<span class="kn">end</span>

<span class="kn">theorem</span> <span class="n">H0</span><span class="bp">.</span><span class="n">add_closed</span> <span class="o">(</span><span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="n">M</span><span class="o">)</span>
  <span class="o">(</span><span class="n">hm</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">g</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="n">g</span> <span class="err">•</span> <span class="n">m</span> <span class="bp">=</span> <span class="n">m</span><span class="o">)</span> <span class="o">(</span><span class="n">hn</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">g</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="n">g</span> <span class="err">•</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span>
<span class="bp">∀</span> <span class="n">g</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="n">g</span> <span class="err">•</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">n</span><span class="o">)</span> <span class="bp">=</span> <span class="n">m</span> <span class="bp">+</span> <span class="n">n</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">intro</span> <span class="n">g</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">G_module</span><span class="bp">.</span><span class="n">linear</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">hm</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">hn</span><span class="o">,</span>
<span class="kn">end</span>

<span class="kn">definition</span> <span class="n">H0</span><span class="bp">.</span><span class="n">add_comm_group</span> <span class="o">:</span> <span class="n">add_comm_group</span> <span class="o">(</span><span class="n">H0</span> <span class="n">G</span> <span class="n">M</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">add</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">x</span><span class="bp">.</span><span class="mi">1</span> <span class="bp">+</span> <span class="n">y</span><span class="bp">.</span><span class="mi">1</span><span class="o">,</span> <span class="n">H0</span><span class="bp">.</span><span class="n">add_closed</span> <span class="n">x</span><span class="bp">.</span><span class="mi">1</span> <span class="n">y</span><span class="bp">.</span><span class="mi">1</span> <span class="n">x</span><span class="bp">.</span><span class="mi">2</span> <span class="n">y</span><span class="bp">.</span><span class="mi">2</span><span class="bp">⟩</span><span class="o">,</span>
  <span class="n">add_assoc</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span><span class="o">,</span> <span class="n">subtype</span><span class="bp">.</span><span class="n">eq</span> <span class="o">(</span><span class="n">add_assoc</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">),</span>
  <span class="c">/-</span><span class="cm"> begin</span>
<span class="cm">    intros a b c,</span>
<span class="cm">    apply subtype.eq,</span>
<span class="cm">--    show a.val + b.val + c.val = a.val + (b.val + c.val),</span>
<span class="cm">    exact add_assoc _ _ _</span>
<span class="cm">  end ,-/</span>
  <span class="n">zero</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="mi">0</span><span class="o">,</span><span class="n">g_zero</span><span class="bp">⟩</span><span class="o">,</span>
  <span class="n">zero_add</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">a</span><span class="o">,</span> <span class="n">subtype</span><span class="bp">.</span><span class="n">eq</span> <span class="o">(</span><span class="n">zero_add</span> <span class="bp">_</span><span class="o">),</span>
  <span class="n">add_zero</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">a</span><span class="o">,</span> <span class="n">subtype</span><span class="bp">.</span><span class="n">eq</span> <span class="o">(</span><span class="n">add_zero</span> <span class="bp">_</span><span class="o">),</span>
  <span class="n">neg</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="bp">⟨-</span><span class="n">x</span><span class="bp">.</span><span class="mi">1</span><span class="o">,</span> <span class="bp">λ</span> <span class="n">g</span><span class="o">,</span> <span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">g_neg</span> <span class="n">g</span> <span class="n">x</span><span class="bp">.</span><span class="mi">1</span><span class="o">,</span> <span class="n">x</span><span class="bp">.</span><span class="mi">2</span><span class="o">]</span><span class="bp">⟩</span><span class="o">,</span>
  <span class="n">add_left_neg</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">a</span><span class="o">,</span> <span class="n">subtype</span><span class="bp">.</span><span class="n">eq</span> <span class="o">(</span><span class="n">add_left_neg</span> <span class="bp">_</span><span class="o">),</span>
  <span class="n">add_comm</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span> <span class="n">subtype</span><span class="bp">.</span><span class="n">eq</span> <span class="o">(</span><span class="n">add_comm</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)}</span>

<span class="kn">variables</span> <span class="o">{</span><span class="n">N</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">G_module</span> <span class="n">G</span> <span class="n">N</span><span class="o">]</span>

<span class="kn">variable</span> <span class="o">(</span><span class="n">G</span><span class="o">)</span>

<span class="kn">definition</span> <span class="n">G_module_hom</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">M</span> <span class="bp">→</span> <span class="n">N</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="bp">∀</span> <span class="n">g</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">m</span> <span class="o">:</span> <span class="n">M</span><span class="o">,</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="err">•</span> <span class="n">m</span><span class="o">)</span> <span class="bp">=</span> <span class="n">g</span> <span class="err">•</span> <span class="o">(</span><span class="n">f</span> <span class="n">m</span><span class="o">)</span>

<span class="kn">lemma</span> <span class="n">H0</span><span class="bp">.</span><span class="n">G_module_hom</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">M</span> <span class="bp">→</span> <span class="n">N</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">G_module_hom</span> <span class="n">G</span> <span class="n">f</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">(</span><span class="n">m</span> <span class="o">:</span> <span class="n">M</span><span class="o">)</span>
<span class="o">(</span><span class="n">hm</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">g</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="n">g</span> <span class="err">•</span> <span class="n">m</span> <span class="bp">=</span> <span class="n">m</span><span class="o">):</span>
<span class="n">g</span> <span class="err">•</span> <span class="n">f</span> <span class="n">m</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">m</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">rw</span> <span class="err">←</span><span class="n">h</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">hm</span> <span class="n">g</span><span class="o">,</span>
<span class="kn">end</span>

<span class="n">def</span> <span class="n">H0_f</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">M</span> <span class="bp">→</span> <span class="n">N</span><span class="o">)</span> <span class="o">(</span><span class="n">hf</span> <span class="o">:</span> <span class="n">G_module_hom</span> <span class="n">G</span> <span class="n">f</span><span class="o">)</span> <span class="o">:</span> <span class="n">H0</span> <span class="n">G</span> <span class="n">M</span> <span class="bp">→</span> <span class="n">H0</span> <span class="n">G</span> <span class="n">N</span> <span class="o">:=</span>
<span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">f</span> <span class="n">x</span><span class="bp">.</span><span class="mi">1</span><span class="o">,</span> <span class="bp">λ</span> <span class="n">g</span><span class="o">,</span> <span class="n">H0</span><span class="bp">.</span><span class="n">G_module_hom</span> <span class="n">G</span> <span class="n">f</span> <span class="n">hf</span> <span class="n">g</span> <span class="n">x</span><span class="bp">.</span><span class="mi">1</span> <span class="n">x</span><span class="bp">.</span><span class="mi">2</span><span class="bp">⟩</span>

<span class="kn">lemma</span> <span class="n">id</span><span class="bp">.</span><span class="n">G_module_hom</span> <span class="o">:</span> <span class="n">G_module_hom</span> <span class="n">G</span> <span class="o">(</span><span class="n">id</span> <span class="o">:</span> <span class="n">M</span> <span class="bp">→</span> <span class="n">M</span><span class="o">)</span> <span class="o">:=</span>
<span class="bp">λ</span> <span class="n">g</span> <span class="n">m</span><span class="o">,</span> <span class="n">rfl</span>
<span class="c">/-</span><span class="cm">begin</span>
<span class="cm">  intro g,</span>
<span class="cm">  intro m,</span>
<span class="cm">  refl,</span>
<span class="cm">end</span>
<span class="cm">-/</span>
</pre></div>

<a name="157860333"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Raymond/near/157860333" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/37083Raymond.html#157860333">Kevin Buzzard (Feb 08 2019 at 13:54)</a>:</h4>
<p>It just feels like the machine is holding your hand and nothing can go wrong. And what's really stupid is that for all I know, this is the first time, or perhaps one of the first times, people have done group cohomology in this formal proof setting. A lot of existing code in these systems is not this sort of masters level algebra.</p>

<a name="157860364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Raymond/near/157860364" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/37083Raymond.html#157860364">Kevin Buzzard (Feb 08 2019 at 13:55)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> I think all my lemmas and definitions are named very poorly.</p>

<a name="157860431"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Raymond/near/157860431" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/37083Raymond.html#157860431">Kevin Buzzard (Feb 08 2019 at 13:56)</a>:</h4>
<p>I know the proofs are golfable but I realised that I couldn't really think of good lemma names on my feet and I didn't want to stop and start browsing through similar constructions because of time pressure</p>

<a name="157860486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Raymond/near/157860486" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/37083Raymond.html#157860486">Kevin Buzzard (Feb 08 2019 at 13:57)</a>:</h4>
<p><span class="user-mention" data-user-id="198366">@David Holmes</span> Kenny did H^1 for his 1st year project: <a href="https://github.com/kckennylau/local-langlands-abelian/blob/master/src/group_cohomology.lean" target="_blank" title="https://github.com/kckennylau/local-langlands-abelian/blob/master/src/group_cohomology.lean">https://github.com/kckennylau/local-langlands-abelian/blob/master/src/group_cohomology.lean</a> -- as part of his work on formalising the local Langlands conjectures</p>

<a name="157873458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Raymond/near/157873458" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/37083Raymond.html#157873458">Raymond (Feb 08 2019 at 16:50)</a>:</h4>
<blockquote>
<p>Hi <span class="user-mention silent" data-user-id="199347">@Raymond</span>, nice to see you! I forgot I used the word `fun'... Actually, it was really fun after I got through the logic puzzles (a =&gt; b stuff). It was constructing the natural and the complex numbers that I really liked. I should play with this again...</p>
</blockquote>
<p>O well, that was just my interpretation of what you were telling me.</p>
<p>The thing which confuses me a bit now are what things <code>simp</code> does and does not simplify. For my complex numbers some equalities are just the usual properties for the reals, but it sometimes does not recognise this as such.</p>

<a name="157875639"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Raymond/near/157875639" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/37083Raymond.html#157875639">Kevin Buzzard (Feb 08 2019 at 17:20)</a>:</h4>
<p>Using <code>simp</code> is an art, and making it work with new structures that you make is even more than an art. It's a large database of results of the form <code>A = B</code> and <code>P &lt;-&gt; Q</code>, with the left hand side "more complicated" than the right hand side. The strategy, of course, is that if <code>simp</code> spots anything in the goal which is deemed "more complicated", it replaces it with the "less complicated" thing, and keeps going until it either gets stuck or ends up with something of the form X = X, in which case it proves it using reflexivity of equality :-) If you make a new thing, then you should make some "simp lemmas" (by proving them and tagging them with <code>@[simp]</code>) and you want to prove just the right things to take the argument in the direction you want it to go.</p>

<a name="157875712"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Raymond/near/157875712" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/37083Raymond.html#157875712">Kevin Buzzard (Feb 08 2019 at 17:20)</a>:</h4>
<p>I don't think I understood <code>simp</code> well until I understood definitional equality.</p>

<a name="157886784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Raymond/near/157886784" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/37083Raymond.html#157886784">Kenny Lau (Feb 08 2019 at 19:48)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">algebra</span><span class="bp">.</span><span class="n">module</span> <span class="n">group_theory</span><span class="bp">.</span><span class="n">subgroup</span>

<span class="n">class</span> <span class="n">group_module</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">add_comm_group</span> <span class="n">M</span><span class="o">]</span> <span class="kn">extends</span> <span class="n">has_scalar</span> <span class="n">G</span> <span class="n">M</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">one_smul</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">m</span> <span class="o">:</span> <span class="n">M</span><span class="o">,</span> <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="err">•</span> <span class="n">m</span> <span class="bp">=</span> <span class="n">m</span><span class="o">)</span>
<span class="o">(</span><span class="n">smul_smul</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">g</span> <span class="n">h</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">m</span> <span class="o">:</span> <span class="n">M</span><span class="o">,</span> <span class="n">g</span> <span class="err">•</span> <span class="o">(</span><span class="n">h</span> <span class="err">•</span> <span class="n">m</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="n">g</span> <span class="bp">*</span> <span class="n">h</span><span class="o">)</span> <span class="err">•</span> <span class="n">m</span><span class="o">)</span>
<span class="o">(</span><span class="n">smul_add</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">g</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="n">M</span><span class="o">,</span> <span class="n">g</span> <span class="err">•</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">n</span><span class="o">)</span> <span class="bp">=</span> <span class="n">g</span> <span class="err">•</span> <span class="n">m</span> <span class="bp">+</span> <span class="n">g</span> <span class="err">•</span> <span class="n">n</span><span class="o">)</span>

<span class="kn">namespace</span> <span class="n">group_module</span>

<span class="kn">variables</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">{</span><span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">add_comm_group</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">group_module</span> <span class="n">G</span> <span class="n">M</span><span class="o">]</span>

<span class="kn">variables</span> <span class="o">(</span><span class="n">M</span><span class="o">)</span>
<span class="kn">instance</span> <span class="n">is_add_group_hom_smul</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span> <span class="n">is_add_group_hom</span> <span class="o">((</span><span class="err">•</span><span class="o">)</span> <span class="n">g</span> <span class="o">:</span> <span class="n">M</span> <span class="bp">→</span> <span class="n">M</span><span class="o">)</span> <span class="o">:=</span>
<span class="bp">⟨</span><span class="n">group_module</span><span class="bp">.</span><span class="n">smul_add</span> <span class="n">g</span><span class="bp">⟩</span>

<span class="kn">lemma</span> <span class="n">smul_zero</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span> <span class="n">g</span> <span class="err">•</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">M</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="n">is_add_group_hom</span><span class="bp">.</span><span class="n">zero</span> <span class="bp">_</span>
<span class="kn">variables</span> <span class="o">{</span><span class="n">M</span><span class="o">}</span>

<span class="kn">lemma</span> <span class="n">smul_neg</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">(</span><span class="n">m</span> <span class="o">:</span> <span class="n">M</span><span class="o">)</span> <span class="o">:</span> <span class="n">g</span> <span class="err">•</span> <span class="o">(</span><span class="bp">-</span><span class="n">m</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">-</span><span class="o">(</span><span class="n">g</span> <span class="err">•</span> <span class="n">m</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">is_add_group_hom</span><span class="bp">.</span><span class="n">neg</span> <span class="bp">_</span> <span class="bp">_</span>

<span class="kn">definition</span> <span class="n">fixed_points</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">add_comm_group</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">group_module</span> <span class="n">G</span> <span class="n">M</span><span class="o">]</span> <span class="o">:</span> <span class="n">set</span> <span class="n">M</span> <span class="o">:=</span>
<span class="o">{</span><span class="n">m</span> <span class="o">:</span> <span class="n">M</span> <span class="bp">|</span> <span class="bp">∀</span> <span class="n">g</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="n">g</span> <span class="err">•</span> <span class="n">m</span> <span class="bp">=</span> <span class="n">m</span><span class="o">}</span>

<span class="kn">instance</span> <span class="n">fixed_points</span><span class="bp">.</span><span class="n">is_add_subgroup</span> <span class="o">:</span> <span class="n">is_add_subgroup</span> <span class="o">(</span><span class="n">fixed_points</span> <span class="n">G</span> <span class="n">M</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">add_mem</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">m</span> <span class="n">n</span> <span class="n">hm</span> <span class="n">hn</span> <span class="n">g</span><span class="o">,</span> <span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">smul_add</span><span class="o">,</span> <span class="n">hm</span> <span class="n">g</span><span class="o">,</span> <span class="n">hn</span> <span class="n">g</span><span class="o">],</span>
  <span class="n">zero_mem</span> <span class="o">:=</span> <span class="n">smul_zero</span> <span class="n">M</span><span class="o">,</span>
  <span class="n">neg_mem</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">m</span> <span class="n">hm</span> <span class="n">g</span><span class="o">,</span> <span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">smul_neg</span><span class="o">,</span> <span class="n">hm</span> <span class="n">g</span><span class="o">]</span> <span class="o">}</span>

<span class="kn">definition</span> <span class="n">H0</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">add_comm_group</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">group_module</span> <span class="n">G</span> <span class="n">M</span><span class="o">]</span> <span class="o">:=</span>
<span class="n">fixed_points</span> <span class="n">G</span> <span class="n">M</span>

<span class="kn">instance</span> <span class="n">H0</span><span class="bp">.</span><span class="n">add_comm_group</span> <span class="o">:</span> <span class="n">add_comm_group</span> <span class="o">(</span><span class="n">H0</span> <span class="n">G</span> <span class="n">M</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">add_comm</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">m</span> <span class="n">n</span><span class="o">,</span> <span class="n">subtype</span><span class="bp">.</span><span class="n">eq</span> <span class="err">$</span> <span class="n">add_comm</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">,</span>
  <span class="bp">..</span> <span class="bp">@</span><span class="n">subtype</span><span class="bp">.</span><span class="n">add_group</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="n">fixed_points</span><span class="bp">.</span><span class="n">is_add_subgroup</span> <span class="o">}</span>

<span class="kn">end</span> <span class="n">group_module</span>

<span class="kn">variables</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">{</span><span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">add_comm_group</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">group_module</span> <span class="n">G</span> <span class="n">M</span><span class="o">]</span>
<span class="kn">variables</span> <span class="o">{</span><span class="n">N</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">add_comm_group</span> <span class="n">N</span><span class="o">]</span> <span class="o">[</span><span class="n">group_module</span> <span class="n">G</span> <span class="n">N</span><span class="o">]</span>

<span class="kn">variable</span> <span class="o">(</span><span class="n">G</span><span class="o">)</span>

<span class="n">def</span> <span class="n">is_group_module_hom</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">M</span> <span class="bp">→</span> <span class="n">N</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="bp">∀</span> <span class="n">g</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">m</span> <span class="o">:</span> <span class="n">M</span><span class="o">,</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="err">•</span> <span class="n">m</span><span class="o">)</span> <span class="bp">=</span> <span class="n">g</span> <span class="err">•</span> <span class="o">(</span><span class="n">f</span> <span class="n">m</span><span class="o">)</span>

<span class="kn">namespace</span> <span class="n">is_group_module_hom</span>
<span class="kn">open</span> <span class="n">group_module</span>

<span class="n">def</span> <span class="n">map_H0</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">M</span> <span class="bp">→</span> <span class="n">N</span><span class="o">)</span> <span class="o">(</span><span class="n">hf</span> <span class="o">:</span> <span class="n">is_group_module_hom</span> <span class="n">G</span> <span class="n">f</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">H0</span> <span class="n">G</span> <span class="n">M</span><span class="o">)</span> <span class="o">:</span> <span class="n">H0</span> <span class="n">G</span> <span class="n">N</span> <span class="o">:=</span>
<span class="bp">⟨</span><span class="n">f</span> <span class="n">x</span><span class="bp">.</span><span class="mi">1</span><span class="o">,</span> <span class="bp">λ</span> <span class="n">g</span><span class="o">,</span> <span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="err">←</span> <span class="n">hf</span><span class="o">,</span> <span class="n">x</span><span class="bp">.</span><span class="mi">2</span><span class="o">]</span><span class="bp">⟩</span>

<span class="kn">lemma</span> <span class="n">id</span><span class="bp">.</span><span class="n">group_module_hom</span> <span class="o">:</span> <span class="n">is_group_module_hom</span> <span class="n">G</span> <span class="o">(</span><span class="n">id</span> <span class="o">:</span> <span class="n">M</span> <span class="bp">→</span> <span class="n">M</span><span class="o">)</span> <span class="o">:=</span>
<span class="bp">λ</span> <span class="n">g</span> <span class="n">m</span><span class="o">,</span> <span class="n">rfl</span>

<span class="kn">end</span> <span class="n">is_group_module_hom</span>
</pre></div>

<a name="157886830"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Raymond/near/157886830" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/37083Raymond.html#157886830">Kenny Lau (Feb 08 2019 at 19:48)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> your file has been Kenny'd</p>

<a name="157889877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Raymond/near/157889877" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/37083Raymond.html#157889877">Kevin Buzzard (Feb 08 2019 at 20:26)</a>:</h4>
<p><span class="user-mention" data-user-id="202902">@Anca Ciobanu</span> Above is a version which is much harder to understand :-)</p>


{% endraw %}
