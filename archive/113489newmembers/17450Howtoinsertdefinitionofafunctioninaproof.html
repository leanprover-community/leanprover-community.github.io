---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113489newmembers/index.html">new members</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html">How to insert definition of a function in a proof</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="136147887"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136147887" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136147887">Tobias Grosser (Oct 20 2018 at 00:50)</a>:</h4>
<p>Hi, I again have a simple beginners questions. The definition of</p>
<div class="codehilite"><pre><span></span><span class="n">def</span> <span class="n">Gaussian_elimination</span> <span class="o">[</span><span class="n">decidable_eq</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">has_inv</span> <span class="n">α</span><span class="o">]:</span>
   <span class="bp">Π</span> <span class="o">(</span><span class="n">m</span> <span class="n">n</span><span class="o">),</span> <span class="n">matrix</span> <span class="o">(</span><span class="n">fin</span> <span class="n">m</span><span class="o">)</span> <span class="o">(</span><span class="n">fin</span> <span class="n">n</span><span class="o">)</span> <span class="n">α</span> <span class="bp">→</span>
   <span class="o">(</span><span class="n">matrix</span> <span class="o">(</span><span class="n">fin</span> <span class="n">m</span><span class="o">)</span> <span class="o">(</span><span class="n">fin</span> <span class="n">m</span><span class="o">)</span> <span class="n">α</span> <span class="bp">×</span> <span class="n">matrix</span> <span class="o">(</span><span class="n">fin</span> <span class="n">n</span><span class="o">)</span> <span class="o">(</span><span class="n">fin</span> <span class="n">n</span><span class="o">)</span> <span class="n">α</span> <span class="bp">×</span> <span class="n">nat</span><span class="o">)</span>
<span class="bp">|</span> <span class="o">(</span><span class="n">x</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="n">y</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="n">A</span> <span class="o">:=</span>
  <span class="k">let</span> <span class="n">optional_ij</span> <span class="o">:=</span> <span class="n">pick_encodable</span> <span class="o">(</span><span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">el</span><span class="o">,</span> <span class="n">el</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="n">y</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="n">A</span> <span class="k">in</span>
  <span class="k">match</span> <span class="n">optional_ij</span> <span class="k">with</span>
  <span class="bp">|</span> <span class="n">some</span> <span class="n">ij</span> <span class="o">:=</span>
    <span class="k">let</span> <span class="n">i</span> <span class="o">:=</span> <span class="n">ij</span><span class="bp">.</span><span class="mi">1</span> <span class="k">in</span>
    <span class="k">let</span> <span class="n">j</span> <span class="o">:=</span> <span class="n">ij</span><span class="bp">.</span><span class="mi">2</span> <span class="k">in</span>
    <span class="k">let</span> <span class="n">a</span> <span class="o">:=</span> <span class="n">A</span> <span class="n">i</span> <span class="n">j</span> <span class="k">in</span>
    <span class="k">let</span> <span class="n">A1</span> <span class="o">:=</span> <span class="n">xrow</span> <span class="n">i</span> <span class="mi">0</span> <span class="o">(</span><span class="n">xcol</span> <span class="n">j</span> <span class="mi">0</span> <span class="n">A</span><span class="o">)</span> <span class="k">in</span>
    <span class="k">let</span> <span class="n">A1&#39;</span> <span class="o">:=</span> <span class="n">fin_swap</span> <span class="n">A1</span> <span class="k">in</span>
    <span class="k">let</span> <span class="n">B</span> <span class="o">:=</span> <span class="n">A1&#39;</span> <span class="k">in</span>
    <span class="k">let</span> <span class="n">u</span> <span class="o">:=</span> <span class="n">ursubmx</span> <span class="n">A1&#39;</span> <span class="k">in</span>
    <span class="k">let</span> <span class="n">v</span> <span class="o">:=</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="err">•</span> <span class="n">dlsubmx</span> <span class="n">A1&#39;</span> <span class="k">in</span>
    <span class="k">let</span> <span class="o">(</span><span class="n">L</span><span class="o">,</span> <span class="n">U</span><span class="o">,</span> <span class="n">r</span><span class="o">)</span> <span class="o">:=</span> <span class="n">Gaussian_elimination</span> <span class="o">(</span><span class="n">x</span><span class="o">)</span> <span class="o">(</span><span class="n">y</span><span class="o">)</span> <span class="o">(</span><span class="n">drsubmx</span> <span class="n">A1&#39;</span> <span class="bp">-</span> <span class="o">(</span><span class="n">v</span> <span class="bp">*</span><span class="err">ₘ</span> <span class="n">u</span><span class="o">))</span> <span class="k">in</span>
    <span class="o">(</span>
      <span class="n">xrow</span> <span class="n">i</span> <span class="mi">0</span> <span class="o">(</span><span class="n">fin_swap</span> <span class="o">(</span><span class="n">block_mx</span> <span class="mi">1</span> <span class="mi">0</span> <span class="n">v</span> <span class="n">L</span><span class="o">)),</span>
      <span class="n">xcol</span> <span class="n">j</span> <span class="mi">0</span> <span class="o">(</span><span class="n">fin_swap</span> <span class="o">(</span><span class="n">block_mx</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">i1</span> <span class="n">j1</span><span class="o">,</span> <span class="n">a</span><span class="o">)</span> <span class="n">u</span> <span class="mi">0</span> <span class="n">U</span><span class="o">)),</span>
      <span class="n">r</span> <span class="bp">+</span> <span class="mi">1</span>
    <span class="o">)</span>
  <span class="bp">|</span> <span class="n">none</span> <span class="o">:=</span>
     <span class="o">(</span>
      <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="o">(</span><span class="n">matrix</span> <span class="o">(</span><span class="n">fin</span> <span class="o">(</span><span class="n">x</span><span class="bp">+</span><span class="mi">1</span><span class="o">))</span> <span class="o">(</span><span class="n">fin</span> <span class="o">(</span><span class="n">x</span><span class="bp">+</span><span class="mi">1</span><span class="o">))</span> <span class="n">α</span><span class="o">)),</span>
      <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="o">(</span><span class="n">matrix</span> <span class="o">(</span><span class="n">fin</span> <span class="o">(</span><span class="n">y</span><span class="bp">+</span><span class="mi">1</span><span class="o">))</span> <span class="o">(</span><span class="n">fin</span> <span class="o">(</span><span class="n">y</span><span class="bp">+</span><span class="mi">1</span><span class="o">))</span> <span class="n">α</span><span class="o">)),</span>
      <span class="mi">0</span>
     <span class="o">)</span>
  <span class="kn">end</span>
<span class="bp">|</span> <span class="n">x</span> <span class="n">y</span> <span class="n">A</span> <span class="o">:=</span>
     <span class="o">(</span>
      <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="o">(</span><span class="n">matrix</span> <span class="o">(</span><span class="n">fin</span> <span class="o">(</span><span class="n">x</span><span class="o">))</span> <span class="o">(</span><span class="n">fin</span> <span class="o">(</span><span class="n">x</span><span class="o">))</span> <span class="n">α</span><span class="o">)),</span>
      <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="o">(</span><span class="n">matrix</span> <span class="o">(</span><span class="n">fin</span> <span class="o">(</span><span class="n">y</span><span class="o">))</span> <span class="o">(</span><span class="n">fin</span> <span class="o">(</span><span class="n">y</span><span class="o">))</span> <span class="n">α</span><span class="o">)),</span>
      <span class="mi">0</span>
</pre></div>


<p>appears in a proof  state:</p>
<div class="codehilite"><pre><span></span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="bp">_</span><span class="n">inst_5</span> <span class="o">:</span> <span class="n">ordered_ring</span> <span class="n">α</span><span class="o">,</span>
<span class="bp">_</span><span class="n">inst_8</span> <span class="o">:</span> <span class="n">decidable_eq</span> <span class="n">α</span><span class="o">,</span>
<span class="bp">_</span><span class="n">inst_9</span> <span class="o">:</span> <span class="n">has_inv</span> <span class="n">α</span><span class="o">,</span>
<span class="bp">_</span><span class="n">inst_10</span> <span class="o">:</span> <span class="n">has_one</span> <span class="n">α</span><span class="o">,</span>
<span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">M</span> <span class="o">:</span> <span class="n">matrix</span> <span class="o">(</span><span class="n">fin</span> <span class="n">m</span><span class="o">)</span> <span class="o">(</span><span class="n">fin</span> <span class="n">m</span><span class="o">)</span> <span class="n">α</span>
<span class="err">⊢</span> <span class="o">(</span><span class="n">Gaussian_elimination</span> <span class="n">m</span> <span class="n">m</span> <span class="n">M</span><span class="o">)</span><span class="bp">.</span><span class="n">fst</span> <span class="bp">*</span><span class="err">ₘ</span> <span class="o">((</span><span class="n">Gaussian_elimination</span> <span class="n">m</span> <span class="n">m</span> <span class="n">M</span><span class="o">)</span><span class="bp">.</span><span class="n">snd</span><span class="o">)</span><span class="bp">.</span><span class="n">fst</span> <span class="bp">=</span> <span class="n">M</span>
</pre></div>


<p>I expected a simple <code>rw Gaussian_elimination</code> to inline the definition of Gaussian_eliminatin into the proof. But unfortunately this did not work out. Any ideas what I did wrong?</p>

<a name="136148002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136148002" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136148002">Tobias Grosser (Oct 20 2018 at 00:52)</a>:</h4>
<p>I unfortunately just get "failed"</p>

<a name="136148305"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136148305" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136148305">Chris Hughes (Oct 20 2018 at 01:02)</a>:</h4>
<p>It will only reduce if it's applied to <code>m+1</code> or <code>0</code>, not <code>m</code></p>

<a name="136148381"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136148381" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136148381">Tobias Grosser (Oct 20 2018 at 01:05)</a>:</h4>
<p>I see.</p>

<a name="136148383"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136148383" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136148383">Tobias Grosser (Oct 20 2018 at 01:05)</a>:</h4>
<p>Any quick pointer how I introduce m+1 or 0?</p>

<a name="136148439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136148439" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136148439">Tobias Grosser (Oct 20 2018 at 01:07)</a>:</h4>
<p>Found it. Just need to do 'induction m'.</p>

<a name="136148481"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136148481" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136148481">Tobias Grosser (Oct 20 2018 at 01:08)</a>:</h4>
<p>Thanks a lot, this was easy.</p>

<a name="136149746"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136149746" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136149746">Tobias Grosser (Oct 20 2018 at 01:52)</a>:</h4>
<p>OK, the basecase is now also proofen. Learned the 'ext' tactic and fin_zero_elim.</p>

<a name="136149747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136149747" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136149747">Tobias Grosser (Oct 20 2018 at 01:52)</a>:</h4>
<p>I am now in</p>
<div class="codehilite"><pre><span></span><span class="n">case</span> <span class="n">nat</span><span class="bp">.</span><span class="n">succ</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="bp">_</span><span class="n">inst_5</span> <span class="o">:</span> <span class="n">ordered_ring</span> <span class="n">α</span><span class="o">,</span>
<span class="bp">_</span><span class="n">inst_8</span> <span class="o">:</span> <span class="n">decidable_eq</span> <span class="n">α</span><span class="o">,</span>
<span class="bp">_</span><span class="n">inst_9</span> <span class="o">:</span> <span class="n">has_inv</span> <span class="n">α</span><span class="o">,</span>
<span class="bp">_</span><span class="n">inst_10</span> <span class="o">:</span> <span class="n">has_one</span> <span class="n">α</span><span class="o">,</span>
<span class="n">n</span> <span class="n">m_n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">m_ih</span> <span class="o">:</span>
  <span class="bp">∀</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="n">matrix</span> <span class="o">(</span><span class="n">fin</span> <span class="n">m_n</span><span class="o">)</span> <span class="o">(</span><span class="n">fin</span> <span class="n">m_n</span><span class="o">)</span> <span class="n">α</span><span class="o">),</span>
    <span class="o">(</span><span class="n">Gaussian_elimination</span> <span class="n">m_n</span> <span class="n">m_n</span> <span class="n">M</span><span class="o">)</span><span class="bp">.</span><span class="n">fst</span> <span class="bp">*</span><span class="err">ₘ</span> <span class="o">((</span><span class="n">Gaussian_elimination</span> <span class="n">m_n</span> <span class="n">m_n</span> <span class="n">M</span><span class="o">)</span><span class="bp">.</span><span class="n">snd</span><span class="o">)</span><span class="bp">.</span><span class="n">fst</span> <span class="bp">=</span> <span class="n">M</span><span class="o">,</span>
<span class="n">M</span> <span class="o">:</span> <span class="n">matrix</span> <span class="o">(</span><span class="n">fin</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">succ</span> <span class="n">m_n</span><span class="o">))</span> <span class="o">(</span><span class="n">fin</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">succ</span> <span class="n">m_n</span><span class="o">))</span> <span class="n">α</span>
<span class="err">⊢</span> <span class="o">(</span><span class="n">Gaussian_elimination</span><span class="bp">._</span><span class="n">match_1</span> <span class="n">m_n</span> <span class="n">m_n</span> <span class="n">M</span>
         <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ij</span> <span class="o">:</span> <span class="n">fin</span> <span class="o">(</span><span class="n">m_n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">×</span> <span class="n">fin</span> <span class="o">(</span><span class="n">m_n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)),</span>
            <span class="n">Gaussian_elimination</span> <span class="n">m_n</span> <span class="n">m_n</span>
              <span class="o">(</span><span class="n">drsubmx</span> <span class="o">(</span><span class="n">fin_swap</span> <span class="o">(</span><span class="n">xrow</span> <span class="o">(</span><span class="n">ij</span><span class="bp">.</span><span class="n">fst</span><span class="o">)</span> <span class="mi">0</span> <span class="o">(</span><span class="n">xcol</span> <span class="o">(</span><span class="n">ij</span><span class="bp">.</span><span class="n">snd</span><span class="o">)</span> <span class="mi">0</span> <span class="n">M</span><span class="o">)))</span> <span class="bp">+</span>
                 <span class="bp">-</span><span class="o">((</span><span class="n">M</span> <span class="o">(</span><span class="n">ij</span><span class="bp">.</span><span class="n">fst</span><span class="o">)</span> <span class="o">(</span><span class="n">ij</span><span class="bp">.</span><span class="n">snd</span><span class="o">))</span><span class="bp">⁻¹</span> <span class="err">•</span> <span class="n">dlsubmx</span> <span class="o">(</span><span class="n">fin_swap</span> <span class="o">(</span><span class="n">xrow</span> <span class="o">(</span><span class="n">ij</span><span class="bp">.</span><span class="n">fst</span><span class="o">)</span> <span class="mi">0</span> <span class="o">(</span><span class="n">xcol</span> <span class="o">(</span><span class="n">ij</span><span class="bp">.</span><span class="n">snd</span><span class="o">)</span> <span class="mi">0</span> <span class="n">M</span><span class="o">)))</span> <span class="bp">*</span><span class="err">ₘ</span>
                      <span class="n">ursubmx</span> <span class="o">(</span><span class="n">fin_swap</span> <span class="o">(</span><span class="n">xrow</span> <span class="o">(</span><span class="n">ij</span><span class="bp">.</span><span class="n">fst</span><span class="o">)</span> <span class="mi">0</span> <span class="o">(</span><span class="n">xcol</span> <span class="o">(</span><span class="n">ij</span><span class="bp">.</span><span class="n">snd</span><span class="o">)</span> <span class="mi">0</span> <span class="n">M</span><span class="o">))))))</span>
         <span class="o">(</span><span class="n">pick_encodable</span> <span class="n">α</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">el</span> <span class="o">:</span> <span class="n">α</span><span class="o">),</span> <span class="bp">¬</span><span class="n">el</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">m_n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="n">m_n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="n">M</span><span class="o">))</span><span class="bp">.</span><span class="n">fst</span> <span class="bp">*</span><span class="err">ₘ</span>
      <span class="o">((</span><span class="n">Gaussian_elimination</span><span class="bp">._</span><span class="n">match_1</span> <span class="n">m_n</span> <span class="n">m_n</span> <span class="n">M</span>
          <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ij</span> <span class="o">:</span> <span class="n">fin</span> <span class="o">(</span><span class="n">m_n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">×</span> <span class="n">fin</span> <span class="o">(</span><span class="n">m_n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)),</span>
             <span class="n">Gaussian_elimination</span> <span class="n">m_n</span> <span class="n">m_n</span>
               <span class="o">(</span><span class="n">drsubmx</span> <span class="o">(</span><span class="n">fin_swap</span> <span class="o">(</span><span class="n">xrow</span> <span class="o">(</span><span class="n">ij</span><span class="bp">.</span><span class="n">fst</span><span class="o">)</span> <span class="mi">0</span> <span class="o">(</span><span class="n">xcol</span> <span class="o">(</span><span class="n">ij</span><span class="bp">.</span><span class="n">snd</span><span class="o">)</span> <span class="mi">0</span> <span class="n">M</span><span class="o">)))</span> <span class="bp">+</span>
                  <span class="bp">-</span><span class="o">((</span><span class="n">M</span> <span class="o">(</span><span class="n">ij</span><span class="bp">.</span><span class="n">fst</span><span class="o">)</span> <span class="o">(</span><span class="n">ij</span><span class="bp">.</span><span class="n">snd</span><span class="o">))</span><span class="bp">⁻¹</span> <span class="err">•</span> <span class="n">dlsubmx</span> <span class="o">(</span><span class="n">fin_swap</span> <span class="o">(</span><span class="n">xrow</span> <span class="o">(</span><span class="n">ij</span><span class="bp">.</span><span class="n">fst</span><span class="o">)</span> <span class="mi">0</span> <span class="o">(</span><span class="n">xcol</span> <span class="o">(</span><span class="n">ij</span><span class="bp">.</span><span class="n">snd</span><span class="o">)</span> <span class="mi">0</span> <span class="n">M</span><span class="o">)))</span> <span class="bp">*</span><span class="err">ₘ</span>
                       <span class="n">ursubmx</span> <span class="o">(</span><span class="n">fin_swap</span> <span class="o">(</span><span class="n">xrow</span> <span class="o">(</span><span class="n">ij</span><span class="bp">.</span><span class="n">fst</span><span class="o">)</span> <span class="mi">0</span> <span class="o">(</span><span class="n">xcol</span> <span class="o">(</span><span class="n">ij</span><span class="bp">.</span><span class="n">snd</span><span class="o">)</span> <span class="mi">0</span> <span class="n">M</span><span class="o">))))))</span>
          <span class="o">(</span><span class="n">pick_encodable</span> <span class="n">α</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">el</span> <span class="o">:</span> <span class="n">α</span><span class="o">),</span> <span class="bp">¬</span><span class="n">el</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">m_n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="n">m_n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="n">M</span><span class="o">))</span><span class="bp">.</span><span class="n">snd</span><span class="o">)</span><span class="bp">.</span><span class="n">fst</span> <span class="bp">=</span>
    <span class="n">M</span>
</pre></div>

<a name="136149749"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136149749" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136149749">Tobias Grosser (Oct 20 2018 at 01:52)</a>:</h4>
<p>That seems complicated.</p>

<a name="136149755"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136149755" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136149755">Tobias Grosser (Oct 20 2018 at 01:53)</a>:</h4>
<p>In case anybody wants to drop me a bone, this would be appreciated.</p>

<a name="136150894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136150894" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136150894">Chris Hughes (Oct 20 2018 at 02:32)</a>:</h4>
<p><code>funext</code> is a start</p>

<a name="136150900"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136150900" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136150900">Tobias Grosser (Oct 20 2018 at 02:32)</a>:</h4>
<p>Thanks.</p>

<a name="136150903"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136150903" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136150903">Chris Hughes (Oct 20 2018 at 02:32)</a>:</h4>
<p>But it looks really complicated.</p>

<a name="136150910"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136150910" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136150910">Tobias Grosser (Oct 20 2018 at 02:33)</a>:</h4>
<p>That's what I feel.</p>

<a name="136150950"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136150950" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136150950">Tobias Grosser (Oct 20 2018 at 02:34)</a>:</h4>
<p>Maybe I approach this from the wrong angle.</p>

<a name="136150952"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136150952" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136150952">Chris Hughes (Oct 20 2018 at 02:34)</a>:</h4>
<p>What is <code>pick_encodable</code>?</p>

<a name="136150953"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136150953" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136150953">Tobias Grosser (Oct 20 2018 at 02:34)</a>:</h4>
<p>I basically want to show that " (M : matrix (fin m) (fin m) α) : (getL M) *ₘ (getU M) = M :="</p>

<a name="136150963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136150963" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136150963">Tobias Grosser (Oct 20 2018 at 02:35)</a>:</h4>
<p>That comes from: <code>  let optional_ij := pick_encodable (α) (λ el, el ≠ 0) (x+1) (y+1) A in</code></p>

<a name="136150969"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136150969" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136150969">Tobias Grosser (Oct 20 2018 at 02:35)</a>:</h4>
<p>It finds a non-zero element in the matrix.</p>

<a name="136151009"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136151009" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136151009">Tobias Grosser (Oct 20 2018 at 02:36)</a>:</h4>
<p>And returns an optional.</p>

<a name="136151011"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136151011" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136151011">Chris Hughes (Oct 20 2018 at 02:36)</a>:</h4>
<p>What is <code>getL</code>?</p>

<a name="136151015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136151015" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136151015">Tobias Grosser (Oct 20 2018 at 02:36)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">def</span> <span class="n">getL</span> <span class="o">[</span><span class="n">decidable_eq</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">has_inv</span> <span class="n">α</span><span class="o">]</span> <span class="o">{</span><span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="n">nat</span><span class="o">}</span>  <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="n">matrix</span> <span class="o">(</span><span class="n">fin</span> <span class="n">n</span><span class="o">)</span> <span class="o">(</span><span class="n">fin</span> <span class="n">m</span><span class="o">)</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span>
  <span class="k">let</span> <span class="n">res</span> <span class="o">:=</span> <span class="n">Gaussian_elimination</span> <span class="n">n</span> <span class="n">m</span> <span class="n">M</span> <span class="k">in</span>
  <span class="n">res</span><span class="bp">.</span><span class="mi">1</span>

<span class="n">def</span> <span class="n">getU</span> <span class="o">[</span><span class="n">decidable_eq</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">has_inv</span> <span class="n">α</span><span class="o">]</span> <span class="o">{</span><span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="n">nat</span><span class="o">}</span>  <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="n">matrix</span> <span class="o">(</span><span class="n">fin</span> <span class="n">n</span><span class="o">)</span> <span class="o">(</span><span class="n">fin</span> <span class="n">m</span><span class="o">)</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span>
  <span class="k">let</span> <span class="n">res</span> <span class="o">:=</span> <span class="n">Gaussian_elimination</span> <span class="n">n</span> <span class="n">m</span> <span class="n">M</span> <span class="k">in</span>
  <span class="n">res</span><span class="bp">.</span><span class="mi">2</span><span class="bp">.</span><span class="mi">1</span>
</pre></div>

<a name="136151022"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136151022" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136151022">Tobias Grosser (Oct 20 2018 at 02:37)</a>:</h4>
<p>That's the full algorithm:</p>
<div class="codehilite"><pre><span></span><span class="n">def</span> <span class="n">Gaussian_elimination</span> <span class="o">[</span><span class="n">decidable_eq</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">has_inv</span> <span class="n">α</span><span class="o">]:</span>
   <span class="bp">Π</span> <span class="o">(</span><span class="n">m</span> <span class="n">n</span><span class="o">),</span> <span class="n">matrix</span> <span class="o">(</span><span class="n">fin</span> <span class="n">m</span><span class="o">)</span> <span class="o">(</span><span class="n">fin</span> <span class="n">n</span><span class="o">)</span> <span class="n">α</span> <span class="bp">→</span>
   <span class="o">(</span><span class="n">matrix</span> <span class="o">(</span><span class="n">fin</span> <span class="n">m</span><span class="o">)</span> <span class="o">(</span><span class="n">fin</span> <span class="n">m</span><span class="o">)</span> <span class="n">α</span> <span class="bp">×</span> <span class="n">matrix</span> <span class="o">(</span><span class="n">fin</span> <span class="n">n</span><span class="o">)</span> <span class="o">(</span><span class="n">fin</span> <span class="n">n</span><span class="o">)</span> <span class="n">α</span> <span class="bp">×</span> <span class="n">nat</span><span class="o">)</span>
<span class="bp">|</span> <span class="o">(</span><span class="n">x</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="n">y</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="n">A</span> <span class="o">:=</span>
  <span class="k">let</span> <span class="n">optional_ij</span> <span class="o">:=</span> <span class="n">pick_encodable</span> <span class="o">(</span><span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">el</span><span class="o">,</span> <span class="n">el</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="n">y</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="n">A</span> <span class="k">in</span>
  <span class="k">match</span> <span class="n">optional_ij</span> <span class="k">with</span>
  <span class="bp">|</span> <span class="n">some</span> <span class="n">ij</span> <span class="o">:=</span>
    <span class="k">let</span> <span class="n">i</span> <span class="o">:=</span> <span class="n">ij</span><span class="bp">.</span><span class="mi">1</span> <span class="k">in</span>
    <span class="k">let</span> <span class="n">j</span> <span class="o">:=</span> <span class="n">ij</span><span class="bp">.</span><span class="mi">2</span> <span class="k">in</span>
    <span class="k">let</span> <span class="n">a</span> <span class="o">:=</span> <span class="n">A</span> <span class="n">i</span> <span class="n">j</span> <span class="k">in</span>
    <span class="k">let</span> <span class="n">A1</span> <span class="o">:=</span> <span class="n">xrow</span> <span class="n">i</span> <span class="mi">0</span> <span class="o">(</span><span class="n">xcol</span> <span class="n">j</span> <span class="mi">0</span> <span class="n">A</span><span class="o">)</span> <span class="k">in</span>
    <span class="k">let</span> <span class="n">A1&#39;</span> <span class="o">:=</span> <span class="n">fin_swap</span> <span class="n">A1</span> <span class="k">in</span>
    <span class="k">let</span> <span class="n">B</span> <span class="o">:=</span> <span class="n">A1&#39;</span> <span class="k">in</span>
    <span class="k">let</span> <span class="n">u</span> <span class="o">:=</span> <span class="n">ursubmx</span> <span class="n">A1&#39;</span> <span class="k">in</span>
    <span class="k">let</span> <span class="n">v</span> <span class="o">:=</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="err">•</span> <span class="n">dlsubmx</span> <span class="n">A1&#39;</span> <span class="k">in</span>
    <span class="k">let</span> <span class="o">(</span><span class="n">L</span><span class="o">,</span> <span class="n">U</span><span class="o">,</span> <span class="n">r</span><span class="o">)</span> <span class="o">:=</span> <span class="n">Gaussian_elimination</span> <span class="o">(</span><span class="n">x</span><span class="o">)</span> <span class="o">(</span><span class="n">y</span><span class="o">)</span> <span class="o">(</span><span class="n">drsubmx</span> <span class="n">A1&#39;</span> <span class="bp">-</span> <span class="o">(</span><span class="n">v</span> <span class="bp">*</span><span class="err">ₘ</span> <span class="n">u</span><span class="o">))</span> <span class="k">in</span>
    <span class="o">(</span>
      <span class="n">xrow</span> <span class="n">i</span> <span class="mi">0</span> <span class="o">(</span><span class="n">fin_swap</span> <span class="o">(</span><span class="n">block_mx</span> <span class="mi">1</span> <span class="mi">0</span> <span class="n">v</span> <span class="n">L</span><span class="o">)),</span>
      <span class="n">xcol</span> <span class="n">j</span> <span class="mi">0</span> <span class="o">(</span><span class="n">fin_swap</span> <span class="o">(</span><span class="n">block_mx</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">i1</span> <span class="n">j1</span><span class="o">,</span> <span class="n">a</span><span class="o">)</span> <span class="n">u</span> <span class="mi">0</span> <span class="n">U</span><span class="o">)),</span>
      <span class="n">r</span> <span class="bp">+</span> <span class="mi">1</span>
    <span class="o">)</span>
  <span class="bp">|</span> <span class="n">none</span> <span class="o">:=</span>
     <span class="o">(</span>
      <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="o">(</span><span class="n">matrix</span> <span class="o">(</span><span class="n">fin</span> <span class="o">(</span><span class="n">x</span><span class="bp">+</span><span class="mi">1</span><span class="o">))</span> <span class="o">(</span><span class="n">fin</span> <span class="o">(</span><span class="n">x</span><span class="bp">+</span><span class="mi">1</span><span class="o">))</span> <span class="n">α</span><span class="o">)),</span>
      <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="o">(</span><span class="n">matrix</span> <span class="o">(</span><span class="n">fin</span> <span class="o">(</span><span class="n">y</span><span class="bp">+</span><span class="mi">1</span><span class="o">))</span> <span class="o">(</span><span class="n">fin</span> <span class="o">(</span><span class="n">y</span><span class="bp">+</span><span class="mi">1</span><span class="o">))</span> <span class="n">α</span><span class="o">)),</span>
      <span class="mi">0</span>
     <span class="o">)</span>
  <span class="kn">end</span>
<span class="bp">|</span> <span class="n">x</span> <span class="n">y</span> <span class="n">A</span> <span class="o">:=</span>
     <span class="o">(</span>
      <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="o">(</span><span class="n">matrix</span> <span class="o">(</span><span class="n">fin</span> <span class="o">(</span><span class="n">x</span><span class="o">))</span> <span class="o">(</span><span class="n">fin</span> <span class="o">(</span><span class="n">x</span><span class="o">))</span> <span class="n">α</span><span class="o">)),</span>
      <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="o">(</span><span class="n">matrix</span> <span class="o">(</span><span class="n">fin</span> <span class="o">(</span><span class="n">y</span><span class="o">))</span> <span class="o">(</span><span class="n">fin</span> <span class="o">(</span><span class="n">y</span><span class="o">))</span> <span class="n">α</span><span class="o">)),</span>
      <span class="mi">0</span>
     <span class="o">)</span>
</pre></div>

<a name="136151024"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136151024" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136151024">Tobias Grosser (Oct 20 2018 at 02:37)</a>:</h4>
<p>It computes a matrix L, a matrix U and the rank of the matrix M.</p>

<a name="136151130"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136151130" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136151130">Tobias Grosser (Oct 20 2018 at 02:41)</a>:</h4>
<p>I feel I should proof something simpler.</p>

<a name="136151131"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136151131" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136151131">Tobias Grosser (Oct 20 2018 at 02:41)</a>:</h4>
<p>E.g. that the result matrix is in upper triangular form.</p>

<a name="136151312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136151312" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136151312">Chris Hughes (Oct 20 2018 at 02:48)</a>:</h4>
<p>What are <code>xrow</code> and <code>fin_swap</code> and <code>block_mx</code>?</p>

<a name="136151515"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136151515" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136151515">Tobias Grosser (Oct 20 2018 at 02:56)</a>:</h4>
<p><a href="https://github.com/tobig/lean-polyhedra/blob/master/src/polyhedra.lean" target="_blank" title="https://github.com/tobig/lean-polyhedra/blob/master/src/polyhedra.lean">https://github.com/tobig/lean-polyhedra/blob/master/src/polyhedra.lean</a></p>

<a name="136151629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136151629" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136151629">Tobias Grosser (Oct 20 2018 at 03:01)</a>:</h4>
<p><a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.652.3183&amp;rep=rep1&amp;type=pdf" target="_blank" title="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.652.3183&amp;rep=rep1&amp;type=pdf">http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.652.3183&amp;rep=rep1&amp;type=pdf</a></p>

<a name="136151630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136151630" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136151630">Tobias Grosser (Oct 20 2018 at 03:01)</a>:</h4>
<p>Is the relevant paper.</p>

<a name="136151670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136151670" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136151670">Tobias Grosser (Oct 20 2018 at 03:02)</a>:</h4>
<p>I just started playing around with it. See sec 3.1 for the relevant algorithm.</p>

<a name="136151823"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136151823" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136151823">Chris Hughes (Oct 20 2018 at 03:08)</a>:</h4>
<p>That is surprising. I was going to say that my instinct would be to do it totally differently, and express each Gaussian elimination operation, as multiplication by a well chosen matrix, and prove the properties of the matrices that correspond to the Gaussian elimination operations. Georges Gonthier probably knows what he's doing though.</p>

<a name="136151874"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136151874" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136151874">Tobias Grosser (Oct 20 2018 at 03:10)</a>:</h4>
<p>I am new to lean. Probably this problem is too difficult for now, but I feel I understand matrices so I want to follow a proof that already exists, is interesting and at the same time useful.</p>

<a name="136151877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136151877" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136151877">Tobias Grosser (Oct 20 2018 at 03:10)</a>:</h4>
<p>If you have advices what would be reasonable steps and which parts would be useful for mathlib, that would certainly be helpful.</p>

<a name="136151886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136151886" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136151886">Tobias Grosser (Oct 20 2018 at 03:11)</a>:</h4>
<p>The paper justifies some of the choices they have taken.</p>

<a name="136151926"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136151926" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136151926">Tobias Grosser (Oct 20 2018 at 03:12)</a>:</h4>
<p>Now the proof structure itself can likely be changed without affecting everything that uses Gaussian elimination.</p>

<a name="136151927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136151927" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136151927">Tobias Grosser (Oct 20 2018 at 03:12)</a>:</h4>
<p>Would be interesting to see if your proof idea might even be nicer than their original proof idea.</p>

<a name="136151977"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136151977" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136151977">Tobias Grosser (Oct 20 2018 at 03:14)</a>:</h4>
<p>I doubt that the proof structure depends a lot on coq vs. lean, but if your proof is more accessible to people less advanced than Georges, this would be interesting to me.</p>

<a name="136152216"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152216" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152216">Mario Carneiro (Oct 20 2018 at 03:23)</a>:</h4>
<p>My guess is that translating so strictly from Coq is not going to come out well</p>

<a name="136152260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152260" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152260">Mario Carneiro (Oct 20 2018 at 03:24)</a>:</h4>
<p>The thing about translations is that even though the axioms are similar, the <em>language</em>, in the informal sense, is different. We use different modes of speech for the same kinds of things</p>

<a name="136152265"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152265" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152265">Mario Carneiro (Oct 20 2018 at 03:24)</a>:</h4>
<p>and the library is "written in that language", meaning that you will encounter friction if you don't use it</p>

<a name="136152284"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152284" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152284">Scott Morrison (Oct 20 2018 at 03:25)</a>:</h4>
<p>My student <span class="user-mention" data-user-id="120536">@Jack Crawford</span> has also been looking at gaussian elimination. He's been using an inductive type describing individual steps of row operations.</p>

<a name="136152293"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152293" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152293">Scott Morrison (Oct 20 2018 at 03:25)</a>:</h4>
<p>It acts like a "relation" between two matrices, but carries the data of the elementary matrix to multiply by.</p>

<a name="136152330"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152330" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152330">Tobias Grosser (Oct 20 2018 at 03:26)</a>:</h4>
<p>Are you talking about Jack?</p>

<a name="136152334"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152334" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152334">Tobias Grosser (Oct 20 2018 at 03:26)</a>:</h4>
<p>I mean, I obviously have no idea what the right approach is.</p>

<a name="136152336"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152336" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152336">Tobias Grosser (Oct 20 2018 at 03:26)</a>:</h4>
<p>Just use this to learn stuff.</p>

<a name="136152341"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152341" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152341">Mario Carneiro (Oct 20 2018 at 03:26)</a>:</h4>
<p>It might help to try to invent your own gaussian elimination</p>

<a name="136152343"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152343" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152343">Mario Carneiro (Oct 20 2018 at 03:26)</a>:</h4>
<p>rather than porting from coq</p>

<a name="136152350"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152350" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152350">Mario Carneiro (Oct 20 2018 at 03:27)</a>:</h4>
<p>Use the coq development and wikipedia to help you with the maths, and just focus on the lean encoding part</p>

<a name="136152391"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152391" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152391">Tobias Grosser (Oct 20 2018 at 03:28)</a>:</h4>
<p>So you feel my translation from coq is not very ideomatic in lean?</p>

<a name="136152394"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152394" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152394">Mario Carneiro (Oct 20 2018 at 03:28)</a>:</h4>
<p>that's right</p>

<a name="136152397"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152397" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152397">Tobias Grosser (Oct 20 2018 at 03:28)</a>:</h4>
<p>It seems to do what I want, so I am reasonably happy with it.</p>

<a name="136152401"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152401" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152401">Mario Carneiro (Oct 20 2018 at 03:28)</a>:</h4>
<p>in particular, I would work more with fintypes and less with fin n</p>

<a name="136152402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152402" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152402">Tobias Grosser (Oct 20 2018 at 03:28)</a>:</h4>
<p>As I don't really know lean, I have zero feeling what would be more ideomatic</p>

<a name="136152410"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152410" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152410">Tobias Grosser (Oct 20 2018 at 03:29)</a>:</h4>
<p>OK, I can change this. Not sure though if this would change the overall algorithm a lot.</p>

<a name="136152415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152415" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152415">Mario Carneiro (Oct 20 2018 at 03:29)</a>:</h4>
<p>I would be curious to hear how Jack is doing things differently</p>

<a name="136152416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152416" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152416">Tobias Grosser (Oct 20 2018 at 03:30)</a>:</h4>
<p>It might be interesting to look into the code from <span class="user-mention" data-user-id="120536">@Jack Crawford</span></p>

<a name="136152456"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152456" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152456">Tobias Grosser (Oct 20 2018 at 03:30)</a>:</h4>
<p>Yes.</p>

<a name="136152467"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152467" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152467">Tobias Grosser (Oct 20 2018 at 03:30)</a>:</h4>
<p>He promised to share the code, but his now on exam leave.</p>

<a name="136152478"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152478" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152478">Tobias Grosser (Oct 20 2018 at 03:31)</a>:</h4>
<p>It seems Scott gave already quite some input on <span class="user-mention" data-user-id="120536">@Jack Crawford</span> 's code, so I assume it is more ideomatic.</p>

<a name="136152479"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152479" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152479">Tobias Grosser (Oct 20 2018 at 03:31)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> , what is your goal with GE?</p>

<a name="136152480"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152480" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152480">Jack Crawford (Oct 20 2018 at 03:31)</a>:</h4>
<p>I really need to clean a few things up first and am currently on mobile so don’t have my code with me, but as Scott said, I’m just using inductive types to break row equivalence down into steps</p>

<a name="136152483"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152483" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152483">Jack Crawford (Oct 20 2018 at 03:31)</a>:</h4>
<p>I’ll share the code as soon as I have it neater and a little more complete</p>

<a name="136152523"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152523" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152523">Tobias Grosser (Oct 20 2018 at 03:32)</a>:</h4>
<p>Would it make sense to build up a matrix theory similar to <a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.652.3183&amp;rep=rep1&amp;type=pdf" target="_blank" title="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.652.3183&amp;rep=rep1&amp;type=pdf">http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.652.3183&amp;rep=rep1&amp;type=pdf</a></p>

<a name="136152525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152525" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152525">Tobias Grosser (Oct 20 2018 at 03:32)</a>:</h4>
<p>mathcomp.mxalgebra?</p>

<a name="136152526"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152526" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152526">Tobias Grosser (Oct 20 2018 at 03:32)</a>:</h4>
<p>Or is this not even useful in the context of lean?</p>

<a name="136152530"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152530" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152530">Tobias Grosser (Oct 20 2018 at 03:33)</a>:</h4>
<p><span class="user-mention" data-user-id="120536">@Jack Crawford</span> , no need to rush.</p>

<a name="136152535"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152535" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152535">Tobias Grosser (Oct 20 2018 at 03:33)</a>:</h4>
<p>I would be glad to look over your code to learn from it.</p>

<a name="136152577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152577" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152577">Jack Crawford (Oct 20 2018 at 03:34)</a>:</h4>
<p>I have an inductive type that represents a single “step” of a row equivalence, with a constructor for scaling, swapping, and linear addition of matrices, and then I have another inductive type that gives me the transitive closure of this.</p>

<a name="136152640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152640" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152640">Jack Crawford (Oct 20 2018 at 03:37)</a>:</h4>
<p>Then I have a few functions that perform individual steps of the GE algorithm (putting the pivot in the right place, scaling the pivot, eliminating down the column). Then I show that the result of each of these steps are row-equivalent (by my previous inductive definition of row-equivalence) with the original matrix, and then I make a new function that just combines these steps of the Gaussian elimination in the obvious way, and show that it is also row-equivalent by carrying through my proofs that each of the individual steps that it is composed of is row-equivalent</p>

<a name="136152643"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152643" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152643">Tobias Grosser (Oct 20 2018 at 03:37)</a>:</h4>
<p>I see.</p>

<a name="136152684"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152684" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152684">Jack Crawford (Oct 20 2018 at 03:38)</a>:</h4>
<p>and from my row-equivalence I can get the proof that the invertible matrix which represents all of the steps of the row reduction, times the original matrix, is in fact the row-reduced version of the matrix</p>

<a name="136152685"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152685" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152685">Tobias Grosser (Oct 20 2018 at 03:39)</a>:</h4>
<p>I see,</p>

<a name="136152691"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152691" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152691">Tobias Grosser (Oct 20 2018 at 03:39)</a>:</h4>
<p>Do you also compute an extended gaussian elimination similar to what 'Georges Gonthier' does?</p>

<a name="136152695"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152695" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152695">Tobias Grosser (Oct 20 2018 at 03:39)</a>:</h4>
<p>Meaning, do you e.g. have proofs about the rank of the matrix?</p>

<a name="136152907"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136152907" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136152907">Jack Crawford (Oct 20 2018 at 03:46)</a>:</h4>
<p>Not yet, I haven’t actually gotten to proving much at all yet because I’ve had to re-write substantial parts of my code a few times over now. Hopefully this will be the final iteration! Haven’t really given much of a thought to matrix rank yet</p>

<a name="136153002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136153002" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136153002">Tobias Grosser (Oct 20 2018 at 03:50)</a>:</h4>
<p>OK. Please ping me when it's time to look at your code.</p>

<a name="136153003"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20insert%20definition%20of%20a%20function%20in%20a%20proof/near/136153003" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/17450Howtoinsertdefinitionofafunctioninaproof.html#136153003">Tobias Grosser (Oct 20 2018 at 03:50)</a>:</h4>
<p>Also, feedback on the Georges paper would be interesting.</p>


{% endraw %}

{% include archive_update.html %}