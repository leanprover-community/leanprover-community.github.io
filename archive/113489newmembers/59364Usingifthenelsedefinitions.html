---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/113489newmembers/59364Usingifthenelsedefinitions.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113489newmembers/index.html">new members</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113489newmembers/59364Usingifthenelsedefinitions.html">Using if-then-else definitions</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="137127809"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20if-then-else%20definitions/near/137127809" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/59364Usingifthenelsedefinitions.html#137127809">Mark Dickinson (Nov 04 2018 at 07:37)</a>:</h4>
<p>I'm missing something fundamental. If I've defined a function <code>ℕ → ℕ</code> by making use of the if-then-else construct, how do I go about proving anything about that function? For example, given:</p>
<div class="codehilite"><pre><span></span><span class="kn">definition</span> <span class="n">nat_max</span> <span class="o">(</span><span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:=</span> <span class="k">if</span> <span class="n">m</span> <span class="bp">&lt;</span> <span class="n">n</span> <span class="k">then</span> <span class="n">n</span> <span class="k">else</span> <span class="n">m</span>
</pre></div>


<p>How do I prove something like</p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">max_right</span> <span class="o">(</span><span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">m</span> <span class="bp">&lt;</span> <span class="n">n</span> <span class="bp">→</span> <span class="n">nat_max</span> <span class="n">m</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">n</span> <span class="o">:=</span> <span class="n">sorry</span>
</pre></div>


<p>? This seems as though it should be trivial, but I'm struggling. <code>unfold nat_max, by_cases (m &lt; n)</code>gives me two cases, one of which is an easy contradiction. The other then looks like:</p>
<div class="codehilite"><pre><span></span><span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">m</span> <span class="bp">&lt;</span> <span class="n">n</span>
<span class="err">⊢</span> <span class="n">m</span> <span class="bp">&lt;</span> <span class="n">n</span> <span class="bp">→</span> <span class="bp">@</span><span class="n">ite</span> <span class="o">(</span><span class="n">m</span> <span class="bp">&lt;</span> <span class="n">n</span><span class="o">)</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">decidable_lt</span> <span class="n">m</span> <span class="n">n</span><span class="o">)</span> <span class="bp">ℕ</span> <span class="n">n</span> <span class="n">m</span> <span class="bp">=</span> <span class="n">n</span>
</pre></div>


<p>and at that point I'm stuck.</p>

<a name="137127855"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20if-then-else%20definitions/near/137127855" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/59364Usingifthenelsedefinitions.html#137127855">Chris Hughes (Nov 04 2018 at 07:38)</a>:</h4>
<p><code>rw if_pos h</code></p>

<a name="137127916"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20if-then-else%20definitions/near/137127916" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/59364Usingifthenelsedefinitions.html#137127916">Mark Dickinson (Nov 04 2018 at 07:40)</a>:</h4>
<p>Ah, and <code>if_pos</code> was the fundamental thing I was missing. Thank you!</p>

<a name="137128090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20if-then-else%20definitions/near/137128090" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/59364Usingifthenelsedefinitions.html#137128090">Mark Dickinson (Nov 04 2018 at 07:47)</a>:</h4>
<p>Meta-question: what's the right way for a newcomer to find out about things like <code>if_pos</code>? Is it reasonable to say that any attempt to learn Lean has to include reading through the source of the standard library at some point?</p>

<a name="137128134"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20if-then-else%20definitions/near/137128134" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/59364Usingifthenelsedefinitions.html#137128134">Mark Dickinson (Nov 04 2018 at 07:48)</a>:</h4>
<p>Though looking at the definition of <code>if_pos</code>, I really _should_ have been able to construct it from first principles ...</p>

<a name="137128145"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20if-then-else%20definitions/near/137128145" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/59364Usingifthenelsedefinitions.html#137128145">Bryan Gin-ge Chen (Nov 04 2018 at 07:49)</a>:</h4>
<p>Speaking as another relatively new member, <a href="https://github.com/leanprover/mathlib/blob/master/docs/naming.md" target="_blank" title="https://github.com/leanprover/mathlib/blob/master/docs/naming.md">the naming convention</a> + the VS code extension's "Intellisense" window and then <code>tactic.find</code> are usually what I go to first. Then I ask here.</p>

<a name="137128147"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20if-then-else%20definitions/near/137128147" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/59364Usingifthenelsedefinitions.html#137128147">Chris Hughes (Nov 04 2018 at 07:49)</a>:</h4>
<p>Ask on Zulip probably. Usually Ctrl-clicking on <code>ite</code> will take you to the file where it was defined, and there'll usually be all the obvious lemmas about it there, but that seems to not be the case this time.</p>

<a name="137128386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20if-then-else%20definitions/near/137128386" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/59364Usingifthenelsedefinitions.html#137128386">Mark Dickinson (Nov 04 2018 at 07:57)</a>:</h4>
<p>Thanks, both.</p>

<a name="137128585"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Using%20if-then-else%20definitions/near/137128585" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/59364Usingifthenelsedefinitions.html#137128585">Kevin Buzzard (Nov 04 2018 at 08:03)</a>:</h4>
<p>This time last year I remember Kenny and I fretting over exactly this question -- a constructor for <code>ite</code> -- and I found <code>if_pos</code> by grepping through the source code :-)</p>


{% endraw %}
