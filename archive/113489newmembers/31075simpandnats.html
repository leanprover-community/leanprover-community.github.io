---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113489newmembers/31075simpandnats.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113489newmembers/index.html">new members</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113489newmembers/31075simpandnats.html">simp and nats</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="161479645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simp%20and%20nats/near/161479645" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/31075simpandnats.html#161479645">Christopher Upshaw (Mar 22 2019 at 20:11)</a>:</h4>
<p>So it used to be that you could use simp and unfold to simplify expresions like "succ n + (succ m * 2) ^ 2" then type classes made it so you had to use unfold to get it to work, and now it just seems immposible and you have to use exposed lemmas, which seems really ..tedious? low level? Am I missing something like "omega" in coq?</p>

<a name="161480489"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simp%20and%20nats/near/161480489" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/31075simpandnats.html#161480489">Andrew Ashworth (Mar 22 2019 at 20:22)</a>:</h4>
<p>Nah. You could get lucky and see if <code>linarith</code> will close your goal. Otherwise, port of Presburger arithmetic solver welcome.</p>

<a name="161480733"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simp%20and%20nats/near/161480733" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/31075simpandnats.html#161480733">Chris Hughes (Mar 22 2019 at 20:26)</a>:</h4>
<p>I don't think <code>omega</code> would handle this, because it involves multiplication. </p>
<p>When you say "simplify", what would you like the simplified expression to look like?</p>

<a name="161480816"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simp%20and%20nats/near/161480816" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/31075simpandnats.html#161480816">Chris Hughes (Mar 22 2019 at 20:26)</a>:</h4>
<p><code>ring</code> may well help</p>

<a name="161480830"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simp%20and%20nats/near/161480830" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/31075simpandnats.html#161480830">Alexander Bentkamp (Mar 22 2019 at 20:27)</a>:</h4>
<p>Is this the <code>omega</code> that <span class="user-mention" data-user-id="116585">@Seul Baek</span> has been working on?</p>

<a name="161480845"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simp%20and%20nats/near/161480845" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/31075simpandnats.html#161480845">Andrew Ashworth (Mar 22 2019 at 20:27)</a>:</h4>
<p><code>omega</code> will unfold small multiplications up to some small number, like <code>10 * n = n + n + n + n + n + ...</code></p>

<a name="161480877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simp%20and%20nats/near/161480877" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/31075simpandnats.html#161480877">Kevin Buzzard (Mar 22 2019 at 20:27)</a>:</h4>
<p>Whatever the OP wants to do, surely <code>ring</code> will do it.</p>

<a name="161480933"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simp%20and%20nats/near/161480933" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/31075simpandnats.html#161480933">Andrew Ashworth (Mar 22 2019 at 20:28)</a>:</h4>
<p>oh, right. you could add <a href="https://github.com/skbaek/omega" target="_blank" title="https://github.com/skbaek/omega">https://github.com/skbaek/omega</a> to your leanpkg and see if it works</p>

<a name="161481892"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simp%20and%20nats/near/161481892" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/31075simpandnats.html#161481892">Kevin Buzzard (Mar 22 2019 at 20:41)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">ring</span>
<span class="kn">open</span> <span class="n">nat</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">â„•</span><span class="o">)</span> <span class="o">:</span> <span class="n">succ</span> <span class="n">n</span> <span class="bp">+</span> <span class="o">(</span><span class="n">succ</span> <span class="n">m</span> <span class="bp">*</span> <span class="mi">2</span><span class="o">)</span> <span class="err">^</span> <span class="mi">2</span> <span class="bp">=</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">4</span> <span class="bp">*</span> <span class="n">m</span> <span class="err">^</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">8</span> <span class="bp">*</span> <span class="n">m</span> <span class="bp">+</span> <span class="mi">5</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">succ_eq_add_one</span><span class="o">]</span><span class="bp">;</span> <span class="n">ring</span>
</pre></div>


<p><code>ring</code> apparently won't deal with <code>succ m</code> so we have to change it to <code>m + 1</code> first</p>

<a name="161492714"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simp%20and%20nats/near/161492714" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/31075simpandnats.html#161492714">Christopher Upshaw (Mar 22 2019 at 23:14)</a>:</h4>
<p>Thanks!</p>

<a name="161492915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simp%20and%20nats/near/161492915" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/31075simpandnats.html#161492915">Christopher Upshaw (Mar 22 2019 at 23:18)</a>:</h4>
<p>How does one use ring? It doesn't seem to ever work.</p>

<a name="161493335"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simp%20and%20nats/near/161493335" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/31075simpandnats.html#161493335">Mario Carneiro (Mar 22 2019 at 23:24)</a>:</h4>
<p>If you are proving an equality involving <code>*</code> and <code>+</code> and <code>-</code> and powers then <code>ring</code> works</p>

<a name="161493395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simp%20and%20nats/near/161493395" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/31075simpandnats.html#161493395">Mario Carneiro (Mar 22 2019 at 23:25)</a>:</h4>
<p>if there is stuff like <code>nat.succ</code> or other domain specific things then you have to get rid of them first</p>

<a name="161505750"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simp%20and%20nats/near/161505750" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/31075simpandnats.html#161505750">Simon Hudon (Mar 23 2019 at 04:04)</a>:</h4>
<p>I think we could afford to add support specifically for <code>nat.succ</code> because it comes up so often.</p>

<a name="161517004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simp%20and%20nats/near/161517004" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/31075simpandnats.html#161517004">Kevin Buzzard (Mar 23 2019 at 09:21)</a>:</h4>
<p>Ring proves equalities. <a href="https://xenaproject.wordpress.com/2018/06/13/ab3/" target="_blank" title="https://xenaproject.wordpress.com/2018/06/13/ab3/">https://xenaproject.wordpress.com/2018/06/13/ab3/</a></p>


{% endraw %}

{% include archive_update.html %}