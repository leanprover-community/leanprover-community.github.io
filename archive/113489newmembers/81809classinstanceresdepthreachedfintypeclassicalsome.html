---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113489newmembers/index.html">new members</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html">"class-instance res. depth reached" fintype + classical.some</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="134871036"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134871036" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134871036">Tobias Grosser (Sep 29 2018 at 16:43)</a>:</h4>
<p>Hi guys, I am trying to model ssreflects 'pick' method using classical.some. The code I came up with reads:</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">set</span><span class="bp">.</span><span class="n">finite</span>
<span class="kn">import</span> <span class="n">ring_theory</span><span class="bp">.</span><span class="n">matrix</span>

<span class="n">universes</span> <span class="n">u</span> <span class="n">v</span>

<span class="n">def</span> <span class="n">vec</span> <span class="o">(</span><span class="n">m</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">m</span><span class="o">]</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Type</span> <span class="o">(</span><span class="n">max</span> <span class="n">u</span> <span class="n">v</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">m</span> <span class="bp">→</span> <span class="n">α</span>

<span class="n">local</span> <span class="n">attribute</span> <span class="n">classical</span><span class="bp">.</span><span class="n">prop_decidable</span>
<span class="kn">set_option</span> <span class="n">class</span><span class="bp">.</span><span class="n">instance_max_depth</span> <span class="mi">60</span>
<span class="c1">-- set_option trace.class_instances true</span>

<span class="n">noncomputable</span> <span class="n">def</span> <span class="n">get_sample_or_zero</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">[</span><span class="n">ordered_ring</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">decidable_eq</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">has_zero</span> <span class="n">α</span><span class="o">]:</span> <span class="bp">Π</span> <span class="o">(</span><span class="n">m</span><span class="o">),</span> <span class="n">vec</span> <span class="o">(</span><span class="n">fin</span> <span class="n">m</span><span class="o">)</span> <span class="n">α</span>  <span class="bp">→</span> <span class="n">α</span>
<span class="bp">|</span> <span class="n">m</span> <span class="n">V</span> <span class="o">:=</span>
  <span class="k">let</span> <span class="n">S</span> <span class="o">:=</span> <span class="o">{</span> <span class="n">i</span>  <span class="bp">|</span> <span class="n">V</span> <span class="n">i</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">}</span> <span class="k">in</span>
  <span class="k">if</span> <span class="n">h</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">x</span><span class="o">,</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">S</span>
    <span class="k">then</span> <span class="n">classical</span><span class="bp">.</span><span class="n">some</span> <span class="n">h</span>
    <span class="k">else</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span>
</pre></div>


<p>but triggers a "maximum class-instance resolution depth has been reached". Any pointers what could go wrong here?</p>

<a name="134871101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134871101" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134871101">Simon Hudon (Sep 29 2018 at 16:46)</a>:</h4>
<p>Try removing <code>has_zero</code>. It should be implied by the ordered ring.</p>

<a name="134871141"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134871141" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134871141">Simon Hudon (Sep 29 2018 at 16:46)</a>:</h4>
<p>This is the kind of problem that arises when your instances overlap in conflicting ways</p>

<a name="134871197"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134871197" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134871197">Tobias Grosser (Sep 29 2018 at 16:49)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="110026">@Simon Hudon</span> , unfortunately this does not help.</p>

<a name="134871251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134871251" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134871251">Tobias Grosser (Sep 29 2018 at 16:51)</a>:</h4>
<p>Still the same error<br>
Dropping the ordered_ring instead also does not help.</p>

<a name="134871252"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134871252" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134871252">Tobias Grosser (Sep 29 2018 at 16:51)</a>:</h4>
<p>I can also drop the matrix import, this does not change anything either.</p>

<a name="134871307"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134871307" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134871307">Simon Hudon (Sep 29 2018 at 16:53)</a>:</h4>
<p>I think you should need anything beside <code>has_zero</code> actually.</p>

<a name="134871347"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134871347" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134871347">Simon Hudon (Sep 29 2018 at 16:54)</a>:</h4>
<p>Is it important that the default value be <code>0</code>? If not, you can replace the <code>if</code> with <code>classical.epsilon S</code>.</p>

<a name="134871348"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134871348" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134871348">Mario Carneiro (Sep 29 2018 at 16:54)</a>:</h4>
<div class="codehilite"><pre><span></span>local attribute classical.prop_decidable
</pre></div>


<p>since when is this valid syntax?</p>

<a name="134871355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134871355" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134871355">Mario Carneiro (Sep 29 2018 at 16:55)</a>:</h4>
<p>oh wait, now I see... this doesn't do anything</p>

<a name="134871395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134871395" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134871395">Mario Carneiro (Sep 29 2018 at 16:56)</a>:</h4>
<p>you want <code>local attribute [instance] classical.prop_decidable</code></p>

<a name="134871454"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134871454" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134871454">Mario Carneiro (Sep 29 2018 at 16:58)</a>:</h4>
<p>I don't think you need classical anything for this definition, if I read it correctly</p>

<a name="134871499"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134871499" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134871499">Simon Hudon (Sep 29 2018 at 17:00)</a>:</h4>
<p>You can do without classical reasoning but you need to implement a search</p>

<a name="134871527"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134871527" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134871527">Mario Carneiro (Sep 29 2018 at 17:01)</a>:</h4>
<p>Also the <code>then</code> part is not type correct</p>
<div class="codehilite"><pre><span></span>import data.set.finite data.equiv.encodable

def get_sample_or_zero (α : Type) [decidable_eq α] [has_zero α] : Π (m), vec (fin m) α  → α
| m V := if h : ∃ i, V i = 0 then V (encodable.choose h) else 0
</pre></div>

<a name="134871530"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134871530" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134871530">Mario Carneiro (Sep 29 2018 at 17:01)</a>:</h4>
<p>note the <code>V</code> in the middle</p>

<a name="134871576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134871576" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134871576">Mario Carneiro (Sep 29 2018 at 17:02)</a>:</h4>
<p>then again, this function is always 0, so maybe that's not what you meant</p>

<a name="134871588"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134871588" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134871588">Mario Carneiro (Sep 29 2018 at 17:03)</a>:</h4>
<p>but if this returns a <code>fin m</code> then you have a problem since <code>0 : fin m</code> only holds if <code>m&gt;0</code></p>

<a name="134871701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134871701" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134871701">Mario Carneiro (Sep 29 2018 at 17:06)</a>:</h4>
<p>wasn't ssreflect's pick function something like this?</p>
<div class="codehilite"><pre><span></span>noncomputable def pick (α : Type*) : option α :=
by haveI := classical.dec (nonempty α); exact
if h : nonempty α then some (classical.choice h) else none
</pre></div>

<a name="134871708"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134871708" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134871708">Tobias Grosser (Sep 29 2018 at 17:07)</a>:</h4>
<p>SSReflects pick is: "[pick x in A] == Some x, with x \in A, or None if A is empty. "</p>

<a name="134871709"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134871709" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134871709">Tobias Grosser (Sep 29 2018 at 17:07)</a>:</h4>
<p>Here the definition: <a href="http://ssr.msr-inria.inria.fr/doc/ssreflect-1.5/Ssreflect.fintype.html" target="_blank" title="http://ssr.msr-inria.inria.fr/doc/ssreflect-1.5/Ssreflect.fintype.html">http://ssr.msr-inria.inria.fr/doc/ssreflect-1.5/Ssreflect.fintype.html</a></p>

<a name="134871756"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134871756" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134871756">Mario Carneiro (Sep 29 2018 at 17:09)</a>:</h4>
<p>right, isn't that what I wrote?</p>

<a name="134871758"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134871758" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134871758">Tobias Grosser (Sep 29 2018 at 17:10)</a>:</h4>
<p>Honestly, I need some more time to think about these solutions.</p>

<a name="134871804"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134871804" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134871804">Tobias Grosser (Sep 29 2018 at 17:10)</a>:</h4>
<p>I mostly was concerned about the then path and therefore just returned zero in the else.</p>

<a name="134871810"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134871810" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134871810">Mario Carneiro (Sep 29 2018 at 17:10)</a>:</h4>
<p>Maybe <code>A</code> is a subset of a type instead of just a type; in that case you have</p>
<div class="codehilite"><pre><span></span>noncomputable def pick {α} (p : α → Prop) : option α :=
by haveI := classical.dec (∃ a, p a); exact
if h : ∃ a, p a then some (classical.some h) else none
</pre></div>

<a name="134871856"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134871856" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134871856">Tobias Grosser (Sep 29 2018 at 17:12)</a>:</h4>
<p>To give some context, what I actually want to write is:</p>
<div class="codehilite"><pre><span></span><span class="kn">Fixpoint</span> <span class="n">Gaussian_elimination</span> <span class="o">{</span><span class="n">m</span> <span class="n">n</span><span class="o">}</span> <span class="o">:</span> <span class="k">&#39;</span><span class="n">M_</span><span class="o">(</span><span class="n">m</span><span class="o">,</span> <span class="n">n</span><span class="o">)</span> <span class="err">→</span> <span class="k">&#39;</span><span class="n">M_m</span> <span class="err">×</span> <span class="k">&#39;</span><span class="n">M_n</span> <span class="err">×</span> <span class="kt">nat</span> <span class="o">:=</span>
  <span class="k">match</span> <span class="n">m</span><span class="o">,</span> <span class="n">n</span> <span class="k">with</span>
  <span class="o">|</span> <span class="o">_.+</span><span class="mi">1</span><span class="o">,</span> <span class="o">_.+</span><span class="mi">1</span> <span class="err">⇒</span> <span class="k">fun</span> <span class="n">A</span> <span class="o">:</span> <span class="k">&#39;</span><span class="n">M_</span><span class="o">(</span><span class="mi">1</span> <span class="o">+</span> <span class="o">_,</span> <span class="mi">1</span> <span class="o">+</span> <span class="o">_)</span> <span class="err">⇒</span>
    <span class="k">if</span> <span class="o">[</span><span class="n">pick</span> <span class="n">ij</span> <span class="o">|</span> <span class="n">A</span> <span class="n">ij</span><span class="o">.</span><span class="mi">1</span> <span class="n">ij</span><span class="o">.</span><span class="mi">2</span> <span class="o">!=</span> <span class="mi">0</span><span class="o">]</span> <span class="k">is</span> <span class="n">Some</span> <span class="o">(</span><span class="n">i</span><span class="o">,</span> <span class="n">j</span><span class="o">)</span> <span class="k">then</span>
      <span class="k">let</span> <span class="n">a</span> <span class="o">:=</span> <span class="n">A</span> <span class="n">i</span> <span class="n">j</span> <span class="k">in</span> <span class="k">let</span> <span class="n">A1</span> <span class="o">:=</span> <span class="n">xrow</span> <span class="n">i</span> <span class="mi">0</span> <span class="o">(</span><span class="n">xcol</span> <span class="n">j</span> <span class="mi">0</span> <span class="n">A</span><span class="o">)</span> <span class="k">in</span>
      <span class="k">let</span> <span class="n">u</span> <span class="o">:=</span> <span class="n">ursubmx</span> <span class="n">A1</span> <span class="k">in</span> <span class="k">let</span> <span class="n">v</span> <span class="o">:=</span> <span class="n">a</span><span class="o">^-</span><span class="mi">1</span> <span class="o">*:</span> <span class="n">dlsubmx</span> <span class="n">A1</span> <span class="k">in</span>
      <span class="k">let</span><span class="o">:</span> <span class="o">(</span><span class="n">L</span><span class="o">,</span> <span class="n">U</span><span class="o">,</span> <span class="n">r</span><span class="o">)</span> <span class="o">:=</span> <span class="n">Gaussian_elimination</span> <span class="o">(</span><span class="n">drsubmx</span> <span class="n">A1</span> <span class="o">-</span> <span class="n">v</span> <span class="err">×</span><span class="n">m</span> <span class="n">u</span><span class="o">)</span> <span class="k">in</span>
      <span class="o">(</span><span class="n">xrow</span> <span class="n">i</span> <span class="mi">0</span> <span class="o">(</span><span class="n">block_mx</span> <span class="mi">1</span> <span class="mi">0</span> <span class="n">v</span> <span class="n">L</span><span class="o">),</span> <span class="n">xcol</span> <span class="n">j</span> <span class="mi">0</span> <span class="o">(</span><span class="n">block_mx</span> <span class="n">a</span><span class="o">%:</span><span class="n">M</span> <span class="n">u</span> <span class="mi">0</span> <span class="n">U</span><span class="o">),</span> <span class="n">r</span><span class="o">.+</span><span class="mi">1</span><span class="o">)</span>
    <span class="k">else</span> <span class="o">(</span><span class="mi">1</span><span class="o">%:</span><span class="n">M</span><span class="o">,</span> <span class="mi">1</span><span class="o">%:</span><span class="n">M</span><span class="o">,</span> <span class="mi">0</span><span class="o">%</span><span class="n">N</span><span class="o">)</span>
  <span class="o">|</span> <span class="o">_,</span> <span class="o">_</span> <span class="err">⇒</span> <span class="k">fun</span> <span class="o">_</span> <span class="err">⇒</span> <span class="o">(</span><span class="mi">1</span><span class="o">%:</span><span class="n">M</span><span class="o">,</span> <span class="mi">1</span><span class="o">%:</span><span class="n">M</span><span class="o">,</span> <span class="mi">0</span><span class="o">%</span><span class="n">N</span><span class="o">)</span>
  <span class="k">end</span><span class="o">.</span>
</pre></div>

<a name="134871864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134871864" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134871864">Tobias Grosser (Sep 29 2018 at 17:12)</a>:</h4>
<p>I am just taking baby steps, to learn these different things.</p>

<a name="134871874"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134871874" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134871874">Tobias Grosser (Sep 29 2018 at 17:13)</a>:</h4>
<p>Will get back to try to play with your pick function and see how it can be used here.</p>

<a name="134871875"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134871875" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134871875">Tobias Grosser (Sep 29 2018 at 17:13)</a>:</h4>
<p>Thanks for the pointers.</p>

<a name="134871976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134871976" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134871976">Mario Carneiro (Sep 29 2018 at 17:16)</a>:</h4>
<p>Maybe the nicest interface for that pick match is something like this:</p>
<div class="codehilite"><pre><span></span>@[elab_as_eliminator]
noncomputable def {u} classical.exists_cases (p : α → Prop) {C : Sort u} (H0 : C) (H : ∀ a, p a → C) : C :=
if h : ∃ a, p a then H (classical.some h) (classical.some_spec h) else H0
</pre></div>

<a name="134872035"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134872035" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134872035">Mario Carneiro (Sep 29 2018 at 17:18)</a>:</h4>
<p>In your context it would be something like <code>classical.exists_cases (λ ij, A ij.1 ij.2 ≠ 0) (1, 1, 0) $ λ ⟨i, j⟩, ...</code></p>

<a name="134872038"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134872038" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134872038">Tobias Grosser (Sep 29 2018 at 17:18)</a>:</h4>
<p>OK. Even more things to try to integrate.</p>

<a name="134872058"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134872058" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134872058">Tobias Grosser (Sep 29 2018 at 17:19)</a>:</h4>
<p>One last question. In the end I want a gaussian elimination which can compute solutions.</p>

<a name="134872104"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134872104" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134872104">Tobias Grosser (Sep 29 2018 at 17:20)</a>:</h4>
<p>Am I on a wrong track here? Aka, can this evolve to something computable eventually?</p>

<a name="134872106"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134872106" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134872106">Simon Hudon (Sep 29 2018 at 17:20)</a>:</h4>
<p>Then you're going to need to specialize that function so that you can implement it using a search function.</p>

<a name="134872108"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134872108" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134872108">Mario Carneiro (Sep 29 2018 at 17:20)</a>:</h4>
<p>Not using the function I just gave you</p>

<a name="134872120"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134872120" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134872120">Mario Carneiro (Sep 29 2018 at 17:21)</a>:</h4>
<p>You want to use <code>encodable.choose</code> to do choicy stuff decidably</p>

<a name="134872133"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134872133" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134872133">Tobias Grosser (Sep 29 2018 at 17:22)</a>:</h4>
<p>What exactly is the difference.</p>

<a name="134872179"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134872179" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134872179">Mario Carneiro (Sep 29 2018 at 17:22)</a>:</h4>
<p>Basically any function with <code>classical</code> in the name will not be computable, even if the inputs are</p>

<a name="134872180"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134872180" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134872180">Tobias Grosser (Sep 29 2018 at 17:22)</a>:</h4>
<p>ssreflect seems to be a hybrid of both.</p>

<a name="134872183"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134872183" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134872183">Tobias Grosser (Sep 29 2018 at 17:22)</a>:</h4>
<p>That's what I know.</p>

<a name="134872187"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134872187" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134872187">Mario Carneiro (Sep 29 2018 at 17:22)</a>:</h4>
<p><code>ssreflect</code> essentially embeds <code>encodable.choose</code> very low in their algebraic hierarchy</p>

<a name="134872194"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134872194" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134872194">Tobias Grosser (Sep 29 2018 at 17:23)</a>:</h4>
<p>I see. So the counterpart in lean would be a "pick based on 'encodable.choose'?"</p>

<a name="134872195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134872195" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134872195">Mario Carneiro (Sep 29 2018 at 17:23)</a>:</h4>
<p>yes</p>

<a name="134872196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134872196" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134872196">Tobias Grosser (Sep 29 2018 at 17:23)</a>:</h4>
<p>I see.</p>

<a name="134872203"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134872203" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134872203">Tobias Grosser (Sep 29 2018 at 17:23)</a>:</h4>
<p>Can I also get the nice { (i j) | ... } interface for such a pick?</p>

<a name="134872244"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134872244" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134872244">Mario Carneiro (Sep 29 2018 at 17:24)</a>:</h4>
<p>You can pattern match on <code>i, j</code> in the then branch</p>

<a name="134872247"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134872247" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134872247">Mario Carneiro (Sep 29 2018 at 17:24)</a>:</h4>
<p>like at the end of my example <code>λ ⟨i, j⟩, ...</code></p>

<a name="134872260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134872260" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134872260">Tobias Grosser (Sep 29 2018 at 17:25)</a>:</h4>
<p>OK.</p>

<a name="134872262"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134872262" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134872262">Mario Carneiro (Sep 29 2018 at 17:25)</a>:</h4>
<p>I think <code>[pick ij | A ij.1 ij.2 != 0]</code> is some composite notation which is basically <code>pick (λ ij, A ij.1 ij.2 != 0)</code></p>

<a name="134872263"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134872263" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134872263">Tobias Grosser (Sep 29 2018 at 17:25)</a>:</h4>
<p>But your example uses classical.choice</p>

<a name="134872270"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134872270" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134872270">Mario Carneiro (Sep 29 2018 at 17:25)</a>:</h4>
<p>You can swap out <code>classical.some</code> with <code>encodable.choose</code> for great good</p>

<a name="134872271"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134872271" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134872271">Tobias Grosser (Sep 29 2018 at 17:25)</a>:</h4>
<p>I see.</p>

<a name="134872312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134872312" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134872312">Tobias Grosser (Sep 29 2018 at 17:26)</a>:</h4>
<p>I think that's all I need. I will put the things together myself!</p>

<a name="134872314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134872314" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134872314">Tobias Grosser (Sep 29 2018 at 17:26)</a>:</h4>
<p>Thanks a lot.</p>

<a name="134872321"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134872321" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134872321">Mario Carneiro (Sep 29 2018 at 17:26)</a>:</h4>
<p>We don't have a "choice type" typeclass like ssreflect, so it's one or the other here</p>

<a name="134872332"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134872332" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134872332">Mario Carneiro (Sep 29 2018 at 17:26)</a>:</h4>
<p>but fin n is encodable so it's all good</p>

<a name="134872334"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134872334" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134872334">Tobias Grosser (Sep 29 2018 at 17:26)</a>:</h4>
<p>:D</p>

<a name="134896880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134896880" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134896880">Tobias Grosser (Sep 30 2018 at 07:31)</a>:</h4>
<p>Just to report back. I use for now the function:</p>
<div class="codehilite"><pre><span></span><span class="n">def</span> <span class="n">pick_encodable</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">[</span><span class="n">decidable_pred</span> <span class="n">p</span><span class="o">]:</span>
<span class="bp">Π</span> <span class="o">(</span><span class="n">m</span> <span class="n">n</span><span class="o">),</span> <span class="n">matrix</span> <span class="o">(</span><span class="n">fin</span> <span class="n">m</span><span class="o">)</span> <span class="o">(</span><span class="n">fin</span> <span class="n">n</span><span class="o">)</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">option</span><span class="o">(</span><span class="n">fin</span> <span class="n">m</span> <span class="bp">×</span> <span class="n">fin</span> <span class="n">n</span><span class="o">)</span>
<span class="bp">|</span> <span class="n">x</span> <span class="n">y</span> <span class="n">V</span> <span class="o">:=</span>
  <span class="k">if</span> <span class="n">h</span> <span class="o">:</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">ij</span> <span class="o">:</span> <span class="n">fin</span> <span class="n">x</span> <span class="bp">×</span> <span class="n">fin</span> <span class="n">y</span><span class="o">),</span> <span class="n">p</span> <span class="o">(</span><span class="n">V</span> <span class="n">ij</span><span class="bp">.</span><span class="mi">1</span> <span class="n">ij</span><span class="bp">.</span><span class="mi">2</span><span class="o">)</span>
    <span class="k">then</span> <span class="k">let</span> <span class="n">idx</span> <span class="o">:=</span> <span class="n">encodable</span><span class="bp">.</span><span class="n">choose</span> <span class="n">h</span> <span class="k">in</span>
      <span class="n">some</span> <span class="n">idx</span>
    <span class="k">else</span>
      <span class="n">none</span>
</pre></div>

<a name="134896882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22class-instance%20res.%20depth%20reached%22%20fintype%20%2B%20classical.some/near/134896882" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/81809classinstanceresdepthreachedfintypeclassicalsome.html#134896882">Tobias Grosser (Sep 30 2018 at 07:31)</a>:</h4>
<p>This probably needs some more cleanup, but or now it does what I want.</p>


{% endraw %}
