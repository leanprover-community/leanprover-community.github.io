---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113489newmembers/92160simplerproof02.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113489newmembers/index.html">new members</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113489newmembers/92160simplerproof02.html">simpler proof 0<2?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="163191558"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simpler%20proof%200%3C2%3F/near/163191558" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/92160simplerproof02.html#163191558">Joseph Corneli (Apr 12 2019 at 13:53)</a>:</h4>
<p>In general I would view a one-line proof as simple, but this one generates a big proof term.  Is this the preferred proof?</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">real</span><span class="bp">.</span><span class="n">basic</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">linarith</span>
<span class="kn">lemma</span> <span class="n">simple</span> <span class="o">:</span> <span class="o">(</span><span class="mi">0</span><span class="o">:</span><span class="n">ℝ</span><span class="o">)</span> <span class="bp">&lt;</span> <span class="mi">2</span> <span class="o">:=</span>
<span class="k">begin</span>
<span class="n">linarith</span><span class="o">,</span>
<span class="kn">end</span>

<span class="bp">#</span><span class="kn">print</span> <span class="n">simple</span>
</pre></div>

<a name="163191739"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simpler%20proof%200%3C2%3F/near/163191739" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/92160simplerproof02.html#163191739">Mario Carneiro (Apr 12 2019 at 13:55)</a>:</h4>
<p>use <code>norm_num</code></p>

<a name="163191762"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simpler%20proof%200%3C2%3F/near/163191762" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/92160simplerproof02.html#163191762">Mario Carneiro (Apr 12 2019 at 13:55)</a>:</h4>
<p>the auto proof should be something like <code>bit0_pos one_pos</code></p>

<a name="163191833"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simpler%20proof%200%3C2%3F/near/163191833" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/92160simplerproof02.html#163191833">Mario Carneiro (Apr 12 2019 at 13:56)</a>:</h4>
<p>PS: why always with the reals? They are a pain to import</p>

<a name="163192050"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simpler%20proof%200%3C2%3F/near/163192050" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/92160simplerproof02.html#163192050">Mario Carneiro (Apr 12 2019 at 13:59)</a>:</h4>
<p>By the way, this is one of the reasons I don't like too much blasty in my tactics. Like you say, a simple looking proof should actually be simple. Big super tactics break this connection - a tiny <code>by tidy</code> might be a huge term behind the scenes, and the only direct exposure you have to it is in compile times, which kill you in tiny distributed amounts until the library is so slow and there is no easy fix</p>

<a name="163192911"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simpler%20proof%200%3C2%3F/near/163192911" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/92160simplerproof02.html#163192911">Joseph Corneli (Apr 12 2019 at 14:07)</a>:</h4>
<p>Ah that's much nicer, thanks Mario.  The reals are b/c I'm doing continuity proofs.</p>
<div class="codehilite"><pre><span></span><span class="kn">theorem</span> <span class="n">simple</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="mi">2</span> <span class="o">:=</span>
<span class="n">eq</span><span class="bp">.</span><span class="n">mpr</span> <span class="o">(</span><span class="n">id</span> <span class="o">(</span><span class="n">eq_true_intro</span> <span class="o">(</span><span class="n">bit0_pos</span> <span class="n">zero_lt_one</span><span class="o">)))</span> <span class="n">trivial</span>
</pre></div>

<a name="163193491"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simpler%20proof%200%3C2%3F/near/163193491" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/92160simplerproof02.html#163193491">Kenny Lau (Apr 12 2019 at 14:14)</a>:</h4>
<p><code>two_pos</code></p>

<a name="163193657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simpler%20proof%200%3C2%3F/near/163193657" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/92160simplerproof02.html#163193657">Patrick Massot (Apr 12 2019 at 14:15)</a>:</h4>
<p><code>lemma simple : (0:ℝ) &lt; 2 := bit0_pos zero_lt_one</code></p>

<a name="163193681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simpler%20proof%200%3C2%3F/near/163193681" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/92160simplerproof02.html#163193681">Patrick Massot (Apr 12 2019 at 14:15)</a>:</h4>
<p>Joe, why do you add anything to this line?</p>

<a name="163194758"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simpler%20proof%200%3C2%3F/near/163194758" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/92160simplerproof02.html#163194758">Joseph Corneli (Apr 12 2019 at 14:25)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> the somewhat longer proof was what was supplied by <code>norm_num</code>.</p>

<a name="163239606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simpler%20proof%200%3C2%3F/near/163239606" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/92160simplerproof02.html#163239606">Scott Morrison (Apr 13 2019 at 00:55)</a>:</h4>
<p>I wonder a bit why we don't call <code>dsimp</code> on the generated proofs themselves, for things like norm_num. We don't have all the relevant lemmas written for simplifying proofs themselves, but I think sometimes it's valuable --- especially if people are copying and pasting tactic generated proofs.</p>

<a name="163241061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simpler%20proof%200%3C2%3F/near/163241061" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/92160simplerproof02.html#163241061">Mario Carneiro (Apr 13 2019 at 01:30)</a>:</h4>
<p>I've tried it, lean doesn't like to simplify proofs</p>

<a name="163241079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simpler%20proof%200%3C2%3F/near/163241079" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/92160simplerproof02.html#163241079">Mario Carneiro (Apr 13 2019 at 01:31)</a>:</h4>
<p>which means you have to deal with any cruft added by upstream tactics (this one is simp's fault)</p>

<a name="163241284"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simpler%20proof%200%3C2%3F/near/163241284" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/92160simplerproof02.html#163241284">Mario Carneiro (Apr 13 2019 at 01:36)</a>:</h4>
<p>There are a lot of easy simplifications you can apply; one easy one I would like to do is if a subterm of P proves the same theorem T as P itself, then you can replace P with the subterm. This looks really obviously unprofessional in <code>#explode</code>, I'm thinking "why are you still working? You did it already". This is part of the metamath workflow, but somehow there isn't a good way to do this in lean and so <code>#print foo</code> just shows you crappy proofs most of the time</p>

<a name="163241546"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simpler%20proof%200%3C2%3F/near/163241546" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/92160simplerproof02.html#163241546">Scott Morrison (Apr 13 2019 at 01:42)</a>:</h4>
<p>Hmm... I'm pretty sure I've simplified proofs in the past. I've certainly made use of the lemmas</p>
<div class="codehilite"><pre><span></span>@[simp] lemma congr_arg_refl {α : Sort*} {β : Sort*} {f : α → β} {a : α} :
  congr_arg f (eq.refl a) = eq.refl (f a) := rfl

@[simp] lemma congr_fun_refl {α : Sort*} {β : Sort*} {f : α → β} {a : α} :
  congr_fun (eq.refl f) a = eq.refl (f a) := rfl

@[simp] lemma congr_refl_fun {α : Sort*} {β : Sort*} {f : α → β} {a₁ a₂ : α} (h : a₁ = a₂) :
  congr (eq.refl f) h = congr_arg f h := rfl

@[simp] lemma congr_refl_arg {α : Sort*} {β : Sort*} {f₁ f₂ : α → β} {a : α} (h : f₁ = f₂) :
  congr h (eq.refl a) = congr_fun h a := rfl
</pre></div>

<a name="163241554"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simpler%20proof%200%3C2%3F/near/163241554" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/92160simplerproof02.html#163241554">Scott Morrison (Apr 13 2019 at 01:42)</a>:</h4>
<p>I wonder when you can and can't run the simplifier on proofs.</p>

<a name="163241586"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simpler%20proof%200%3C2%3F/near/163241586" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/92160simplerproof02.html#163241586">Scott Morrison (Apr 13 2019 at 01:43)</a>:</h4>
<p>I've needed these lemmas times that a strange eq.rec has appeared, and I can't even see the underlying non-definitional equality that caused the problem, because it's stacked up inside a million <code>congr</code> and <code>eq.mpr</code> and <code>eq.symm</code>s, etc.</p>

<a name="163243493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simpler%20proof%200%3C2%3F/near/163243493" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/92160simplerproof02.html#163243493">Mario Carneiro (Apr 13 2019 at 02:28)</a>:</h4>
<p>I am pretty sure the problem is simp ignores arguments of prop type because it thinks "proofs are irrelevant"</p>

<a name="163243522"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simpler%20proof%200%3C2%3F/near/163243522" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/92160simplerproof02.html#163243522">Mario Carneiro (Apr 13 2019 at 02:29)</a>:</h4>
<p>It's possible you can get it to sometimes trigger, but it doesn't work on large scale</p>


{% endraw %}

{% include archive_update.html %}