---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113489newmembers/54624Afinitesethasfinitelymanyendofunctions.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113489newmembers/index.html">new members</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113489newmembers/54624Afinitesethasfinitelymanyendofunctions.html">A finite set has finitely many endofunctions?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="185440156"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/A%20finite%20set%20has%20finitely%20many%20endofunctions%3F/near/185440156" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/54624Afinitesethasfinitelymanyendofunctions.html#185440156">Agnishom Chattopadhyay (Jan 12 2020 at 16:22)</a>:</h4>
<p>I have a finite set <code>qq</code> and I want to prove that the functions <code>qq → qq</code> are also a finite set.</p>
<p>Something like this:</p>
<p><code>instance finiteness_of_endofunctions {qq : Type} [fintype qq] : fintype (qq → qq) := sorry</code></p>
<p>How do I do that?</p>

<a name="185440209"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/A%20finite%20set%20has%20finitely%20many%20endofunctions%3F/near/185440209" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/54624Afinitesethasfinitelymanyendofunctions.html#185440209">Chris Hughes (Jan 12 2020 at 16:24)</a>:</h4>
<p><code>by apply_instance</code></p>
<p>There's already a <code>fintype</code> for <code>pi</code> types.</p>

<a name="185440226"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/A%20finite%20set%20has%20finitely%20many%20endofunctions%3F/near/185440226" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/54624Afinitesethasfinitelymanyendofunctions.html#185440226">Chris Hughes (Jan 12 2020 at 16:25)</a>:</h4>
<p>You need <code>decidable_eq qq</code> as well as it turns out</p>

<a name="185440332"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/A%20finite%20set%20has%20finitely%20many%20endofunctions%3F/near/185440332" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/54624Afinitesethasfinitelymanyendofunctions.html#185440332">Agnishom Chattopadhyay (Jan 12 2020 at 16:28)</a>:</h4>
<p>Like this? <code>instance finiteness_of_endofunctions {qq : Type} [fintype qq] [decidable_eq qq] : fintype (qq → qq) := pi.fintype</code></p>

<a name="185440341"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/A%20finite%20set%20has%20finitely%20many%20endofunctions%3F/near/185440341" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/54624Afinitesethasfinitelymanyendofunctions.html#185440341">Agnishom Chattopadhyay (Jan 12 2020 at 16:28)</a>:</h4>
<p>Why do I need the decidable_eq?</p>

<a name="185441606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/A%20finite%20set%20has%20finitely%20many%20endofunctions%3F/near/185441606" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/54624Afinitesethasfinitelymanyendofunctions.html#185441606">Reid Barton (Jan 12 2020 at 17:07)</a>:</h4>
<p>I imagine it's because each of the finitely many functions <code>qq -&gt; qq</code> needs to be able to determine which element of the input it is looking at.</p>

<a name="185441675"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/A%20finite%20set%20has%20finitely%20many%20endofunctions%3F/near/185441675" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/54624Afinitesethasfinitelymanyendofunctions.html#185441675">Reid Barton (Jan 12 2020 at 17:09)</a>:</h4>
<p><code>fintype</code> without <code>decidable_eq</code> is sort of a strange beast.</p>

<a name="185444398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/A%20finite%20set%20has%20finitely%20many%20endofunctions%3F/near/185444398" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/54624Afinitesethasfinitelymanyendofunctions.html#185444398">Agnishom Chattopadhyay (Jan 12 2020 at 18:27)</a>:</h4>
<p>Well, I suppose that is reasonable</p>

<a name="185444537"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/A%20finite%20set%20has%20finitely%20many%20endofunctions%3F/near/185444537" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/54624Afinitesethasfinitelymanyendofunctions.html#185444537">Agnishom Chattopadhyay (Jan 12 2020 at 18:31)</a>:</h4>
<p>But now, if I do add <code>decidable_eq</code> on <code>qq</code>, for the purpose of what I am doing, I would also have to endow <code>qq -&gt; qq</code> with <code>decidable_eq</code>. </p>
<div class="codehilite"><pre><span></span>instance decidable_eq_endofunctions {qq : Type} [fintype qq] [decidable_eq qq] : decidable_eq (qq → qq) :=  sorry
</pre></div>


<p>Library search suggests using <code>classical.dec_eq (qq → qq)</code></p>
<p>Any chance I can avoid going classical?</p>

<a name="185444674"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/A%20finite%20set%20has%20finitely%20many%20endofunctions%3F/near/185444674" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/54624Afinitesethasfinitelymanyendofunctions.html#185444674">Chris Hughes (Jan 12 2020 at 18:34)</a>:</h4>
<p><code>by apply_instance</code> does work there.</p>

<a name="185448910"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/A%20finite%20set%20has%20finitely%20many%20endofunctions%3F/near/185448910" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/54624Afinitesethasfinitelymanyendofunctions.html#185448910">Mario Carneiro (Jan 12 2020 at 20:28)</a>:</h4>
<p>You shouldn't have to write these instances; instance search will find these in use cases even without your <code>instance</code> declaration</p>

<a name="185449519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/A%20finite%20set%20has%20finitely%20many%20endofunctions%3F/near/185449519" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/54624Afinitesethasfinitelymanyendofunctions.html#185449519">Agnishom Chattopadhyay (Jan 12 2020 at 20:44)</a>:</h4>
<p>I thought so too, but it did not seem to be working</p>

<a name="185449769"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/A%20finite%20set%20has%20finitely%20many%20endofunctions%3F/near/185449769" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/54624Afinitesethasfinitelymanyendofunctions.html#185449769">Mario Carneiro (Jan 12 2020 at 20:52)</a>:</h4>
<p>it should work with the <code>decidable_eq</code> instance in the context</p>

<a name="185460335"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/A%20finite%20set%20has%20finitely%20many%20endofunctions%3F/near/185460335" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/54624Afinitesethasfinitelymanyendofunctions.html#185460335">Yury G. Kudryashov (Jan 13 2020 at 02:17)</a>:</h4>
<p>I think that we should stop pretending that we care about constructive math (as opposed to computable defs). In particular, I'd stop requiring <code>decidable P</code> whenever we only use this assumption to prove a proposition.</p>


{% endraw %}

{% include archive_update.html %}