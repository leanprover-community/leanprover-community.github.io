---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/113489newmembers/63351Installingmathlib.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113489newmembers/index.html">new members</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html">Installing mathlib</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="162600535"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162600535" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162600535">Jasmin Blanchette (Apr 05 2019 at 07:34)</a>:</h4>
<p>Johannes H. helped me install mathlib on one of my machines, but now I can't remember what he did and I need to do it on two more machines.</p>
<p>The instructions at</p>
<div class="codehilite"><pre><span></span>https://github.com/leanprover-community/mathlib/blob/master/docs/elan.md
</pre></div>


<p>give two options, but neither "start a new package" nor "work on existing package" seems to convey what I want to do, which is simply to install mathlib so that I can use it from now on in any .lean files of mine (even if they don't themselves live in any packages). Any help or pointers would be appreciated.</p>

<a name="162600576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162600576" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162600576">Johan Commelin (Apr 05 2019 at 07:35)</a>:</h4>
<p>Turn your home directory into a Lean package? [/joke]</p>

<a name="162600593"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162600593" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162600593">Patrick Massot (Apr 05 2019 at 07:35)</a>:</h4>
<p>There isn't much point in having Lean files that are not part of a project</p>

<a name="162600601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162600601" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162600601">Patrick Massot (Apr 05 2019 at 07:36)</a>:</h4>
<p>But you can do it if you insist</p>

<a name="162600647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162600647" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162600647">Jasmin Blanchette (Apr 05 2019 at 07:36)</a>:</h4>
<p>I can create a project.</p>

<a name="162600659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162600659" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162600659">Jasmin Blanchette (Apr 05 2019 at 07:36)</a>:</h4>
<p>It's just that I didn't remember that Johannes did it for the other machine -- but maybe he did.</p>

<a name="162600876"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162600876" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162600876">Patrick Massot (Apr 05 2019 at 07:40)</a>:</h4>
<p>Assuming you installed elan, the next step is to install mathlib helper script:</p>
<div class="codehilite"><pre><span></span>curl https://raw.githubusercontent.com/leanprover-community/mathlib/master/scripts/remote-install-update-mathlib.sh -sSf | sh
</pre></div>


<p>Then, in order to create a new project depending on mathlib:</p>
<div class="codehilite"><pre><span></span>leanpkg new test
cd test
leanpkg add https://github.com/leanprover-community/mathlib
update-mathlib
</pre></div>

<a name="162600903"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162600903" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162600903">Patrick Massot (Apr 05 2019 at 07:41)</a>:</h4>
<p>this will create a new directory <code>test</code> containing a compiled copy of mathlib ready for use</p>

<a name="162600924"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162600924" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162600924">Patrick Massot (Apr 05 2019 at 07:41)</a>:</h4>
<p>inside <code>test</code> is <code>src</code> where you'll put your Lean code</p>

<a name="162601005"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162601005" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162601005">Patrick Massot (Apr 05 2019 at 07:42)</a>:</h4>
<p>I really need to update documentation. My teaching will be mostly over in three weeks, then I'll write a couple of late referee reports and then documentation will be wonderful...</p>

<a name="162601035"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162601035" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162601035">Johan Commelin (Apr 05 2019 at 07:43)</a>:</h4>
<p>Does <code>leanpkg</code> default to lean version <code>3.4.2</code> nowadays?</p>

<a name="162601086"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162601086" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162601086">Johan Commelin (Apr 05 2019 at 07:44)</a>:</h4>
<p>If not, you need to edit <code>leanpkg.toml</code> in <code>test/</code> and fix the version. Otherwise <code>update-mathlib</code> doesn't work, which means you have to compile mathlib yourself.</p>

<a name="162601121"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162601121" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162601121">Patrick Massot (Apr 05 2019 at 07:45)</a>:</h4>
<p>Johan, please don't make things sound complicated</p>

<a name="162601132"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162601132" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162601132">Patrick Massot (Apr 05 2019 at 07:45)</a>:</h4>
<p>If Jasmin installed elan with default answer to all questions then he'll be fine</p>

<a name="162601216"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162601216" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162601216">Jasmin Blanchette (Apr 05 2019 at 07:47)</a>:</h4>
<p>I've used elan with default answers.</p>

<a name="162601217"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162601217" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162601217">Johan Commelin (Apr 05 2019 at 07:47)</a>:</h4>
<p>Last week things weren't fine when I helped Fabian</p>

<a name="162601236"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162601236" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162601236">Jasmin Blanchette (Apr 05 2019 at 07:47)</a>:</h4>
<p>I just checked on my laptop which Johannes installed and mathlib was installed as a component inside ~/.lean.</p>

<a name="162601284"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162601284" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162601284">Jasmin Blanchette (Apr 05 2019 at 07:48)</a>:</h4>
<p>I'll try to mimic that on the other machines.</p>

<a name="162601293"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162601293" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162601293">Patrick Massot (Apr 05 2019 at 07:48)</a>:</h4>
<p>That <code>.lean</code> is indeed used for lean files outside projects</p>

<a name="162601300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162601300" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162601300">Jasmin Blanchette (Apr 05 2019 at 07:48)</a>:</h4>
<p>Thanks for your help and suggestions! If I can't sort it out, I'll come back or bug Rob.</p>

<a name="162601328"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162601328" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162601328">Patrick Massot (Apr 05 2019 at 07:49)</a>:</h4>
<p>But I don't think that <code>update-mathlib</code>, the script that fetches compiled mathlib, cares about such rogue Lean files, so it probably won't help you</p>

<a name="162601337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162601337" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162601337">Jasmin Blanchette (Apr 05 2019 at 07:49)</a>:</h4>
<p>Hm... now I'm confused</p>

<a name="162601344"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162601344" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162601344">Jasmin Blanchette (Apr 05 2019 at 07:49)</a>:</h4>
<p>I think I'll ask Johannes.</p>

<a name="162601346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162601346" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162601346">Patrick Massot (Apr 05 2019 at 07:49)</a>:</h4>
<p>Jasmin, it would really help us if you could try to the fives lines howto I wrote above.</p>

<a name="162601424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162601424" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162601424">Patrick Massot (Apr 05 2019 at 07:50)</a>:</h4>
<p>If those five lines (6 if you include the line installing elan) are not enough then we need to know it</p>

<a name="162601448"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162601448" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162601448">Jasmin Blanchette (Apr 05 2019 at 07:51)</a>:</h4>
<p>OK let me try.</p>

<a name="162601466"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162601466" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162601466">Jasmin Blanchette (Apr 05 2019 at 07:51)</a>:</h4>
<p>You mean 1+ 4 lines, right?</p>

<a name="162601517"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162601517" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162601517">Patrick Massot (Apr 05 2019 at 07:52)</a>:</h4>
<p>yes</p>

<a name="162601600"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162601600" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162601600">Jasmin Blanchette (Apr 05 2019 at 07:54)</a>:</h4>
<p>It says: -bash: update-mathlib: command not found</p>

<a name="162601605"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162601605" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162601605">Jasmin Blanchette (Apr 05 2019 at 07:54)</a>:</h4>
<p>but what I don't like about it is that it requires creating a package</p>

<a name="162601616"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162601616" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162601616">Jasmin Blanchette (Apr 05 2019 at 07:55)</a>:</h4>
<p>with Johannes's approach it didn't</p>

<a name="162601625"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162601625" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162601625">Jasmin Blanchette (Apr 05 2019 at 07:55)</a>:</h4>
<p>which means I could freely use mathlib anywhere no questions asked</p>

<a name="162601630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162601630" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162601630">Jasmin Blanchette (Apr 05 2019 at 07:55)</a>:</h4>
<p>and I'd like my laptops to be as similar as possible to each other</p>

<a name="162601697"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162601697" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162601697">Jasmin Blanchette (Apr 05 2019 at 07:56)</a>:</h4>
<p>so I'll try to reproduce what Jo did, I think -- it seems to correspond to neither of the two options listed online.</p>

<a name="162601827"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162601827" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162601827">Patrick Massot (Apr 05 2019 at 07:58)</a>:</h4>
<p>Did you source .profile after installing <code>update-mathlib</code>?</p>

<a name="162601852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162601852" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162601852">Patrick Massot (Apr 05 2019 at 07:59)</a>:</h4>
<p>You can also indicate the full path <code>$HOME/.mathlib/bin/update-mathlib</code></p>

<a name="162601861"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162601861" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162601861">Jasmin Blanchette (Apr 05 2019 at 07:59)</a>:</h4>
<p>I only blindly followed the instructions above. But OK sure I can try that.</p>

<a name="162601932"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162601932" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162601932">Patrick Massot (Apr 05 2019 at 08:00)</a>:</h4>
<p>I think the first line I wrote should have told you to do update your path by sourcing .profile</p>

<a name="162601973"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162601973" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162601973">Patrick Massot (Apr 05 2019 at 08:01)</a>:</h4>
<p>You should have seen the effect of <a href="https://github.com/leanprover-community/mathlib/blob/master/scripts/remote-install-update-mathlib.sh#L14-L16" target="_blank" title="https://github.com/leanprover-community/mathlib/blob/master/scripts/remote-install-update-mathlib.sh#L14-L16">https://github.com/leanprover-community/mathlib/blob/master/scripts/remote-install-update-mathlib.sh#L14-L16</a></p>

<a name="162601975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162601975" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162601975">Jasmin Blanchette (Apr 05 2019 at 08:01)</a>:</h4>
<p>Sorry. Now I simply copied the entire .lean from one laptop to another and things work.</p>

<a name="162602021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162602021" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162602021">Jasmin Blanchette (Apr 05 2019 at 08:02)</a>:</h4>
<p>It seems like .lean gets read automatically or something.</p>

<a name="162602077"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162602077" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162602077">Patrick Massot (Apr 05 2019 at 08:03)</a>:</h4>
<p>only if you are outside of all projects</p>

<a name="162602094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162602094" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162602094">Jasmin Blanchette (Apr 05 2019 at 08:03)</a>:</h4>
<p>I don't want us to use projects in the course</p>

<a name="162602176"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162602176" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162602176">Jasmin Blanchette (Apr 05 2019 at 08:04)</a>:</h4>
<p>(I'm doing all of this for the Logical Verification course, which we started teaching in Lean last year.)</p>

<a name="162602226"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162602226" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162602226">Patrick Massot (Apr 05 2019 at 08:05)</a>:</h4>
<p>Won't you distribute Lean files to complete in this course?</p>

<a name="162603541"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162603541" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162603541">Jasmin Blanchette (Apr 05 2019 at 08:31)</a>:</h4>
<p>Yes, it will probably make sense to bundle them in a package</p>

<a name="162603546"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162603546" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162603546">Jasmin Blanchette (Apr 05 2019 at 08:31)</a>:</h4>
<p>but that's in November</p>

<a name="162603627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162603627" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162603627">Jasmin Blanchette (Apr 05 2019 at 08:32)</a>:</h4>
<p>and students will have to create homework etc.</p>

<a name="162603641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162603641" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162603641">Jasmin Blanchette (Apr 05 2019 at 08:32)</a>:</h4>
<p>I presume they'll be happier if they can install mathlib only once in .lean than in each package or something</p>

<a name="162603664"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162603664" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162603664">Jasmin Blanchette (Apr 05 2019 at 08:33)</a>:</h4>
<p>regardless, some people who are more Lean savvy will help me in due time with that (Alex B., Rob L.) -- pity Johannes H. is gone</p>

<a name="162603723"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162603723" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162603723">Jasmin Blanchette (Apr 05 2019 at 08:34)</a>:</h4>
<p>now, next problem: how come Isabelle doesn't build on two of my machines... ;)</p>

<a name="162644043"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/162644043" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#162644043">Johannes HÃ¶lzl (Apr 05 2019 at 17:45)</a>:</h4>
<p>didn't we use <code>leanpkg install ...</code>?</p>

<a name="163412150"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/163412150" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#163412150">Jan-David Salchow (Apr 15 2019 at 20:12)</a>:</h4>
<p>I just got my hands on a lean free mac, so I though I'd try if the install script works</p>

<a name="163412160"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/163412160" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#163412160">Jan-David Salchow (Apr 15 2019 at 20:12)</a>:</h4>
<p>The first step doesn't</p>

<a name="163412188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/163412188" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#163412188">Jan-David Salchow (Apr 15 2019 at 20:12)</a>:</h4>
<p>there is brew on the computer, but no python</p>

<a name="163412222"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/163412222" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#163412222">Jan-David Salchow (Apr 15 2019 at 20:13)</a>:</h4>
<p>So read should ask me if I want to install python3</p>

<a name="163412235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/163412235" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#163412235">Kevin Buzzard (Apr 15 2019 at 20:13)</a>:</h4>
<p>I tried installing Lean on a mac last week and the <code>update-mathlib</code> line didn't do anything either. In the end I just found the script and copy-pasted it.</p>

<a name="163412325"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/163412325" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#163412325">Jan-David Salchow (Apr 15 2019 at 20:14)</a>:</h4>
<p>Instead I get ```Jan-David.Salchow@C02Y13THJGH6:~:$ curl <a href="https://raw.githubusercontent.com/leanprover-community/mathlib/master/scripts/remote-install-update-mathlib.sh" target="_blank" title="https://raw.githubusercontent.com/leanprover-community/mathlib/master/scripts/remote-install-update-mathlib.sh">https://raw.githubusercontent.com/leanprover-community/mathlib/master/scripts/remote-install-update-mathlib.sh</a> -sSf | sh<br>
Installing python dependencies (at user level)<br>
/usr/local/bin/brew</p>
<p>Jan-David.Salchow@C02Y13THJGH6:~:$ ```</p>

<a name="163412401"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/163412401" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#163412401">Patrick Massot (Apr 15 2019 at 20:15)</a>:</h4>
<p>I think those things were tested only on Debian-like systems. It would be very helpful to make them work on a fresh mac</p>

<a name="163412430"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/163412430" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#163412430">Jan-David Salchow (Apr 15 2019 at 20:16)</a>:</h4>
<p>That's my goal</p>

<a name="163412491"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/163412491" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#163412491">Jan-David Salchow (Apr 15 2019 at 20:16)</a>:</h4>
<p>Any idea why read doesn't work when piped through sh?</p>

<a name="163412503"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/163412503" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#163412503">Kevin Buzzard (Apr 15 2019 at 20:16)</a>:</h4>
<p>The update-mathlib thing: you are experiencing exactly what I experienced.</p>

<a name="163412544"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/163412544" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#163412544">Kevin Buzzard (Apr 15 2019 at 20:17)</a>:</h4>
<p>I was at AITP and random people were asking me how to install Lean and this is what I was faced with :-(</p>

<a name="163412583"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/163412583" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#163412583">Kevin Buzzard (Apr 15 2019 at 20:17)</a>:</h4>
<p>I had much better luck just cutting and pasting <a href="https://github.com/leanprover-community/mathlib/blob/master/scripts/remote-install-update-mathlib.sh" target="_blank" title="https://github.com/leanprover-community/mathlib/blob/master/scripts/remote-install-update-mathlib.sh">https://github.com/leanprover-community/mathlib/blob/master/scripts/remote-install-update-mathlib.sh</a> into a file and running that.</p>

<a name="163412666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/163412666" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#163412666">Kevin Buzzard (Apr 15 2019 at 20:18)</a>:</h4>
<p>Another thing that was awful: I made a new project with mathlib as a dependency, finally installed update-mathlib, and then it wouldn't work because it couldn't find olean files for that particular commit :-(</p>

<a name="163412725"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/163412725" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#163412725">Kevin Buzzard (Apr 15 2019 at 20:19)</a>:</h4>
<p>In the end I just got out my own laptop, looked at a commit which I knew update-mathlib would work for, memorised the first few characters of the commit hash, went back to their machine, cd'ed to _target/deps/mathlib, looked at the output of <code>git log</code>, found the commit, switched to that commit, and then manually edited the <code>leanpkg.toml</code> file to have that commit, and then finally it worked. Looked pretty slick ;-) not</p>

<a name="163414638"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/163414638" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#163414638">Jan-David Salchow (Apr 15 2019 at 20:44)</a>:</h4>
<p><code>read -p "update-mathlib needs to install python3 and pip3. Proceed?" -n 1 -r &lt;/dev/tty</code><br>
solves that problem for me, the <code>&lt;/dev/tty</code> apparently tells read to use the terminal as an input</p>

<a name="163415002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/163415002" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#163415002">Jan-David Salchow (Apr 15 2019 at 20:49)</a>:</h4>
<p>Ahh, <a href="https://raw.githubusercontent.com/Kha/elan/master/elan-init.sh" target="_blank" title="https://raw.githubusercontent.com/Kha/elan/master/elan-init.sh">https://raw.githubusercontent.com/Kha/elan/master/elan-init.sh</a> also uses &lt;/dev/tty</p>

<a name="163417544"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/163417544" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#163417544">Jan-David Salchow (Apr 15 2019 at 21:24)</a>:</h4>
<p>I've PRed this tiny change as <a href="https://github.com/leanprover-community/mathlib/issues/940" target="_blank" title="https://github.com/leanprover-community/mathlib/issues/940">#940</a> and tested it on my computer. I'm pretty sure it doesn't break anything that wasn't working beforehand ;)</p>

<a name="163417558"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/163417558" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#163417558">Kevin Buzzard (Apr 15 2019 at 21:24)</a>:</h4>
<p>Thanks!</p>

<a name="163457534"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/163457534" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#163457534">Kevin Buzzard (Apr 16 2019 at 10:37)</a>:</h4>
<div class="codehilite"><pre><span></span>$ update-mathlib
  File &quot;/home/buzzard/.mathlib/bin/update-mathlib&quot;, line 23
    os.system(f&quot;curl {mathlib_url}/{branch}/{installer_path} -sSf | sh&quot;)
                                                                      ^
SyntaxError: invalid syntax
$
</pre></div>


<p>aargh [on Ubuntu 16.04]</p>

<a name="163458729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/163458729" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#163458729">Kevin Buzzard (Apr 16 2019 at 10:59)</a>:</h4>
<p>Can I fix this easily? I'm out all day with a laptop and I don't fancy hammering my battery to compile Lean</p>

<a name="163460255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/163460255" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#163460255">Kevin Buzzard (Apr 16 2019 at 11:24)</a>:</h4>
<p>Oh ok I figured how it all worked. I switched to a mathlib git commit from a couple of weeks ago and then ran the installer again which I found in scripts</p>

<a name="163589176"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/163589176" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#163589176">Jan-David Salchow (Apr 17 2019 at 18:37)</a>:</h4>
<p>I just wrote an explanation on why the fix is necessary, see <a href="https://github.com/leanprover-community/mathlib/pull/940#issuecomment-484211046" target="_blank" title="https://github.com/leanprover-community/mathlib/pull/940#issuecomment-484211046">https://github.com/leanprover-community/mathlib/pull/940#issuecomment-484211046</a></p>

<a name="163589258"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/163589258" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#163589258">Jan-David Salchow (Apr 17 2019 at 18:38)</a>:</h4>
<p>This makes me doubt that the fix is only required for Macs</p>

<a name="163589357"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/163589357" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#163589357">Jan-David Salchow (Apr 17 2019 at 18:39)</a>:</h4>
<p>I think all three reads should be broken, when executed as suggested above</p>

<a name="163589665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Installing%20mathlib/near/163589665" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/63351Installingmathlib.html#163589665">Jan-David Salchow (Apr 17 2019 at 18:42)</a>:</h4>
<p>Has anybody tried this on Debian without python installed?</p>


{% endraw %}
