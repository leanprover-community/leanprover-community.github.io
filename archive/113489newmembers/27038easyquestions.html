---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/113489newmembers/27038easyquestions.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113489newmembers/index.html">new members</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113489newmembers/27038easyquestions.html">easy questions</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="169009150"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/easy%20questions/near/169009150" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/27038easyquestions.html#169009150">Adrian Chu (Jun 26 2019 at 08:23)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">theorem</span> <span class="n">test</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">):</span> <span class="bp">∃</span> <span class="n">a</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span> <span class="mi">2</span><span class="bp">*</span><span class="n">a</span> <span class="bp">=</span> <span class="mi">4</span> <span class="o">:=</span> <span class="n">sorry</span>

<span class="kn">theorem</span> <span class="n">test2</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">):</span> <span class="bp">∃</span> <span class="n">b</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span> <span class="mi">3</span><span class="bp">*</span><span class="n">b</span> <span class="bp">=</span> <span class="mi">6</span> <span class="o">:=</span>
<span class="k">begin</span>
<span class="n">fapply</span> <span class="n">exists</span><span class="bp">.</span><span class="n">intro</span><span class="o">,</span>
  <span class="n">exact</span> <span class="mi">3</span><span class="o">,</span> <span class="n">sorry</span>
<span class="kn">end</span>
</pre></div>


<p>in this stupid theorem, i want to replace <code>3</code> with the <code>a</code> given by <code>test</code>, how should i write?</p>

<a name="169009211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/easy%20questions/near/169009211" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/27038easyquestions.html#169009211">Kenny Lau (Jun 26 2019 at 08:25)</a>:</h4>
<p>you can't take out what you put in the proof of an existential statement</p>

<a name="169009349"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/easy%20questions/near/169009349" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/27038easyquestions.html#169009349">Adrian Chu (Jun 26 2019 at 08:27)</a>:</h4>
<p>huh? but then how should we define a number x+1, in which the existence of x is guaranteed by some previous theorem A?</p>

<a name="169009421"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/easy%20questions/near/169009421" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/27038easyquestions.html#169009421">Kenny Lau (Jun 26 2019 at 08:28)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">(</span><span class="n">choice</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">),</span> <span class="o">(</span><span class="bp">∃</span> <span class="n">n</span><span class="o">,</span> <span class="n">C</span> <span class="n">n</span><span class="o">)</span> <span class="bp">→</span> <span class="bp">ℕ</span><span class="o">)</span>
  <span class="o">(</span><span class="n">spec</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">C</span> <span class="n">n</span><span class="o">),</span> <span class="n">choice</span> <span class="n">C</span> <span class="bp">⟨</span><span class="n">n</span><span class="o">,</span> <span class="n">h</span><span class="bp">⟩</span> <span class="bp">=</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">false</span> <span class="o">:=</span>
<span class="n">nat</span><span class="bp">.</span><span class="n">zero_ne_one</span> <span class="err">$</span> <span class="k">show</span> <span class="mi">0</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">,</span> <span class="k">from</span>
<span class="k">calc</span>  <span class="mi">0</span>
    <span class="bp">=</span> <span class="n">choice</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">n</span><span class="o">,</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">n</span><span class="o">)</span> <span class="bp">⟨</span><span class="mi">0</span><span class="o">,</span> <span class="n">rfl</span><span class="bp">⟩</span> <span class="o">:</span> <span class="o">(</span><span class="n">spec</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">n</span><span class="o">,</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">n</span><span class="o">)</span> <span class="mi">0</span> <span class="n">rfl</span><span class="o">)</span><span class="bp">.</span><span class="n">symm</span>
<span class="bp">...</span> <span class="bp">=</span> <span class="n">choice</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">n</span><span class="o">,</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">n</span><span class="o">)</span> <span class="bp">⟨</span><span class="mi">1</span><span class="o">,</span> <span class="n">rfl</span><span class="bp">⟩</span> <span class="o">:</span> <span class="n">rfl</span>
<span class="bp">...</span> <span class="bp">=</span> <span class="mi">1</span>                           <span class="o">:</span> <span class="n">spec</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">n</span><span class="o">,</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">n</span><span class="o">)</span> <span class="mi">1</span> <span class="n">rfl</span>
</pre></div>

<a name="169009433"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/easy%20questions/near/169009433" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/27038easyquestions.html#169009433">Kenny Lau (Jun 26 2019 at 08:28)</a>:</h4>
<p>this is because of proof irrelevance, where two proofs of the same theorem are definitionally equal</p>

<a name="169009452"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/easy%20questions/near/169009452" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/27038easyquestions.html#169009452">Kenny Lau (Jun 26 2019 at 08:29)</a>:</h4>
<p>so in particular two witnesses result in the same proof of the existential.</p>

<a name="169009640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/easy%20questions/near/169009640" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/27038easyquestions.html#169009640">Kenny Lau (Jun 26 2019 at 08:32)</a>:</h4>
<p>but you can use a <code>subtype</code> to retain the witness:</p>
<div class="codehilite"><pre><span></span><span class="n">def</span> <span class="n">test</span> <span class="o">:</span> <span class="o">{</span> <span class="n">a</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">//</span> <span class="mi">2</span><span class="bp">*</span><span class="n">a</span> <span class="bp">=</span> <span class="mi">4</span><span class="o">}</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="mi">2</span><span class="o">,</span> <span class="n">rfl</span><span class="bp">⟩</span>

<span class="kn">theorem</span> <span class="n">test2</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">b</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span> <span class="mi">3</span><span class="bp">*</span><span class="n">b</span> <span class="bp">=</span> <span class="mi">6</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="n">test</span><span class="bp">.</span><span class="mi">1</span><span class="o">,</span> <span class="n">rfl</span><span class="bp">⟩</span>
</pre></div>

<a name="169009773"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/easy%20questions/near/169009773" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/27038easyquestions.html#169009773">Alistair Tucker (Jun 26 2019 at 08:35)</a>:</h4>
<p>But if you want only want to use the witness a in a proof of something else then you can say <code>cases test with a ha,</code></p>

<a name="169009842"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/easy%20questions/near/169009842" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/27038easyquestions.html#169009842">Kenny Lau (Jun 26 2019 at 08:36)</a>:</h4>
<p>oh right</p>

<a name="169009995"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/easy%20questions/near/169009995" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/27038easyquestions.html#169009995">Kenny Lau (Jun 26 2019 at 08:38)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">theorem</span> <span class="n">test</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">a</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span> <span class="mi">2</span><span class="bp">*</span><span class="n">a</span> <span class="bp">=</span> <span class="mi">4</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="mi">2</span><span class="o">,</span> <span class="n">rfl</span><span class="bp">⟩</span>

<span class="kn">theorem</span> <span class="n">test2</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">b</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span> <span class="mi">3</span><span class="bp">*</span><span class="n">b</span> <span class="bp">=</span> <span class="mi">6</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">cases</span> <span class="n">test</span> <span class="k">with</span> <span class="n">a</span> <span class="n">ha</span><span class="o">,</span>
  <span class="n">refine</span> <span class="bp">⟨</span><span class="n">a</span><span class="o">,</span> <span class="bp">_⟩</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">=</span> <span class="mi">2</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="n">two_mul</span> <span class="n">at</span> <span class="n">ha</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">nat</span><span class="bp">.</span><span class="n">bit0_inj</span> <span class="n">ha</span> <span class="o">},</span>
  <span class="n">subst</span> <span class="n">this</span><span class="o">,</span>
  <span class="n">refl</span>
<span class="kn">end</span>
</pre></div>

<a name="169010235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/easy%20questions/near/169010235" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/27038easyquestions.html#169010235">Adrian Chu (Jun 26 2019 at 08:42)</a>:</h4>
<p>i see, thanks!!</p>

<a name="169017943"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/easy%20questions/near/169017943" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/27038easyquestions.html#169017943">Kevin Buzzard (Jun 26 2019 at 10:56)</a>:</h4>
<blockquote>
<p>you can't take out what you put in the proof of an existential statement</p>
</blockquote>
<p>Don't listen to the constructivist!</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">interactive</span>

<span class="kn">theorem</span> <span class="n">test</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">):</span> <span class="bp">∃</span> <span class="n">a</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span> <span class="mi">2</span><span class="bp">*</span><span class="n">a</span> <span class="bp">=</span> <span class="mi">4</span> <span class="o">:=</span> <span class="n">sorry</span>

<span class="kn">theorem</span> <span class="n">test2</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">):</span> <span class="bp">∃</span> <span class="n">b</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span> <span class="mi">3</span><span class="bp">*</span><span class="n">b</span> <span class="bp">=</span> <span class="mi">6</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">choose</span> <span class="n">a</span> <span class="n">ha</span> <span class="kn">using</span> <span class="n">test</span> <span class="mi">37</span><span class="o">,</span>
  <span class="c">/-</span><span class="cm"></span>
<span class="cm">  1 goal</span>
<span class="cm">  x a : ℕ,</span>
<span class="cm">  ha : 2 * a = 4</span>
<span class="cm">  ⊢ ∃ (b : ℕ), 3 * b = 6</span>
<span class="cm">  -/</span>
  <span class="n">sorry</span>
<span class="kn">end</span>
</pre></div>


<p>[why does test take an input which is never used?]</p>

<a name="169018082"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/easy%20questions/near/169018082" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/27038easyquestions.html#169018082">Reid Barton (Jun 26 2019 at 10:59)</a>:</h4>
<p>You don't need <code>choose</code> here, just <code>cases</code> which was mentioned earlier</p>


{% endraw %}
