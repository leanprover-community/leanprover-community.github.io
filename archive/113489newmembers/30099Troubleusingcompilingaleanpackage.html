---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/113489newmembers/30099Troubleusingcompilingaleanpackage.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113489newmembers/index.html">new members</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113489newmembers/30099Troubleusingcompilingaleanpackage.html">Trouble using compiling a lean package</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="147882741"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trouble%20using%20compiling%20a%20lean%20package/near/147882741" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/30099Troubleusingcompilingaleanpackage.html#147882741">Calle Sönne (Nov 17 2018 at 16:15)</a>:</h4>
<p>Im trying compile a leanpackage. I assume the way you do is by running leanpkg build in the folder where leanpkg.toml is located. However doing that gives me the following error:</p>
<p>error: override toolchain 'master' is not installed<br>
info: caused by: the toolchain file at '/home/calle/herstein/leanpkg.toml' specifies an uninstalled toolchain</p>
<p>I have tried running leanpkg build, leanpkg init, leanpkg .configure. All of them give the same error (even just running "lean" within the folder gives same error). Other than this lean is working fine and I can use/work on other packages.</p>
<p>Here is the leanpkg.toml file if that explains anything:</p>
<p>[package]                                                                                                                                                                                <br>
name = "herstein"<br>
version = "0.1"<br>
lean_version = "master"<br>
path = "src"</p>
<p>[dependencies]<br>
mathlib = {git = "<a href="https://github.com/leanprover/mathlib" target="_blank" title="https://github.com/leanprover/mathlib">https://github.com/leanprover/mathlib</a>", rev = "c7c0d2a1bb2f0ba353bbcb0510352a25c80fc186"}</p>

<a name="147882884"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trouble%20using%20compiling%20a%20lean%20package/near/147882884" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/30099Troubleusingcompilingaleanpackage.html#147882884">Johan Commelin (Nov 17 2018 at 16:20)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="132603">@Calle Sönne</span> Are you using <code>elan</code>? Which OS are you on?</p>

<a name="147885359"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trouble%20using%20compiling%20a%20lean%20package/near/147885359" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/30099Troubleusingcompilingaleanpackage.html#147885359">Kevin Buzzard (Nov 17 2018 at 17:38)</a>:</h4>
<p>He is using <code>elan</code>, it's on Windows, he showed me this on Thursday and I had no idea. Just running <code>leanpkg</code> by itself with no parameters gave this error</p>

<a name="147885375"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trouble%20using%20compiling%20a%20lean%20package/near/147885375" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/30099Troubleusingcompilingaleanpackage.html#147885375">Kenny Lau (Nov 17 2018 at 17:39)</a>:</h4>
<p>and lean is funded by microsoft lmao</p>

<a name="147885432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trouble%20using%20compiling%20a%20lean%20package/near/147885432" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/30099Troubleusingcompilingaleanpackage.html#147885432">Kevin Buzzard (Nov 17 2018 at 17:40)</a>:</h4>
<p>I'm funded by Imperial College but that doesn't mean that the "official" website they insist on generating for me bears any relation to what I have been doing over the last 10 years. Big organizations are complex things Kenny.</p>

<a name="147885448"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trouble%20using%20compiling%20a%20lean%20package/near/147885448" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/30099Troubleusingcompilingaleanpackage.html#147885448">Kenny Lau (Nov 17 2018 at 17:42)</a>:</h4>
<p>what, <a href="https://www.imperial.ac.uk/people/k.buzzard" target="_blank" title="https://www.imperial.ac.uk/people/k.buzzard">this one</a>?</p>

<a name="147885540"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trouble%20using%20compiling%20a%20lean%20package/near/147885540" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/30099Troubleusingcompilingaleanpackage.html#147885540">Calle Sönne (Nov 17 2018 at 17:44)</a>:</h4>
<p>Im using linux (Manjaro)</p>

<a name="147885596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trouble%20using%20compiling%20a%20lean%20package/near/147885596" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/30099Troubleusingcompilingaleanpackage.html#147885596">Reid Barton (Nov 17 2018 at 17:46)</a>:</h4>
<p>Is <code>lean_version = "master"</code> supposed to work?</p>

<a name="147885621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trouble%20using%20compiling%20a%20lean%20package/near/147885621" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/30099Troubleusingcompilingaleanpackage.html#147885621">Kevin Buzzard (Nov 17 2018 at 17:47)</a>:</h4>
<blockquote>
<p>what, <a href="https://www.imperial.ac.uk/people/k.buzzard" target="_blank" title="https://www.imperial.ac.uk/people/k.buzzard">this one</a>?</p>
</blockquote>
<p>Yes. It's auto-generated you know! The script was written in about 2004.</p>

<a name="147885626"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trouble%20using%20compiling%20a%20lean%20package/near/147885626" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/30099Troubleusingcompilingaleanpackage.html#147885626">Calle Sönne (Nov 17 2018 at 17:47)</a>:</h4>
<p>Im using elan version 0.7.1 and lean version 3.4.2 nightly-2018-11-13</p>

<a name="147885670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trouble%20using%20compiling%20a%20lean%20package/near/147885670" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/30099Troubleusingcompilingaleanpackage.html#147885670">Reid Barton (Nov 17 2018 at 17:48)</a>:</h4>
<p>I would put one of those version numbers in the <code>lean_version</code> field then.</p>

<a name="147885673"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trouble%20using%20compiling%20a%20lean%20package/near/147885673" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/30099Troubleusingcompilingaleanpackage.html#147885673">Reid Barton (Nov 17 2018 at 17:48)</a>:</h4>
<p>elan uses that field to decide which lean to invoke and I don't think it understands "master"</p>

<a name="147885676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trouble%20using%20compiling%20a%20lean%20package/near/147885676" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/30099Troubleusingcompilingaleanpackage.html#147885676">Kevin Buzzard (Nov 17 2018 at 17:48)</a>:</h4>
<p>Try <code>lean_version = "nightly-2018-11-13"</code></p>

<a name="147885683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trouble%20using%20compiling%20a%20lean%20package/near/147885683" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/30099Troubleusingcompilingaleanpackage.html#147885683">Kevin Buzzard (Nov 17 2018 at 17:49)</a>:</h4>
<p>(in leanpkg.toml)</p>

<a name="147885737"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trouble%20using%20compiling%20a%20lean%20package/near/147885737" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/30099Troubleusingcompilingaleanpackage.html#147885737">Kevin Buzzard (Nov 17 2018 at 17:50)</a>:</h4>
<p>I see, so this is the issue. I've never used elan and I didn't understand the error. The job of elan is to ensure that the version of Lean coincides with the version used by the package. This will be an issue in future when Lean 4 hits. But it never bites me now because every package I know of uses Lean 3.4.1 or some nightly after 3.4.1 which is basically the same as 3.4.1 but with some minor irrelevant bugfix</p>

<a name="147885738"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trouble%20using%20compiling%20a%20lean%20package/near/147885738" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/30099Troubleusingcompilingaleanpackage.html#147885738">Calle Sönne (Nov 17 2018 at 17:50)</a>:</h4>
<p>That did it :) Thank you</p>

<a name="147885740"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Trouble%20using%20compiling%20a%20lean%20package/near/147885740" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/30099Troubleusingcompilingaleanpackage.html#147885740">Kevin Buzzard (Nov 17 2018 at 17:50)</a>:</h4>
<p>:-)</p>


{% endraw %}
