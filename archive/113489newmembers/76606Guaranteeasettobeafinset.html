---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113489newmembers/76606Guaranteeasettobeafinset.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113489newmembers/index.html">new members</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html">Guarantee a set to be a finset</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="132327674"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132327674" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132327674">JIANXIONG SUN (Aug 17 2018 at 21:20)</a>:</h4>
<p>Can someone help me with the Jacobian Identity, there are so many brackets, how can I easily  expand all the brackets ?</p>
<p>And how can I use a+b+c = (a+b)+c, the add_assoc can only prove a+b+c=a+(b+c)</p>
<div class="codehilite"><pre><span></span>structure vector (R : Type) :=
vec :: (x : R) (y : R) (z : R)


namespace vector

variables {R : Type} [comm_ring R]

def zero : vector R := vec 0 0 0

def add (a b : vector R) :=
vec (a.x + b.x) (a.y + b.y) (a.z + b.z)

def cross_prod (a b : vector R) :=
vec (a.y * b.z - a.z * b.y) (a.x * b.z - a.z * b.x) (a.x * b.y - a.y * b.x)

theorem jacobian : ∀ (a b c: vector R) ,
 add (cross_prod a (cross_prod b c)) (add (cross_prod b (cross_prod c a))  (cross_prod c (cross_prod a b))) = zero :=
begin
  intro a,
  intro b,
  intro c,
  unfold add,
  unfold cross_prod,
  unfold zero,
  dsimp,
  congr,
  simp,
  rw mul_add,
  rw add_comm,
  rw mul_add,
  rw add_comm,
  rw add_assoc,

end
end vector
</pre></div>

<a name="132327886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132327886" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132327886">Patrick Massot (Aug 17 2018 at 21:24)</a>:</h4>
<p>Are you willing to use mathlib?</p>

<a name="132327905"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132327905" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132327905">Patrick Massot (Aug 17 2018 at 21:25)</a>:</h4>
<p>If yes then you can preface the file with <code>import tactic.ring</code>, and right after <code>unfold_zero</code>, write <code>ring, tauto</code> and be done</p>

<a name="132328071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132328071" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132328071">JIANXIONG SUN (Aug 17 2018 at 21:29)</a>:</h4>
<p>It's a good method, but actually I want to show the steps of the proof :-)</p>

<a name="132328213"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132328213" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132328213">Chris Hughes (Aug 17 2018 at 21:32)</a>:</h4>
<p><code>a + b + c</code> is definitionally equal to <code>(a + b) + c</code>, the pretty printer doesn't display the brackets since they are unnecessary.</p>

<a name="132328249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132328249" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132328249">Patrick Massot (Aug 17 2018 at 21:33)</a>:</h4>
<p>it's more than definitional equality (!) it's parsing</p>

<a name="132328299"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132328299" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132328299">Patrick Massot (Aug 17 2018 at 21:34)</a>:</h4>
<p>(deleted)</p>

<a name="132329271"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132329271" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132329271">Kenny Lau (Aug 17 2018 at 21:56)</a>:</h4>
<p>how do we call that type of equality?</p>

<a name="132329309"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132329309" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132329309">Patrick Massot (Aug 17 2018 at 21:57)</a>:</h4>
<p>it's what the parser parses</p>

<a name="132329353"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132329353" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132329353">Sebastian Ullrich (Aug 17 2018 at 21:58)</a>:</h4>
<p>Structural equality</p>

<a name="132329367"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132329367" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132329367">Patrick Massot (Aug 17 2018 at 21:58)</a>:</h4>
<p>yeah, sounds more impressive</p>

<a name="132329393"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132329393" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132329393">Kenny Lau (Aug 17 2018 at 21:59)</a>:</h4>
<p>why "structure"?</p>

<a name="132329437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132329437" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132329437">Patrick Massot (Aug 17 2018 at 22:00)</a>:</h4>
<p>why not "ontological equality"?</p>

<a name="132329453"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132329453" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132329453">Chris Hughes (Aug 17 2018 at 22:00)</a>:</h4>
<p>How many degrees of equality are there?</p>

<a name="132329458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132329458" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132329458">Sebastian Ullrich (Aug 17 2018 at 22:00)</a>:</h4>
<p>Because the terms' structure as a tree of constructors is the same. See "structural induction", which is induction over that tree.</p>

<a name="132329537"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132329537" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132329537">Chris Hughes (Aug 17 2018 at 22:03)</a>:</h4>
<p>What type of equality do terms need to be for <code>rw</code> to work? I think that's slightly weaker than structural equality since it unfold reducibles</p>

<a name="132418938"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132418938" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132418938">JIANXIONG SUN (Aug 19 2018 at 20:19)</a>:</h4>
<p>Why there is always excessive memory when I import something?Is it the problem of the computer <a href="/user_uploads/3121/A5DMKvrZ-TiBq78T4TN4rsi_/Capture.PNG" target="_blank" title="Capture.PNG">Capture.PNG</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/A5DMKvrZ-TiBq78T4TN4rsi_/Capture.PNG" target="_blank" title="Capture.PNG"><img src="/user_uploads/3121/A5DMKvrZ-TiBq78T4TN4rsi_/Capture.PNG"></a></div>

<a name="132419069"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132419069" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132419069">Patrick Massot (Aug 19 2018 at 20:23)</a>:</h4>
<p>Your installation of mathlib seems to have a problem</p>

<a name="132419071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132419071" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132419071">Patrick Massot (Aug 19 2018 at 20:23)</a>:</h4>
<p>maybe you should try to rebuild it</p>

<a name="132419731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132419731" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132419731">JIANXIONG SUN (Aug 19 2018 at 20:44)</a>:</h4>
<p>I tried it but it seems not work</p>

<a name="132420211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132420211" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132420211">Simon Hudon (Aug 19 2018 at 21:03)</a>:</h4>
<p>After rebuilding, did you restart your Lean server?</p>

<a name="132484277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132484277" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132484277">JIANXIONG SUN (Aug 20 2018 at 22:16)</a>:</h4>
<p>How to switch the LHS and RHS of n equality?</p>
<div class="codehilite"><pre><span></span>variables {R : Type} [comm_ring R]
theorem mul : ∀ (a b c : R) , a * b * c = c * a * b :=
begin
intro a,
intro b,
intro c,
rw mul_comm,
apply mul_assoc,
end
</pre></div>


<p>I thought this can work but it seems that mul_assoc can only prove c<em>a</em>b=c<em>(a</em>b)</p>

<a name="132484521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132484521" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132484521">Simon Hudon (Aug 20 2018 at 22:21)</a>:</h4>
<p>You can try <code>assoc_rw [mul_comm]</code></p>

<a name="132484868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132484868" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132484868">JIANXIONG SUN (Aug 20 2018 at 22:29)</a>:</h4>
<p>You mean right after <code>intro c</code>?</p>

<a name="132484980"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132484980" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132484980">JIANXIONG SUN (Aug 20 2018 at 22:31)</a>:</h4>
<p>What's the meaning of the square bracket here?</p>

<a name="132484982"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132484982" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132484982">Simon Hudon (Aug 20 2018 at 22:31)</a>:</h4>
<p>Actually, in your situation, <code>ac_refl</code>, is even simpler: <code>by intros; ac_refl</code></p>

<a name="132485041"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132485041" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132485041">Simon Hudon (Aug 20 2018 at 22:32)</a>:</h4>
<blockquote>
<p>What's the meaning of the square bracket here?</p>
</blockquote>
<p>Like with <code>rw</code>, <code>assoc_rw</code> takes a list of expressions as an argument: <code>assoc_rw [rule1,rule2,rule3]</code></p>

<a name="132485227"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132485227" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132485227">JIANXIONG SUN (Aug 20 2018 at 22:37)</a>:</h4>
<p>It says that <code>`assoc_rw</code>is an unknown identifier, <a href="/user_uploads/3121/tTOzNZCncGvTa3Xailmb7NZZ/Capture.PNG" target="_blank" title="Capture.PNG">Capture.PNG</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/tTOzNZCncGvTa3Xailmb7NZZ/Capture.PNG" target="_blank" title="Capture.PNG"><img src="/user_uploads/3121/tTOzNZCncGvTa3Xailmb7NZZ/Capture.PNG"></a></div>

<a name="132485292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132485292" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132485292">Simon Hudon (Aug 20 2018 at 22:38)</a>:</h4>
<p>Are you using <code>mathlib</code>?</p>

<a name="132485402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132485402" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132485402">Mario Carneiro (Aug 20 2018 at 22:41)</a>:</h4>
<p>the non crazy overpowered solution is just to use <code>&lt;-</code>:</p>
<div class="codehilite"><pre><span></span>theorem mul (a b c : R) : a * b * c = c * a * b :=
by rw [mul_comm, ← mul_assoc]
</pre></div>

<a name="132485472"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132485472" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132485472">Mario Carneiro (Aug 20 2018 at 22:43)</a>:</h4>
<p><code>simp</code> will also do AC rewriting, so <code>by simp [mul_comm, mul_assoc]</code> also works without mathlib</p>

<a name="132485585"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132485585" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132485585">JIANXIONG SUN (Aug 20 2018 at 22:45)</a>:</h4>
<p>I would try this tomorrow, thank you</p>

<a name="132486021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132486021" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132486021">Simon Hudon (Aug 20 2018 at 22:55)</a>:</h4>
<p>Why do you say AC rewriting is overpowered?</p>

<a name="132486327"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132486327" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132486327">JIANXIONG SUN (Aug 20 2018 at 23:00)</a>:</h4>
<p>I have mathlib on the computer，maybe there some other problems</p>

<a name="132486499"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132486499" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132486499">Simon Hudon (Aug 20 2018 at 23:04)</a>:</h4>
<p>You need to import <code>tactic.rewrite</code>, sorry, I forgot to mention that</p>

<a name="132875137"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132875137" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132875137">Olli (Aug 27 2018 at 19:15)</a>:</h4>
<p>Would it be possible to get a hint for what to do here:<br>
<a href="https://gist.github.com/luxbock/981f990d263516589146ffeb3825e421" target="_blank" title="https://gist.github.com/luxbock/981f990d263516589146ffeb3825e421">https://gist.github.com/luxbock/981f990d263516589146ffeb3825e421</a></p>
<p>This is Chapter 3 exercise from the book. My hypothesis <code>h</code> is a lambda, and the only way I know how to make progress with it is by applying it to something, but I have nothing else to go by</p>

<a name="132875274"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132875274" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132875274">Simon Hudon (Aug 27 2018 at 19:18)</a>:</h4>
<p>You can use <code>and.intro (assume h', _) (assume h', _)</code></p>

<a name="132875279"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132875279" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132875279">Patrick Massot (Aug 27 2018 at 19:18)</a>:</h4>
<p>I have a hint: use tactic mode</p>

<a name="132875305"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132875305" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132875305">Olli (Aug 27 2018 at 19:19)</a>:</h4>
<p>I am trying to make it through without tactics, as I'm still trying to wrap my head around propositions as types, and tactics have yet to be introduced at this point</p>

<a name="132875385"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132875385" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132875385">Kevin Buzzard (Aug 27 2018 at 19:21)</a>:</h4>
<p>Patrick has a point though. I found it much easier to learn tactic mode first. Without it, the goal is an <code>and</code> statement and you can construct proofs of such statements with <code>and.intro</code> as Simon says. In general I guess this is the way to think about it. For each of these things (and, or, implies etc) you need to learn how to construct it (i.e. make it) and how to eliminate it (i.e. use it). <code>and.intro</code> is a constructor for <code>and</code>.</p>

<a name="132875461"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132875461" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132875461">Patrick Massot (Aug 27 2018 at 19:23)</a>:</h4>
<p>I'll tell you how a mathematician would do it. First install mathlib (of course). Then</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">interactive</span>

<span class="kn">variables</span> <span class="o">(</span><span class="n">p</span> <span class="n">q</span> <span class="n">r</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">[</span><span class="n">decidable</span> <span class="n">p</span><span class="o">]</span> <span class="o">[</span><span class="n">decidable</span> <span class="n">q</span><span class="o">]</span>
<span class="kn">example</span> <span class="o">:</span> <span class="o">((</span><span class="n">p</span> <span class="bp">∨</span> <span class="n">q</span><span class="o">)</span> <span class="bp">→</span> <span class="n">r</span><span class="o">)</span> <span class="bp">↔</span> <span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">r</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">q</span> <span class="bp">→</span> <span class="n">r</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">tauto</span>
</pre></div>

<a name="132875467"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132875467" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132875467">Patrick Massot (Aug 27 2018 at 19:23)</a>:</h4>
<p>Then move on to interesting maths</p>

<a name="132875515"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132875515" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132875515">Patrick Massot (Aug 27 2018 at 19:24)</a>:</h4>
<p>Of course the downside is you'll probably depend on people actually understanding terms</p>

<a name="132875517"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132875517" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132875517">Olli (Aug 27 2018 at 19:24)</a>:</h4>
<p>I did skim the tactics chapter and played around with it a little bit. My goal is to prove each statement in as many ways as possible to get familiar with all the features</p>

<a name="132875540"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132875540" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132875540">Olli (Aug 27 2018 at 19:25)</a>:</h4>
<p>I'm currently reading the book "How to Proove It" alongside trying to learn Lean, so I'm far from a mathematician who needs to use it for anything serious. It's more of an exercise in mind expansion for me</p>

<a name="132875625"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132875625" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132875625">Patrick Massot (Aug 27 2018 at 19:27)</a>:</h4>
<p>Let me emphasize: when I write "how a mathematician would do it", I really mean this, and not "how everybody should do it". I'm only providing one point of view. Other people will have other interesting points of view</p>

<a name="132875698"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132875698" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132875698">Olli (Aug 27 2018 at 19:28)</a>:</h4>
<p>Sure undestood :). I figure most people have a very different background from someone like myself, so I just wanted to give some context for the level I'm at</p>

<a name="132876585"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132876585" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132876585">Kevin Buzzard (Aug 27 2018 at 19:46)</a>:</h4>
<p>Well here's a tactic mode proof:</p>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">(</span><span class="n">p</span> <span class="n">q</span> <span class="n">r</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="o">((</span><span class="n">p</span> <span class="bp">∨</span> <span class="n">q</span><span class="o">)</span> <span class="bp">→</span> <span class="n">r</span><span class="o">)</span> <span class="bp">↔</span> <span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">r</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">q</span> <span class="bp">→</span> <span class="n">r</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">intro</span> <span class="n">H</span><span class="o">,</span>
    <span class="n">split</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">intro</span> <span class="n">Hp</span><span class="o">,</span>
      <span class="n">apply</span> <span class="n">H</span><span class="o">,</span>
      <span class="n">left</span><span class="o">,</span>
      <span class="n">exact</span> <span class="n">Hp</span>
    <span class="o">},</span>
    <span class="o">{</span> <span class="n">intro</span> <span class="n">Hq</span><span class="o">,</span>
      <span class="n">apply</span> <span class="n">H</span><span class="o">,</span>
      <span class="n">right</span><span class="o">,</span>
      <span class="n">exact</span> <span class="n">Hq</span>
    <span class="o">}</span>
  <span class="o">},</span>
  <span class="n">intro</span> <span class="n">H</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">H</span> <span class="k">with</span> <span class="n">Hpr</span> <span class="n">Hqr</span><span class="o">,</span>
  <span class="n">intro</span> <span class="n">Hpq</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">Hpq</span> <span class="k">with</span> <span class="n">Hp</span> <span class="n">Hq</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">apply</span> <span class="n">Hpr</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">Hp</span>
  <span class="o">},</span>
  <span class="o">{</span> <span class="n">apply</span> <span class="n">Hqr</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">Hq</span>
  <span class="o">}</span>
<span class="kn">end</span>
</pre></div>


<p>It's cool to step through it looking at the goals etc at each step.</p>

<a name="132876598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132876598" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132876598">Olli (Aug 27 2018 at 19:46)</a>:</h4>
<p>finally got it via the term way, very satisfying once it clicks</p>

<a name="132876645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132876645" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132876645">Olli (Aug 27 2018 at 19:47)</a>:</h4>
<p>I think I'll enjoy the tactics language as well, as I've found stack based languages fun to play with in the past</p>

<a name="132876753"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132876753" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132876753">Kevin Buzzard (Aug 27 2018 at 19:49)</a>:</h4>
<p>...and here's a term proof:</p>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">(</span><span class="n">p</span> <span class="n">q</span> <span class="n">r</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="o">((</span><span class="n">p</span> <span class="bp">∨</span> <span class="n">q</span><span class="o">)</span> <span class="bp">→</span> <span class="n">r</span><span class="o">)</span> <span class="bp">↔</span> <span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">r</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">q</span> <span class="bp">→</span> <span class="n">r</span><span class="o">)</span> <span class="o">:=</span>
<span class="bp">⟨λ</span> <span class="n">h</span><span class="o">,</span><span class="bp">⟨λ</span> <span class="n">hp</span><span class="o">,</span><span class="n">h</span> <span class="err">$</span> <span class="n">or</span><span class="bp">.</span><span class="n">inl</span> <span class="n">hp</span><span class="o">,</span><span class="bp">λ</span> <span class="n">hq</span><span class="o">,</span> <span class="n">h</span> <span class="err">$</span> <span class="n">or</span><span class="bp">.</span><span class="n">inr</span> <span class="n">hq</span><span class="bp">⟩</span><span class="o">,</span><span class="bp">λ</span> <span class="n">h</span> <span class="n">hpq</span><span class="o">,</span><span class="n">or</span><span class="bp">.</span><span class="n">elim</span> <span class="n">hpq</span> <span class="n">h</span><span class="bp">.</span><span class="mi">1</span> <span class="n">h</span><span class="bp">.</span><span class="mi">2</span><span class="bp">⟩</span>
</pre></div>

<a name="132876864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132876864" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132876864">Kevin Buzzard (Aug 27 2018 at 19:51)</a>:</h4>
<p>The <code>and.intro</code> is swallowed up with these <code>⟨⟩</code> brackets, but you can still see the <code>or</code> stuff.</p>

<a name="132876891"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132876891" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132876891">Olli (Aug 27 2018 at 19:51)</a>:</h4>
<p>yep, I can follow that. The one I wrote is a bit more verbose, but I see how they are the same thing</p>

<a name="132876950"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132876950" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132876950">Patrick Massot (Aug 27 2018 at 19:52)</a>:</h4>
<p>If you don't like decidability assumptions but still like automation, what about:</p>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">(</span><span class="n">p</span> <span class="n">q</span> <span class="n">r</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="o">((</span><span class="n">p</span> <span class="bp">∨</span> <span class="n">q</span><span class="o">)</span> <span class="bp">→</span> <span class="n">r</span><span class="o">)</span> <span class="bp">↔</span> <span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">r</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">q</span> <span class="bp">→</span> <span class="n">r</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">intro</span> <span class="n">H</span><span class="o">,</span>
    <span class="n">split</span> <span class="bp">;</span> <span class="n">cc</span> <span class="o">},</span>
  <span class="n">rintro</span> <span class="bp">⟨</span><span class="n">Hpr</span><span class="o">,</span> <span class="n">Hqr</span><span class="bp">⟩</span> <span class="o">(</span><span class="n">Hp</span> <span class="bp">|</span> <span class="n">Hq</span><span class="o">)</span> <span class="bp">;</span> <span class="n">cc</span>
<span class="kn">end</span>
</pre></div>

<a name="132876994"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132876994" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132876994">Patrick Massot (Aug 27 2018 at 19:53)</a>:</h4>
<p>Or you can replace the <code>cc</code>with Kevin's hand-crafted proofs</p>

<a name="132877004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132877004" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132877004">Patrick Massot (Aug 27 2018 at 19:54)</a>:</h4>
<p>but at least use <code>rintro</code></p>

<a name="132877053"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132877053" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132877053">Patrick Massot (Aug 27 2018 at 19:54)</a>:</h4>
<p>Because unpacking stuff is not that interesting</p>

<a name="132877096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132877096" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132877096">Patrick Massot (Aug 27 2018 at 19:55)</a>:</h4>
<p>and of course there are many many variations, including hybrid tactic/term proofs</p>

<a name="132878054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132878054" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132878054">Bryan Gin-ge Chen (Aug 27 2018 at 20:13)</a>:</h4>
<p>When I hover over <code>rintro</code> in VS code I seem to get an error in the popup about interactive.param_desc. I don't really get it but maybe there's some missing description like in Kevin's post here <a href="#narrow/stream/113488-general/subject/lean.20golf/near/132604473" title="#narrow/stream/113488-general/subject/lean.20golf/near/132604473">https://leanprover.zulipchat.com/#narrow/stream/113488-general/subject/lean.20golf/near/132604473</a> . I'm guessing this is low priority and I shouldn't worry about this anyways.</p>
<p>Reading the <code>rintro</code> docstring made me want to play around with <code>rintro?</code>. However, appending a question mark to <code>rcases</code> in the above proof just resulted in an "unexpected token" error. Is there a better example I can try?</p>

<a name="132878128"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132878128" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132878128">Patrick Massot (Aug 27 2018 at 20:14)</a>:</h4>
<p>The small_nat thing was fixed by Mario today, but maybe not pushed yet</p>

<a name="132923537"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132923537" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132923537">Olli (Aug 28 2018 at 15:14)</a>:</h4>
<p>I could use another hint here as I can't seem to make progress:<br>
<a href="https://gist.github.com/luxbock/e8a4146ab822049da4d440adc8d7f01c" target="_blank" title="https://gist.github.com/luxbock/e8a4146ab822049da4d440adc8d7f01c">https://gist.github.com/luxbock/e8a4146ab822049da4d440adc8d7f01c</a></p>

<a name="132924310"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132924310" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132924310">Kevin Buzzard (Aug 28 2018 at 15:30)</a>:</h4>
<p>Oh but this is tricky! Here's a hint: prove not p. Or just use the law of the excluded middle :-)</p>

<a name="132924539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132924539" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132924539">Kevin Buzzard (Aug 28 2018 at 15:35)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">theorem</span> <span class="n">easy</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">p</span> <span class="bp">↔</span> <span class="bp">¬</span><span class="n">p</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="n">h</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">hpinp</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">→</span> <span class="bp">¬</span><span class="n">p</span><span class="o">,</span> <span class="k">from</span> <span class="n">h</span><span class="bp">.</span><span class="n">mp</span><span class="o">,</span>  <span class="c1">-- p → p → false</span>
  <span class="k">have</span> <span class="n">hnpip</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">p</span> <span class="bp">→</span> <span class="n">p</span><span class="o">,</span> <span class="k">from</span> <span class="n">h</span><span class="bp">.</span><span class="n">mpr</span><span class="o">,</span> <span class="c1">-- p → false → p</span>
<span class="k">begin</span>
  <span class="n">cases</span> <span class="n">classical</span><span class="bp">.</span><span class="n">em</span> <span class="n">p</span> <span class="k">with</span> <span class="n">hp</span> <span class="n">hnp</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">hpinp</span> <span class="n">hp</span> <span class="n">hp</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">hnp</span> <span class="o">(</span><span class="n">hnpip</span> <span class="n">hnp</span><span class="o">),</span>
<span class="kn">end</span>

<span class="bp">#</span><span class="kn">print</span> <span class="n">axioms</span> <span class="n">easy</span> <span class="c1">-- more than none</span>
</pre></div>


<p>Sorry -- I'm a mathematician.</p>

<a name="132925477"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132925477" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132925477">Bryan Gin-ge Chen (Aug 28 2018 at 15:50)</a>:</h4>
<p>There's a previous thread about this here (with proofs avoiding excluded middle) <a href="#narrow/stream/113488-general/subject/Logic.20.26.20Proof/near/127708058" title="#narrow/stream/113488-general/subject/Logic.20.26.20Proof/near/127708058">https://leanprover.zulipchat.com/#narrow/stream/113488-general/subject/Logic.20.26.20Proof/near/127708058</a></p>

<a name="132925990"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132925990" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132925990">Kevin Buzzard (Aug 28 2018 at 16:00)</a>:</h4>
<p>(deleted)</p>

<a name="132927437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132927437" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132927437">Olli (Aug 28 2018 at 16:30)</a>:</h4>
<p>thanks, there are other exercises that are marked under classical reasoning but this one isn't one of them, I'll study up on the previous discussion</p>

<a name="132927685"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132927685" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132927685">Kevin Buzzard (Aug 28 2018 at 16:36)</a>:</h4>
<p>Or try my hint :-)</p>

<a name="132927985"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/132927985" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#132927985">Olli (Aug 28 2018 at 16:43)</a>:</h4>
<p>I got it now, but had to look up almost the full solution before getting it. very tricky indeed.</p>
<p>My plan is to solve all the exercises first using term level solutions that read as naturally as possible, then go and write a second pass removing all the syntax sugar, and then move on to the tactics chapter and re-write them all using those again</p>

<a name="133811893"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/133811893" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#133811893">Xita Meyers (Sep 12 2018 at 16:53)</a>:</h4>
<p>Hello, I currently have: </p>
<div class="codehilite"><pre><span></span>nine : 2 ∣ p / 2,
thing11 : 3 + 4 * (p / 4) = p
⊢ false
</pre></div>


<p>p is a prime. I'm stuck; does anyone have any hints on how to proceed?</p>

<a name="133813180"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/133813180" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#133813180">Kenny Lau (Sep 12 2018 at 17:18)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">nine</span> <span class="o">:</span> <span class="mi">2</span> <span class="err">∣</span> <span class="n">p</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">)</span> <span class="o">(</span><span class="n">thing11</span> <span class="o">:</span> <span class="mi">3</span> <span class="bp">+</span> <span class="mi">4</span> <span class="bp">*</span> <span class="o">(</span><span class="n">p</span> <span class="bp">/</span> <span class="mi">4</span><span class="o">)</span> <span class="bp">=</span> <span class="n">p</span><span class="o">)</span> <span class="o">:</span> <span class="n">false</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">rw</span> <span class="err">←</span> <span class="n">thing11</span> <span class="n">at</span> <span class="n">nine</span><span class="o">,</span>
  <span class="n">change</span> <span class="mi">2</span> <span class="err">∣</span> <span class="o">(</span><span class="mi">3</span> <span class="bp">+</span> <span class="o">(</span><span class="mi">2</span> <span class="bp">*</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">p</span> <span class="bp">/</span> <span class="mi">4</span><span class="o">))</span> <span class="bp">/</span> <span class="mi">2</span> <span class="n">at</span> <span class="n">nine</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">mul_assoc</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">add_mul_div_left</span><span class="o">,</span> <span class="err">←</span> <span class="n">nat</span><span class="bp">.</span><span class="n">dvd_add_iff_left</span><span class="o">]</span> <span class="n">at</span> <span class="n">nine</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">exact</span> <span class="n">absurd</span> <span class="n">nine</span> <span class="n">dec_trivial</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">exact</span> <span class="n">dvd_mul_right</span> <span class="bp">_</span> <span class="bp">_</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">exact</span> <span class="n">dec_trivial</span> <span class="o">}</span>
<span class="kn">end</span>
</pre></div>

<a name="133813199"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/133813199" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#133813199">Kenny Lau (Sep 12 2018 at 17:19)</a>:</h4>
<p><span class="user-mention" data-user-id="110044">@Chris Hughes</span> somehow I find this very hard; can you help?</p>

<a name="133813915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/133813915" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#133813915">Chris Hughes (Sep 12 2018 at 17:31)</a>:</h4>
<p>My best attempt is this</p>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">nine</span> <span class="o">:</span> <span class="mi">2</span> <span class="err">∣</span> <span class="n">p</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">)</span> <span class="o">(</span><span class="n">thing11</span> <span class="o">:</span> <span class="mi">3</span> <span class="bp">+</span> <span class="mi">4</span> <span class="bp">*</span> <span class="o">(</span><span class="n">p</span> <span class="bp">/</span> <span class="mi">4</span><span class="o">)</span> <span class="bp">=</span> <span class="n">p</span><span class="o">)</span> <span class="o">:</span> <span class="n">false</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="err">←</span> <span class="n">thing11</span><span class="o">,</span> <span class="k">show</span> <span class="mi">4</span> <span class="bp">=</span> <span class="mi">2</span> <span class="bp">*</span> <span class="mi">2</span><span class="o">,</span> <span class="k">from</span> <span class="n">rfl</span><span class="o">,</span> <span class="n">mul_assoc</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">add_mul_right_div</span> <span class="bp">_</span> <span class="bp">_</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">succ_pos</span> <span class="bp">_</span><span class="o">),</span>
    <span class="n">nat</span><span class="bp">.</span><span class="n">dvd_iff_mod_eq_zero</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">add_mul_mod_self_left</span><span class="o">]</span> <span class="n">at</span> <span class="n">nine</span><span class="bp">;</span>
  <span class="n">contradiction</span>
</pre></div>

<a name="133814935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/133814935" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#133814935">Reid Barton (Sep 12 2018 at 17:48)</a>:</h4>
<p>The high level strategy here is to substitute thing11 into nine -- now you have just one hypothesis -- and then simplify it using properties of divisibility until you get something like 2 divides 3 which can be killed by dec_trivial</p>

<a name="133815370"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/133815370" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#133815370">Kenny Lau (Sep 12 2018 at 17:55)</a>:</h4>
<p>easier said than done</p>

<a name="133815424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/133815424" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#133815424">Kenny Lau (Sep 12 2018 at 17:56)</a>:</h4>
<p>considering how we both substituted thing11 into nine on the first step and never touched thing11 afterwards</p>

<a name="133815777"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/133815777" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#133815777">Reid Barton (Sep 12 2018 at 18:02)</a>:</h4>
<p>Yes, the one hypothesis I meant was nine</p>

<a name="133836132"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/133836132" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#133836132">Kevin Buzzard (Sep 12 2018 at 18:48)</a>:</h4>
<p>Why not do cases on p mod 4?</p>

<a name="133836549"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/133836549" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#133836549">Kevin Buzzard (Sep 12 2018 at 18:55)</a>:</h4>
<p>There are a bunch of missing (perhaps) lemmas which would make this easy.</p>

<a name="133836656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/133836656" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#133836656">Kevin Buzzard (Sep 12 2018 at 18:57)</a>:</h4>
<p>I ran into one of these earlier today, I had <code>p/2  &lt; x &lt;= p-1 and I wanted to prove </code>-p/2 &lt;= x-p` or some such thing, it was harder than it should be but I felt that we could make this easier somehow.</p>

<a name="133836898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/133836898" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#133836898">Kenny Lau (Sep 12 2018 at 19:01)</a>:</h4>
<blockquote>
<p>Why not do cases on p mod 4?</p>
</blockquote>
<p>because nobody knows that p mod 4 is given 2 | p/2</p>

<a name="165591192"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/165591192" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#165591192">Huyen Chau Nguyen (May 14 2019 at 04:04)</a>:</h4>
<p>Hey guys, I want to ask about the cardinality of sets. I'm totally newbie to Lean so the questions might be trivial. Still, I need your help. </p>
<p>I encounter this error message: </p>
<p>"type mismatch, term<br>
  {l : list ℕ | isCanonnicalPartition n l}<br>
has type<br>
  set (list ℕ)<br>
but is expected to have type<br>
  finset (list ℕ)" </p>
<p>I interpret this as the LHS of my statement had been declared a finset, whereas Lean isnt sure the RHS is really a finset. </p>
<p>How could I tell Lean that a set constructed in a particular way is guaranteed to be a finset? Or is there any other way to fix this error message? </p>
<p>Thank you very much for your response!</p>

<a name="165599209"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/165599209" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#165599209">Kevin Buzzard (May 14 2019 at 07:18)</a>:</h4>
<p>a <code>finset</code> is not the same as a <code>set</code>. A <code>finset</code> is <em>not</em> "a set, plus some more stuff".</p>

<a name="165599294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/165599294" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#165599294">Kevin Buzzard (May 14 2019 at 07:20)</a>:</h4>
<p>If you want some help, I would urge you to post a minimal working example of your code, rather than a fragment or just an error message. Quote code within triple backticks <code> ``` </code>, or even better use <code> ```lean </code> to quote Lean code with syntax highlighting.</p>

<a name="165599476"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/165599476" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#165599476">Kevin Buzzard (May 14 2019 at 07:24)</a>:</h4>
<p>There are lots of potential solutions to your situation but it's difficult to know what the best one is without seeing the code. As an example, if you want to say that a set is equal to a finset, you could just coerce the finset into a set. Alternatively if you want to map a set plus a proof that it's finite into type finset then this is no doubt also possible (but I don't know the finset API well enough to know how to do it off the top of my head). The best solution might be to never use sets at all. It depends on what you want to do.</p>

<a name="165599743"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/165599743" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#165599743">Mario Carneiro (May 14 2019 at 07:29)</a>:</h4>
<p><code>finite.to_finset</code> will convert a set that is finite to a finset</p>

<a name="165599808"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/165599808" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#165599808">Mario Carneiro (May 14 2019 at 07:30)</a>:</h4>
<p>but in this case you are left with proving that the set is finite, which basically amounts to constructing a finset</p>

<a name="165607217"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Guarantee%20a%20set%20to%20be%20a%20finset/near/165607217" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/76606Guaranteeasettobeafinset.html#165607217">Huyen Chau Nguyen (May 14 2019 at 09:36)</a>:</h4>
<p>Okie thank you guys, I would post part of my code back here later.</p>


{% endraw %}

{% include archive_update.html %}