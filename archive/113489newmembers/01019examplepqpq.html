---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113489newmembers/01019examplepqpq.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113489newmembers/index.html">new members</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113489newmembers/01019examplepqpq.html">example : ¬(p → q) → p ∧ ¬q</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="179158464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/example%20%3A%20%C2%AC%28p%20%E2%86%92%20q%29%20%E2%86%92%20p%20%E2%88%A7%20%C2%ACq/near/179158464" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/01019examplepqpq.html#179158464">Eduardo Cavazos (Oct 27 2019 at 07:00)</a>:</h4>
<p>Question posted to stackoverflow:</p>
<p><a href="https://stackoverflow.com/q/58577206/268581" target="_blank" title="https://stackoverflow.com/q/58577206/268581">https://stackoverflow.com/q/58577206/268581</a></p>
<p>Thanks for any suggestions!</p>

<a name="179161652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/example%20%3A%20%C2%AC%28p%20%E2%86%92%20q%29%20%E2%86%92%20p%20%E2%88%A7%20%C2%ACq/near/179161652" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/01019examplepqpq.html#179161652">Kevin Buzzard (Oct 27 2019 at 08:40)</a>:</h4>
<p>I posted a suggested answer.</p>

<a name="179165085"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/example%20%3A%20%C2%AC%28p%20%E2%86%92%20q%29%20%E2%86%92%20p%20%E2%88%A7%20%C2%ACq/near/179165085" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/01019examplepqpq.html#179165085">Eduardo Cavazos (Oct 27 2019 at 10:26)</a>:</h4>
<p>Based on Kevin's suggestion, here's what I have so far:</p>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">:</span> <span class="o">((</span><span class="n">p</span> <span class="bp">→</span> <span class="n">q</span><span class="o">)</span> <span class="bp">→</span> <span class="n">false</span><span class="o">)</span> <span class="bp">→</span> <span class="n">p</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">q</span> <span class="bp">→</span> <span class="n">false</span><span class="o">)</span> <span class="o">:=</span>

    <span class="o">(</span><span class="k">assume</span> <span class="n">hpqf</span> <span class="o">:</span> <span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">q</span><span class="o">)</span> <span class="bp">→</span> <span class="n">false</span><span class="o">,</span>

        <span class="n">by_cases</span>

            <span class="o">(</span><span class="k">assume</span> <span class="n">hp</span> <span class="o">:</span> <span class="n">p</span><span class="o">,</span>

                <span class="n">by_cases</span>

                    <span class="o">(</span><span class="k">assume</span> <span class="n">hq</span> <span class="o">:</span> <span class="n">q</span><span class="o">,</span> <span class="n">and</span><span class="bp">.</span><span class="n">intro</span> <span class="n">hp</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">hq&#39;</span> <span class="o">:</span> <span class="n">q</span><span class="o">,</span> <span class="n">hpqf</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">hp&#39;</span> <span class="o">:</span> <span class="n">p</span><span class="o">,</span> <span class="n">hq</span><span class="o">)))</span>

                    <span class="o">(</span><span class="k">assume</span> <span class="n">hqf</span> <span class="o">:</span> <span class="n">q</span> <span class="bp">→</span> <span class="n">false</span><span class="o">,</span> <span class="n">and</span><span class="bp">.</span><span class="n">intro</span> <span class="n">hp</span> <span class="n">hqf</span><span class="o">))</span>

            <span class="o">(</span><span class="k">assume</span> <span class="n">hpf</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">→</span> <span class="n">false</span><span class="o">,</span>

                <span class="n">by_cases</span>

                    <span class="o">(</span><span class="k">assume</span> <span class="n">hq</span> <span class="o">:</span> <span class="n">q</span><span class="o">,</span> <span class="n">false</span><span class="bp">.</span><span class="n">elim</span> <span class="o">(</span><span class="n">hpqf</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">hp</span> <span class="o">:</span> <span class="n">p</span><span class="o">,</span> <span class="n">hq</span><span class="o">)))</span>

                    <span class="o">(</span><span class="k">assume</span> <span class="n">hqf</span> <span class="o">:</span> <span class="n">q</span> <span class="bp">→</span> <span class="n">false</span><span class="o">,</span> <span class="bp">_</span>

                        <span class="c1">-- and.intro hp hqf                         But we don&#39;t have hp.</span>

                        <span class="c1">-- false.elim (hpqf (λ hp : p, hq))         But we don&#39;t have hq.</span>

                    <span class="o">)))</span>
</pre></div>


<p>The first three cases appear to be complete.</p>
<p>In the last case, we have the following:</p>
<div class="codehilite"><pre><span></span>hpqf : (p → q) → false,
hpf : p → false,
hqf : q → false
</pre></div>


<p>As the inline comments above say, one option is:</p>
<p><code>and.intro hp hqf                         -- But we don't have hp.</code></p>
<p>Another option is:</p>
<p><code>false.elim (hpqf (λ hp : p, hq))         -- But we don't have hq.</code></p>
<p>Should I aim for the <code>and.intro ...</code> approach? Or the <code>false.elim ...</code> approach? Or something entirely different? :-)</p>
<p>Thanks for your help so far!</p>
<p>Hang on... I think I see it...</p>

<a name="179165666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/example%20%3A%20%C2%AC%28p%20%E2%86%92%20q%29%20%E2%86%92%20p%20%E2%88%A7%20%C2%ACq/near/179165666" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/01019examplepqpq.html#179165666">Eduardo Cavazos (Oct 27 2019 at 10:43)</a>:</h4>
<p>OK, this seems to work:</p>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">:</span> <span class="o">((</span><span class="n">p</span> <span class="bp">→</span> <span class="n">q</span><span class="o">)</span> <span class="bp">→</span> <span class="n">false</span><span class="o">)</span> <span class="bp">→</span> <span class="n">p</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">q</span> <span class="bp">→</span> <span class="n">false</span><span class="o">)</span> <span class="o">:=</span>

    <span class="o">(</span><span class="k">assume</span> <span class="n">hpqf</span> <span class="o">:</span> <span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">q</span><span class="o">)</span> <span class="bp">→</span> <span class="n">false</span><span class="o">,</span>

        <span class="n">by_cases</span>

            <span class="o">(</span><span class="k">assume</span> <span class="n">hp</span> <span class="o">:</span> <span class="n">p</span><span class="o">,</span>

                <span class="n">by_cases</span>

                    <span class="o">(</span><span class="k">assume</span> <span class="n">hq</span> <span class="o">:</span> <span class="n">q</span><span class="o">,</span> <span class="n">and</span><span class="bp">.</span><span class="n">intro</span> <span class="n">hp</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">hq&#39;</span> <span class="o">:</span> <span class="n">q</span><span class="o">,</span> <span class="n">hpqf</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">hp&#39;</span> <span class="o">:</span> <span class="n">p</span><span class="o">,</span> <span class="n">hq</span><span class="o">)))</span>

                    <span class="o">(</span><span class="k">assume</span> <span class="n">hqf</span> <span class="o">:</span> <span class="n">q</span> <span class="bp">→</span> <span class="n">false</span><span class="o">,</span> <span class="n">and</span><span class="bp">.</span><span class="n">intro</span> <span class="n">hp</span> <span class="n">hqf</span><span class="o">))</span>

            <span class="o">(</span><span class="k">assume</span> <span class="n">hpf</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">→</span> <span class="n">false</span><span class="o">,</span>

                <span class="n">by_cases</span>

                    <span class="o">(</span><span class="k">assume</span> <span class="n">hq</span> <span class="o">:</span> <span class="n">q</span><span class="o">,</span> <span class="n">false</span><span class="bp">.</span><span class="n">elim</span> <span class="o">(</span><span class="n">hpqf</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">hp</span> <span class="o">:</span> <span class="n">p</span><span class="o">,</span> <span class="n">hq</span><span class="o">)))</span>

                    <span class="o">(</span><span class="k">assume</span> <span class="n">hqf</span> <span class="o">:</span> <span class="n">q</span> <span class="bp">→</span> <span class="n">false</span><span class="o">,</span>

                        <span class="n">false</span><span class="bp">.</span><span class="n">elim</span> <span class="o">(</span><span class="n">hpqf</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">hp</span> <span class="o">:</span> <span class="n">p</span><span class="o">,</span> <span class="n">false</span><span class="bp">.</span><span class="n">elim</span> <span class="o">(</span><span class="n">hpf</span> <span class="n">hp</span><span class="o">))))))</span>
</pre></div>

<a name="179165668"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/example%20%3A%20%C2%AC%28p%20%E2%86%92%20q%29%20%E2%86%92%20p%20%E2%88%A7%20%C2%ACq/near/179165668" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/01019examplepqpq.html#179165668">Eduardo Cavazos (Oct 27 2019 at 10:43)</a>:</h4>
<p>Thanks for your help <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> !!!</p>

<a name="179165856"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/example%20%3A%20%C2%AC%28p%20%E2%86%92%20q%29%20%E2%86%92%20p%20%E2%88%A7%20%C2%ACq/near/179165856" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/01019examplepqpq.html#179165856">Kevin Buzzard (Oct 27 2019 at 10:49)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">tauto</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span>
<span class="kn">open</span> <span class="n">classical</span>
<span class="n">def</span> <span class="n">XYZ</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">q</span><span class="o">)</span> <span class="bp">→</span> <span class="n">p</span> <span class="bp">∧</span> <span class="bp">¬</span><span class="n">q</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">tauto</span><span class="bp">!</span>

<span class="bp">#</span><span class="kn">print</span> <span class="n">XYZ</span>
<span class="c">/-</span><span class="cm"></span>
<span class="cm">  def XYZ : ∀ (p q : Prop), ¬(p → q) → p ∧ ¬q :=</span>
<span class="cm">  λ (p q : Prop) (a : ¬(p → q)),</span>
<span class="cm">  and.dcases_on (not_imp.mp a) (λ (a_left : p) (a_right : ¬q), ⟨eq.mpr rfl a_left, eq.mpr rfl a_right⟩)</span>
<span class="cm">  -/</span>
</pre></div>

<a name="179165906"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/example%20%3A%20%C2%AC%28p%20%E2%86%92%20q%29%20%E2%86%92%20p%20%E2%88%A7%20%C2%ACq/near/179165906" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/01019examplepqpq.html#179165906">Kevin Buzzard (Oct 27 2019 at 10:50)</a>:</h4>
<p>There's a super-short term mode proof, using stuff in the mathlib library which is not covered by Theorem Proving In Lean.</p>

<a name="179166028"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/example%20%3A%20%C2%AC%28p%20%E2%86%92%20q%29%20%E2%86%92%20p%20%E2%88%A7%20%C2%ACq/near/179166028" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/01019examplepqpq.html#179166028">Kevin Buzzard (Oct 27 2019 at 10:54)</a>:</h4>
<p>I do understand that you're learning this stuff so in some sense these answers are not useful, but I thought it was worth emphasizing how many ways there are to solve this problem, and what is available to you in Lean's maths library. In fact looking at the proof which <code>tauto!</code> finds I see that we can just do this:</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">logic</span><span class="bp">.</span><span class="n">basic</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span>
<span class="n">local</span> <span class="n">attribute</span> <span class="o">[</span><span class="kn">instance</span><span class="o">,</span> <span class="n">priority</span> <span class="mi">10</span><span class="o">]</span> <span class="n">classical</span><span class="bp">.</span><span class="n">prop_decidable</span>
<span class="kn">example</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">q</span><span class="o">)</span> <span class="bp">→</span> <span class="n">p</span> <span class="bp">∧</span> <span class="bp">¬</span><span class="n">q</span> <span class="o">:=</span> <span class="n">not_imp</span><span class="bp">.</span><span class="n">mp</span>
</pre></div>

<a name="179166098"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/example%20%3A%20%C2%AC%28p%20%E2%86%92%20q%29%20%E2%86%92%20p%20%E2%88%A7%20%C2%ACq/near/179166098" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/01019examplepqpq.html#179166098">Eduardo Cavazos (Oct 27 2019 at 10:57)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> ,</p>
<p>These more advanced answers are very useful! Indeed, I'm interested in the various approaches. Yes, it's true that I'm currently focused on the "finger exercises" approach, but it's nice to know that there are exotic islands awaiting.</p>

<a name="179167713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/example%20%3A%20%C2%AC%28p%20%E2%86%92%20q%29%20%E2%86%92%20p%20%E2%88%A7%20%C2%ACq/near/179167713" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/01019examplepqpq.html#179167713">Kenny Lau (Oct 27 2019 at 11:48)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">logic</span><span class="bp">.</span><span class="n">basic</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span>
<span class="kn">example</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">q</span><span class="o">)</span> <span class="bp">→</span> <span class="n">p</span> <span class="bp">∧</span> <span class="bp">¬</span><span class="n">q</span> <span class="o">:=</span> <span class="bp">_</span>
<span class="c1">-- OK let&#39;s intro everything</span>
<span class="kn">example</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">q</span><span class="o">)</span> <span class="bp">→</span> <span class="n">p</span> <span class="bp">∧</span> <span class="bp">¬</span><span class="n">q</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">hnpq</span><span class="o">,</span> <span class="bp">_</span>
<span class="c1">-- The goal is ∧ so let&#39;s use and.intro</span>
<span class="kn">example</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">q</span><span class="o">)</span> <span class="bp">→</span> <span class="n">p</span> <span class="bp">∧</span> <span class="bp">¬</span><span class="n">q</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">hnpq</span><span class="o">,</span> <span class="bp">⟨_</span><span class="o">,</span> <span class="bp">_⟩</span>
<span class="c1">-- I can&#39;t prove p directly, so let&#39;s try contradiction</span>
<span class="kn">example</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">q</span><span class="o">)</span> <span class="bp">→</span> <span class="n">p</span> <span class="bp">∧</span> <span class="bp">¬</span><span class="n">q</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">hnpq</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">classical</span><span class="bp">.</span><span class="n">by_contradiction</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">hnp</span><span class="o">,</span> <span class="bp">_</span><span class="o">,</span> <span class="bp">_⟩</span>
<span class="c1">-- The only non-trivial step is to apply hnpq</span>
<span class="kn">example</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">q</span><span class="o">)</span> <span class="bp">→</span> <span class="n">p</span> <span class="bp">∧</span> <span class="bp">¬</span><span class="n">q</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">hnpq</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">classical</span><span class="bp">.</span><span class="n">by_contradiction</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">hnp</span><span class="o">,</span> <span class="n">hnpq</span> <span class="bp">_</span><span class="o">,</span> <span class="bp">_⟩</span>
<span class="c1">-- The goal is → so let&#39;s intro everything</span>
<span class="kn">example</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">q</span><span class="o">)</span> <span class="bp">→</span> <span class="n">p</span> <span class="bp">∧</span> <span class="bp">¬</span><span class="n">q</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">hnpq</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">classical</span><span class="bp">.</span><span class="n">by_contradiction</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">hnp</span><span class="o">,</span> <span class="n">hnpq</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">hp</span><span class="o">,</span> <span class="bp">_</span><span class="o">,</span> <span class="bp">_⟩</span>
<span class="c1">-- Oh I see a contradiction already: ¬p and p. I remember that&#39;s either hnp.elim hp or (hnp hp).elim</span>
<span class="kn">example</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">q</span><span class="o">)</span> <span class="bp">→</span> <span class="n">p</span> <span class="bp">∧</span> <span class="bp">¬</span><span class="n">q</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">hnpq</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">classical</span><span class="bp">.</span><span class="n">by_contradiction</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">hnp</span><span class="o">,</span> <span class="n">hnpq</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">hp</span><span class="o">,</span> <span class="n">hnp</span><span class="bp">.</span><span class="n">elim</span> <span class="n">hp</span><span class="o">,</span> <span class="bp">_⟩</span>
<span class="kn">example</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">q</span><span class="o">)</span> <span class="bp">→</span> <span class="n">p</span> <span class="bp">∧</span> <span class="bp">¬</span><span class="n">q</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">hnpq</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">classical</span><span class="bp">.</span><span class="n">by_contradiction</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">hnp</span><span class="o">,</span> <span class="n">hnpq</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">hp</span><span class="o">,</span> <span class="o">(</span><span class="n">hnp</span> <span class="n">hp</span><span class="o">)</span><span class="bp">.</span><span class="n">elim</span><span class="o">,</span> <span class="bp">_⟩</span>
<span class="c1">-- I&#39;ll just use the first one. Now the goal is ¬, so let&#39;s intro.</span>
<span class="kn">example</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">q</span><span class="o">)</span> <span class="bp">→</span> <span class="n">p</span> <span class="bp">∧</span> <span class="bp">¬</span><span class="n">q</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">hnpq</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">classical</span><span class="bp">.</span><span class="n">by_contradiction</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">hnp</span><span class="o">,</span> <span class="n">hnpq</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">hp</span><span class="o">,</span> <span class="n">hnp</span><span class="bp">.</span><span class="n">elim</span> <span class="n">hp</span><span class="o">,</span> <span class="bp">λ</span> <span class="n">hq</span><span class="o">,</span> <span class="bp">_⟩</span>
<span class="c1">-- The only non-trivial step is to apply hnpq</span>
<span class="kn">example</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">q</span><span class="o">)</span> <span class="bp">→</span> <span class="n">p</span> <span class="bp">∧</span> <span class="bp">¬</span><span class="n">q</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">hnpq</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">classical</span><span class="bp">.</span><span class="n">by_contradiction</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">hnp</span><span class="o">,</span> <span class="n">hnpq</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">hp</span><span class="o">,</span> <span class="n">hnp</span><span class="bp">.</span><span class="n">elim</span> <span class="n">hp</span><span class="o">,</span> <span class="bp">λ</span> <span class="n">hq</span><span class="o">,</span> <span class="n">hnpq</span> <span class="bp">_⟩</span>
<span class="c1">-- The goal is → so I intro.</span>
<span class="kn">example</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">q</span><span class="o">)</span> <span class="bp">→</span> <span class="n">p</span> <span class="bp">∧</span> <span class="bp">¬</span><span class="n">q</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">hnpq</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">classical</span><span class="bp">.</span><span class="n">by_contradiction</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">hnp</span><span class="o">,</span> <span class="n">hnpq</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">hp</span><span class="o">,</span> <span class="n">hnp</span><span class="bp">.</span><span class="n">elim</span> <span class="n">hp</span><span class="o">,</span> <span class="bp">λ</span> <span class="n">hq</span><span class="o">,</span> <span class="n">hnpq</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">hp</span><span class="o">,</span> <span class="bp">_⟩</span>
<span class="c1">-- The goal is in the assumptions.</span>
<span class="kn">example</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">q</span><span class="o">)</span> <span class="bp">→</span> <span class="n">p</span> <span class="bp">∧</span> <span class="bp">¬</span><span class="n">q</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">hnpq</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">classical</span><span class="bp">.</span><span class="n">by_contradiction</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">hnp</span><span class="o">,</span> <span class="n">hnpq</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">hp</span><span class="o">,</span> <span class="n">hnp</span><span class="bp">.</span><span class="n">elim</span> <span class="n">hp</span><span class="o">,</span> <span class="bp">λ</span> <span class="n">hq</span><span class="o">,</span> <span class="n">hnpq</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">hp</span><span class="o">,</span> <span class="n">hq</span><span class="bp">⟩</span>
</pre></div>

<a name="179167715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/example%20%3A%20%C2%AC%28p%20%E2%86%92%20q%29%20%E2%86%92%20p%20%E2%88%A7%20%C2%ACq/near/179167715" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/01019examplepqpq.html#179167715">Kenny Lau (Oct 27 2019 at 11:48)</a>:</h4>
<p>I commentate my thoughts as I fill in the solution <span class="user-mention" data-user-id="243015">@Eduardo Cavazos</span></p>

<a name="179167722"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/example%20%3A%20%C2%AC%28p%20%E2%86%92%20q%29%20%E2%86%92%20p%20%E2%88%A7%20%C2%ACq/near/179167722" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/01019examplepqpq.html#179167722">Kenny Lau (Oct 27 2019 at 11:48)</a>:</h4>
<p>I'm sure <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> thinks the same way</p>

<a name="179168341"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/example%20%3A%20%C2%AC%28p%20%E2%86%92%20q%29%20%E2%86%92%20p%20%E2%88%A7%20%C2%ACq/near/179168341" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/01019examplepqpq.html#179168341">Scott Morrison (Oct 27 2019 at 12:08)</a>:</h4>
<p>I would probably do the same steps as Kenny, but in tactic mode. Perhaps at the end I'd then have an extra step golfing it back into term mode, if I care enough.</p>

<a name="179168384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/example%20%3A%20%C2%AC%28p%20%E2%86%92%20q%29%20%E2%86%92%20p%20%E2%88%A7%20%C2%ACq/near/179168384" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/01019examplepqpq.html#179168384">Scott Morrison (Oct 27 2019 at 12:08)</a>:</h4>
<p>I find tactic mode much more pleasant. :-)</p>

<a name="179168617"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/example%20%3A%20%C2%AC%28p%20%E2%86%92%20q%29%20%E2%86%92%20p%20%E2%88%A7%20%C2%ACq/near/179168617" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/01019examplepqpq.html#179168617">Kevin Buzzard (Oct 27 2019 at 12:15)</a>:</h4>
<p>For basic logic stuff like this I can see the appeal of term mode.</p>

<a name="179168674"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/example%20%3A%20%C2%AC%28p%20%E2%86%92%20q%29%20%E2%86%92%20p%20%E2%88%A7%20%C2%ACq/near/179168674" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/01019examplepqpq.html#179168674">Kevin Buzzard (Oct 27 2019 at 12:17)</a>:</h4>
<p>One thing I've only learned relatively recently is that for these goals which are not provable constructively, one powerful trick is just to apply <code>classical.by_contradiction</code> whenever you're stuck.</p>

<a name="179168748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/example%20%3A%20%C2%AC%28p%20%E2%86%92%20q%29%20%E2%86%92%20p%20%E2%88%A7%20%C2%ACq/near/179168748" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/01019examplepqpq.html#179168748">Kevin Buzzard (Oct 27 2019 at 12:19)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">variables</span> <span class="o">(</span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span>
<span class="kn">example</span> <span class="o">:</span> <span class="o">(</span><span class="bp">¬</span> <span class="n">q</span> <span class="bp">→</span> <span class="bp">¬</span> <span class="n">p</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">q</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">hnqnp</span> <span class="n">hp</span><span class="o">,</span> <span class="bp">_</span> <span class="c1">-- stuck</span>
<span class="kn">example</span> <span class="o">:</span> <span class="o">(</span><span class="bp">¬</span> <span class="n">q</span> <span class="bp">→</span> <span class="bp">¬</span> <span class="n">p</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">q</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">hnqnp</span> <span class="n">hp</span><span class="o">,</span> <span class="n">classical</span><span class="bp">.</span><span class="n">by_contradiction</span> <span class="bp">_</span> <span class="c1">-- I can do the rest in my head now</span>
</pre></div>

<a name="179168790"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/example%20%3A%20%C2%AC%28p%20%E2%86%92%20q%29%20%E2%86%92%20p%20%E2%88%A7%20%C2%ACq/near/179168790" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/01019examplepqpq.html#179168790">Kenny Lau (Oct 27 2019 at 12:20)</a>:</h4>
<p>I see that you've internalized constructivism :P</p>

<a name="179168797"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/example%20%3A%20%C2%AC%28p%20%E2%86%92%20q%29%20%E2%86%92%20p%20%E2%88%A7%20%C2%ACq/near/179168797" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/01019examplepqpq.html#179168797">Kevin Buzzard (Oct 27 2019 at 12:21)</a>:</h4>
<p>I've internalised precisely how to avoid the problems it gives you.</p>


{% endraw %}

{% include archive_update.html %}