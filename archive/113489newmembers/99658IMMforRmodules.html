---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/113489newmembers/99658IMMforRmodules.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113489newmembers/index.html">new members</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html">I*M=M for R-modules</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="162042579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162042579" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162042579">snowbunting (Mar 29 2019 at 12:44)</a>:</h4>
<p>Hi, I hope I am at the right place here, I got redirected from Stackoverflow...</p>
<p>So I am trying to learn Lean and I am trying to figure out how one would create a new R-module <code>I*M = {i*m | i in I, m in M}</code> from an ideal I and an R-module M.</p>
<p>So my attempt was to define first a map ideal_mult that would create a new R-module and then figure out how to asign a nice notation for it.</p>
<div class="codehilite"><pre><span></span>import ring_theory.ideals
import algebra.module

universes u v
variables {R : Type u} {M : Type v}
variables [comm_ring R] [add_comm_group M] [module R M]
variables (I: ideal R)

def ideal_mult (I: ideal R) (M: Type v)
        [add_comm_group M] [module R M]: Type v
        :=
    sorry

#check ideal_mult I M
</pre></div>


<p>How could I define this, so that I could for example state a hypothesis like <code>(h: I*M = M)</code>?</p>
<p>Thank you for the help!</p>

<a name="162042634"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162042634" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162042634">Johan Commelin (Mar 29 2019 at 12:45)</a>:</h4>
<p>Welcome! Wouldn't you rather get a <code>submodule R M</code>?</p>

<a name="162042747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162042747" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162042747">Johan Commelin (Mar 29 2019 at 12:47)</a>:</h4>
<p>There is currently a PR going on that is very much related to these things... so the code in mathlib might change</p>

<a name="162042848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162042848" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162042848">Johan Commelin (Mar 29 2019 at 12:48)</a>:</h4>
<p>In fact, we already have what you want</p>

<a name="162042862"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162042862" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162042862">snowbunting (Mar 29 2019 at 12:48)</a>:</h4>
<p>Probably</p>
<p>I mean <code>IM</code> is definitely a submodule of <code>M</code>.</p>
<p>You do? how is it called?</p>

<a name="162042886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162042886" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162042886">Johan Commelin (Mar 29 2019 at 12:49)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/blob/master/src/ring_theory/ideal_operations.lean#L556" target="_blank" title="https://github.com/leanprover-community/mathlib/blob/master/src/ring_theory/ideal_operations.lean#L556">https://github.com/leanprover-community/mathlib/blob/master/src/ring_theory/ideal_operations.lean#L556</a></p>

<a name="162043014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162043014" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162043014">Johan Commelin (Mar 29 2019 at 12:51)</a>:</h4>
<p>That's what you want, right?</p>

<a name="162043043"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162043043" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162043043">Johan Commelin (Mar 29 2019 at 12:51)</a>:</h4>
<p>Your hypothesis would become <code>I \bu M = \top</code></p>

<a name="162043389"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162043389" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162043389">snowbunting (Mar 29 2019 at 12:54)</a>:</h4>
<p>hmm, would you mind helping me getting started?<br>
<code>#check I • M</code> gives "has_scalar (ideal R) (Type u)"<br>
and<br>
<code>#check semimodule I M</code> gives <code>semiring ↑I</code><br>
as left-to-show</p>

<a name="162043434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162043434" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162043434">Johan Commelin (Mar 29 2019 at 12:55)</a>:</h4>
<p>Did you import <code>ideal_operations</code>?</p>

<a name="162044243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162044243" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162044243">snowbunting (Mar 29 2019 at 13:05)</a>:</h4>
<p>stupid me^^ also named my project "ring_theory" which might not be the best idea I ever had. Thanks</p>
<p>(although VS Code seems really to struggle with "import ring_theory.ideal_operations"... is it normal that this destroys my CPU?)</p>

<a name="162044329"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162044329" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162044329">Kevin Buzzard (Mar 29 2019 at 13:06)</a>:</h4>
<p>Do you have a fully compiled lean and mathlib before you start doing anything? That's a good place to begin</p>

<a name="162044347"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162044347" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162044347">Kevin Buzzard (Mar 29 2019 at 13:06)</a>:</h4>
<p>And nowadays you can get it without compiling anything yourself</p>

<a name="162044484"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162044484" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162044484">Johan Commelin (Mar 29 2019 at 13:08)</a>:</h4>
<blockquote>
<p>stupid me^^ also named my project "ring_theory" which might not be the best idea I ever had. Thanks</p>
<p>(although VS Code seems really to struggle with "import ring_theory.ideal_operations"... is it normal that this destroys my CPU?)</p>
</blockquote>
<p>Yes, it is completely normal that this destroys your CPU if you don't have precompiled binaries.</p>

<a name="162044545"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162044545" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162044545">snowbunting (Mar 29 2019 at 13:09)</a>:</h4>
<p>Probably not. You have good instructions on how to set it up properly? I have a Macbook Pro and I think I used homebrew to install lean, not 100% sure though</p>

<a name="162044575"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162044575" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162044575">Johan Commelin (Mar 29 2019 at 13:09)</a>:</h4>
<p>You use VScode?</p>

<a name="162044636"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162044636" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162044636">snowbunting (Mar 29 2019 at 13:10)</a>:</h4>
<p>yes</p>

<a name="162044653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162044653" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162044653">Johan Commelin (Mar 29 2019 at 13:10)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/blob/master/docs/elan.md" target="_blank" title="https://github.com/leanprover-community/mathlib/blob/master/docs/elan.md">https://github.com/leanprover-community/mathlib/blob/master/docs/elan.md</a></p>

<a name="162044668"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162044668" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162044668">Kevin Buzzard (Mar 29 2019 at 13:10)</a>:</h4>
<p>Setting things up is a pain to start with but is really well worth it. You should make a new project with mathlib as a dependency</p>

<a name="162044676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162044676" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162044676">Johan Commelin (Mar 29 2019 at 13:10)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib#obtaining-binaries" target="_blank" title="https://github.com/leanprover-community/mathlib#obtaining-binaries">https://github.com/leanprover-community/mathlib#obtaining-binaries</a></p>

<a name="162044735"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162044735" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162044735">Kevin Buzzard (Mar 29 2019 at 13:11)</a>:</h4>
<p>Once you have a directory <code>_target/deps/mathlib/src</code> stuffed full of olean files, you're in good shape</p>

<a name="162044808"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162044808" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162044808">Kevin Buzzard (Mar 29 2019 at 13:12)</a>:</h4>
<p>Then just be sure to never accidentally edit one of those files or else you have to recompile to fix it</p>

<a name="162044846"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162044846" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162044846">snowbunting (Mar 29 2019 at 13:13)</a>:</h4>
<p>I see, I've <code>_target/deps/mathlib/src</code> full with .lean files</p>

<a name="162044859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162044859" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162044859">Simon Hudon (Mar 29 2019 at 13:13)</a>:</h4>
<p>Does VS code have a read-only mode?</p>

<a name="162044945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162044945" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162044945">Johan Commelin (Mar 29 2019 at 13:14)</a>:</h4>
<p><span class="user-mention" data-user-id="215945">@snowbunting</span> You'll be mostly interested in the second link that I posted</p>

<a name="162045242"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162045242" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162045242">Kevin Buzzard (Mar 29 2019 at 13:18)</a>:</h4>
<p>If you have the lean files only, you're going to get pain when you try and use ideals. One fix is to run <code>lean --make</code> in <code>_target/deps/mathlib/src</code> but that will take a while. If things are set up perfectly, <code>update-mathlib</code> will download all the olean files from the internet</p>

<a name="162045281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162045281" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162045281">Kevin Buzzard (Mar 29 2019 at 13:19)</a>:</h4>
<p>My workflow is usually "leanpkg configure" followed by "update-mathlib"</p>

<a name="162045680"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162045680" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162045680">Johan Commelin (Mar 29 2019 at 13:24)</a>:</h4>
<p><span class="user-mention" data-user-id="215945">@snowbunting</span> For <code>update-mathlib</code> to work nicely, you should set <code>lean_version</code> to <code>3.4.2</code> in your <code>.toml</code> file in the root of your project.</p>

<a name="162045724"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162045724" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162045724">Johan Commelin (Mar 29 2019 at 13:24)</a>:</h4>
<p>See e.g. <a href="https://github.com/leanprover-community/lean-perfectoid-spaces/blob/master/leanpkg.toml" target="_blank" title="https://github.com/leanprover-community/lean-perfectoid-spaces/blob/master/leanpkg.toml">https://github.com/leanprover-community/lean-perfectoid-spaces/blob/master/leanpkg.toml</a></p>

<a name="162047000"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162047000" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162047000">snowbunting (Mar 29 2019 at 13:41)</a>:</h4>
<p>Thanks, I definietely managed to do what you have told me - now there are .lean and .olean files in the deps. However, I am not so sure if the performance changed... still 200% CPU</p>
<p>It might be worth to add to the description in the second link (obtaining binaries) that one needs the non-standard python module "pip install GitPython"</p>

<a name="162047131"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162047131" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162047131">Johan Commelin (Mar 29 2019 at 13:43)</a>:</h4>
<p>Hmm, maybe restart Lean (in VScode)</p>

<a name="162047151"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162047151" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162047151">Johan Commelin (Mar 29 2019 at 13:43)</a>:</h4>
<p>Ctrl-Shift-P, then type "restart"</p>

<a name="162047172"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162047172" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162047172">Johan Commelin (Mar 29 2019 at 13:43)</a>:</h4>
<p>Otherwise it might not have picked up your compiled binaries</p>

<a name="162047232"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162047232" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162047232">snowbunting (Mar 29 2019 at 13:44)</a>:</h4>
<p>ok, seem to be fine now.  Imports are fast. but...</p>

<a name="162047263"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162047263" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162047263">snowbunting (Mar 29 2019 at 13:44)</a>:</h4>
<p><a href="/user_uploads/3121/_7LeIdpL-P5jzH4yOMKYruDh/Screen-Shot-2019-03-29-at-14.44.23.png" target="_blank" title="Screen-Shot-2019-03-29-at-14.44.23.png">Screen-Shot-2019-03-29-at-14.44.23.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/_7LeIdpL-P5jzH4yOMKYruDh/Screen-Shot-2019-03-29-at-14.44.23.png" target="_blank" title="Screen-Shot-2019-03-29-at-14.44.23.png"><img src="/user_uploads/3121/_7LeIdpL-P5jzH4yOMKYruDh/Screen-Shot-2019-03-29-at-14.44.23.png"></a></div>

<a name="162047412"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162047412" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162047412">snowbunting (Mar 29 2019 at 13:46)</a>:</h4>
<p>Is that not how you said I should do it? why the "has_scalar"?</p>

<a name="162047422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162047422" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162047422">Johan Commelin (Mar 29 2019 at 13:46)</a>:</h4>
<p>Oops, It should be <code>I • ⊤</code></p>

<a name="162047477"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162047477" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162047477">snowbunting (Mar 29 2019 at 13:47)</a>:</h4>
<p>I works, what does that "\top" mean?</p>

<a name="162047558"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162047558" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162047558">Johan Commelin (Mar 29 2019 at 13:48)</a>:</h4>
<p>Its the largest submodule</p>

<a name="162047579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162047579" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162047579">Johan Commelin (Mar 29 2019 at 13:48)</a>:</h4>
<p>Submodules are ordered by inclusion... they form a lattice. And <code>⊤</code> is the notation for the top element</p>

<a name="162047642"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162047642" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162047642">Johan Commelin (Mar 29 2019 at 13:49)</a>:</h4>
<p>This seems awkward to us mathematicians... but it allows you to apply a whole bunch of lemmas about ordered structures</p>

<a name="162047980"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162047980" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162047980">snowbunting (Mar 29 2019 at 13:54)</a>:</h4>
<p>makes sence,  but just one (last) question, how does then Lean know (or how do I tell them) it is the largest submodule of <code>M</code> and not say <code>N</code>?</p>
<p>Thank you so much for helping me out btw!</p>

<a name="162048078"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162048078" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162048078">Bryan Gin-ge Chen (Mar 29 2019 at 13:56)</a>:</h4>
<blockquote>
<p>It might be worth to add to the description in the second link (obtaining binaries) that one needs the non-standard python module "pip install GitPython"</p>
</blockquote>
<p>I've made a PR addressing this at the install-script level <a href="https://github.com/leanprover-community/mathlib/pull/860" target="_blank" title="https://github.com/leanprover-community/mathlib/pull/860">https://github.com/leanprover-community/mathlib/pull/860</a><br>
We may want to check the docs again as well.</p>

<a name="162048267"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162048267" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162048267">Johan Commelin (Mar 29 2019 at 13:58)</a>:</h4>
<p><span class="user-mention" data-user-id="215945">@snowbunting</span> If Lean gets confused you type <code>(⊤ : submodule R M)</code></p>

<a name="162048355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162048355" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162048355">Johan Commelin (Mar 29 2019 at 13:58)</a>:</h4>
<p>But if it figured out that <code>I • ⊤</code> had to be a <code>submodule R M</code> then it probably could figure out that there wasn't much room for <code>⊤</code>.</p>

<a name="162048370"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162048370" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162048370">Johan Commelin (Mar 29 2019 at 13:59)</a>:</h4>
<p>So it depends on how much info there is available for the type checker</p>

<a name="162048623"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162048623" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162048623">snowbunting (Mar 29 2019 at 14:02)</a>:</h4>
<p>ok thanks!</p>

<a name="162048795"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162048795" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162048795">Johan Commelin (Mar 29 2019 at 14:05)</a>:</h4>
<p>By the way, just out of curiosity... do have some goal in mind?</p>

<a name="162048801"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162048801" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162048801">Johan Commelin (Mar 29 2019 at 14:05)</a>:</h4>
<p>A particular lemma that you want to prove?</p>

<a name="162049554"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162049554" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162049554">snowbunting (Mar 29 2019 at 14:15)</a>:</h4>
<p>This here was nakayama, but more for educational purposes. I'm trying to figure out, whether it would be in the end feasible to use lean for defining and proving more interesting stuff, say homological algebra or just anything that would appear at graduate level.</p>

<a name="162049691"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162049691" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162049691">snowbunting (Mar 29 2019 at 14:16)</a>:</h4>
<p>But I haven't even figured out if there is a good way to search the library - say if I was asking if there was a krull-intersection theorem somewhere. And proper tutorials that are not about first order logic are also still to be found ;)</p>

<a name="162049725"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162049725" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162049725">Johan Commelin (Mar 29 2019 at 14:17)</a>:</h4>
<p>Ha! Since today we have <code>library_search</code>!</p>

<a name="162049736"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162049736" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162049736">Johan Commelin (Mar 29 2019 at 14:17)</a>:</h4>
<p>Also, Nakayama is already there.</p>

<a name="162049808"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162049808" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162049808">Johan Commelin (Mar 29 2019 at 14:18)</a>:</h4>
<p><a href="#narrow/stream/113488-general/topic/library_search.20has.20been.20merged" title="#narrow/stream/113488-general/topic/library_search.20has.20been.20merged">https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/library_search.20has.20been.20merged</a></p>

<a name="162050106"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162050106" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162050106">snowbunting (Mar 29 2019 at 14:22)</a>:</h4>
<p>Well <em>that</em> is pretty cool indeed.</p>
<p>I know it is there, but you have to start reimplementing something if you want to learn the language.</p>

<a name="162051831"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162051831" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162051831">Johan Commelin (Mar 29 2019 at 14:43)</a>:</h4>
<p><span class="user-mention" data-user-id="123965">@Bryan Gin-ge Chen</span> Thanks for the quick response! <span aria-label="thumbs up" class="emoji emoji-1f44d" role="img" title="thumbs up">:thumbs_up:</span></p>

<a name="162056262"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162056262" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162056262">Kevin Buzzard (Mar 29 2019 at 15:33)</a>:</h4>
<blockquote>
<p>This here was nakayama, but more for educational purposes. I'm trying to figure out, whether it would be in the end feasible to use lean for defining and proving more interesting stuff, say homological algebra or just anything that would appear at graduate level.</p>
</blockquote>
<p>It most definitely is possible. Whether or not it is "feasible" depends on your definition of feasible. I would say it was feasible. <span class="user-mention" data-user-id="112680">@Johan Commelin</span>  proved the five lemma as one of his first programming tasks in Lean. I've defined schemes. <span class="user-mention" data-user-id="110064">@Kenny Lau</span>  did localisation of rings and <span class="user-mention" data-user-id="110031">@Patrick Massot</span> did completions. So we're pretty solid for MSc level commutative algebra. The reason nobody has done flatness yet was that there was some debate about implementation details for exact sequences which somehow we've never got beyond.</p>

<a name="162056417"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162056417" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162056417">Kenny Lau (Mar 29 2019 at 15:35)</a>:</h4>
<p>you can just define flat to mean that tensoring preserves injective maps</p>

<a name="162057254"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162057254" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162057254">Kevin Buzzard (Mar 29 2019 at 15:44)</a>:</h4>
<p>so there's a definition -- but as you know well Kenny we now need an API. Like the one you wrote for localisation</p>

<a name="162057423"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162057423" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162057423">Kevin Buzzard (Mar 29 2019 at 15:46)</a>:</h4>
<p>It would be good to have criteria for flatness involving Ext groups etc, but somehow people don't know how best to define ext groups in Lean and as a result they never get defined. Did anyone ever do this in Coq?</p>

<a name="162057444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162057444" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162057444">Kevin Buzzard (Mar 29 2019 at 15:46)</a>:</h4>
<p>Do we even have projective modules in Lean? Again I could imagine that we have enough for a definition, but we need an API.</p>

<a name="162057523"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162057523" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162057523">Kevin Buzzard (Mar 29 2019 at 15:47)</a>:</h4>
<p>And before people launch into this I think we should fix upon an answer to how to implement exact sequences. <span class="user-mention" data-user-id="112680">@Johan Commelin</span> do you have any thoughts on this? I remember you and Mario discussing it recently. It would be nice to have injective and projective resolutions, there's a whole bunch of quite formal stuff which one could do if we had them.</p>

<a name="162057582"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162057582" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162057582">Johan Commelin (Mar 29 2019 at 15:48)</a>:</h4>
<p>I am trying to define a perfectoid space...</p>

<a name="162057601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162057601" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162057601">Johan Commelin (Mar 29 2019 at 15:48)</a>:</h4>
<p>But yes, there are pretty solid ideas for (short) exact sequences.</p>

<a name="162085727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162085727" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162085727">snowbunting (Mar 29 2019 at 21:36)</a>:</h4>
<p>Hi, guys. Me again. Slowly Lean starts to be fun to use, and I'd have some follow-up questions...</p>
<p>So <code>I•N</code> for <code>[comm_ring R]</code>, <code>I: ideal R</code> and <code>N: submodule R M</code> works fine, now I thought I could also define <code>r•N</code> for <code>r: R</code> (which seems not to be defined, is it?)</p>
<p>so my attempt was: </p>
<div class="codehilite"><pre><span></span><span class="kn">instance</span> <span class="n">has_scalar_from_ring</span><span class="o">:</span> <span class="n">has_scalar</span> <span class="n">R</span> <span class="o">(</span><span class="n">submodule</span> <span class="n">R</span> <span class="n">M</span><span class="o">)</span> <span class="o">:=</span>
        <span class="bp">⟨λ</span> <span class="n">r</span> <span class="n">N</span><span class="o">,</span> <span class="n">N</span><span class="bp">.</span><span class="n">map</span> <span class="o">(</span><span class="n">r</span><span class="err">•</span><span class="n">linear_map</span><span class="bp">.</span><span class="n">id</span><span class="o">)</span><span class="bp">⟩</span>
</pre></div>


<p>(following the def. of <code>I•N</code>) but I think it would be better, to define it as <code>r•N := (r) • N</code> and use the definition of ideals, which already exists. Moreover, the most basic fact, I need is that a module is zero iff every element is zero:</p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">submodule_mul_scalar_is_zero</span> <span class="o">(</span><span class="n">N</span><span class="o">:</span> <span class="n">submodule</span> <span class="n">R</span> <span class="n">M</span><span class="o">)</span> <span class="o">(</span><span class="n">r</span><span class="o">:</span><span class="n">R</span><span class="o">):</span>
    <span class="n">r</span><span class="err">•</span><span class="n">N</span><span class="bp">=</span><span class="o">(</span><span class="mi">0</span><span class="o">:</span><span class="n">submodule</span> <span class="n">R</span> <span class="n">M</span><span class="o">))</span> <span class="bp">↔</span> <span class="o">(</span><span class="bp">∀</span><span class="o">(</span><span class="n">n</span><span class="o">:</span><span class="n">M</span><span class="o">),</span> <span class="n">n</span><span class="err">∈</span><span class="n">N</span> <span class="bp">→</span> <span class="n">r</span><span class="err">•</span><span class="n">n</span><span class="bp">=</span><span class="o">(</span><span class="mi">0</span><span class="o">:</span><span class="n">M</span><span class="o">))</span>
</pre></div>


<p>which I don't understand how that would work.</p>
<p>Therefore I have two questions:</p>
<ul>
<li>How do I construct concrete objects like the ideal (r), a polynomial ring R[X] or some other very concrete construction?</li>
<li>is there something in the <code>has_zero</code> or so, that would imply the statement above? Or how would I try to prove that <code>r•N</code> or <code>I•N</code> is zero?</li>
</ul>
<p>Thank you once more for helping me!</p>

<a name="162112813"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162112813" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162112813">Kevin Buzzard (Mar 30 2019 at 09:11)</a>:</h4>
<p>The ideal <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>r</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">(r)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base"><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mclose">)</span></span></span></span> is <code>ideal.span {r}</code>. The polynomial ring <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mo>[</mo><mi>X</mi><mo>]</mo></mrow><annotation encoding="application/x-tex">R[X]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="mopen">[</span><span class="mord mathit" style="margin-right:0.07847em;">X</span><span class="mclose">]</span></span></span></span> in one variable is <code>polynomial R</code>, you need <code>import data.polynomial</code>.</p>

<a name="162112887"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162112887" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162112887">Kevin Buzzard (Mar 30 2019 at 09:13)</a>:</h4>
<p>These questions make it quite clear to me that we need some sort of example / manual pages of how to work with these things. When I was trying to pick up Sage I found the manual indispensible -- I knew the maths but didn't know how to make Sage work with e.g. elliptic curves over the rationals. But there are oodles of examples in the manual, so it wasn't hard to pick up. I am busy with work right now though :-/</p>

<a name="162114166"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162114166" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162114166">Kevin Buzzard (Mar 30 2019 at 09:50)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">ring_theory</span><span class="bp">.</span><span class="n">ideals</span>
<span class="kn">import</span> <span class="n">algebra</span><span class="bp">.</span><span class="n">module</span>

<span class="n">universes</span> <span class="n">u</span> <span class="n">v</span>
<span class="kn">variables</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">{</span><span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">}</span>
<span class="kn">variables</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">add_comm_group</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">module</span> <span class="n">R</span> <span class="n">M</span><span class="o">]</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">I</span><span class="o">:</span> <span class="n">ideal</span> <span class="n">R</span><span class="o">)</span>

<span class="kn">instance</span> <span class="n">has_scalar_from_ring</span><span class="o">:</span> <span class="n">has_scalar</span> <span class="n">R</span> <span class="o">(</span><span class="n">submodule</span> <span class="n">R</span> <span class="n">M</span><span class="o">)</span> <span class="o">:=</span>
        <span class="bp">⟨λ</span> <span class="n">r</span> <span class="n">N</span><span class="o">,</span> <span class="n">N</span><span class="bp">.</span><span class="n">map</span> <span class="o">(</span><span class="n">r</span><span class="err">•</span><span class="n">linear_map</span><span class="bp">.</span><span class="n">id</span><span class="o">)</span><span class="bp">⟩</span>

<span class="kn">lemma</span> <span class="n">submodule_mul_scalar_is_zero</span> <span class="o">(</span><span class="n">N</span><span class="o">:</span> <span class="n">submodule</span> <span class="n">R</span> <span class="n">M</span><span class="o">)</span> <span class="o">(</span><span class="n">r</span><span class="o">:</span><span class="n">R</span><span class="o">):</span>
    <span class="n">r</span><span class="err">•</span><span class="n">N</span><span class="bp">=</span><span class="o">(</span><span class="mi">0</span><span class="o">:</span><span class="n">submodule</span> <span class="n">R</span> <span class="n">M</span><span class="o">)</span> <span class="bp">↔</span> <span class="o">(</span><span class="bp">∀</span><span class="o">(</span><span class="n">n</span><span class="o">:</span><span class="n">M</span><span class="o">),</span> <span class="n">n</span><span class="err">∈</span><span class="n">N</span> <span class="bp">→</span> <span class="n">r</span><span class="err">•</span><span class="n">n</span><span class="bp">=</span><span class="o">(</span><span class="mi">0</span><span class="o">:</span><span class="n">M</span><span class="o">))</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">rw</span> <span class="err">←</span><span class="n">submodule</span><span class="bp">.</span><span class="n">ext&#39;_iff</span><span class="o">,</span>
  <span class="n">change</span> <span class="o">{</span><span class="n">b</span> <span class="o">:</span> <span class="n">M</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">M</span><span class="o">),</span> <span class="n">a</span> <span class="err">∈</span> <span class="err">↑</span><span class="n">N</span> <span class="bp">∧</span> <span class="n">r</span> <span class="err">•</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">b</span><span class="o">}</span> <span class="bp">=</span> <span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="bp">↔</span> <span class="bp">_</span><span class="o">,</span>
    <span class="c">/-</span><span class="cm"> showing my working for how I got the above line:</span>
<span class="cm">    I pulled off the LHS (using split and intro), called it h, and then I did this:</span>
<span class="cm">    unfold has_scalar.smul at h,</span>
<span class="cm">    rw submodule.map_coe _ N at h, -- proof is rfl</span>
<span class="cm">    unfold set.image at h,</span>
<span class="cm">    dsimp at h,</span>
<span class="cm">    unfold coe_fn has_coe_to_fun.coe has_scalar.smul at h,</span>
<span class="cm">    dsimp at h,</span>
<span class="cm">    -/</span>
  <span class="n">rw</span> <span class="n">set</span><span class="bp">.</span><span class="n">ext_iff</span><span class="o">,</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">intros</span> <span class="n">h</span> <span class="n">n</span> <span class="n">hn</span><span class="o">,</span>
    <span class="n">rw</span> <span class="err">←</span><span class="n">set</span><span class="bp">.</span><span class="n">mem_singleton_iff</span><span class="o">,</span>
    <span class="n">exact</span> <span class="o">(</span><span class="n">h</span> <span class="o">(</span><span class="n">r</span> <span class="err">•</span> <span class="n">n</span><span class="o">))</span><span class="bp">.</span><span class="mi">1</span> <span class="bp">⟨</span><span class="n">n</span><span class="o">,</span> <span class="n">hn</span><span class="o">,</span> <span class="n">rfl</span><span class="bp">⟩</span><span class="o">,</span>
  <span class="o">},</span>
  <span class="o">{</span> <span class="n">intros</span> <span class="n">h</span> <span class="n">x</span><span class="o">,</span>
    <span class="n">rw</span> <span class="n">set</span><span class="bp">.</span><span class="n">mem_singleton_iff</span><span class="o">,</span>
    <span class="n">split</span><span class="o">,</span> <span class="n">swap</span><span class="o">,</span> <span class="n">rintro</span> <span class="n">rfl</span><span class="o">,</span> <span class="n">exact</span> <span class="bp">⟨</span><span class="mi">0</span><span class="o">,</span><span class="n">submodule</span><span class="bp">.</span><span class="n">zero_mem</span> <span class="n">N</span><span class="o">,</span><span class="k">by</span> <span class="n">simp</span><span class="bp">⟩</span><span class="o">,</span>
    <span class="n">rintro</span> <span class="bp">⟨</span><span class="n">n</span><span class="o">,</span> <span class="n">hn</span><span class="o">,</span> <span class="n">rfl</span><span class="bp">⟩</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">h</span> <span class="n">n</span> <span class="n">hn</span><span class="o">,</span>
  <span class="o">}</span>
<span class="kn">end</span>
</pre></div>


<p>This is not really how the proof should go; one should break things down into small steps, and also probably your definition of <code>has_scalar_from_ring</code> should maybe go via ideals and there should be extra lemmas in the API about how to manipulate these things. I just took everything apart; <code>submodule.ext'_iff</code> turns an equality of modules into an equality of sets and <code>set.mem_singleton_iff</code> says x is in {y} iff x = y and then it was just a case of checking that basically it was a triviality. The <code>change</code> line replaces the set <code>↑(r • N)</code> with its definition, which I found by unfolding.</p>

<a name="162114289"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162114289" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162114289">Kevin Buzzard (Mar 30 2019 at 09:54)</a>:</h4>
<p>But this is not really how good Lean should look. One should really be thinking more along the following lines: "The underlying fact I seem to need is that <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi><mi>N</mi><mo>⊆</mo><mi>P</mi><mspace width="0.277778em"></mspace><mo>⟺</mo><mspace width="0.277778em"></mspace><mi mathvariant="normal">∀</mi><mi>i</mi><mo>∈</mo><mi>I</mi><mo separator="true">,</mo><mi>i</mi><mi>N</mi><mo>⊆</mo><mi>P</mi></mrow><annotation encoding="application/x-tex">IN\subseteq P\iff\forall i\in I, iN\subseteq P</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.07847em;">I</span><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="mrel">⊆</span><span class="mord mathit" style="margin-right:0.13889em;">P</span><span class="mrel"><span class="mspace thickspace"></span><span class="mrel">⟺</span></span><span class="mord mathrm"><span class="mspace thickspace"></span><span class="mord mathrm">∀</span></span><span class="mord mathit">i</span><span class="mrel">∈</span><span class="mord mathit" style="margin-right:0.07847em;">I</span><span class="mpunct">,</span><span class="mord mathit">i</span><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="mrel">⊆</span><span class="mord mathit" style="margin-right:0.13889em;">P</span></span></span></span> so this should be in the API; if <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi></mrow><annotation encoding="application/x-tex">I</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.07847em;">I</span></span></span></span> is generated by a set <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.05764em;">S</span></span></span></span> then <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi><mi>N</mi><mo>⊆</mo><mi>P</mi><mspace width="0.277778em"></mspace><mo>⟺</mo><mspace width="0.277778em"></mspace><mi mathvariant="normal">∀</mi><mi>s</mi><mo>∈</mo><mi>S</mi><mo separator="true">,</mo><mi>s</mi><mi>N</mi><mo>⊆</mo><mi>P</mi></mrow><annotation encoding="application/x-tex">IN\subseteq P\iff \forall s\in S, sN\subseteq P</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.07847em;">I</span><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="mrel">⊆</span><span class="mord mathit" style="margin-right:0.13889em;">P</span><span class="mrel"><span class="mspace thickspace"></span><span class="mrel">⟺</span></span><span class="mord mathrm"><span class="mspace thickspace"></span><span class="mord mathrm">∀</span></span><span class="mord mathit">s</span><span class="mrel">∈</span><span class="mord mathit" style="margin-right:0.05764em;">S</span><span class="mpunct">,</span><span class="mord mathit">s</span><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="mrel">⊆</span><span class="mord mathit" style="margin-right:0.13889em;">P</span></span></span></span> and this sort of thing -- general lemmas which one would use to prove the result in a more conceptual way; these lemmas should then have good names attached to them (I'm quite bad at that bit) and then added to the API, if they're not there already. Then the user can write a much sexier looking proof using these lemmas.</p>

<a name="162114374"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162114374" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162114374">Kevin Buzzard (Mar 30 2019 at 09:56)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> are you aware of two results I mention above being in mathlib?</p>

<a name="162114385"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%2AM%3DM%20for%20R-modules/near/162114385" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/99658IMMforRmodules.html#162114385">Kenny Lau (Mar 30 2019 at 09:57)</a>:</h4>
<p>smul_le</p>


{% endraw %}
