---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113489newmembers/68652HowdoIincreasethememoryconsumptionlimit.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113489newmembers/index.html">new members</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113489newmembers/68652HowdoIincreasethememoryconsumptionlimit.html">How do I increase the memory consumption limit?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="147477161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20do%20I%20increase%20the%20memory%20consumption%20limit%3F/near/147477161" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/68652HowdoIincreasethememoryconsumptionlimit.html#147477161">Abhimanyu Pallavi Sudhir (Nov 11 2018 at 13:14)</a>:</h4>
<p>I keep getting "excessive memory consumption" errors in Lean. How can I increase the memory consumption limit? Presumably this is a Lean setting, right?</p>

<a name="147477225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20do%20I%20increase%20the%20memory%20consumption%20limit%3F/near/147477225" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/68652HowdoIincreasethememoryconsumptionlimit.html#147477225">Abhimanyu Pallavi Sudhir (Nov 11 2018 at 13:16)</a>:</h4>
<p>From the docs for the extension, it's <code>lean.memoryLimit</code> or <code>-M</code> but I'm not sure how to use this.</p>

<a name="147477291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20do%20I%20increase%20the%20memory%20consumption%20limit%3F/near/147477291" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/68652HowdoIincreasethememoryconsumptionlimit.html#147477291">Reid Barton (Nov 11 2018 at 13:18)</a>:</h4>
<p>Have you built your project (e.g. with <code>leanpkg build</code>) recently? The most common reason for running into the memory consumption error is that you don't have up-to-date compiled versions of your dependencies, and so Lean has to do a lot more work every time it processes your file.</p>

<a name="147477302"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20do%20I%20increase%20the%20memory%20consumption%20limit%3F/near/147477302" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/68652HowdoIincreasethememoryconsumptionlimit.html#147477302">Reid Barton (Nov 11 2018 at 13:19)</a>:</h4>
<p>You may need to restart the Lean server afterwards too</p>

<a name="147477359"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20do%20I%20increase%20the%20memory%20consumption%20limit%3F/near/147477359" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/68652HowdoIincreasethememoryconsumptionlimit.html#147477359">Kevin Buzzard (Nov 11 2018 at 13:21)</a>:</h4>
<p>Yes -- increasing the memory is ironically probably not the way to solve these errors -- you have maybe got buggy code or you need to compile stuff</p>

<a name="147477397"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20do%20I%20increase%20the%20memory%20consumption%20limit%3F/near/147477397" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/68652HowdoIincreasethememoryconsumptionlimit.html#147477397">Kevin Buzzard (Nov 11 2018 at 13:22)</a>:</h4>
<p>And whenever you get it you should  restart lean I guess, eg with ctrl shift p lean: restart</p>

<a name="147477478"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20do%20I%20increase%20the%20memory%20consumption%20limit%3F/near/147477478" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/68652HowdoIincreasethememoryconsumptionlimit.html#147477478">Abhimanyu Pallavi Sudhir (Nov 11 2018 at 13:25)</a>:</h4>
<p>Buggy code isn't the issue, since it works after restarting (albeit after a very long time). As for the installation -- I installed from the binaries you (<span class="user-mention" data-user-id="110038">@Kevin Buzzard</span>) uploaded as of October. Is this too old?</p>

<a name="147477530"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20do%20I%20increase%20the%20memory%20consumption%20limit%3F/near/147477530" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/68652HowdoIincreasethememoryconsumptionlimit.html#147477530">Reid Barton (Nov 11 2018 at 13:26)</a>:</h4>
<p>Are you working on mathlib, or your own project which uses mathlib, or something else?</p>

<a name="147477754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20do%20I%20increase%20the%20memory%20consumption%20limit%3F/near/147477754" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/68652HowdoIincreasethememoryconsumptionlimit.html#147477754">Abhimanyu Pallavi Sudhir (Nov 11 2018 at 13:34)</a>:</h4>
<p>A project which uses a local download of mathlib.</p>

<a name="147477914"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20do%20I%20increase%20the%20memory%20consumption%20limit%3F/near/147477914" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/68652HowdoIincreasethememoryconsumptionlimit.html#147477914">Kenny Lau (Nov 11 2018 at 13:40)</a>:</h4>
<p><code>lean --make</code></p>

<a name="147477918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20do%20I%20increase%20the%20memory%20consumption%20limit%3F/near/147477918" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/68652HowdoIincreasethememoryconsumptionlimit.html#147477918">Kenny Lau (Nov 11 2018 at 13:40)</a>:</h4>
<p>or <code>leanpkg build</code></p>

<a name="147480220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20do%20I%20increase%20the%20memory%20consumption%20limit%3F/near/147480220" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/68652HowdoIincreasethememoryconsumptionlimit.html#147480220">Kevin Buzzard (Nov 11 2018 at 15:03)</a>:</h4>
<p>If code takes a long time to run you can try and figure out what's going on by sticking #exit in the code and working out which line is causing the problem. October binaries are fine I'm sure. But there is perhaps a line which is bad style or could be rewritten to solve your problems</p>


{% endraw %}

{% include archive_update.html %}