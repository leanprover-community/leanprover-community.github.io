---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/144837PRreviews/82749851FTA.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/144837PRreviews/index.html">PR reviews</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/144837PRreviews/82749851FTA.html">#851 FTA</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="161783286"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23851%20FTA/near/161783286" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/82749851FTA.html#161783286">Kenny Lau (Mar 26 2019 at 17:16)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">exists_root</span> <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">ℂ</span><span class="o">}</span> <span class="o">(</span><span class="n">hf</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">degree</span> <span class="n">f</span><span class="o">)</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">z</span> <span class="o">:</span> <span class="n">ℂ</span><span class="o">,</span> <span class="n">is_root</span> <span class="n">f</span> <span class="n">z</span> <span class="o">:=</span>
</pre></div>

<a name="161783297"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23851%20FTA/near/161783297" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/82749851FTA.html#161783297">Kenny Lau (Mar 26 2019 at 17:16)</a>:</h4>
<p>Congraulations to <span class="user-mention" data-user-id="110044">@Chris Hughes</span></p>

<a name="161783495"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23851%20FTA/near/161783495" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/82749851FTA.html#161783495">Kevin Buzzard (Mar 26 2019 at 17:18)</a>:</h4>
<p>Well that's a fine way to revise for your 2nd year complex analysis exam :D</p>

<a name="161785946"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23851%20FTA/near/161785946" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/82749851FTA.html#161785946">Johan Commelin (Mar 26 2019 at 17:44)</a>:</h4>
<p>Well done! It's one of those monster proofs again. I still find those very unreadable, but I trust it's fine. I'm not very good at judging what is maintainable. Anyway, aren't there modular sublemmas that could be split off?</p>

<a name="161787041"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23851%20FTA/near/161787041" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/82749851FTA.html#161787041">Sebastien Gouezel (Mar 26 2019 at 17:56)</a>:</h4>
<p>In long proofs like that, I find it extremely useful to include a long comment at the beginning of the proof explaining the strategy, and then comments in the middle of the proof explaining the step one is currently proving. I think it improves both readability and maintainibility. See for instance <a href="https://github.com/sgouezel/mathlib/blob/517ba5ca5ef5ebb338ec8d41821946ad8129e739/src/topology/metric_space/gromov_hausdorff.lean#L1503" target="_blank" title="https://github.com/sgouezel/mathlib/blob/517ba5ca5ef5ebb338ec8d41821946ad8129e739/src/topology/metric_space/gromov_hausdorff.lean#L1503">https://github.com/sgouezel/mathlib/blob/517ba5ca5ef5ebb338ec8d41821946ad8129e739/src/topology/metric_space/gromov_hausdorff.lean#L1503</a> for an example, or several other proofs in this file.</p>

<a name="161789056"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23851%20FTA/near/161789056" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/82749851FTA.html#161789056">Patrick Massot (Mar 26 2019 at 18:17)</a>:</h4>
<p>I just wrote something similar on the PR page, before reading Sébastien's message, because I first followed the link before reading answers</p>

<a name="161789650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23851%20FTA/near/161789650" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/82749851FTA.html#161789650">Sebastien Gouezel (Mar 26 2019 at 18:24)</a>:</h4>
<p>The modular sublemma which underlines the proof is that a nonconstant polynomial (or more generally analytic function) is open. Then, you take a point <code>z</code> where <code>|p z|</code> is minimal (this is possible since <code>p</code> tends to infinity at infinity), and you argue that, if <code>p z</code> were nonzero, then by openness of the image you would get a <code>w</code> with <code>|p w| &lt; |p z|</code>, contradiction. Not sure that separating the sublemma would really shorten the proof, though.</p>

<a name="161789751"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23851%20FTA/near/161789751" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/82749851FTA.html#161789751">Patrick Massot (Mar 26 2019 at 18:26)</a>:</h4>
<p>I think this sublemma is very much worth being stated</p>

<a name="161790581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23851%20FTA/near/161790581" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/82749851FTA.html#161790581">Sebastien Gouezel (Mar 26 2019 at 18:35)</a>:</h4>
<p>The right proof would use the inverse function theorem. Here, Chris only proves what he needs, not the full openness of the image. I would say that, for now, Chris's proof is perfect as is for mathlib, and then maybe it can be refactored and made more conceptual once we have analytic functions and the inverse function theorem.</p>

<a name="161802513"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23851%20FTA/near/161802513" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/82749851FTA.html#161802513">Chris Hughes (Mar 26 2019 at 21:03)</a>:</h4>
<p>I added a link to <a href="https://ncatlab.org/nlab/show/fundamental+theorem+of+algebra#classical_fta_via_advanced_calculus" target="_blank" title="https://ncatlab.org/nlab/show/fundamental+theorem+of+algebra#classical_fta_via_advanced_calculus">https://ncatlab.org/nlab/show/fundamental+theorem+of+algebra#classical_fta_via_advanced_calculus</a>, which gives the method I used. All the variable names are the same as on that site. This should improve the comprehensibility.</p>

<a name="161804269"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23851%20FTA/near/161804269" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/82749851FTA.html#161804269">Scott Morrison (Mar 26 2019 at 21:23)</a>:</h4>
<p>You should add a link back the other way, noting that there is a full formalisation in Lean as well, now!</p>

<a name="161804462"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23851%20FTA/near/161804462" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/82749851FTA.html#161804462">Patrick Massot (Mar 26 2019 at 21:25)</a>:</h4>
<p>Maybe wait until it's merged</p>


{% endraw %}
