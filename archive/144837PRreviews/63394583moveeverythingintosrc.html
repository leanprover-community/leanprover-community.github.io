---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/144837PRreviews/63394583moveeverythingintosrc.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/144837PRreviews/index.html">PR reviews</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/144837PRreviews/63394583moveeverythingintosrc.html">#583 move everything into `src`</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="155153163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23583%20move%20everything%20into%20%60src%60/near/155153163" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/63394583moveeverythingintosrc.html#155153163">Patrick Massot (Jan 15 2019 at 08:15)</a>:</h4>
<p>What is the status of this PR? I think we should bite the bullet and make it happen. I'm waiting for it before implementing the topology part of <a href="https://github.com/leanprover/mathlib/issues/586" target="_blank" title="https://github.com/leanprover/mathlib/issues/586">https://github.com/leanprover/mathlib/issues/586</a> I'm willing to update the PR, but then it needs to be merged right away, otherwise it will have conflict at every single future commit</p>

<a name="155153170"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23583%20move%20everything%20into%20%60src%60/near/155153170" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/63394583moveeverythingintosrc.html#155153170">Patrick Massot (Jan 15 2019 at 08:15)</a>:</h4>
<p><span class="user-mention" data-user-id="110294">@Johannes HÃ¶lzl</span></p>

<a name="155154177"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23583%20move%20everything%20into%20%60src%60/near/155154177" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/63394583moveeverythingintosrc.html#155154177">Reid Barton (Jan 15 2019 at 08:41)</a>:</h4>
<p>I agree we should do this now, and then follow up with the reorganization at the level of whole files, which we now have an outline for and should be straightforward. I don't think we need to wait for the details of how to reorganize individual files like <code>topological_space.lean</code>.</p>

<a name="155154237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23583%20move%20everything%20into%20%60src%60/near/155154237" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/63394583moveeverythingintosrc.html#155154237">Kevin Buzzard (Jan 15 2019 at 08:42)</a>:</h4>
<p>I vote for pain today as opposed to more pain tomorrow.</p>

<a name="155165674"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23583%20move%20everything%20into%20%60src%60/near/155165674" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/63394583moveeverythingintosrc.html#155165674">Reid Barton (Jan 15 2019 at 12:37)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span></p>

<a name="155165734"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23583%20move%20everything%20into%20%60src%60/near/155165734" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/63394583moveeverythingintosrc.html#155165734">Mario Carneiro (Jan 15 2019 at 12:38)</a>:</h4>
<p>ok, it has to be redone though of course</p>

<a name="155172935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23583%20move%20everything%20into%20%60src%60/near/155172935" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/63394583moveeverythingintosrc.html#155172935">Patrick Massot (Jan 15 2019 at 14:31)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> what do you mean here? Do you mean: if someone redoes it then I'll merge right away?</p>

<a name="155172952"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23583%20move%20everything%20into%20%60src%60/near/155172952" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/63394583moveeverythingintosrc.html#155172952">Mario Carneiro (Jan 15 2019 at 14:31)</a>:</h4>
<p>yes</p>

<a name="155173107"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23583%20move%20everything%20into%20%60src%60/near/155173107" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/63394583moveeverythingintosrc.html#155173107">Mario Carneiro (Jan 15 2019 at 14:33)</a>:</h4>
<p>are we ready for the reorganization though? I guess both should be done around the same time</p>

<a name="155173342"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23583%20move%20everything%20into%20%60src%60/near/155173342" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/63394583moveeverythingintosrc.html#155173342">Patrick Massot (Jan 15 2019 at 14:36)</a>:</h4>
<p>Ok, it's rebased</p>

<a name="155173376"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23583%20move%20everything%20into%20%60src%60/near/155173376" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/63394583moveeverythingintosrc.html#155173376">Patrick Massot (Jan 15 2019 at 14:37)</a>:</h4>
<p>I'm ready to move analysis files around. I don't know about the stuff in <code>basic</code></p>

<a name="155173697"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23583%20move%20everything%20into%20%60src%60/near/155173697" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/63394583moveeverythingintosrc.html#155173697">Mario Carneiro (Jan 15 2019 at 14:41)</a>:</h4>
<p>ok, so the first reorg PR can be moving files around with no splitting, and we can split files in later PRs</p>

<a name="155173773"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23583%20move%20everything%20into%20%60src%60/near/155173773" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/63394583moveeverythingintosrc.html#155173773">Patrick Massot (Jan 15 2019 at 14:42)</a>:</h4>
<p>Yes, that's the plan</p>

<a name="155180006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23583%20move%20everything%20into%20%60src%60/near/155180006" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/63394583moveeverythingintosrc.html#155180006">Mario Carneiro (Jan 15 2019 at 15:52)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> I merged, but it looks a bit incomplete. Could you follow up moving the rest of the files?</p>

<a name="155180043"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23583%20move%20everything%20into%20%60src%60/near/155180043" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/63394583moveeverythingintosrc.html#155180043">Patrick Massot (Jan 15 2019 at 15:52)</a>:</h4>
<p>So weird... I guess I trusted Simon too much</p>

<a name="155180095"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23583%20move%20everything%20into%20%60src%60/near/155180095" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/63394583moveeverythingintosrc.html#155180095">Mario Carneiro (Jan 15 2019 at 15:53)</a>:</h4>
<p>you should redone it instead of rebase, I think</p>

<a name="155180119"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23583%20move%20everything%20into%20%60src%60/near/155180119" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/63394583moveeverythingintosrc.html#155180119">Mario Carneiro (Jan 15 2019 at 15:53)</a>:</h4>
<p>the files that were left behind are new since simon's version</p>

<a name="155180172"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23583%20move%20everything%20into%20%60src%60/near/155180172" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/63394583moveeverythingintosrc.html#155180172">Patrick Massot (Jan 15 2019 at 15:54)</a>:</h4>
<p>Ok, it's probably my fault then</p>

<a name="155180604"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23583%20move%20everything%20into%20%60src%60/near/155180604" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/63394583moveeverythingintosrc.html#155180604">Patrick Massot (Jan 15 2019 at 15:58)</a>:</h4>
<p><a href="https://github.com/leanprover/mathlib/pull/597" target="_blank" title="https://github.com/leanprover/mathlib/pull/597">https://github.com/leanprover/mathlib/pull/597</a></p>

<a name="155180612"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23583%20move%20everything%20into%20%60src%60/near/155180612" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/63394583moveeverythingintosrc.html#155180612">Patrick Massot (Jan 15 2019 at 15:59)</a>:</h4>
<p>sorry about the inconvenience</p>

<a name="155273357"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23583%20move%20everything%20into%20%60src%60/near/155273357" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/63394583moveeverythingintosrc.html#155273357">Johan Commelin (Jan 16 2019 at 17:55)</a>:</h4>
<p>I'm a git noob. I just did <code>git pull upstream master</code> to get the latest version from <a href="https://github.com/leanprover/mathlib" target="_blank" title="https://github.com/leanprover/mathlib">https://github.com/leanprover/mathlib</a><br>
So now I have a directory <code>src/</code> with all of mathlib in it. But all the old directories are also still there. So everything is duplicated. Is it easy to fix this? (Otherwise I'll just reclone.)</p>

<a name="155273485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23583%20move%20everything%20into%20%60src%60/near/155273485" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/63394583moveeverythingintosrc.html#155273485">Johannes HÃ¶lzl (Jan 16 2019 at 17:57)</a>:</h4>
<p>the old directories are not deleted, usually there are still the <code>olean</code> files in them. One option is to clean your repository using <code>git clean -xfd</code>, but be careful to not have any uncommited stuff in your repo</p>

<a name="155273603"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23583%20move%20everything%20into%20%60src%60/near/155273603" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/63394583moveeverythingintosrc.html#155273603">Johan Commelin (Jan 16 2019 at 17:59)</a>:</h4>
<p>Ok, now the old directories are empty, but they are still there...</p>

<a name="155274121"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23583%20move%20everything%20into%20%60src%60/near/155274121" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/63394583moveeverythingintosrc.html#155274121">Johannes HÃ¶lzl (Jan 16 2019 at 18:07)</a>:</h4>
<p>hm the <code>-d</code> should have removed them</p>

<a name="155275903"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23583%20move%20everything%20into%20%60src%60/near/155275903" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/63394583moveeverythingintosrc.html#155275903">Johan Commelin (Jan 16 2019 at 18:29)</a>:</h4>
<p>Aah, <code>git clean -fd</code> worked</p>


{% endraw %}

{% include archive_update.html %}