---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/144837PRreviews/800882382iseqoriff.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/144837PRreviews/index.html">PR reviews</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/144837PRreviews/800882382iseqoriff.html">#2382 is_eq_or_iff</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="193579722"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%232382%20is_eq_or_iff/near/193579722" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/800882382iseqoriff.html#193579722">Johan Commelin (Apr 10 2020 at 15:14)</a>:</h4>
<p><span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> Would you mind explaining to me what you have in mind with the inlining? I'm trying to move easy bits of <code>rewrite_search</code> to mathlib, and this might be a good opportunity for me to get more familiar with metaprogramming.</p>

<a name="193580020"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%232382%20is_eq_or_iff/near/193580020" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/800882382iseqoriff.html#193580020">Gabriel Ebner (Apr 10 2020 at 15:16)</a>:</h4>
<p>If I grep through my local copy of <code>rewrite-search</code>, then <code>is_eq_or_iff_after_binders</code> is used exactly once in the <code>is_acceptable_rewrite</code> function.  I am proposing to move the contents of the <code>is_eq_or_iff_after_binders</code> and write them directly in <code>is_acceptable_rewrite_function</code>.</p>

<a name="193580114"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%232382%20is_eq_or_iff/near/193580114" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/800882382iseqoriff.html#193580114">Rob Lewis (Apr 10 2020 at 15:17)</a>:</h4>
<p>I'm really having some kind of deja vu with this function. I swear I've commented on it before. But I can't figure out where, or if it made it into mathlib or not.</p>

<a name="193580521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%232382%20is_eq_or_iff/near/193580521" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/800882382iseqoriff.html#193580521">Johan Commelin (Apr 10 2020 at 15:20)</a>:</h4>
<p><span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> ok, I'll do that.<br>
<span class="user-mention" data-user-id="110596">@Rob Lewis</span> Maybe in a PR by Keeley?</p>

<a name="193580574"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%232382%20is_eq_or_iff/near/193580574" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/800882382iseqoriff.html#193580574">Rob Lewis (Apr 10 2020 at 15:21)</a>:</h4>
<p>Aha! It's here, in the unmerged <code>rw_hint</code> pr. <a href="https://github.com/leanprover-community/mathlib/pull/2030#discussion_r382996005" title="https://github.com/leanprover-community/mathlib/pull/2030#discussion_r382996005">https://github.com/leanprover-community/mathlib/pull/2030#discussion_r382996005</a></p>

<a name="193580628"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%232382%20is_eq_or_iff/near/193580628" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/800882382iseqoriff.html#193580628">Rob Lewis (Apr 10 2020 at 15:21)</a>:</h4>
<p>Glad to know I'm not going crazy.</p>

<a name="193580823"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%232382%20is_eq_or_iff/near/193580823" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/800882382iseqoriff.html#193580823">Johan Commelin (Apr 10 2020 at 15:23)</a>:</h4>
<p><span class="user-mention" data-user-id="110596">@Rob Lewis</span> does that influence whether or not we want the inlining?</p>

<a name="193581000"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%232382%20is_eq_or_iff/near/193581000" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/800882382iseqoriff.html#193581000">Rob Lewis (Apr 10 2020 at 15:24)</a>:</h4>
<p>I think both Gabriel and I are reacting to this function doing a very specific thing. It feels funny for it to be factored out, and especially to be implemented in a low level way.</p>

<a name="193581052"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%232382%20is_eq_or_iff/near/193581052" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/800882382iseqoriff.html#193581052">Johan Commelin (Apr 10 2020 at 15:25)</a>:</h4>
<p>Ok... I'll inline it.</p>

<a name="193581349"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%232382%20is_eq_or_iff/near/193581349" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/800882382iseqoriff.html#193581349">Patrick Massot (Apr 10 2020 at 15:27)</a>:</h4>
<p>If it appears in two PRs, doesn't it mean it should be factored out?</p>

<a name="193581376"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%232382%20is_eq_or_iff/near/193581376" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/800882382iseqoriff.html#193581376">Patrick Massot (Apr 10 2020 at 15:27)</a>:</h4>
<p>Or is it secretly the same appearance?</p>

<a name="193581544"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%232382%20is_eq_or_iff/near/193581544" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/800882382iseqoriff.html#193581544">Johan Commelin (Apr 10 2020 at 15:29)</a>:</h4>
<p>Since it's <code>rw_hint</code> and <code>rewrite_search</code>... I think it's secretly the same.</p>

<a name="193630002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%232382%20is_eq_or_iff/near/193630002" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/800882382iseqoriff.html#193630002">Scott Morrison (Apr 10 2020 at 23:34)</a>:</h4>
<p><code>rw_hint</code> was my attempt to overcome my inertia in doing what Johan is now doing by writing a lame mini version of <code>rewrite_search</code>.</p>


{% endraw %}

{% include archive_update.html %}