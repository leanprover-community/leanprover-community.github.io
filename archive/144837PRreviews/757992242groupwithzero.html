---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/144837PRreviews/757992242groupwithzero.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/144837PRreviews/index.html">PR reviews</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/144837PRreviews/757992242groupwithzero.html">#2242 group with zero</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="191951049"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%232242%20group%20with%20zero/near/191951049" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/757992242groupwithzero.html#191951049">Johan Commelin (Mar 26 2020 at 21:23)</a>:</h4>
<p>I invite others to review this PR. It's a bit of an ugly refactor. I guess that's what happens when you try to inject a new class halfway the algebraic hierarchy when half of it is semi-locked in core.</p>

<a name="192037169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%232242%20group%20with%20zero/near/192037169" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/757992242groupwithzero.html#192037169">Johan Commelin (Mar 27 2020 at 15:49)</a>:</h4>
<p>Thanks for all the reviews so far!</p>

<a name="192037452"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%232242%20group%20with%20zero/near/192037452" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/757992242groupwithzero.html#192037452">Johan Commelin (Mar 27 2020 at 15:51)</a>:</h4>
<p>It seems that we should decide what to do with the <code>gwz</code> namespace. There are three proposals:</p>
<ol>
<li>Stick with <code>gwz</code>.</li>
<li>Change to <code>group_with_zero</code>.</li>
<li>Put all the lemmas in <code>_root_</code>, and append a <code>'</code> if there is a naming conflict.</li>
</ol>
<p>Please vote using the <span aria-label="one" class="emoji emoji-0031-20e3" role="img" title="one">:one:</span> <span aria-label="two" class="emoji emoji-0032-20e3" role="img" title="two">:two:</span> <span aria-label="three" class="emoji emoji-0033-20e3" role="img" title="three">:three:</span> emojis. You are allowed to vote more than once.</p>

<a name="192040800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%232242%20group%20with%20zero/near/192040800" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/757992242groupwithzero.html#192040800">Kevin Buzzard (Mar 27 2020 at 16:10)</a>:</h4>
<p>What is the current set-up when we have lemmas about fields v groups, e.g. <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mi mathvariant="normal">/</mi><mi>b</mi><mo>=</mo><mi>a</mi><mo>∗</mo><msup><mi>b</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">a/b=a*b^{-1}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mord">/</span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.46528em;vertical-align:0em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span> is true for all groups, but for fields you need the hypothesis that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi><mo mathvariant="normal">≠</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">b\ne 0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mrel"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>.</p>

<a name="192040916"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%232242%20group%20with%20zero/near/192040916" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/757992242groupwithzero.html#192040916">Kevin Buzzard (Mar 27 2020 at 16:11)</a>:</h4>
<p>(deleted)</p>

<a name="192041407"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%232242%20group%20with%20zero/near/192041407" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/757992242groupwithzero.html#192041407">Johan Commelin (Mar 27 2020 at 16:14)</a>:</h4>
<p>I think we had lemmas with names such as <code>inv_zero'''</code></p>

<a name="192041501"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%232242%20group%20with%20zero/near/192041501" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/757992242groupwithzero.html#192041501">Kevin Buzzard (Mar 27 2020 at 16:15)</a>:</h4>
<p>Having read the discussion on the link above, I just changed my vote. (note that the blue arrow in the thread title is a link to the PR on github)</p>

<a name="192041788"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%232242%20group%20with%20zero/near/192041788" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/757992242groupwithzero.html#192041788">Kevin Buzzard (Mar 27 2020 at 16:17)</a>:</h4>
<p>I know what I <em>really</em> want though -- I want a gazillion namespaces. I already have to remember that it's not <code>group_hom.map_mul</code> but <code>monoid_hom.map_mul</code>. I think there should be a <code>group_hom</code> namespace and <code>group_hom.map_mul</code> should just point to <code>monoid_hom.map_mul</code>. I think there should be <code>group_with_zero</code> and <code>monoid_with_zero</code> and the fix for "I don't know which namespace it's in" is "it's OK, it's in all the namespaces"</p>

<a name="192041844"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%232242%20group%20with%20zero/near/192041844" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/757992242groupwithzero.html#192041844">Kevin Buzzard (Mar 27 2020 at 16:17)</a>:</h4>
<p>CS people object to this for some reason, but for me it just feels like a thorough API.</p>

<a name="192060084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%232242%20group%20with%20zero/near/192060084" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/757992242groupwithzero.html#192060084">Mario Carneiro (Mar 27 2020 at 18:25)</a>:</h4>
<p>That seems like it will clutter up the autocomplete list though. There will be ten versions of a lemma and they differ in their typeclass arguments but are not otherwise visibly different, and you didn't even want that lemma, you wanted the one three lemmas down that was pushed off the end</p>

<a name="192060155"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%232242%20group%20with%20zero/near/192060155" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/757992242groupwithzero.html#192060155">Mario Carneiro (Mar 27 2020 at 18:25)</a>:</h4>
<p>I try to avoid giving the user meaningless choices</p>

<a name="192061341"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%232242%20group%20with%20zero/near/192061341" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/757992242groupwithzero.html#192061341">Kevin Buzzard (Mar 27 2020 at 18:35)</a>:</h4>
<p>yeah but I know the namespace I want so I can just restrict to that</p>

<a name="192263261"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%232242%20group%20with%20zero/near/192263261" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/757992242groupwithzero.html#192263261">Johan Commelin (Mar 30 2020 at 14:29)</a>:</h4>
<p>I've pushed a commit that removes the <code>gwz</code> namespace. Let's hope that CI is happy with what I did.</p>

<a name="192359243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%232242%20group%20with%20zero/near/192359243" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/757992242groupwithzero.html#192359243">Johan Commelin (Mar 31 2020 at 08:37)</a>:</h4>
<p>CI seems to be happy. And I think I've dealt with all the feedback so far.</p>


{% endraw %}

{% include archive_update.html %}