---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/144837PRreviews/95337376fold.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/144837PRreviews/index.html">PR reviews</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/144837PRreviews/95337376fold.html">#376 fold</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="135361568"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135361568" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/95337376fold.html#135361568">Simon Hudon (Oct 07 2018 at 18:34)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> have you looked at the changes I've made to category theory? I'm splitting the functions and their laws into <code>has_hom</code> and <code>category</code>. Does this seem like a hard pill to swallow?</p>

<a name="135371027"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135371027" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/95337376fold.html#135371027">Reid Barton (Oct 08 2018 at 00:01)</a>:</h4>
<p>I would have guessed a different split based on the names</p>

<a name="135371292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135371292" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/95337376fold.html#135371292">Simon Hudon (Oct 08 2018 at 00:09)</a>:</h4>
<p>You mean both the identity and composition staying with <code>category</code>?</p>

<a name="135371420"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135371420" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/95337376fold.html#135371420">Reid Barton (Oct 08 2018 at 00:12)</a>:</h4>
<p>Yeah. I don't think we really have a math name for a "non-lawful" category, though.</p>

<a name="135371620"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135371620" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/95337376fold.html#135371620">Scott Morrison (Oct 08 2018 at 00:19)</a>:</h4>
<p>What if we went with: <code>has_hom</code>, <code>has_hom_id</code>, <code>semicategory</code> (this is for <code>has_hom</code> + associativity), and <code>category</code>?</p>

<a name="135372533"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135372533" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/95337376fold.html#135372533">Simon Hudon (Oct 08 2018 at 00:49)</a>:</h4>
<p>What's the difference between a semicategory and a semigroupoid?</p>

<a name="135372686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135372686" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/95337376fold.html#135372686">Mario Carneiro (Oct 08 2018 at 00:55)</a>:</h4>
<p>nothing, afaict</p>

<a name="135372746"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135372746" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/95337376fold.html#135372746">Simon Hudon (Oct 08 2018 at 00:56)</a>:</h4>
<p>Cool, that's good to know. <span class="user-mention" data-user-id="110087">@Scott Morrison</span> that sounds like a useful division. Would it be useful to make a class for composition as well?</p>

<a name="135372918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135372918" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/95337376fold.html#135372918">Mario Carneiro (Oct 08 2018 at 01:02)</a>:</h4>
<p>I think these subdivisions should be created need-based rather than just because we can. Is there a use for all these?</p>

<a name="135373014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135373014" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/95337376fold.html#135373014">Simon Hudon (Oct 08 2018 at 01:05)</a>:</h4>
<p>The need for <code>has_hom</code> is so that <code>End</code> can have an identity and a composition when the <code>hom</code> doesn't have laws yet. That's useful so that <code>const (End _)</code> will be an applicative without laws when we don't know that we have a monoid without laws (<code>has_one</code> and <code>has_mul</code>)</p>

<a name="135373073"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135373073" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/95337376fold.html#135373073">Simon Hudon (Oct 08 2018 at 01:07)</a>:</h4>
<p>In this case for a monad (without laws) <code>m</code>, <code>a -&gt; m a</code> can be considered an endomorphism and therefore a monoid without laws.</p>

<a name="135373081"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135373081" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/95337376fold.html#135373081">Simon Hudon (Oct 08 2018 at 01:07)</a>:</h4>
<p>Otherwise, we need <code>m</code> to be a lawful monad for <code>const (End ...)</code> to even have the operation of an applicative</p>

<a name="135378268"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135378268" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/95337376fold.html#135378268">Scott Morrison (Oct 08 2018 at 03:56)</a>:</h4>
<p>I guess the thing I'm not understanding is the need for all these "lawless" things. Why bother talking about them?</p>

<a name="135378296"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135378296" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/95337376fold.html#135378296">Mario Carneiro (Oct 08 2018 at 03:58)</a>:</h4>
<p>In a programming context you might want access to the operations without the proof obligations</p>

<a name="135378325"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135378325" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/95337376fold.html#135378325">Mario Carneiro (Oct 08 2018 at 03:58)</a>:</h4>
<p>That's why <code>monad</code> and <code>lawful_monad</code> are separate</p>

<a name="135378332"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135378332" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/95337376fold.html#135378332">Mario Carneiro (Oct 08 2018 at 03:58)</a>:</h4>
<p>Plus I know a few examples of things that are "almost" monads but are not lawful</p>

<a name="135378548"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135378548" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/95337376fold.html#135378548">Scott Morrison (Oct 08 2018 at 04:05)</a>:</h4>
<p>Hmm.. We should just use a meta version of sorry for the proof obligations in those cases!</p>

<a name="135378551"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135378551" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/95337376fold.html#135378551">Scott Morrison (Oct 08 2018 at 04:05)</a>:</h4>
<p>In any case, I appreciate that lawless monads are in wide use.</p>

<a name="135378597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135378597" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/95337376fold.html#135378597">Scott Morrison (Oct 08 2018 at 04:06)</a>:</h4>
<p>So how about today we just create <code>has_hom</code>, and leave everything else on as as-needed basis.</p>

<a name="135378849"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135378849" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/95337376fold.html#135378849">Mario Carneiro (Oct 08 2018 at 04:14)</a>:</h4>
<p>It's true we could stub out the proofs, but I would really rather not make a habit of it. Better to promise nothing than to lie about a proof; you can exploit false proofs in the VM to obtain weird crashes and possibly memory unsafety in the future</p>

<a name="135378865"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135378865" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/95337376fold.html#135378865">Mario Carneiro (Oct 08 2018 at 04:15)</a>:</h4>
<p>(I think stubbing out proofs of <em>true</em> things that you don't want to bother proving in a programming context is fine, though)</p>

<a name="135384159"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135384159" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/95337376fold.html#135384159">Scott Morrison (Oct 08 2018 at 07:07)</a>:</h4>
<p><span class="user-mention" data-user-id="110026">@Simon Hudon</span>, I'm happy with the split of <code>category</code> into <code>has_hom</code> and <code>category</code>.</p>

<a name="135384436"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135384436" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/95337376fold.html#135384436">Kenny Lau (Oct 08 2018 at 07:13)</a>:</h4>
<p>Is this <a href="https://github.com/leanprover/mathlib/issues/376" target="_blank" title="https://github.com/leanprover/mathlib/issues/376">#376</a>?</p>

<a name="135384486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135384486" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/95337376fold.html#135384486">Scott Morrison (Oct 08 2018 at 07:14)</a>:</h4>
<p>Yes.</p>

<a name="135407315"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135407315" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/95337376fold.html#135407315">Simon Hudon (Oct 08 2018 at 14:32)</a>:</h4>
<p>Nice indexing job <span class="user-mention" data-user-id="110064">@Kenny Lau</span></p>

<a name="135407439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135407439" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/95337376fold.html#135407439">Simon Hudon (Oct 08 2018 at 14:34)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="110087">@Scott Morrison</span> I'll keep it that way then. I'm a bit annoyed at the occurrences of <code>has_hom.hom</code> sprinkled here and there. How do you feel about just writing <code>hom</code> and making any other <code>hom</code> definition protected?</p>

<a name="135428255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135428255" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/95337376fold.html#135428255">Scott Morrison (Oct 08 2018 at 21:12)</a>:</h4>
<p>Hmm, not sure. Can you point to an annoying instance? The problem is that I wasn't expecting the user ever to write <code>hom</code>, because there's notation for it, so it seems awkward to claim the name.</p>

<a name="135565389"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135565389" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/95337376fold.html#135565389">Simon Hudon (Oct 10 2018 at 20:12)</a>:</h4>
<p>Should the <code>example</code> directory of <code>category_theory</code> be renamed to <code>instances</code>?</p>

<a name="135565479"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135565479" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/95337376fold.html#135565479">Mario Carneiro (Oct 10 2018 at 20:14)</a>:</h4>
<p>I agree; <code>example</code> makes it sound like ancillary stuff or the lean <code>example</code> keyword</p>

<a name="135565868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135565868" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/95337376fold.html#135565868">Simon Hudon (Oct 10 2018 at 20:20)</a>:</h4>
<p>Cool, I'll do that in the fold PR, how about that?</p>

<a name="152618394"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/152618394" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/95337376fold.html#152618394">Simon Hudon (Dec 27 2018 at 20:03)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> I think this is ready to be merged. The travis build fails but I believe that if you clear the cache, it will be ok. I renamed the <code>example</code> directory to <code>instances</code> and old files are lingering around.</p>


{% endraw %}

{% include archive_update.html %}