---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/144837PRreviews/22459610.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/144837PRreviews/index.html">PR reviews</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/144837PRreviews/22459610.html">#610</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="156396061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23610/near/156396061" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/22459610.html#156396061">Patrick Massot (Jan 18 2019 at 20:10)</a>:</h4>
<p><span class="user-mention" data-user-id="110026">@Simon Hudon</span> you know about coinductive and tests. Could you have a look at our porblem with <a href="https://github.com/leanprover/mathlib/pull/610" target="_blank" title="https://github.com/leanprover/mathlib/pull/610">https://github.com/leanprover/mathlib/pull/610</a>?</p>

<a name="156396171"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23610/near/156396171" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/22459610.html#156396171">Simon Hudon (Jan 18 2019 at 20:12)</a>:</h4>
<p>I don't think it's about coinductive predicates. I've been hitting this issue with my fold PR. I think there's something fishy about how we moved everything into <code>src</code> and Travis' cache seems all messed up</p>

<a name="156396326"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23610/near/156396326" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/22459610.html#156396326">Patrick Massot (Jan 18 2019 at 20:15)</a>:</h4>
<p>Sorry, I only read Bryan's comment without looking at the Travis output. Indeed it looks this is again Travis cache. I don't understand why this is still an issue after several commits with the new <code>src</code></p>

<a name="156396536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23610/near/156396536" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/22459610.html#156396536">Simon Hudon (Jan 18 2019 at 20:18)</a>:</h4>
<p>Me neither. I've tried several approaches for being thorough at clearing all the olean files. To no avail</p>

<a name="156396812"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23610/near/156396812" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/22459610.html#156396812">Bryan Gin-ge Chen (Jan 18 2019 at 20:22)</a>:</h4>
<p>There might also be a cache issue, but the issue I was highlighting is that the test file which I copied from base Lean spits out a bunch of output from <code>#check</code> and <code>#print</code> statements and I think mathlib tests currently don't use that style. One solution would just be to comment all those lines out, but I'm not sure if we want to replace them with other checks.</p>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> thoughts?</p>

<a name="156398120"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23610/near/156398120" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/22459610.html#156398120">Simon Hudon (Jan 18 2019 at 20:43)</a>:</h4>
<p>Are you using those prints as a way of checking what your code does?</p>

<a name="156398526"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23610/near/156398526" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/22459610.html#156398526">Bryan Gin-ge Chen (Jan 18 2019 at 20:49)</a>:</h4>
<p>I didn't write the code, <span class="user-mention" data-user-id="110294">@Johannes HÃ¶lzl</span> did, but I assume that's the case. This PR is just to move stuff that was removed from lean 3.4.2 into mathlib (see <a href="https://github.com/leanprover/lean/commit/e79cb3f2c4987dcfbec8e3e15eb83837cabe1058" target="_blank" title="https://github.com/leanprover/lean/commit/e79cb3f2c4987dcfbec8e3e15eb83837cabe1058">this commit</a> and <a href="https://github.com/leanprover/lean/pull/1989" target="_blank" title="https://github.com/leanprover/lean/pull/1989">this PR</a>).</p>

<a name="156434642"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23610/near/156434642" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/22459610.html#156434642">Patrick Massot (Jan 19 2019 at 12:01)</a>:</h4>
<p>I confirm again that removing all olean and compiling this branch works here. Why isn't this merged?</p>

<a name="156434685"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23610/near/156434685" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/22459610.html#156434685">Patrick Massot (Jan 19 2019 at 12:02)</a>:</h4>
<p>I think it's a very bad omen for the Lean 4 transition that mathlib maintainers are not able to seamlessly move from Lean 3.4.1 to Lean 3.4.2</p>

<a name="156434911"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23610/near/156434911" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/22459610.html#156434911">Kevin Buzzard (Jan 19 2019 at 12:10)</a>:</h4>
<p>A lot of things are happening at once at the minute, which is of course great, but I'm sure adds to the confusion</p>

<a name="156455620"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23610/near/156455620" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/22459610.html#156455620">Mario Carneiro (Jan 19 2019 at 23:04)</a>:</h4>
<p>Last I checked there is still an outstanding issue with this PR, the <code>#check</code> statements</p>

<a name="156455636"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23610/near/156455636" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/22459610.html#156455636">Mario Carneiro (Jan 19 2019 at 23:05)</a>:</h4>
<p>lean repo uses a different test mechanism, where the lean file is compiled and the output is checked against an expected output. We just have no output tests that fail if something is wrong</p>

<a name="156456183"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23610/near/156456183" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/22459610.html#156456183">Bryan Gin-ge Chen (Jan 19 2019 at 23:23)</a>:</h4>
<p>Right. Would it be enough to replace the <code>#check (term : type)</code> lines with <code>example (term : type) : true := trivial</code> ?</p>
<p>Then we would just need to figure out what to do with the <code>#print</code> statements.</p>

<a name="156456237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23610/near/156456237" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/22459610.html#156456237">Mario Carneiro (Jan 19 2019 at 23:25)</a>:</h4>
<p>I just pushed something that does basically that</p>

<a name="156456239"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23610/near/156456239" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/22459610.html#156456239">Mario Carneiro (Jan 19 2019 at 23:25)</a>:</h4>
<p>I used <code>example : type := term</code></p>

<a name="156496297"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23610/near/156496297" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/22459610.html#156496297">Patrick Massot (Jan 20 2019 at 20:24)</a>:</h4>
<blockquote>
<p>Last I checked there is still an outstanding issue with this PR, the <code>#check</code> statements</p>
</blockquote>
<p>If this was an issue, why didn't you say it? People could have tried to fix it.</p>


{% endraw %}

{% include archive_update.html %}