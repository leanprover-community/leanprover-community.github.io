---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/144837PRreviews/43082538opposites.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/144837PRreviews/index.html">PR reviews</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html">#538 opposites</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="152229118"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152229118" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152229118">Kenny Lau (Dec 20 2018 at 02:28)</a>:</h4>
<p>maybe someone can write a tactic!</p>

<a name="152238513"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152238513" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152238513">Kevin Buzzard (Dec 20 2018 at 07:15)</a>:</h4>
<p>Do we have modules over a non-commutative ring? If so you could do left modules over R = right modules over <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>R</mi><mrow><mi>o</mi><mi>p</mi></mrow></msup></mrow><annotation encoding="application/x-tex">R^{op}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base"><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathit mtight">o</span><span class="mord mathit mtight">p</span></span></span></span></span></span></span></span></span></span></span></span>.</p>

<a name="152238562"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152238562" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152238562">Kevin Buzzard (Dec 20 2018 at 07:16)</a>:</h4>
<p>I agree that what you did should all be automated somehow. This is just the sort of thing that as a lecturer I would skip over -- I would let the students automate it.</p>

<a name="152238632"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152238632" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152238632">Kenny Lau (Dec 20 2018 at 07:18)</a>:</h4>
<p>do we have right modules?</p>

<a name="152238648"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152238648" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152238648">Kevin Buzzard (Dec 20 2018 at 07:19)</a>:</h4>
<p>Oh well if we don't that would be great because you can just define them as left modules over the opposite ring :P</p>

<a name="152238695"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152238695" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152238695">Kenny Lau (Dec 20 2018 at 07:20)</a>:</h4>
<p>great!</p>

<a name="152238699"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152238699" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152238699">Mario Carneiro (Dec 20 2018 at 07:20)</a>:</h4>
<p>Note that by kenny's definition <code>R^op = R</code> for any ring</p>

<a name="152238702"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152238702" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152238702">Kenny Lau (Dec 20 2018 at 07:20)</a>:</h4>
<p>what?</p>

<a name="152238706"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152238706" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152238706">Mario Carneiro (Dec 20 2018 at 07:20)</a>:</h4>
<p>you commuted the addition, which is commutative in a ring</p>

<a name="152238709"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152238709" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152238709">Kenny Lau (Dec 20 2018 at 07:20)</a>:</h4>
<p>but multiplication?</p>

<a name="152238724"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152238724" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152238724">Mario Carneiro (Dec 20 2018 at 07:21)</a>:</h4>
<p>did you commute both? that's confusing</p>

<a name="152238725"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152238725" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152238725">Kenny Lau (Dec 20 2018 at 07:21)</a>:</h4>
<p>yes, I commuted both</p>

<a name="152238727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152238727" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152238727">Kenny Lau (Dec 20 2018 at 07:21)</a>:</h4>
<p>since addition doesn't matter anyway</p>

<a name="152238730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152238730" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152238730">Kenny Lau (Dec 20 2018 at 07:21)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> what's an argument against commuting both?</p>

<a name="152238787"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152238787" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152238787">Mario Carneiro (Dec 20 2018 at 07:23)</a>:</h4>
<p>it might still matter for defeq which way you have it</p>

<a name="152238800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152238800" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152238800">Mario Carneiro (Dec 20 2018 at 07:23)</a>:</h4>
<p>like I asked on the PR, what do you want to use this for?</p>

<a name="152238809"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152238809" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152238809">Mario Carneiro (Dec 20 2018 at 07:23)</a>:</h4>
<p>I thought that everything is commutative in Kevin's world</p>

<a name="152238859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152238859" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152238859">Kenny Lau (Dec 20 2018 at 07:24)</a>:</h4>
<p>not really</p>

<a name="152238870"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152238870" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152238870">Kenny Lau (Dec 20 2018 at 07:25)</a>:</h4>
<p>as long as he cares about group representation</p>

<a name="152238955"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152238955" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152238955">Kenny Lau (Dec 20 2018 at 07:27)</a>:</h4>
<p>End(A,A) = A^op</p>

<a name="152239077"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152239077" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152239077">Kenny Lau (Dec 20 2018 at 07:30)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> what do you think?</p>

<a name="152239244"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152239244" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152239244">Johan Commelin (Dec 20 2018 at 07:35)</a>:</h4>
<p>Ehm, we definitely care about non-commutative rings. It's just that we call them that: <em>non-commutative rings</em>, instead of <em>rings</em>.</p>

<a name="152239251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152239251" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152239251">Johan Commelin (Dec 20 2018 at 07:35)</a>:</h4>
<p>Whether commuting the addition is a good idea, I don't know. Mathematically it doesn't matter, and I guess it might make some things a bit easier to prove?</p>

<a name="152239312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152239312" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152239312">Mario Carneiro (Dec 20 2018 at 07:37)</a>:</h4>
<blockquote>
<p>End(A,A) = A^op</p>
</blockquote>
<p>what does that mean exactly? Since A^op ~= A why isn't it just End(A,A) = A?</p>

<a name="152239481"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152239481" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152239481">Johan Commelin (Dec 20 2018 at 07:40)</a>:</h4>
<p><code>End(_,_)</code> looks a bit funny anyway <span class="emoji emoji-1f923" title="rolling on the floor laughing">:rolling_on_the_floor_laughing:</span></p>

<a name="152239555"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152239555" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152239555">Kenny Lau (Dec 20 2018 at 07:42)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> oops I meant End(A), I don't know what's wrong with me</p>

<a name="152239560"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152239560" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152239560">Johan Commelin (Dec 20 2018 at 07:42)</a>:</h4>
<p>Well, maybe you're human? <span class="emoji emoji-1f600" title="grinning">:grinning:</span></p>

<a name="152239562"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152239562" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152239562">Kenny Lau (Dec 20 2018 at 07:42)</a>:</h4>
<p>I don't think A^op and A are isomorphic in general?</p>

<a name="152239569"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152239569" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152239569">Johan Commelin (Dec 20 2018 at 07:43)</a>:</h4>
<p>Definitely not.</p>

<a name="152239573"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152239573" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152239573">Reid Barton (Dec 20 2018 at 07:43)</a>:</h4>
<p>Not that I can visualize a concrete situation where the choice matters, but it feels wrong to me to reverse the order of addition in the opposite ring</p>

<a name="152239576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152239576" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152239576">Kenny Lau (Dec 20 2018 at 07:43)</a>:</h4>
<p>G^op and G are in fact isomorphic</p>

<a name="152239581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152239581" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152239581">Kenny Lau (Dec 20 2018 at 07:43)</a>:</h4>
<p>for a group G</p>

<a name="152239583"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152239583" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152239583">Kenny Lau (Dec 20 2018 at 07:43)</a>:</h4>
<p>I think this still works for division rings</p>

<a name="152239585"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152239585" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152239585">Johan Commelin (Dec 20 2018 at 07:43)</a>:</h4>
<p>Sure, for groups it's fine.</p>

<a name="152239590"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152239590" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152239590">Kenny Lau (Dec 20 2018 at 07:43)</a>:</h4>
<p>so H and H^op are isomorphic</p>

<a name="152239633"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152239633" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152239633">Johan Commelin (Dec 20 2018 at 07:44)</a>:</h4>
<p>That's coincidence.</p>

<a name="152239636"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152239636" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152239636">Johan Commelin (Dec 20 2018 at 07:44)</a>:</h4>
<p>Because H has order 2 in the Brauer group.</p>

<a name="152239640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152239640" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152239640">Johan Commelin (Dec 20 2018 at 07:44)</a>:</h4>
<p>In general division rings arent isom to their opposite.</p>

<a name="152239664"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152239664" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152239664">Kenny Lau (Dec 20 2018 at 07:45)</a>:</h4>
<p>oh right never mind sorry</p>

<a name="152239676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152239676" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152239676">Reid Barton (Dec 20 2018 at 07:45)</a>:</h4>
<p>Also, I wonder if these opposites will run into the same kind of issues we had/have in category theory, where it's too easy to get confused between an object of a category and an object of the opposite category</p>

<a name="152239679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152239679" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152239679">Kenny Lau (Dec 20 2018 at 07:45)</a>:</h4>
<p>that's exactly why I put <code>irreducible</code>!</p>

<a name="152239729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152239729" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152239729">Reid Barton (Dec 20 2018 at 07:46)</a>:</h4>
<p>Oh whoops, my mind was numbed by the endless identical instances and I missed that line</p>

<a name="152239745"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152239745" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152239745">Johan Commelin (Dec 20 2018 at 07:47)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> What do you think of the <code>irreducible</code> thing? It seems like a good idea to me? (But then, I might not know all the consequences...)</p>

<a name="152239793"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152239793" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152239793">Kenny Lau (Dec 20 2018 at 07:48)</a>:</h4>
<blockquote>
<p>I don't like the use of irreducible here. What is the application of this file? additive and multiplicative are useful in contexts where you just assert that a theorem has a type involving addition instead of multiplication, and the kernel figures out the defeq; irreducible will block that kind of move. Also you aren't being specific about whether the addition or multiplication is being commuted here.</p>
</blockquote>
<p>(by Mario)</p>

<a name="152239934"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152239934" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152239934">Mario Carneiro (Dec 20 2018 at 07:52)</a>:</h4>
<p>For example, suppose I want to prove add_comm from mul_comm. The <code>multiplicative</code> trick relies on the fact that <code>add A x y = add A y x</code> is definitionally equal to <code>mul (multiplicative A) x y = mul (multiplicative A) y x</code>. With irreducible in there I have to insert lots of ops and unops and the kernel can't do it on its own</p>

<a name="152240032"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152240032" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152240032">Mario Carneiro (Dec 20 2018 at 07:55)</a>:</h4>
<p>By the way re: isom to opposite, I was thinking of the map x |-&gt; x, and using antihoms where appropriate</p>

<a name="152240043"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152240043" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152240043">Kenny Lau (Dec 20 2018 at 07:55)</a>:</h4>
<p>and I think using that defintional equality is not very safe</p>

<a name="152240049"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152240049" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152240049">Mario Carneiro (Dec 20 2018 at 07:55)</a>:</h4>
<p>it's not, it has to be used in carefully controlled circumstances</p>

<a name="152240100"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152240100" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152240100">Mario Carneiro (Dec 20 2018 at 07:56)</a>:</h4>
<p>its use is more or less restricted to one liner proofs where you reinterpret a multiplicative theorem as additive</p>

<a name="152240111"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152240111" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152240111">Johan Commelin (Dec 20 2018 at 07:57)</a>:</h4>
<p>Right, but here we will want to talk about <code>op R</code>, which is a completely different ring.</p>

<a name="152240116"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152240116" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152240116">Johan Commelin (Dec 20 2018 at 07:57)</a>:</h4>
<p>I think it is fitting to make it irreducible.</p>

<a name="152240121"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152240121" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152240121">Kenny Lau (Dec 20 2018 at 07:57)</a>:</h4>
<blockquote>
<p>its use is more or less restricted to one liner proofs where you reinterpret a multiplicative theorem as additive</p>
</blockquote>
<p>and it's open to abuse / misuse</p>

<a name="152240126"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152240126" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152240126">Mario Carneiro (Dec 20 2018 at 07:57)</a>:</h4>
<p>if you want it to be a different ring, then you should use a structure</p>

<a name="152240192"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152240192" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152240192">Kenny Lau (Dec 20 2018 at 07:59)</a>:</h4>
<p>really?</p>

<a name="152240203"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152240203" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152240203">Kenny Lau (Dec 20 2018 at 07:59)</a>:</h4>
<p>well isn't the effect the same</p>

<a name="152240312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152240312" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152240312">Reid Barton (Dec 20 2018 at 08:01)</a>:</h4>
<p>It's not exactly the same, as <code>op (unop x)</code> will not be defeq to <code>x</code>.<br>
(... <code>newtype</code>?)</p>

<a name="152240326"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152240326" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152240326">Kenny Lau (Dec 20 2018 at 08:01)</a>:</h4>
<p>then I think the current definition is better :P</p>

<a name="152240382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152240382" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152240382">Kenny Lau (Dec 20 2018 at 08:02)</a>:</h4>
<p>and this is consistent with my support of auxiliary types</p>

<a name="152240387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152240387" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152240387">Kenny Lau (Dec 20 2018 at 08:02)</a>:</h4>
<p>I think <code>additive</code> and <code>multiplicative</code> should be irreducible as well</p>

<a name="152240399"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152240399" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152240399">Johan Commelin (Dec 20 2018 at 08:03)</a>:</h4>
<blockquote>
<p>I think <code>additive</code> and <code>multiplicative</code> should be irreducible as well</p>
</blockquote>
<p>I still hope that one day we will have a system where they don't exist.</p>

<a name="152240461"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152240461" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152240461">Mario Carneiro (Dec 20 2018 at 08:04)</a>:</h4>
<p>If you are giving a newtype API for opposite, then I would rather have no defeqs at all</p>

<a name="152240464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152240464" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152240464">Mario Carneiro (Dec 20 2018 at 08:04)</a>:</h4>
<p><code>op (unop x) = x</code> is a theorem</p>

<a name="152240470"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152240470" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152240470">Mario Carneiro (Dec 20 2018 at 08:05)</a>:</h4>
<p>as well as <code>unop (op x) = x</code></p>

<a name="152240482"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152240482" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152240482">Kenny Lau (Dec 20 2018 at 08:05)</a>:</h4>
<p>what is newtype?</p>

<a name="152240492"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152240492" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152240492">Mario Carneiro (Dec 20 2018 at 08:05)</a>:</h4>
<p>it's a structure with one field</p>

<a name="152240493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152240493" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152240493">Kenny Lau (Dec 20 2018 at 08:05)</a>:</h4>
<blockquote>
<p>If you are giving a newtype API for opposite, then I would rather have no defeqs at all</p>
</blockquote>
<p>don't we like defeqs?</p>

<a name="152240500"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152240500" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152240500">Mario Carneiro (Dec 20 2018 at 08:05)</a>:</h4>
<p>recall the real irreducible discussion</p>

<a name="152240534"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152240534" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152240534">Mario Carneiro (Dec 20 2018 at 08:06)</a>:</h4>
<p>defeq breaks abstractions</p>

<a name="152240544"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152240544" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152240544">Reid Barton (Dec 20 2018 at 08:06)</a>:</h4>
<p>I was hoping for "newtype" to be defeq in both directions but still a new type</p>

<a name="152240550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152240550" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152240550">Kenny Lau (Dec 20 2018 at 08:06)</a>:</h4>
<p>it's a new type to the kernel</p>

<a name="152240551"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152240551" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152240551">Mario Carneiro (Dec 20 2018 at 08:06)</a>:</h4>
<p>if lean had structure eta that would be possible</p>

<a name="152240561"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152240561" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152240561">Reid Barton (Dec 20 2018 at 08:06)</a>:</h4>
<p>on the basis that Haskell semantic equality (considering bottom) ~ Lean definitional equality</p>

<a name="152240565"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152240565" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152240565">Kenny Lau (Dec 20 2018 at 08:06)</a>:</h4>
<blockquote>
<p>defeq breaks abstractions</p>
</blockquote>
<p>I don't understand</p>

<a name="152240568"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152240568" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152240568">Kenny Lau (Dec 20 2018 at 08:06)</a>:</h4>
<p>and also why is <code>unop (op x) = x</code> being defeq ok</p>

<a name="152240594"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152240594" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152240594">Reid Barton (Dec 20 2018 at 08:07)</a>:</h4>
<p>(BTW, <em>lots</em> of category theory stuff would be less awful with eta for structures)</p>

<a name="152241162"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152241162" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152241162">Mario Carneiro (Dec 20 2018 at 08:21)</a>:</h4>
<p>it's called a newtype because it's underlying representation is the same</p>

<a name="152241163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152241163" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152241163">Mario Carneiro (Dec 20 2018 at 08:21)</a>:</h4>
<p>it's a "zero cost abstraction"</p>

<a name="152241305"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152241305" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152241305">Mario Carneiro (Dec 20 2018 at 08:24)</a>:</h4>
<blockquote>
<p>on the basis that Haskell semantic equality (considering bottom) ~ Lean definitional equality</p>
</blockquote>
<p>I don't think this is a good comparison; why isn't that ~ lean propositional equality?</p>

<a name="152241327"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152241327" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152241327">Reid Barton (Dec 20 2018 at 08:25)</a>:</h4>
<p>I don't understand why, but it seems to be a useful heuristic in practice.</p>

<a name="152241333"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152241333" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152241333">Reid Barton (Dec 20 2018 at 08:25)</a>:</h4>
<p>For example <code>fst (a, b) = a</code> is okay, but <code>(fst p, snd p) = p</code> is not.</p>

<a name="152241465"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152241465" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152241465">Reid Barton (Dec 20 2018 at 08:29)</a>:</h4>
<p>The stuff about "lazy patterns" should fit in somehow, too. But I don't know how to make real sense out of any of this. For one thing, Haskell has a (partial) definedness ordering between things like <code>(fst p, snd p)</code> and <code>p</code>, but in Lean, the thing that would be more defined in Haskell is instead somehow "better", but I don't know why.</p>

<a name="152241485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152241485" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152241485">Reid Barton (Dec 20 2018 at 08:29)</a>:</h4>
<p>It's not like <code>\lam \&lt;a, b\&gt;, \&lt;a, b\&gt;</code> is "less defined" than <code>\lam p, p</code></p>

<a name="152241532"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152241532" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152241532">Mario Carneiro (Dec 20 2018 at 08:30)</a>:</h4>
<p>hm, you may be on to something here</p>

<a name="152241566"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152241566" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152241566">Reid Barton (Dec 20 2018 at 08:30)</a>:</h4>
<p>I hope you can figure out what it is, because I find it puzzling!</p>

<a name="152241577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152241577" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152241577">Mario Carneiro (Dec 20 2018 at 08:31)</a>:</h4>
<p>It reminds me of the problem of understanding metamath semantics</p>

<a name="152241588"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152241588" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152241588">Mario Carneiro (Dec 20 2018 at 08:31)</a>:</h4>
<p>Maybe another way to think of it is that every type is populated, in additional to the usual things, with "raw variables"</p>

<a name="152241593"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152241593" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152241593">Mario Carneiro (Dec 20 2018 at 08:31)</a>:</h4>
<p>which are just terms that don't denote anything, like atoms</p>

<a name="152241633"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152241633" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152241633">Mario Carneiro (Dec 20 2018 at 08:32)</a>:</h4>
<p>and those two lambdas behave differently on raw variables</p>

<a name="152241638"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152241638" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152241638">Reid Barton (Dec 20 2018 at 08:32)</a>:</h4>
<p>Yes, this sounds promising</p>

<a name="152241655"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152241655" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152241655">Reid Barton (Dec 20 2018 at 08:33)</a>:</h4>
<p>that gives an ordering too perhaps, by specializing variables to values (which might contain new variables inside)</p>

<a name="152241661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152241661" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152241661">Mario Carneiro (Dec 20 2018 at 08:33)</a>:</h4>
<p>exactly</p>

<a name="152241663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152241663" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152241663">Mario Carneiro (Dec 20 2018 at 08:33)</a>:</h4>
<p>that's how metamath semantics works</p>

<a name="152241667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/152241667" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#152241667">Mario Carneiro (Dec 20 2018 at 08:33)</a>:</h4>
<p>it's all about the metavariables</p>

<a name="154559706"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/154559706" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#154559706">Kenny Lau (Jan 07 2019 at 10:44)</a>:</h4>
<p>so what should we do? <span class="user-mention" data-user-id="112680">@Johan Commelin</span> <span class="user-mention" data-user-id="110049">@Mario Carneiro</span></p>

<a name="154631186"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/154631186" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#154631186">Kenny Lau (Jan 08 2019 at 08:41)</a>:</h4>
<p>I guess I have made opposite inductive</p>

<a name="154975129"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/154975129" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#154975129">Kenny Lau (Jan 12 2019 at 08:31)</a>:</h4>
<p>Should we make <code>order_dual</code> in <code>order/basic.lean</code> also a structure / inductive?</p>

<a name="154975174"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/154975174" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#154975174">Kenny Lau (Jan 12 2019 at 08:32)</a>:</h4>
<p>or maybe we should merge these two</p>

<a name="156643371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156643371" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156643371">Kenny Lau (Jan 22 2019 at 21:54)</a>:</h4>
<p><span class="user-mention" data-user-id="110294">@Johannes Hlzl</span> what do you think about merging those two?</p>

<a name="156643518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156643518" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156643518">Reid Barton (Jan 22 2019 at 21:56)</a>:</h4>
<p>Which two?</p>

<a name="156643551"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156643551" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156643551">Johannes Hlzl (Jan 22 2019 at 21:56)</a>:</h4>
<p>I guess Kenny meant "merge this too"</p>

<a name="156643596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156643596" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156643596">Johannes Hlzl (Jan 22 2019 at 21:57)</a>:</h4>
<p>I would prefer <code>opposite</code> to be like <code>order_dual</code>, just a definition</p>

<a name="156643616"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156643616" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156643616">Patrick Massot (Jan 22 2019 at 21:57)</a>:</h4>
<p>I think he continues from the previous message in this thread</p>

<a name="156643678"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156643678" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156643678">Patrick Massot (Jan 22 2019 at 21:58)</a>:</h4>
<p>From January 12th</p>

<a name="156643731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156643731" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156643731">Reid Barton (Jan 22 2019 at 21:59)</a>:</h4>
<p>Ah</p>

<a name="156643736"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156643736" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156643736">Johannes Hlzl (Jan 22 2019 at 21:59)</a>:</h4>
<p>ah</p>

<a name="156643776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156643776" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156643776">Kenny Lau (Jan 22 2019 at 21:59)</a>:</h4>
<p>oh, sorry, I meant merging opposite and order_dual</p>

<a name="156643870"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156643870" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156643870">Johannes Hlzl (Jan 22 2019 at 22:00)</a>:</h4>
<p>Hm, or we need <code>multiplicative_opp</code> and <code>additive_opp</code>...</p>

<a name="156643898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156643898" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156643898">Reid Barton (Jan 22 2019 at 22:00)</a>:</h4>
<p>I suppose you could have an ordered group and want to reverse the multiplication but not the order, or vice versa</p>

<a name="156643913"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156643913" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156643913">Johannes Hlzl (Jan 22 2019 at 22:01)</a>:</h4>
<p>Yep</p>

<a name="156643940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156643940" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156643940">Kenny Lau (Jan 22 2019 at 22:01)</a>:</h4>
<p>then what should I do?</p>

<a name="156644221"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156644221" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156644221">Kenny Lau (Jan 22 2019 at 22:05)</a>:</h4>
<p><span class="user-mention" data-user-id="110294">@Johannes Hlzl</span> I don't see why we need multiplicative_opp and additive_opp; the only structure with both addition and multiplication are children of <code>semiring</code> in which addition is commutative anyway, right?</p>

<a name="156644378"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156644378" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156644378">Johannes Hlzl (Jan 22 2019 at 22:07)</a>:</h4>
<p>I don't know. I don't do a lot of non-commutative algebra.</p>

<a name="156644453"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156644453" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156644453">Johannes Hlzl (Jan 22 2019 at 22:08)</a>:</h4>
<p>I wouldn't merge it, for the problem Reid mentioned. I think we should restrict <code>opposite</code> to <code>*</code> currently, and see what the actual applications are.</p>

<a name="156644457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156644457" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156644457">Kenny Lau (Jan 22 2019 at 22:08)</a>:</h4>
<p>there's a heavy lack of consensus on this thread... everyone seems to want different things</p>

<a name="156644497"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156644497" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156644497">Reid Barton (Jan 22 2019 at 22:09)</a>:</h4>
<p>I also have the sense which I can't explain clearly that <code>opposite</code> should be just for multiplication and not addition.</p>

<a name="156644622"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156644622" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156644622">Mario Carneiro (Jan 22 2019 at 22:11)</a>:</h4>
<p>I agree that <code>opposite</code> should not flip both. If necessary we can have <code>add_opposite</code></p>

<a name="156644718"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156644718" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156644718">Kenny Lau (Jan 22 2019 at 22:12)</a>:</h4>
<p>ok, but what about merging opposite and order_dual?</p>

<a name="156644744"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156644744" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156644744">Kenny Lau (Jan 22 2019 at 22:13)</a>:</h4>
<p>and what about irreducible def vs. just def vs. newtype?</p>

<a name="156644854"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156644854" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156644854">Reid Barton (Jan 22 2019 at 22:14)</a>:</h4>
<p>I've just been trying out different options for opposite categories and my impression there is that an irreducible def is the best option, though you could probably make do with other options for algebra because there isn't as heavy use of dependent types there</p>

<a name="156644857"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156644857" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156644857">Mario Carneiro (Jan 22 2019 at 22:14)</a>:</h4>
<p>these all seem like different things</p>

<a name="156644876"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156644876" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156644876">Mario Carneiro (Jan 22 2019 at 22:15)</a>:</h4>
<p>you may want to invert the order without commuting the multiplication, or the addition</p>

<a name="156644888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156644888" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156644888">Mario Carneiro (Jan 22 2019 at 22:15)</a>:</h4>
<p>they are independent axes</p>

<a name="156644900"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156644900" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156644900">Mario Carneiro (Jan 22 2019 at 22:15)</a>:</h4>
<p>so they should be different constructions</p>

<a name="156644989"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156644989" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156644989">Mario Carneiro (Jan 22 2019 at 22:16)</a>:</h4>
<p>I'm sure there will be various diamond issues like how <code>opposite (order_dual A) != order_dual (opposite A)</code>... I don't have a unified suggestion here</p>

<a name="156645129"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156645129" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156645129">Mario Carneiro (Jan 22 2019 at 22:18)</a>:</h4>
<p>remind me why newtypes are bad <span class="user-mention" data-user-id="110032">@Reid Barton</span> . refl is overrated</p>

<a name="156645153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156645153" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156645153">Mario Carneiro (Jan 22 2019 at 22:18)</a>:</h4>
<p>you should be using simp lemmas anyway in category theory</p>

<a name="156645265"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156645265" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156645265">Reid Barton (Jan 22 2019 at 22:20)</a>:</h4>
<p>It's really hard to deal with nondefinitional equalities between objects in category theory though.</p>

<a name="156645445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156645445" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156645445">Reid Barton (Jan 22 2019 at 22:22)</a>:</h4>
<p>If you define the objects of C^op to be an inductive type/structure, then eventually you have to deal with the fact that a general object of C^op is not definitionally of the form <code>op</code> of something</p>

<a name="156645580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156645580" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156645580">Mario Carneiro (Jan 22 2019 at 22:24)</a>:</h4>
<p>isn't that by cases on the objects?</p>

<a name="156645637"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156645637" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156645637">Mario Carneiro (Jan 22 2019 at 22:25)</a>:</h4>
<p>Or you can state your theorem to only apply to objects of the form <code>op X</code></p>

<a name="156645671"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156645671" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156645671">Reid Barton (Jan 22 2019 at 22:25)</a>:</h4>
<p>you can't really though, because you need to provide a natural transformation between two functors C^op -&gt; Type or something</p>

<a name="156645732"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156645732" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156645732">Reid Barton (Jan 22 2019 at 22:26)</a>:</h4>
<p>You could define it using cases on the object but putting that in a definition feels like a bad idea</p>

<a name="156645771"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156645771" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156645771">Reid Barton (Jan 22 2019 at 22:26)</a>:</h4>
<p>I need to run but later I can prepare a version with irreducible and a version with an inductive type to compare</p>

<a name="156645789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156645789" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156645789">Mario Carneiro (Jan 22 2019 at 22:27)</a>:</h4>
<p>In that case you can just use the <code>unop</code> function; the cases happens in the equality proof part</p>

<a name="156645860"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156645860" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156645860">Reid Barton (Jan 22 2019 at 22:28)</a>:</h4>
<p>Well, this hasn't happened yet but potentially you could need to build something by composing a function ... -&gt; X with a function op (unop X) -&gt; ...</p>

<a name="156646207"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156646207" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156646207">Mario Carneiro (Jan 22 2019 at 22:32)</a>:</h4>
<p>I guess the categorical formulation of what's going on is that <code>op : C =&gt; C^op</code> is a contravariant functor, and <code>unop</code> is its essential inverse</p>

<a name="156646226"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156646226" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156646226">Mario Carneiro (Jan 22 2019 at 22:32)</a>:</h4>
<p>so the roundtrip is an iso</p>

<a name="156646280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156646280" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156646280">Kenny Lau (Jan 22 2019 at 22:33)</a>:</h4>
<p>but in category theory (at least the way I learnt it), C^op is the category with the same objects as C but <code>Mor[C^op](X,Y) := Mor[C](Y,X)</code></p>

<a name="156646408"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156646408" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156646408">Mario Carneiro (Jan 22 2019 at 22:35)</a>:</h4>
<p>I mean in category theoretic language, not using material properties of the category</p>

<a name="156646425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156646425" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156646425">Mario Carneiro (Jan 22 2019 at 22:35)</a>:</h4>
<p>"the objects of C^op are the objects of C" does not typecheck in category language</p>

<a name="156646501"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156646501" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156646501">Kenny Lau (Jan 22 2019 at 22:36)</a>:</h4>
<p>I'm not sure how to define C^op using universal properties</p>

<a name="156646575"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156646575" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156646575">Mario Carneiro (Jan 22 2019 at 22:37)</a>:</h4>
<p>Just like any category language definition, it is defined up to a natural (2-)isomorphism</p>

<a name="156646940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156646940" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156646940">Kenny Lau (Jan 22 2019 at 22:41)</a>:</h4>
<p><span class="user-mention" data-user-id="110294">@Johannes Hlzl</span> what do you think? irreducible def or newtype?</p>

<a name="156647057"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156647057" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156647057">Johannes Hlzl (Jan 22 2019 at 22:43)</a>:</h4>
<p>I prefer a (ir)reducible def. Or at least a <code>structure</code> with one field instead of a inductive</p>

<a name="156647129"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156647129" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156647129">Mario Carneiro (Jan 22 2019 at 22:44)</a>:</h4>
<p>I think the "newtype" option is a structure with one field</p>

<a name="156647311"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156647311" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156647311">Kenny Lau (Jan 22 2019 at 22:47)</a>:</h4>
<p>so... irreducible def it is?</p>

<a name="156647491"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156647491" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156647491">Mario Carneiro (Jan 22 2019 at 22:50)</a>:</h4>
<p>I think using a newtype is the "purist" approach, and it is workable if you are consistent about it. the (ir)reducible def approach has lower overhead, but lean will not check as much for you - the onus is on you to not misuse the defeqs</p>

<a name="156647738"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156647738" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156647738">Kenny Lau (Jan 22 2019 at 22:54)</a>:</h4>
<p>well but Reid has more experience on this?</p>

<a name="156647816"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156647816" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156647816">Mario Carneiro (Jan 22 2019 at 22:56)</a>:</h4>
<p>I'm just saying what the tradeoff is</p>

<a name="156648359"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156648359" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156648359">Kenny Lau (Jan 22 2019 at 23:03)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> are you happy with making it an irreducible def and then afterwards see if it brings any problems?</p>

<a name="156648373"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156648373" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156648373">Mario Carneiro (Jan 22 2019 at 23:03)</a>:</h4>
<p>I would prefer to just make it a regular def for now</p>

<a name="156648425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156648425" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156648425">Mario Carneiro (Jan 22 2019 at 23:04)</a>:</h4>
<p>which is I think the current state of the PR</p>

<a name="156648458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156648458" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156648458">Kenny Lau (Jan 22 2019 at 23:05)</a>:</h4>
<p>well it's an inductive type currently</p>

<a name="156648463"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156648463" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156648463">Kenny Lau (Jan 22 2019 at 23:05)</a>:</h4>
<p>the first version was an irreducible def</p>

<a name="156649703"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156649703" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156649703">Scott Morrison (Jan 22 2019 at 23:30)</a>:</h4>
<p>Hmm... in the category theory opposites PR it is currently a (normal reducibility) definition. Perhaps Mario was talking about that one.</p>

<a name="156649757"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156649757" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156649757">Kenny Lau (Jan 22 2019 at 23:31)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> what do you think then?</p>

<a name="156649849"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156649849" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156649849">Scott Morrison (Jan 22 2019 at 23:32)</a>:</h4>
<p>I think the semireducible def seems like a reasonable compromise. I wouldn't go all the way to the inductive type yet, unless we find that we're still finding confusing situations (because Lean is happily accepting things that "aren't quite right").</p>

<a name="156649931"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156649931" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156649931">Scott Morrison (Jan 22 2019 at 23:33)</a>:</h4>
<p>Certainly making the def irreducible (using a newtype would have had the same benefit) revealed lots of places in the category_theory files where things "weren't quite right". So I appreciate the argument for keeping this level of protection permanently, and this is the argument for using a newtype.</p>

<a name="156650004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156650004" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156650004">Kenny Lau (Jan 22 2019 at 23:34)</a>:</h4>
<p>semireducible is the default right?</p>

<a name="156650024"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156650024" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156650024">Scott Morrison (Jan 22 2019 at 23:34)</a>:</h4>
<p>Yes</p>

<a name="156650101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156650101" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156650101">Kenny Lau (Jan 22 2019 at 23:36)</a>:</h4>
<p>done</p>

<a name="156650107"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156650107" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156650107">Kenny Lau (Jan 22 2019 at 23:36)</a>:</h4>
<p><span class="user-mention" data-user-id="110294">@Johannes Hlzl</span> do you see any problem with this PR?</p>

<a name="156650116"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156650116" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156650116">Kenny Lau (Jan 22 2019 at 23:36)</a>:</h4>
<p>Actually I'm not in a hurry; I would rather <a href="https://github.com/leanprover/mathlib/issues/614" target="_blank" title="https://github.com/leanprover/mathlib/issues/614">#614</a> to be merged first</p>

<a name="156694975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156694975" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156694975">Reid Barton (Jan 23 2019 at 14:58)</a>:</h4>
<blockquote>
<p>I'm just saying what the tradeoff is</p>
</blockquote>
<p>Indeed this comes down to a tradeoff between conciseness/implicitness/ambiguity and unambiguity/explicitness/verbosity. The best point on the spectrum is I think not something we can deduce by pure thought but have to learn from experience.</p>

<a name="156695266"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156695266" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156695266">Reid Barton (Jan 23 2019 at 15:02)</a>:</h4>
<p>In category theory, we've had the experience that a plain (semireducible) type can lead to confusion or to difficulty getting Lean to understand what we want to do. Note that the ambiguity can occur in either direction--Lean might not interpret our input as expected but also the types and goals that Lean displays might not mean what we would guess. (For example, it was easy to get into a situation where the goal was <code>X \hom Y</code> but you really needed to supply <code>Y \hom X</code> because the implicit category instance was that of the opposite category.)</p>

<a name="156695306"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156695306" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156695306">Reid Barton (Jan 23 2019 at 15:03)</a>:</h4>
<p>I don't know whether usages of the "implicit" style for opposites in algebra would run into the same kinds of difficulties.</p>

<a name="156695447"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23538%20opposites/near/156695447" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/43082538opposites.html#156695447">Reid Barton (Jan 23 2019 at 15:04)</a>:</h4>
<p>I do like the way <span class="user-mention" data-user-id="110064">@Kenny Lau</span> has set up a mini-API for converting to and from opposites, which should make it easy to try out the different implementation choices (I copied this to try out different designs for opposite categories)</p>


{% endraw %}
