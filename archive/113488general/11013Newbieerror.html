---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/11013Newbieerror.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html">Newbie error</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="126254021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126254021" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126254021">Johan Commelin (May 08 2018 at 08:04)</a>:</h4>
<p>I've got the following code</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">algebra</span><span class="bp">.</span><span class="n">ring</span> <span class="n">data</span><span class="bp">.</span><span class="n">finsupp</span>

<span class="kn">variables</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">ring</span> <span class="n">R</span><span class="o">]</span>

<span class="kn">section</span> <span class="n">free_module</span>
<span class="kn">definition</span> <span class="n">free_module</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">:=</span> <span class="n">finsupp</span> <span class="n">S</span> <span class="n">R</span>
<span class="kn">variables</span> <span class="o">{</span><span class="n">S</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span>

<span class="kn">instance</span> <span class="o">:</span> <span class="n">module</span> <span class="n">R</span> <span class="o">(</span><span class="n">free_module</span> <span class="n">S</span><span class="o">)</span> <span class="o">:=</span> <span class="n">sorry</span>

<span class="kn">end</span> <span class="n">free_module</span>
</pre></div>

<a name="126254025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126254025" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126254025">Johan Commelin (May 08 2018 at 08:05)</a>:</h4>
<p>And this is the error</p>
<div class="codehilite"><pre><span></span>don&#39;t know how to synthesize placeholder
context:
R : Type u_1,
_inst_1 : ring R,
S : Type u_2
⊢ Type ?
</pre></div>

<a name="126254034"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126254034" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126254034">Johan Commelin (May 08 2018 at 08:05)</a>:</h4>
<p>Aah, I should point out that the red squiggles are under <code>free_module</code> in the line with <code>sorry</code></p>

<a name="126254076"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126254076" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126254076">Mario Carneiro (May 08 2018 at 08:06)</a>:</h4>
<p>Shouldn't <code>R</code> be explicit in <code>free_module</code>? It is not inferrable</p>

<a name="126254077"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126254077" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126254077">Johan Commelin (May 08 2018 at 08:06)</a>:</h4>
<p>I think the error means that it can't figure out in which universe <code>free_module S</code> lives</p>

<a name="126254085"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126254085" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126254085">Johan Commelin (May 08 2018 at 08:06)</a>:</h4>
<p>Aah, Ok, is that the problem. I thought it was automatically included, since I declared it a variable</p>

<a name="126254090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126254090" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126254090">Johan Commelin (May 08 2018 at 08:06)</a>:</h4>
<p>Or should I then use <code>()</code> instead of <code>{}</code></p>

<a name="126254096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126254096" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126254096">Kenny Lau (May 08 2018 at 08:07)</a>:</h4>
<p>it isn't a parameter</p>

<a name="126254097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126254097" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126254097">Mario Carneiro (May 08 2018 at 08:07)</a>:</h4>
<p>it is included, but the later use might refer to a different <code>R</code></p>

<a name="126254154"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126254154" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126254154">Johan Commelin (May 08 2018 at 08:09)</a>:</h4>
<p>Ok... well, that fixed my problem. Thanks a lot!</p>

<a name="126254155"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126254155" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126254155">Kenny Lau (May 08 2018 at 08:09)</a>:</h4>
<p>no, don't use parameter</p>

<a name="126254158"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126254158" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126254158">Kenny Lau (May 08 2018 at 08:09)</a>:</h4>
<p>you won't be able to use it once you leave the section</p>

<a name="126254203"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126254203" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126254203">Johan Commelin (May 08 2018 at 08:10)</a>:</h4>
<p>Hmm, what do you mean?</p>

<a name="126254205"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126254205" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126254205">Johan Commelin (May 08 2018 at 08:10)</a>:</h4>
<p>I now have</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">algebra</span><span class="bp">.</span><span class="n">ring</span> <span class="n">data</span><span class="bp">.</span><span class="n">finsupp</span>

<span class="kn">variables</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">ring</span> <span class="n">R</span><span class="o">]</span>

<span class="kn">section</span> <span class="n">free_module</span>
<span class="kn">definition</span> <span class="n">free_module</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">:=</span> <span class="n">finsupp</span> <span class="n">S</span> <span class="n">R</span>
<span class="kn">variables</span> <span class="o">{</span><span class="n">S</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span>

<span class="kn">instance</span> <span class="o">:</span> <span class="n">module</span> <span class="n">R</span> <span class="o">(</span><span class="n">free_module</span> <span class="n">R</span> <span class="n">S</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
<span class="n">split</span><span class="o">,</span> <span class="c1">-- tactic fails</span>
<span class="kn">end</span>

<span class="kn">end</span> <span class="n">free_module</span>
</pre></div>

<a name="126254209"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126254209" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126254209">Johan Commelin (May 08 2018 at 08:11)</a>:</h4>
<p>Is that wrong?</p>

<a name="126254214"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126254214" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126254214">Kenny Lau (May 08 2018 at 08:11)</a>:</h4>
<p>never mind</p>

<a name="126254216"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126254216" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126254216">Kenny Lau (May 08 2018 at 08:11)</a>:</h4>
<p>that isn't wrong</p>

<a name="126254219"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126254219" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126254219">Johan Commelin (May 08 2018 at 08:11)</a>:</h4>
<p>Ok, I don't mind learning a better way (-;</p>

<a name="126254265"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126254265" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126254265">Johan Commelin (May 08 2018 at 08:12)</a>:</h4>
<p>So, why is <code>split</code> failing? I expected to get 4 goals, according to the 4 axioms of a module</p>

<a name="126254270"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126254270" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126254270">Kenny Lau (May 08 2018 at 08:12)</a>:</h4>
<p>constructor</p>

<a name="126254273"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126254273" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126254273">Kenny Lau (May 08 2018 at 08:12)</a>:</h4>
<p>but you don't want to use it since it <code>extends</code> something</p>

<a name="126254279"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126254279" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126254279">Kenny Lau (May 08 2018 at 08:12)</a>:</h4>
<p>maybe if you really want to stay in tactic mode, do <code>refine {..}</code></p>

<a name="126254482"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126254482" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126254482">Johan Commelin (May 08 2018 at 08:18)</a>:</h4>
<p>Well, I don't <em>want</em> to stay in tactic mode. It is just that I have no clue how to do things in term mode. And tactic mode helps me a bit (-;</p>

<a name="126254761"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126254761" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126254761">Johan Commelin (May 08 2018 at 08:27)</a>:</h4>
<p>So what would be the proper way to prove this <code>instance</code>?</p>

<a name="126254774"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126254774" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126254774">Kenny Lau (May 08 2018 at 08:27)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">instance</span> <span class="o">:</span> <span class="n">module</span> <span class="n">R</span> <span class="o">(</span><span class="n">free_module</span> <span class="n">R</span> <span class="n">S</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">smul</span> <span class="o">:=</span> <span class="bp">_</span><span class="o">,</span>
  <span class="n">smul_add</span> <span class="o">:=</span> <span class="bp">_</span> <span class="o">}</span>
</pre></div>


<p>etc</p>

<a name="126254830"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126254830" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126254830">Johan Commelin (May 08 2018 at 08:29)</a>:</h4>
<p>Ok, thanks! I'll try to do that.</p>

<a name="126255445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126255445" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126255445">Johan Commelin (May 08 2018 at 08:46)</a>:</h4>
<p>Lol, this is already in <code>finsupp</code>: <code>to_module</code></p>

<a name="126255448"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126255448" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126255448">Kenny Lau (May 08 2018 at 08:46)</a>:</h4>
<p>lol</p>

<a name="126256750"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126256750" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126256750">Johan Commelin (May 08 2018 at 09:25)</a>:</h4>
<p>The errors continue:</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">algebra</span><span class="bp">.</span><span class="n">ring</span> <span class="n">data</span><span class="bp">.</span><span class="n">finsupp</span>

<span class="kn">variables</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">decidable_eq</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">ring</span> <span class="n">R</span><span class="o">]</span>

<span class="kn">section</span> <span class="n">free_module</span>
<span class="kn">definition</span> <span class="n">free_module</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">:=</span> <span class="n">finsupp</span> <span class="n">S</span> <span class="n">R</span>
<span class="kn">variables</span> <span class="o">{</span><span class="n">S</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">decidable_eq</span> <span class="n">S</span><span class="o">]</span>

<span class="kn">instance</span> <span class="o">:</span> <span class="n">add_comm_monoid</span> <span class="o">(</span><span class="n">free_module</span> <span class="n">R</span> <span class="n">S</span><span class="o">)</span> <span class="o">:=</span> <span class="n">finsupp</span><span class="bp">.</span><span class="n">add_comm_monoid</span>
<span class="kn">instance</span> <span class="o">:</span> <span class="n">module</span> <span class="n">R</span> <span class="o">(</span><span class="n">free_module</span> <span class="n">R</span> <span class="n">S</span><span class="o">)</span> <span class="o">:=</span> <span class="n">finsupp</span><span class="bp">.</span><span class="n">to_module</span>
<span class="kn">end</span> <span class="n">free_module</span>

<span class="kn">section</span> <span class="n">generators</span>
<span class="kn">variables</span> <span class="o">{</span><span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">module</span> <span class="n">R</span> <span class="n">M</span><span class="o">]</span>

<span class="kn">definition</span> <span class="n">natural_map</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">M</span><span class="o">)</span> <span class="o">:</span> <span class="n">free_module</span> <span class="n">R</span> <span class="n">S</span> <span class="bp">→</span> <span class="n">M</span> <span class="o">:=</span>
<span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">x</span><span class="bp">.</span><span class="n">sum</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">s</span> <span class="n">r</span><span class="o">,</span> <span class="n">r</span> <span class="err">•</span> <span class="n">s</span><span class="o">)</span>

<span class="kn">definition</span> <span class="n">generated_submodule</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">M</span><span class="o">)</span> <span class="o">:=</span> <span class="n">set</span><span class="bp">.</span><span class="n">range</span> <span class="o">(</span><span class="n">natural_map</span> <span class="n">S</span><span class="o">)</span> <span class="c1">-- fails</span>

<span class="kn">definition</span> <span class="n">is_finitely_generated</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">module</span> <span class="n">R</span> <span class="n">M</span><span class="o">]</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="bp">∃</span> <span class="n">S</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">M</span><span class="o">,</span> <span class="n">generated_submodule</span> <span class="o">{</span><span class="n">x</span> <span class="bp">|</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">S</span><span class="o">}</span> <span class="bp">=</span> <span class="n">set</span><span class="bp">.</span><span class="n">univ</span> <span class="n">M</span> <span class="c1">-- fails</span>

<span class="kn">end</span> <span class="n">generators</span>
</pre></div>

<a name="126256792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126256792" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126256792">Johan Commelin (May 08 2018 at 09:26)</a>:</h4>
<p>Errors:</p>
<div class="codehilite"><pre><span></span>generators.lean:19:57: error

failed to synthesize type class instance for
M : Type u_2,
S : set M
⊢ module ?m_1 M
generators.lean:19:57: error

don&#39;t know how to synthesize placeholder
context:
M : Type u_2,
S : set M
⊢ Type ?
</pre></div>

<a name="126256799"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126256799" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126256799">Johan Commelin (May 08 2018 at 09:26)</a>:</h4>
<p>But I am telling it that M is a module over R, so why can't it unify <code>?m_1</code> with <code>R</code>?</p>

<a name="126258817"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126258817" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126258817">Kevin Buzzard (May 08 2018 at 10:36)</a>:</h4>
<p>You started a new section so Lean has forgotten about the variable R</p>

<a name="126258821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126258821" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126258821">Kevin Buzzard (May 08 2018 at 10:37)</a>:</h4>
<p>wait</p>

<a name="126258825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126258825" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126258825">Kevin Buzzard (May 08 2018 at 10:37)</a>:</h4>
<p>that doesn't seem to be true</p>

<a name="126258898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126258898" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126258898">Kevin Buzzard (May 08 2018 at 10:39)</a>:</h4>
<p>It seems to be because you don't ever mention R so the type class inference doesn't kick in</p>

<a name="126258966"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126258966" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126258966">Kevin Buzzard (May 08 2018 at 10:41)</a>:</h4>
<p><code>definition generated_submodule (S : set M) [module R M] := set.range (natural_map S) -- works</code></p>

<a name="126258971"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126258971" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126258971">Kevin Buzzard (May 08 2018 at 10:41)</a>:</h4>
<p>Type class inference is a strange thing</p>

<a name="126258973"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126258973" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126258973">Kenny Lau (May 08 2018 at 10:41)</a>:</h4>
<p>include R</p>

<a name="126258974"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126258974" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126258974">Kevin Buzzard (May 08 2018 at 10:41)</a>:</h4>
<p>I would still not say I had completely got the hang of it</p>

<a name="126258979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126258979" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126258979">Kevin Buzzard (May 08 2018 at 10:42)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">include</span> <span class="n">R</span>
<span class="kn">definition</span> <span class="n">generated_submodule</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">M</span><span class="o">)</span> <span class="o">:=</span> <span class="n">set</span><span class="bp">.</span><span class="n">range</span> <span class="o">(</span><span class="n">natural_map</span> <span class="n">S</span><span class="o">)</span> <span class="c1">-- works</span>
</pre></div>

<a name="126259016"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126259016" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126259016">Kevin Buzzard (May 08 2018 at 10:42)</a>:</h4>
<p>Kenny's fix</p>

<a name="126259021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126259021" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126259021">Kevin Buzzard (May 08 2018 at 10:42)</a>:</h4>
<p>What does <code>include</code> do?</p>

<a name="126259026"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126259026" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126259026">Kevin Buzzard (May 08 2018 at 10:42)</a>:</h4>
<p>I thought this was for including variable names in tactic proofs</p>

<a name="126259037"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126259037" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126259037">Kevin Buzzard (May 08 2018 at 10:43)</a>:</h4>
<p>As for the equality failing</p>

<a name="126259038"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126259038" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126259038">Kevin Buzzard (May 08 2018 at 10:43)</a>:</h4>
<p><code>set.univ : Π {α : Type u}, set α</code></p>

<a name="126259041"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126259041" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126259041">Kevin Buzzard (May 08 2018 at 10:43)</a>:</h4>
<p><code>set.univ</code> doesn't take <code>M</code>, it guesses it.</p>

<a name="126259081"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126259081" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126259081">Kevin Buzzard (May 08 2018 at 10:44)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">definition</span> <span class="n">is_finitely_generated</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">module</span> <span class="n">R</span> <span class="n">M</span><span class="o">]</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="bp">∃</span> <span class="n">S</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">M</span><span class="o">,</span> <span class="n">generated_submodule</span> <span class="o">{</span><span class="n">x</span> <span class="bp">|</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">S</span><span class="o">}</span> <span class="bp">=</span> <span class="n">set</span><span class="bp">.</span><span class="n">univ</span> <span class="c1">-- works</span>
</pre></div>

<a name="126259083"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126259083" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126259083">Kevin Buzzard (May 08 2018 at 10:44)</a>:</h4>
<p>Recently I realised that I pretty fully understood most Lean errors</p>

<a name="126259086"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126259086" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126259086">Kevin Buzzard (May 08 2018 at 10:44)</a>:</h4>
<p>i.e. I can look at the error and actually figure out what is wrong with my code, in many cases</p>

<a name="126259096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126259096" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126259096">Kevin Buzzard (May 08 2018 at 10:45)</a>:</h4>
<div class="codehilite"><pre><span></span>type mismatch at application
  generated_submodule {x : M | x ∈ S} = set.univ M
term
  set.univ M
has type
  Prop : Type
but is expected to have type
  set M : Type ?
</pre></div>

<a name="126259103"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126259103" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126259103">Kevin Buzzard (May 08 2018 at 10:45)</a>:</h4>
<p>says "the right hand side is supposed to have type <code>set M</code> but it has type <code>Prop</code> so you have not written what you meant to write -- it doesn't typecheck."</p>

<a name="126259146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126259146" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126259146">Kevin Buzzard (May 08 2018 at 10:46)</a>:</h4>
<p>You are attempting to assert that two sets are equal</p>

<a name="126259147"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126259147" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126259147">Kevin Buzzard (May 08 2018 at 10:46)</a>:</h4>
<p>so the correct type is <code>set M</code></p>

<a name="126259149"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126259149" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126259149">Kevin Buzzard (May 08 2018 at 10:46)</a>:</h4>
<p>so the problem is that <code>set.univ M</code> has type Prop instead of type <code>set M</code></p>

<a name="126259156"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126259156" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126259156">Kevin Buzzard (May 08 2018 at 10:47)</a>:</h4>
<p>and now you look at what <code>set.univ</code> actually does by hovering your mouse over <code>set.univ</code></p>

<a name="126259159"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126259159" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126259159">Kevin Buzzard (May 08 2018 at 10:47)</a>:</h4>
<p>and you see your error</p>

<a name="126259207"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126259207" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126259207">Kevin Buzzard (May 08 2018 at 10:48)</a>:</h4>
<p>I would urge you <span class="user-mention" data-user-id="112680">@Johan Commelin</span> to learn to read errors so you can find out the problem.</p>

<a name="126259211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126259211" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126259211">Kevin Buzzard (May 08 2018 at 10:49)</a>:</h4>
<p>Sometimes the problem is that type class inference has failed. Type class inference is just something you have to get the hang of and I had to ask and ask here about it -- see my typeclass inference woes thread</p>

<a name="126259224"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126259224" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126259224">Kevin Buzzard (May 08 2018 at 10:49)</a>:</h4>
<p>But for other errors, try and make it so that there is exactly one error (i.e put sorry everywhere else) and then try and read the error.</p>

<a name="126259266"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126259266" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126259266">Kevin Buzzard (May 08 2018 at 10:50)</a>:</h4>
<p>And then hope that you can fix it</p>

<a name="126259847"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126259847" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126259847">Johan Commelin (May 08 2018 at 11:09)</a>:</h4>
<p>Ok, thanks! I hope to get the hang of it as well...</p>

<a name="126266575"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126266575" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126266575">Chris Hughes (May 08 2018 at 14:24)</a>:</h4>
<p><code>set.univ : set M</code> should help</p>

<a name="126266785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Newbie%20error/near/126266785" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/11013Newbieerror.html#126266785">Chris Hughes (May 08 2018 at 14:28)</a>:</h4>
<p>Or perhaps <code>@set.univ M</code></p>


{% endraw %}
