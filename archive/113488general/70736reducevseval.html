---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/70736reducevseval.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/70736reducevseval.html">#reduce vs #eval</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="123060876"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%23reduce%20vs%20%23eval/near/123060876" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70736reducevseval.html#123060876">Simon Hudon (Feb 27 2018 at 21:48)</a>:</h4>
<p>Does it ever happen that #reduce runs forever while #eval terminates immediately?</p>

<a name="123061271"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%23reduce%20vs%20%23eval/near/123061271" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70736reducevseval.html#123061271">Kevin Buzzard (Feb 27 2018 at 21:57)</a>:</h4>
<p>Try 1000*1000</p>

<a name="123061346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%23reduce%20vs%20%23eval/near/123061346" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70736reducevseval.html#123061346">Simon Hudon (Feb 27 2018 at 21:58)</a>:</h4>
<p>it times out</p>

<a name="123061357"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%23reduce%20vs%20%23eval/near/123061357" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70736reducevseval.html#123061357">Kevin Buzzard (Feb 27 2018 at 21:58)</a>:</h4>
<p>Does that not count as "I ran forever but I explained this to you in a different kind of way"</p>

<a name="123061395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%23reduce%20vs%20%23eval/near/123061395" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70736reducevseval.html#123061395">Simon Hudon (Feb 27 2018 at 21:59)</a>:</h4>
<p>It would but my example involves numbers such as 1 and 0</p>

<a name="123061409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%23reduce%20vs%20%23eval/near/123061409" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70736reducevseval.html#123061409">Kevin Buzzard (Feb 27 2018 at 21:59)</a>:</h4>
<p>Try <code>(1+1)*(1+1)*(1+1)*(1+1)*...*(1+1)</code></p>

<a name="123061467"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%23reduce%20vs%20%23eval/near/123061467" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70736reducevseval.html#123061467">Simon Hudon (Feb 27 2018 at 22:00)</a>:</h4>
<p>... but it also involves an encoding of an infinite tree ... I wonder if that's what is taking super duper long</p>

<a name="123061650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%23reduce%20vs%20%23eval/near/123061650" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70736reducevseval.html#123061650">Simon Hudon (Feb 27 2018 at 22:04)</a>:</h4>
<p>I'll be more specific. I'm trying:</p>
<div class="codehilite"><pre><span></span><span class="bp">#</span><span class="n">reduce</span> <span class="n">to_bin_tree</span> <span class="mi">3</span> <span class="o">(</span><span class="n">mk_tree</span> <span class="mi">0</span><span class="o">)</span>
</pre></div>


<p>where <code>my_tree</code> creates an infinite tree starting at 0 and incrementing it from time to time and <code>to_bin_tree</code> truncates it after 3 steps. It creates the following binary tree:</p>
<div class="codehilite"><pre><span></span>(node 0 (node 1 (node ⊥ ⊥)))
</pre></div>

<a name="123061734"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%23reduce%20vs%20%23eval/near/123061734" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70736reducevseval.html#123061734">Simon Hudon (Feb 27 2018 at 22:07)</a>:</h4>
<p>Anyway, you made your point. Truncating the tree is probably much more expensive now that I changed their representation</p>

<a name="123061736"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%23reduce%20vs%20%23eval/near/123061736" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70736reducevseval.html#123061736">Simon Hudon (Feb 27 2018 at 22:07)</a>:</h4>
<p>Thanks!</p>


{% endraw %}
