---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/47494deletingvariables.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/47494deletingvariables.html">deleting variables</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="127485299"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deleting%20variables/near/127485299" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/47494deletingvariables.html#127485299">Reid Barton (Jun 03 2018 at 01:44)</a>:</h4>
<p>Is it possible to delete something that has been declared using <code>variables</code>? (I want to "upgrade" an instance variable to a class which extends the original one.)</p>

<a name="127485300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deleting%20variables/near/127485300" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/47494deletingvariables.html#127485300">Kenny Lau (Jun 03 2018 at 01:44)</a>:</h4>
<p>no</p>

<a name="127485309"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deleting%20variables/near/127485309" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/47494deletingvariables.html#127485309">Simon Hudon (Jun 03 2018 at 01:45)</a>:</h4>
<p>Can you show me concretely what you're going for?</p>

<a name="127485402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deleting%20variables/near/127485402" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/47494deletingvariables.html#127485402">Reid Barton (Jun 03 2018 at 01:49)</a>:</h4>
<p>My actual example involves my own classes, but something like</p>
<div class="codehilite"><pre><span></span><span class="kn">section</span>
<span class="kn">variables</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">monoid</span> <span class="n">α</span><span class="o">]</span>

<span class="c">/-</span><span class="cm"> other definitions that don&#39;t require the group structure... -/</span>

<span class="kn">variables</span> <span class="o">[</span><span class="n">group</span> <span class="n">α</span><span class="o">]</span>

<span class="n">def</span> <span class="n">g</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">x</span><span class="bp">⁻¹</span>
<span class="kn">example</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">g</span> <span class="n">x</span> <span class="bp">=</span> <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">g</span><span class="o">]</span>

<span class="kn">end</span>
</pre></div>

<a name="127485439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deleting%20variables/near/127485439" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/47494deletingvariables.html#127485439">Reid Barton (Jun 03 2018 at 01:50)</a>:</h4>
<p>I can just put the earlier definitions in their own section which has the <code>monoid</code> variable</p>

<a name="127485452"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deleting%20variables/near/127485452" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/47494deletingvariables.html#127485452">Reid Barton (Jun 03 2018 at 01:50)</a>:</h4>
<p>but I was hoping for something more convenient</p>

<a name="127485457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deleting%20variables/near/127485457" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/47494deletingvariables.html#127485457">Simon Hudon (Jun 03 2018 at 01:50)</a>:</h4>
<p>Ah I see! Your best bet I think is to end your section and start it just before the <code>group</code> variable</p>

<a name="127485460"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deleting%20variables/near/127485460" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/47494deletingvariables.html#127485460">Simon Hudon (Jun 03 2018 at 01:50)</a>:</h4>
<p>What is the inconvenient in doing that?</p>

<a name="127485469"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deleting%20variables/near/127485469" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/47494deletingvariables.html#127485469">Reid Barton (Jun 03 2018 at 01:51)</a>:</h4>
<p>Not really very inconvenient, just a few extra lines of <code>section</code>/<code>end</code></p>

<a name="127485519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deleting%20variables/near/127485519" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/47494deletingvariables.html#127485519">Simon Hudon (Jun 03 2018 at 01:53)</a>:</h4>
<p>One downside I can see is if you have other variables declared in the first section that you want to keep in the rest of the section</p>

<a name="127485562"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deleting%20variables/near/127485562" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/47494deletingvariables.html#127485562">Simon Hudon (Jun 03 2018 at 01:54)</a>:</h4>
<p>In that case, I would do this:</p>
<div class="codehilite"><pre><span></span>section
variables {α : Type}
section
variables [monoid α]

/- other definitions that don&#39;t require the group structure... -/
end
variables [group α]
end
</pre></div>

<a name="127485613"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deleting%20variables/near/127485613" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/47494deletingvariables.html#127485613">Simon Hudon (Jun 03 2018 at 01:56)</a>:</h4>
<p>Actually, if you don't do anything, what error do you get?</p>

<a name="127485719"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deleting%20variables/near/127485719" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/47494deletingvariables.html#127485719">Reid Barton (Jun 03 2018 at 02:00)</a>:</h4>
<p>There I got an error which arose because <code>*</code> was using the monoid instance and <code>\-1</code> was using the group instance</p>

<a name="127485732"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deleting%20variables/near/127485732" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/47494deletingvariables.html#127485732">Simon Hudon (Jun 03 2018 at 02:01)</a>:</h4>
<p>Ah, ok, I thought maybe it would go through the group by default</p>

<a name="127485734"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deleting%20variables/near/127485734" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/47494deletingvariables.html#127485734">Mario Carneiro (Jun 03 2018 at 02:01)</a>:</h4>
<p>well it's still a problem to have redundant typeclasses on a def</p>

<a name="127485815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deleting%20variables/near/127485815" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/47494deletingvariables.html#127485815">Simon Hudon (Jun 03 2018 at 02:04)</a>:</h4>
<p>Why?</p>

<a name="127485832"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deleting%20variables/near/127485832" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/47494deletingvariables.html#127485832">Mario Carneiro (Jun 03 2018 at 02:05)</a>:</h4>
<p>in the theorem itself, it's a problem since they aren't the same structure, in uses it's a nuisance to have a redundant assumption</p>

<a name="127485882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deleting%20variables/near/127485882" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/47494deletingvariables.html#127485882">Simon Hudon (Jun 03 2018 at 02:07)</a>:</h4>
<p>Right in theorems I know the issues. With defs, I can't see it will be a nuisance down the line but not how that definition would be invalid</p>

<a name="127486403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deleting%20variables/near/127486403" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/47494deletingvariables.html#127486403">Mario Carneiro (Jun 03 2018 at 02:27)</a>:</h4>
<p>It won't be invalid. Often things like duplicate typeclass hypotheses will go unnoticed for a long time because they aren't really visibly different</p>

<a name="127486404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deleting%20variables/near/127486404" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/47494deletingvariables.html#127486404">Mario Carneiro (Jun 03 2018 at 02:27)</a>:</h4>
<p>unless you use <code>@thm</code> and notice two underscores in place of one</p>

<a name="127486500"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deleting%20variables/near/127486500" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/47494deletingvariables.html#127486500">Simon Hudon (Jun 03 2018 at 02:30)</a>:</h4>
<p>It would be nice to have warnings for that kind of stuff. Actually, more warnings in general would be nice</p>


{% endraw %}
