---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/66348natint.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html">nat = int</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="135492419"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135492419" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135492419">Kenny Lau (Oct 09 2018 at 21:24)</a>:</h4>
<p>Is <code>nat = int</code> consistent with Lean?</p>

<a name="135492660"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135492660" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135492660">Mario Carneiro (Oct 09 2018 at 21:29)</a>:</h4>
<p>yes</p>

<a name="135492670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135492670" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135492670">Mario Carneiro (Oct 09 2018 at 21:29)</a>:</h4>
<p>but it will make the VM not like you</p>

<a name="135492671"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135492671" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135492671">Kenny Lau (Oct 09 2018 at 21:29)</a>:</h4>
<p>good lord</p>

<a name="135492701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135492701" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135492701">Kenny Lau (Oct 09 2018 at 21:30)</a>:</h4>
<p>so how can a constructor of an inductive type construct itself...</p>

<a name="135492733"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135492733" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135492733">Kevin Buzzard (Oct 09 2018 at 21:30)</a>:</h4>
<p>Equality of types is terrifying. I just stick to equality of terms.</p>

<a name="135492747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135492747" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135492747">Mario Carneiro (Oct 09 2018 at 21:30)</a>:</h4>
<div class="codehilite"><pre><span></span>axiom nat_eq_int : nat = int

#eval cast nat_eq_int.symm (-5) -- 2147483643
</pre></div>

<a name="135492754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135492754" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135492754">Kevin Buzzard (Oct 09 2018 at 21:30)</a>:</h4>
<p>I am not sure I have a good feeling as to what equality of types means.</p>

<a name="135492774"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135492774" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135492774">Kevin Buzzard (Oct 09 2018 at 21:31)</a>:</h4>
<p><code>equiv</code> of types -- that I understand.</p>

<a name="135492840"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135492840" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135492840">Mario Carneiro (Oct 09 2018 at 21:32)</a>:</h4>
<p>Unfortunately, as a cast off from HoTT, univalence is consistent in some weak forms</p>

<a name="135492856"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135492856" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135492856">Mario Carneiro (Oct 09 2018 at 21:32)</a>:</h4>
<p>but the VM assumes something much stricter, in order for type erasure to be sound</p>

<a name="135493250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493250" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493250">Kevin Buzzard (Oct 09 2018 at 21:39)</a>:</h4>
<p>So an interesting thing happened in my lecture today. It was an interactive lecture and the students could vote on the questions I was asking, on their phones. And I asked them if "not P" was equal to "P implies false" and a lot of them said that these things were not equal.</p>

<a name="135493310"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493310" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493310">Patrick Massot (Oct 09 2018 at 21:40)</a>:</h4>
<p>I'm not surprised</p>

<a name="135493313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493313" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493313">Chris Hughes (Oct 09 2018 at 21:40)</a>:</h4>
<p>Did you teach them the truth table definition of implies?</p>

<a name="135493317"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493317" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493317">Kevin Buzzard (Oct 09 2018 at 21:40)</a>:</h4>
<p>But they were all happy that these things were equivalent. I didn't tell them Lean's definition of "not P", I was doing basic propositional calculus, so the definition of "not" was "not false = true" and "not true = false" and that's it</p>

<a name="135493324"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493324" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493324">Patrick Massot (Oct 09 2018 at 21:40)</a>:</h4>
<p>Did you try on a room full of professional mathematicians next?</p>

<a name="135493335"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493335" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493335">Kevin Buzzard (Oct 09 2018 at 21:40)</a>:</h4>
<p>But this is somehow the same issue.</p>

<a name="135493352"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493352" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493352">Kevin Buzzard (Oct 09 2018 at 21:41)</a>:</h4>
<p>Two propositions can be equivalent, but it's a bit weird saying they are equal.</p>

<a name="135493360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493360" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493360">Kevin Buzzard (Oct 09 2018 at 21:41)</a>:</h4>
<p>Especially when I told them that 2+2=4 and Fermat's Last Theorem were both true, and asked them if they thought that they were hence equal.</p>

<a name="135493365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493365" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493365">Mario Carneiro (Oct 09 2018 at 21:41)</a>:</h4>
<p>aha, here's an example of a lie proposition from that axiom:</p>
<div class="codehilite"><pre><span></span>axiom nat_eq_int : nat = int
def lie : bool := cast nat_eq_int.symm (-int.of_nat (2^31)) &lt; 0
theorem not_lying : lie = ff := rfl
#eval lie -- tt
</pre></div>

<a name="135493376"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493376" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493376">Mario Carneiro (Oct 09 2018 at 21:41)</a>:</h4>
<p>This is bad because you can make the VM crash</p>

<a name="135493426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493426" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493426">Kevin Buzzard (Oct 09 2018 at 21:42)</a>:</h4>
<p>That's not bad -- that just means that you shouldn't rely on the VM</p>

<a name="135493428"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493428" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493428">Kevin Buzzard (Oct 09 2018 at 21:42)</a>:</h4>
<p>If the kernel's happy, I'm happy</p>

<a name="135493435"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493435" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493435">Chris Hughes (Oct 09 2018 at 21:42)</a>:</h4>
<p>It means you shouldn't introduce axioms and then rely on the VM.</p>

<a name="135493446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493446" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493446">Chris Hughes (Oct 09 2018 at 21:43)</a>:</h4>
<p>But you shouldn't introduce axioms and rely on the kernel either. So I don't think that's a problem.</p>

<a name="135493448"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493448" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493448">Mario Carneiro (Oct 09 2018 at 21:43)</a>:</h4>
<p>it means that some axioms are consistent with the VM and others aren't, even if they are consistent with lean itself</p>

<a name="135493466"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493466" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493466">Kevin Buzzard (Oct 09 2018 at 21:43)</a>:</h4>
<p>Mario do you _know_ that nat = int is consistent with Lean (assuming maths is consistent etc)</p>

<a name="135493513"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493513" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493513">Mario Carneiro (Oct 09 2018 at 21:44)</a>:</h4>
<p>I have strong evidence in the direction of a proof</p>

<a name="135493517"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493517" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493517">Kevin Buzzard (Oct 09 2018 at 21:44)</a>:</h4>
<p>Fair enough.</p>

<a name="135493521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493521" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493521">Mario Carneiro (Oct 09 2018 at 21:44)</a>:</h4>
<p>the more general statement is that two types with the same cardinality are consistently equal</p>

<a name="135493532"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493532" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493532">Kevin Buzzard (Oct 09 2018 at 21:45)</a>:</h4>
<p>Aah I see equiv has popped up again</p>

<a name="135493547"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493547" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493547">Kenny Lau (Oct 09 2018 at 21:45)</a>:</h4>
<p>maybe we should add that as an axiom</p>

<a name="135493553"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493553" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493553">Kenny Lau (Oct 09 2018 at 21:45)</a>:</h4>
<p>just like how we added propext as an axiom</p>

<a name="135493557"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493557" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493557">Mario Carneiro (Oct 09 2018 at 21:45)</a>:</h4>
<p>But type erasure, used in the VM, assumes that the only provable equalities are between objects with the same runtime representation</p>

<a name="135493564"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493564" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493564">Kevin Buzzard (Oct 09 2018 at 21:45)</a>:</h4>
<p>Is <code>forall X Y : Type, equiv X Y iff X = Y</code> consistent with Lean?</p>

<a name="135493569"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493569" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493569">Mario Carneiro (Oct 09 2018 at 21:45)</a>:</h4>
<p>which has to do with the other thread</p>

<a name="135493573"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493573" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493573">Kenny Lau (Oct 09 2018 at 21:45)</a>:</h4>
<p><code>Type u</code> even</p>

<a name="135493577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493577" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493577">Chris Hughes (Oct 09 2018 at 21:45)</a>:</h4>
<p>It doesn't type check</p>

<a name="135493622"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493622" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493622">Kevin Buzzard (Oct 09 2018 at 21:46)</a>:</h4>
<p>oh yeah</p>

<a name="135493633"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493633" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493633">Kenny Lau (Oct 09 2018 at 21:46)</a>:</h4>
<p>oh</p>

<a name="135493636"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493636" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493636">Kevin Buzzard (Oct 09 2018 at 21:46)</a>:</h4>
<p>nonempty (equiv X Y) iff X = Y or whatever</p>

<a name="135493641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493641" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493641">Kenny Lau (Oct 09 2018 at 21:46)</a>:</h4>
<p>use <code>\to</code></p>

<a name="135493676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493676" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493676">Mario Carneiro (Oct 09 2018 at 21:47)</a>:</h4>
<p>You have to be careful not to run afoul of the counterexample to HoTT</p>

<a name="135493788"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493788" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493788">Mario Carneiro (Oct 09 2018 at 21:49)</a>:</h4>
<p>Consider the <code>bnot : bool -&gt; bool</code> function, which swaps the two values. This is provably an equivalence in HoTT, so from univalence we get an equality <code>ua bnot : bool = bool</code>. It is provable in HoTT that <code>cast (ua bnot) tt = ff</code>, but <code>cast rfl tt = tt</code> and hence <code>ua bnot != rfl</code>, contradicting proof irrelevance</p>

<a name="135493870"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493870" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493870">Kenny Lau (Oct 09 2018 at 21:50)</a>:</h4>
<p>but you can't prove in lean that <code>cast (ua bnot) tt = ff</code> right</p>

<a name="135493930"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493930" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493930">Mario Carneiro (Oct 09 2018 at 21:51)</a>:</h4>
<p>In HoTT, this is provable because we know <code>ua</code> is the inverse of the natural function <code>A = B -&gt; A ~= B</code></p>

<a name="135493990"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493990" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493990">Kevin Buzzard (Oct 09 2018 at 21:52)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> this should sort out your <code>heq</code> problems:</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">equiv</span><span class="bp">.</span><span class="n">basic</span>
<span class="kn">axiom</span> <span class="n">for_patrick</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">),</span> <span class="n">equiv</span> <span class="n">X</span> <span class="n">Y</span> <span class="bp">→</span> <span class="n">X</span> <span class="bp">=</span> <span class="n">Y</span>
</pre></div>

<a name="135493999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135493999" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135493999">Kevin Buzzard (Oct 09 2018 at 21:52)</a>:</h4>
<p>and apparently Mario thinks it's consistent, but just be careful with the VM OK?</p>

<a name="135494020"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135494020" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135494020">Mario Carneiro (Oct 09 2018 at 21:53)</a>:</h4>
<p>I strongly recommend against any axioms that don't obey type erasure</p>

<a name="135494022"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135494022" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135494022">Chris Hughes (Oct 09 2018 at 21:53)</a>:</h4>
<p>I don't think it helps. Patrick knows his Types are equal, he just can't <code>rw</code> using that equality.</p>

<a name="135494056"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135494056" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135494056">Patrick Massot (Oct 09 2018 at 21:53)</a>:</h4>
<p>We all want the same tactic: <code>rw_that_just_works</code></p>

<a name="135494119"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135494119" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135494119">Mario Carneiro (Oct 09 2018 at 21:54)</a>:</h4>
<p>this is a difficult research question</p>

<a name="135494128"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135494128" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135494128">Mario Carneiro (Oct 09 2018 at 21:54)</a>:</h4>
<p>the problem is always type dependency</p>

<a name="135494130"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135494130" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135494130">Kenny Lau (Oct 09 2018 at 21:54)</a>:</h4>
<p>What is type erasure?</p>

<a name="135494140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135494140" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135494140">Kevin Buzzard (Oct 09 2018 at 21:54)</a>:</h4>
<blockquote>
<p>this is a difficult research question</p>
</blockquote>
<p>Mathematicians can do it in their heads!</p>

<a name="135494184"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135494184" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135494184">Patrick Massot (Oct 09 2018 at 21:56)</a>:</h4>
<p>Then do you have example where all those <code>subst</code> or <code>generalize</code> tricks works? I haven't been able to find any math example</p>

<a name="135494327"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135494327" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135494327">Kevin Buzzard (Oct 09 2018 at 21:58)</a>:</h4>
<p><a href="#narrow/stream/116395-maths/subject/Continuous.20Functions.20Preserve.20Limits/near/134675116" title="#narrow/stream/116395-maths/subject/Continuous.20Functions.20Preserve.20Limits/near/134675116">https://leanprover.zulipchat.com/#narrow/stream/116395-maths/subject/Continuous.20Functions.20Preserve.20Limits/near/134675116</a></p>

<a name="135494366"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135494366" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135494366">Kevin Buzzard (Oct 09 2018 at 21:58)</a>:</h4>
<p>Rohan wanted to prove that if <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>x</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">x_0,x_1,x_2...</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="base"><span class="mord"><span class="mord mathit">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"></span></span></span></span></span><span class="mpunct">,</span><span class="mord"><span class="mord mathit">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"></span></span></span></span></span><span class="mpunct">,</span><span class="mord"><span class="mord mathit">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"></span></span></span></span></span><span class="mord mathrm">.</span><span class="mord mathrm">.</span><span class="mord mathrm">.</span></span></span></span> tended to <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base"><span class="mord mathit">x</span></span></span></span> then <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>3</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">x_1,x_2,x_3,...</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="base"><span class="mord"><span class="mord mathit">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"></span></span></span></span></span><span class="mpunct">,</span><span class="mord"><span class="mord mathit">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"></span></span></span></span></span><span class="mpunct">,</span><span class="mord"><span class="mord mathit">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"></span></span></span></span></span><span class="mpunct">,</span><span class="mord mathrm">.</span><span class="mord mathrm">.</span><span class="mord mathrm">.</span></span></span></span> also tended to <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base"><span class="mord mathit">x</span></span></span></span>. We formalised the change of variables using filters and then Kenny proved it using <code>subst</code></p>

<a name="135494504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135494504" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135494504">Mario Carneiro (Oct 09 2018 at 22:00)</a>:</h4>
<p>the solution of course is extensional type theory but I might be contractually obligated to say that's silly</p>

<a name="135494641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135494641" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135494641">Andrew Ashworth (Oct 09 2018 at 22:02)</a>:</h4>
<p>was OTT (<a href="https://github.com/leanprover/lean/issues/654" target="_blank" title="https://github.com/leanprover/lean/issues/654">https://github.com/leanprover/lean/issues/654</a>) no good?</p>

<a name="135494975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135494975" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135494975">Chris Hughes (Oct 09 2018 at 22:07)</a>:</h4>
<p>One thing I've wondered for a while is why does this work?</p>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">:</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="bp">=</span> <span class="n">eq</span><span class="bp">.</span><span class="n">rec</span> <span class="mi">0</span> <span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">choice</span> <span class="bp">⟨</span><span class="n">eq</span><span class="bp">.</span><span class="n">refl</span> <span class="bp">ℕ⟩</span><span class="o">)</span> <span class="o">:=</span> <span class="n">rfl</span>
</pre></div>

<a name="135495482"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135495482" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135495482">Mario Carneiro (Oct 09 2018 at 22:15)</a>:</h4>
<p>there is a kernel reduction rule <code>eq.rec e h ~&gt; e</code> when <code>h : a = a</code>. Intuitively this is justified by using proof irrelevance to replace <code>h</code> with <code>rfl</code> and then iota reducing</p>

<a name="135495777"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135495777" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135495777">Kevin Buzzard (Oct 09 2018 at 22:18)</a>:</h4>
<p>Chris it looks like it's about time you learn C++</p>

<a name="135495803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135495803" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135495803">Mario Carneiro (Oct 09 2018 at 22:18)</a>:</h4>
<p>or type theory</p>

<a name="135496147"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135496147" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135496147">Patrick Massot (Oct 09 2018 at 22:22)</a>:</h4>
<p>Kevin means learning type theory by reading C++ code of the Lean kernel</p>

<a name="135496158"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135496158" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135496158">Patrick Massot (Oct 09 2018 at 22:23)</a>:</h4>
<p>That's the proper way for brave men</p>

<a name="135496744"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135496744" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135496744">Mario Carneiro (Oct 09 2018 at 22:30)</a>:</h4>
<p>I should note that I have written a paper on this topic and I still haven't fully understood the kernel of lean</p>

<a name="135496776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nat%20%3D%20int/near/135496776" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66348natint.html#135496776">Mario Carneiro (Oct 09 2018 at 22:30)</a>:</h4>
<p>it is much easier to read the reference typecheckers like trepplein</p>


{% endraw %}
