---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/66398Generatingdocslocally.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/66398Generatingdocslocally.html">Generating docs locally</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="193666884"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Generating%20docs%20locally/near/193666884" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66398Generatingdocslocally.html#193666884">Yury G. Kudryashov (Apr 11 2020 at 16:01)</a>:</h4>
<p>How do I generate api docs locally? I think that <a href="https://leanprover-community.github.io/mathlib_docs/" title="https://leanprover-community.github.io/mathlib_docs/">docs main page</a> should say "This documentation has been generated by (link to doc gen tool) with mathlib commit 83359d1 and Lean commit e694f49."</p>

<a name="193668091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Generating%20docs%20locally/near/193668091" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66398Generatingdocslocally.html#193668091">Yury G. Kudryashov (Apr 11 2020 at 16:30)</a>:</h4>
<p>Found <a href="https://github.com/leanprover-community/doc-gen" title="https://github.com/leanprover-community/doc-gen">doc-gen</a>. I'll PR a change to docs tonight.</p>

<a name="193675506"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Generating%20docs%20locally/near/193675506" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66398Generatingdocslocally.html#193675506">Yury G. Kudryashov (Apr 11 2020 at 19:27)</a>:</h4>
<p>Is there a Lean constant for the filepath to the Lean library?</p>

<a name="193675595"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Generating%20docs%20locally/near/193675595" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66398Generatingdocslocally.html#193675595">Yury G. Kudryashov (Apr 11 2020 at 19:29)</a>:</h4>
<p>I mean <code> ~/.elan/toolchains/leanprover-community-lean-3.8.0/lib/lean/library/</code></p>

<a name="193675679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Generating%20docs%20locally/near/193675679" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66398Generatingdocslocally.html#193675679">Gabriel Ebner (Apr 11 2020 at 19:31)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">open</span> <span class="n">tactic</span>

<span class="n">meta</span> <span class="n">def</span> <span class="n">get_path_to_lean_library</span> <span class="o">:</span> <span class="n">tactic</span> <span class="n">string</span> <span class="o">:=</span> <span class="n">do</span>
<span class="n">env</span> <span class="err">←</span> <span class="n">get_env</span><span class="o">,</span>
<span class="n">some</span> <span class="n">ol</span> <span class="err">←</span> <span class="n">pure</span> <span class="err">$</span> <span class="n">env</span><span class="bp">.</span><span class="n">decl_olean</span> <span class="bp">``</span><span class="n">eq</span><span class="o">,</span>
<span class="n">pure</span> <span class="err">$</span> <span class="n">ol</span><span class="bp">.</span><span class="n">popn_back</span> <span class="mi">14</span>

<span class="bp">#</span><span class="kn">eval</span> <span class="n">get_path_to_lean_library</span> <span class="bp">&gt;&gt;=</span> <span class="n">trace</span>
</pre></div>

<a name="193675686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Generating%20docs%20locally/near/193675686" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66398Generatingdocslocally.html#193675686">Yury G. Kudryashov (Apr 11 2020 at 19:31)</a>:</h4>
<p>Thank you!</p>

<a name="193675689"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Generating%20docs%20locally/near/193675689" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66398Generatingdocslocally.html#193675689">Gabriel Ebner (Apr 11 2020 at 19:31)</a>:</h4>
<p>Why do you want to put the path into the documentation?</p>

<a name="193675825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Generating%20docs%20locally/near/193675825" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66398Generatingdocslocally.html#193675825">Yury G. Kudryashov (Apr 11 2020 at 19:34)</a>:</h4>
<p>I want to migrate it to Python <code>pathlib</code></p>

<a name="193675886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Generating%20docs%20locally/near/193675886" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66398Generatingdocslocally.html#193675886">Yury G. Kudryashov (Apr 11 2020 at 19:35)</a>:</h4>
<p>And replace <code>lean/library in filename</code> with <code>s = filename.relative_to lean_library_path</code></p>

<a name="193675961"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Generating%20docs%20locally/near/193675961" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66398Generatingdocslocally.html#193675961">Yury G. Kudryashov (Apr 11 2020 at 19:36)</a>:</h4>
<p>BTW, can I convert from <code>tactic string</code> to <code>io string</code>?</p>

<a name="193676033"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Generating%20docs%20locally/near/193676033" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66398Generatingdocslocally.html#193676033">Yury G. Kudryashov (Apr 11 2020 at 19:38)</a>:</h4>
<p>Found <code>io.run_tactic</code></p>

<a name="193689328"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Generating%20docs%20locally/near/193689328" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66398Generatingdocslocally.html#193689328">Scott Morrison (Apr 12 2020 at 01:56)</a>:</h4>
<p>It's a pity we have <code>io.run_tactic</code> and <code>parser.of_tactic</code>.</p>

<a name="193689490"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Generating%20docs%20locally/near/193689490" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66398Generatingdocslocally.html#193689490">Simon Hudon (Apr 12 2020 at 02:00)</a>:</h4>
<p>What's the issue with those?</p>

<a name="193694589"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Generating%20docs%20locally/near/193694589" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66398Generatingdocslocally.html#193694589">Scott Morrison (Apr 12 2020 at 04:58)</a>:</h4>
<p>Just that they have different names!</p>

<a name="193694596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Generating%20docs%20locally/near/193694596" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66398Generatingdocslocally.html#193694596">Scott Morrison (Apr 12 2020 at 04:59)</a>:</h4>
<p>Both should be <code>of_tactic</code> (or possibly <code>run_tactic</code>).</p>


{% endraw %}

{% include archive_update.html %}