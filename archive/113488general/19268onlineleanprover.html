---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/19268onlineleanprover.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html">online leanprover</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="147701238"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147701238" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147701238">Kenny Lau (Nov 14 2018 at 21:35)</a>:</h4>
<p>just how outdated is this thing? I posted some code somewhere public and then one guy complained they can't run it in the online lean prover</p>

<a name="147701252"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147701252" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147701252">Kenny Lau (Nov 14 2018 at 21:35)</a>:</h4>
<p>and I verified it</p>

<a name="147701271"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147701271" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147701271">Kenny Lau (Nov 14 2018 at 21:35)</a>:</h4>
<p>and it's because the online lean prover doesn't have topological groups</p>

<a name="147701275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147701275" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147701275">Kenny Lau (Nov 14 2018 at 21:35)</a>:</h4>
<p>this is very concerning</p>

<a name="147701276"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147701276" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147701276">Kevin Buzzard (Nov 14 2018 at 21:35)</a>:</h4>
<p>It's 3.4.1</p>

<a name="147701281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147701281" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147701281">Kevin Buzzard (Nov 14 2018 at 21:35)</a>:</h4>
<p>as far as I know</p>

<a name="147701285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147701285" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147701285">Kevin Buzzard (Nov 14 2018 at 21:35)</a>:</h4>
<p>or maybe even 3.4.0</p>

<a name="147701287"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147701287" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147701287">Kenny Lau (Nov 14 2018 at 21:35)</a>:</h4>
<p>what would people think about lean if we keep spreading codes that can't run</p>

<a name="147701295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147701295" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147701295">Kevin Buzzard (Nov 14 2018 at 21:35)</a>:</h4>
<p>and mathlib from the time 3.4.0 was invented</p>

<a name="147701296"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147701296" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147701296">Kenny Lau (Nov 14 2018 at 21:35)</a>:</h4>
<p>unless you spend 2 hours installing everything</p>

<a name="147701303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147701303" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147701303">Mario Carneiro (Nov 14 2018 at 21:35)</a>:</h4>
<p>it gets updated when lean core does, I think</p>

<a name="147701470"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147701470" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147701470">Kenny Lau (Nov 14 2018 at 21:37)</a>:</h4>
<p>when will lean quit its beta status</p>

<a name="147701693"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147701693" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147701693">Mario Carneiro (Nov 14 2018 at 21:40)</a>:</h4>
<p>when it's not an academic playground app</p>

<a name="147702245"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147702245" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147702245">Kenny Lau (Nov 14 2018 at 21:48)</a>:</h4>
<p>on the one hand me and kevin want to promote it</p>

<a name="147702249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147702249" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147702249">Kenny Lau (Nov 14 2018 at 21:48)</a>:</h4>
<p>and on the other hand the big devs don't want it to be promoted</p>

<a name="147702271"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147702271" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147702271">Kenny Lau (Nov 14 2018 at 21:48)</a>:</h4>
<p>also it's quite ironic that the project is microsoft-funded and can't deal with windows paths</p>

<a name="147702300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147702300" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147702300">Reid Barton (Nov 14 2018 at 21:48)</a>:</h4>
<p>Lean or the online Lean thing?</p>

<a name="147702337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147702337" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147702337">Kenny Lau (Nov 14 2018 at 21:49)</a>:</h4>
<p>lean</p>

<a name="147702354"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147702354" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147702354">Kenny Lau (Nov 14 2018 at 21:49)</a>:</h4>
<p>aha I misremembered the original quote</p>

<a name="147702356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147702356" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147702356">Kenny Lau (Nov 14 2018 at 21:49)</a>:</h4>
<p>I mean</p>

<a name="147702361"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147702361" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147702361">Kenny Lau (Nov 14 2018 at 21:50)</a>:</h4>
<p>it's quite ironic that the project is microsoft-funded and requires a linux emulator to be installed</p>

<a name="147702586"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147702586" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147702586">Chris Hughes (Nov 14 2018 at 21:52)</a>:</h4>
<p>Out of interest, why are Microsoft funding it. How do they make money on this free software?</p>

<a name="147702605"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147702605" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147702605">Kevin Buzzard (Nov 14 2018 at 21:52)</a>:</h4>
<p>they are secretly using it to check windows 10 has no bugs</p>

<a name="147702632"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147702632" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147702632">Kevin Buzzard (Nov 14 2018 at 21:53)</a>:</h4>
<p>and the NSA gets them to use it to find bugs in the Android kernel</p>

<a name="147702640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147702640" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147702640">Kevin Buzzard (Nov 14 2018 at 21:53)</a>:</h4>
<p>maybe</p>

<a name="147759375"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147759375" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147759375">Abhimanyu Pallavi Sudhir (Nov 15 2018 at 17:47)</a>:</h4>
<blockquote>
<p>and it's because the online lean prover doesn't have topological groups</p>
</blockquote>
<p>I recall it didn't have p-adic valuations either.</p>

<a name="147796514"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147796514" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147796514">Leonardo de Moura (Nov 16 2018 at 05:06)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> </p>
<blockquote>
<p>when will lean quit its beta status</p>
</blockquote>
<p>Lean is a research project. I have no interest in building a product at this point.</p>
<blockquote>
<p>it's quite ironic that the project is microsoft-funded and requires a linux emulator to be installed</p>
</blockquote>
<p>MSYS2 is not a linux emulator, but a POSIX compatibility layer. It makes sure we can write build and test scripts that run in all platforms.</p>

<a name="147796577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147796577" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147796577">Leonardo de Moura (Nov 16 2018 at 05:08)</a>:</h4>
<p><span class="user-mention" data-user-id="110044">@Chris Hughes</span> </p>
<blockquote>
<p>Out of interest, why are Microsoft funding it. How do they make money on this free software?</p>
</blockquote>
<p>Lean is not a product. I work for Microsoft Research, and I can pick my own research projects. Nobody at Microsoft is expecting to make money with Lean.</p>

<a name="147796742"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147796742" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147796742">Leonardo de Moura (Nov 16 2018 at 05:13)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> </p>
<blockquote>
<p>on the one hand me and kevin want to promote it<br>
and on the other hand the big devs don't want it to be promoted</p>
</blockquote>
<p>I know Lean has serious performance and usability problems. I tried to make this clear in the FAQ document <a href="https://github.com/leanprover/lean/blob/master/doc/faq.md" target="_blank" title="https://github.com/leanprover/lean/blob/master/doc/faq.md">https://github.com/leanprover/lean/blob/master/doc/faq.md</a>. I told the CMU guys many times it was a bad idea to develop mathlib at this point, and that they were going to hit performance problems and bugs. There is no point in promoting the system at this point. It is useful as a playground for trying ideas, but it is not ready for serious use.</p>

<a name="147804573"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147804573" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147804573">Kevin Buzzard (Nov 16 2018 at 08:57)</a>:</h4>
<p>Kenny -- the ideas we are currently trying include "is dependent type theory actually robust enough in practice to deal with definitions and basic properties of the complex objects which serious research level mathematicians use in their daily work" and "is it possible to integrate formal proof verification systems into teaching of undergraduate mathematics". I'm having quite a lot of fun investigating these things. I think it's pretty clear at this point that there are no optimal choices for the underlying software. There are problems with Coq, problems with Lean, problems with Isabelle HOL, problems with univalent foundations -- there seems to me to be currently no good answer to "which system should we use".  I am a mathematician and I cannot really help with these problems, which view as firmly living in the domain of computer science -- deciding whether it's this kind of type theory or that kind of type theory, and how the type class system should work, are not really things I can help with. This still seems to me to be a fairly young research area and what you are seeing is simply the consequences of the nature of cutting edge research. One thing I am convinced of is that to make progress with these questions we absolutely need to have mathematicians using this kind of software, so that is what I am promoting. Without mathematicians we're just going going to get more pieces of software and more proofs of Godel's incompleteness theorem. There is still a long journey ahead though. Maybe the software that mathematicians as a community end up using is some new piece of software that hasn't even been written yet. </p>
<p>One thing I've always been adamant about though is that Lean 3.4.1 is perfectly adequate as a tool for working with undergraduate level mathematics; I see evidence of this time and time again. I have to figure out how to really use it to help more people to actually learn and do undergraduate level mathematics, and this is something I am actively working on, and for which the CS problems are now solved -- Lean 3.4.1 will do fine.</p>

<a name="147804890"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147804890" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147804890">Kenny Lau (Nov 16 2018 at 09:04)</a>:</h4>
<p>how about adding the elaborator attributes back to <code>nat.strong_rec_on</code> and <code>int.induction_on</code>...</p>

<a name="147806828"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147806828" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147806828">Bryan Gin-ge Chen (Nov 16 2018 at 09:44)</a>:</h4>
<p>How hard is it to build a custom version of the lean web editor? Are the instructions at <a href="https://github.com/leanprover/lean-web-editor" target="_blank" title="https://github.com/leanprover/lean-web-editor">the "lean-web-editor" repo</a> still up to date?</p>

<a name="147807616"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147807616" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147807616">Patrick Massot (Nov 16 2018 at 10:03)</a>:</h4>
<p>There was a lot of discussions about this at <a href="https://gitter.im/leanprover_public/lean_js?source=orgpage" target="_blank" title="https://gitter.im/leanprover_public/lean_js?source=orgpage">https://gitter.im/leanprover_public/lean_js?source=orgpage</a></p>

<a name="147808794"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147808794" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147808794">Bryan Gin-ge Chen (Nov 16 2018 at 10:31)</a>:</h4>
<p>I'm having trouble with <a href="https://leanprover.github.io/live/latest/" target="_blank" title="https://leanprover.github.io/live/latest/">the live version of the lean-web-editor</a> in firefox (63.0.3) currently. The editor seems to work fine in Chrome though. In firefox, I'm not getting any messages when I type things like <code>#eval 2+2</code> in the window. If I refresh the window with some <code>#eval</code> code in the URL, then I get multiple <code>eval result</code> messages, but when I start typing it seems to break again. I didn't have these issues a few months ago when I last seriously tried using the editor so maybe some recent changes to firefox has messed things up somehow.</p>

<a name="147808895"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147808895" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147808895">Patrick Massot (Nov 16 2018 at 10:33)</a>:</h4>
<p>I've always had trouble with the web editor in Firefox.</p>

<a name="147809069"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147809069" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147809069">Bryan Gin-ge Chen (Nov 16 2018 at 10:37)</a>:</h4>
<p>Also, I just tried following the instructions on the lean-web-editor repo and things seem to work (in chrome), except that when I tried to create an up-to-date version of <code>library.zip</code> by editing <code>leanpkg.toml</code> and running <code>leanpkg upgrade</code> and then <code>mk_library.py</code>, I get <code>file '/library/init/default.lean' not found</code> in the web-editor (served locally by webpack-dev-server).  Chrome says that <code>library.zip</code> is loading, and when I unzip <code>library.zip</code> I do find <code>init/default.olean</code>.</p>

<a name="147809134"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147809134" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147809134">Bryan Gin-ge Chen (Nov 16 2018 at 10:39)</a>:</h4>
<p>(Everything works fine if I just use the <code>library.zip</code> downloaded using <code>fetch_lean_js.sh</code>)</p>

<a name="147878223"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147878223" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147878223">Bryan Gin-ge Chen (Nov 17 2018 at 13:43)</a>:</h4>
<p>OK, I managed to build a working <code>library.zip</code>. I had changed the <code>lean_version</code> in <code>combined_lib/leanpkg.toml</code> to <code>nightly</code>, so that <code>leanpkg upgrade</code> would put in an up-to-date commit of <code>mathlib</code>. But the instructions say "Make sure you run the same Lean version locally as the javascript version you target", so I changed it back to <code>3.4.1</code> and then running <code>mk_library.py</code> worked.</p>
<p>Still no idea how to solve the firefox issues, but outside of that I support what <span class="user-mention" data-user-id="110087">@Scott Morrison</span> said in the <code>lean_js</code> gitter:</p>
<blockquote>
<p>We might consider adding the lean-web-editor to a travis build, so that there is an online version that is always tracking mathlib (and we get notifications as soon as something breaks).<br>
My guess is that this would be more appropriate at part of the mathlib travis build than the lean build.</p>
</blockquote>
<p>Perhaps we could set up github pages for <code>leanprover-community</code> with a copy of <code>lean-web-editor</code> including an automatically compiled version of <code>mathlib</code>?</p>

<a name="147928323"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/147928323" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#147928323">Bryan Gin-ge Chen (Nov 18 2018 at 19:48)</a>:</h4>
<p>More on firefox issues: After playing around more with <code>lean-web-editor</code> and <code>lean-client-js-browser</code>, I think the issue is with the 3.4.1 wasm builds of lean. In particular, <a href="https://leanprover.github.io/live/3.3.0" target="_blank" title="https://leanprover.github.io/live/3.3.0">the 3.3.0 version</a> works fine for me in firefox. Was something changed between 3.3.0 and 3.4.1  that could have broken firefox compatibility? <span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> <span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span> </p>
<p>Unfortunately, <a href="#narrow/stream/113488-general/subject/lean-web-editor.20not.20compiling.3F/near/124566399" title="#narrow/stream/113488-general/subject/lean-web-editor.20not.20compiling.3F/near/124566399">per earlier discussion here</a>, compiling a wasm build with emscripten requires linux, so it will be hard for me to investigate this further on my own.</p>

<a name="163780716"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/163780716" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#163780716">Bryan Gin-ge Chen (Apr 20 2019 at 02:09)</a>:</h4>
<p>Update: I gave this another shot tonight and I was able to build lean 3.4.2 with emscripten on macOS with a few changes that I'm <a href="https://github.com/leanprover-community/lean/pull/17" target="_blank" title="https://github.com/leanprover-community/lean/pull/17">PR'ing</a> to community lean. In the meantime it also looks like all the Firefox issues have gone away (at least in firefox 66.0.3).</p>

<a name="163781340"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/163781340" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#163781340">Kevin Buzzard (Apr 20 2019 at 02:27)</a>:</h4>
<p>Can you make a build which also imports mathlib and another arbitrary project? For things like an introductory analysis class, this is the sort of thing one would need.</p>

<a name="163781344"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/163781344" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#163781344">Kevin Buzzard (Apr 20 2019 at 02:27)</a>:</h4>
<p>Well done, by the way! I tried all this in 2018 and it was a nightmare.</p>

<a name="163781390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/163781390" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#163781390">Kevin Buzzard (Apr 20 2019 at 02:28)</a>:</h4>
<p><span class="user-mention" data-user-id="132175">@Mohammad Pedramfar</span> this might be of interest to you.</p>

<a name="163781415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/163781415" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#163781415">Simon Hudon (Apr 20 2019 at 02:30)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> I think we could make a build in the mathlib repo to check various versions of Lean against mathlib</p>

<a name="163781458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/163781458" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#163781458">Bryan Gin-ge Chen (Apr 20 2019 at 02:30)</a>:</h4>
<p>Sure, you can do that with the <code>mk_library.py</code> script in lean-web-editor.</p>
<p>My impression was Mohammed was already able to get that working <a href="#narrow/stream/113488-general/topic/Online.20Lean.20editor/near/163220532" title="#narrow/stream/113488-general/topic/Online.20Lean.20editor/near/163220532">here</a> though?</p>

<a name="163781478"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/163781478" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#163781478">Bryan Gin-ge Chen (Apr 20 2019 at 02:31)</a>:</h4>
<p><span class="user-mention" data-user-id="110026">@Simon Hudon</span> maybe we could have a community version of the lean web editor with an up-to-date version of mathlib / other libraries?</p>

<a name="163781527"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/163781527" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#163781527">Kevin Buzzard (Apr 20 2019 at 02:32)</a>:</h4>
<p>The last time I talked to him, it "worked" in the sense that if you went to the firefox page and then waited for ten minutes, everything would finish compiling and then things would work fine.</p>

<a name="163781531"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/163781531" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#163781531">Simon Hudon (Apr 20 2019 at 02:33)</a>:</h4>
<p>I'm all for but I know next to nothing about the web editor</p>

<a name="163781592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/163781592" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#163781592">Kevin Buzzard (Apr 20 2019 at 02:34)</a>:</h4>
<p>If I can get lean + mathlib + xena running with zero start-up time in the Lean web editor I might be able to persuade my department to pay for hosting, because I will be able to use it for teaching.</p>

<a name="163781596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/163781596" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#163781596">Kevin Buzzard (Apr 20 2019 at 02:34)</a>:</h4>
<p>xena is just an example -- any repo which I can update and then recompile and get it all working, reliably, will do.</p>

<a name="163781667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/163781667" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#163781667">Kevin Buzzard (Apr 20 2019 at 02:37)</a>:</h4>
<p>(deleted)</p>

<a name="163781797"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/163781797" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#163781797">Bryan Gin-ge Chen (Apr 20 2019 at 02:40)</a>:</h4>
<p>On my laptop the editor starts working after a few seconds or so (including downloading files into the browser cache, etc.), though I'm just using mathlib and the other default libraries in the lean-web-editor leanpkg.toml . I haven't tried other packages there yet.</p>

<a name="163781810"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/163781810" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#163781810">Simon Hudon (Apr 20 2019 at 02:41)</a>:</h4>
<p>There is something in the Haskell community called Stackage. It's a curated collection of Haskell packages together with a version GHC (the main Haskell compiler) in which all the packages work together. I'd like to do that with Lean. Have a monthly snapshot of the Lean ecosystem in such a way that all the versions picked for every package work together. We make sure to test all of them together.</p>

<a name="163866745"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/163866745" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#163866745">Mohammad Pedramfar (Apr 21 2019 at 20:42)</a>:</h4>
<blockquote>
<p>The last time I talked to him, it "worked" in the sense that if you went to the firefox page and then waited for ten minutes, everything would finish compiling and then things would work fine.</p>
</blockquote>
<p>Oh, that problem is solved now. What I put up in github can turn a Lean code and turn it into an interactive version that works as fast as the original online lean. (It imports more things which can slow it down, otherwise it's the same). <br>
I couldn't build lean with emscripten, so the code would download compiled lean javascript server.</p>

<a name="165682056"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/165682056" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#165682056">Bryan Gin-ge Chen (May 15 2019 at 03:01)</a>:</h4>
<p>Another update: <a href="https://github.com/leanprover-community/lean-nightly/releases" target="_blank" title="https://github.com/leanprover-community/lean-nightly/releases">the nightly releases</a> of the community fork of Lean 3 now include the Emscripten build! If you want to try building it yourself, see <a href="https://github.com/leanprover-community/lean/blob/master/doc/make/index.md#building-js--wasm-binaries-with-emscripten" target="_blank" title="https://github.com/leanprover-community/lean/blob/master/doc/make/index.md#building-js--wasm-binaries-with-emscripten">these instructions</a>. Thanks to <span class="user-mention" data-user-id="220270">@James King</span>, <span class="user-mention" data-user-id="110043">@Gabriel Ebner</span>, and especially <span class="user-mention" data-user-id="110026">@Simon Hudon</span> for their help! </p>
<p>You can <a href="https://bryangingechen.github.io/lean/lean-web-editor/" target="_blank" title="https://bryangingechen.github.io/lean/lean-web-editor/">try it out online</a> with a recent build of mathlib, where it powers <a href="https://github.com/bryangingechen/lean-web-editor/tree/ui" target="_blank" title="https://github.com/bryangingechen/lean-web-editor/tree/ui">a fork of the <code>lean-web-editor</code></a>. In the fork, I added:</p>
<ul>
<li>a form to load <code>.lean</code> files from the web (try pasting a "raw" link from github like <a href="https://raw.githubusercontent.com/leanprover-community/mathlib/master/src/meta/rb_map.lean" target="_blank" title="https://raw.githubusercontent.com/leanprover-community/mathlib/master/src/meta/rb_map.lean">this</a> into the form). You can also append <code>#url=https://url/to/file.lean</code> to the link, like <a href="https://bryangingechen.github.io/lean/lean-web-editor/#url=https%3A%2F%2Fraw.githubusercontent.com%2Fleanprover-community%2Fmathlib%2Fmaster%2Fsrc%2Fmeta%2Frb_map.lean" target="_blank" title="https://bryangingechen.github.io/lean/lean-web-editor/#url=https%3A%2F%2Fraw.githubusercontent.com%2Fleanprover-community%2Fmathlib%2Fmaster%2Fsrc%2Fmeta%2Frb_map.lean">this</a>,</li>
<li>a button to load a <code>.lean</code> file from your computer into the editor,</li>
<li>a save button,</li>
<li>a basic "about" window (click the little purple ? button),</li>
<li>the ability to hide/show the header (click the colored bar at the very top), and</li>
<li>type information and docstrings for the term under the cursor are now displayed in the info view.<br>
I also worked around an issue where the cursor position was incorrectly placed after inputting Unicode.</li>
</ul>
<p>There are a few non-UI changes: I <a href="https://github.com/bryangingechen/lean-web-editor/blob/ui/mk_library.py" target="_blank" title="https://github.com/bryangingechen/lean-web-editor/blob/ui/mk_library.py">updated the <code>mk_library.py</code> script</a> to compress <code>library.zip</code> (which cuts its size by a factor of 4) and also gave it command-line options. Finally, I <a href="https://github.com/bryangingechen/lean-client-js/tree/cache" target="_blank" title="https://github.com/bryangingechen/lean-client-js/tree/cache">edited the <code>lean-client-js-browser</code> dependency</a> so this web editor's version of <code>library.zip</code> will be cached in your browser's IndexedDB storage and only be re-downloaded if necessary (this seems to be more reliable than the browser cache).</p>

<a name="165686877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/165686877" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#165686877">Johan Commelin (May 15 2019 at 05:10)</a>:</h4>
<p>Wow, nice work! <span class="user-mention" data-user-id="123965">@Bryan Gin-ge Chen</span> (and all the others)</p>

<a name="167352813"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/167352813" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#167352813">Scott Morrison (Jun 05 2019 at 02:32)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="123965">@Bryan Gin-ge Chen</span>, how hard would it be to get a version online that uses a branch of mathlib?</p>

<a name="167353999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/167353999" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#167353999">Bryan Gin-ge Chen (Jun 05 2019 at 03:02)</a>:</h4>
<p>Not hard at all; I tried to update the instructions in my fork <a href="https://github.com/bryangingechen/lean-web-editor/" target="_blank" title="https://github.com/bryangingechen/lean-web-editor/">here</a>.</p>

<a name="167354096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/167354096" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#167354096">Bryan Gin-ge Chen (Jun 05 2019 at 03:05)</a>:</h4>
<p>Which branch were you thinking of using? I can quickly upload another copy of the page if you want to just experiment with it.</p>

<a name="167354529"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/167354529" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#167354529">Scott Morrison (Jun 05 2019 at 03:16)</a>:</h4>
<p>Hmm... could you do <code>back</code>?</p>

<a name="167354532"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/167354532" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#167354532">Scott Morrison (Jun 05 2019 at 03:16)</a>:</h4>
<p>That would be amazingly lovely, and I would use it in a talk tomorrow.</p>

<a name="167354557"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/167354557" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#167354557">Scott Morrison (Jun 05 2019 at 03:18)</a>:</h4>
<p>hang on one sec, let me commit a few final things to it :-)</p>

<a name="167354635"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/167354635" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#167354635">Bryan Gin-ge Chen (Jun 05 2019 at 03:19)</a>:</h4>
<p>Yeah, it looks like it's not building at the moment...</p>

<a name="167354775"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/167354775" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#167354775">Bryan Gin-ge Chen (Jun 05 2019 at 03:22)</a>:</h4>
<p>Oh wait, how do I use a custom branch in leanpkg.toml again? I tried changing the commit and it doesn't seem to be working</p>

<a name="167355130"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/167355130" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#167355130">Bryan Gin-ge Chen (Jun 05 2019 at 03:31)</a>:</h4>
<p>Ah, I think I got it. Apparently comments aren't supported in leanpkg.toml.</p>

<a name="167355615"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/167355615" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#167355615">Scott Morrison (Jun 05 2019 at 03:43)</a>:</h4>
<p>I think I have decided my branch is too messy to actually give to people to use tomorrow</p>

<a name="167355616"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/167355616" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#167355616">Scott Morrison (Jun 05 2019 at 03:43)</a>:</h4>
<p>but I will be back to ask about this after tomorrow :-)</p>

<a name="168404998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/168404998" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#168404998">Wojciech Nawrocki (Jun 18 2019 at 14:16)</a>:</h4>
<p>I came across this today: <a href="https://jscoq.github.io/" target="_blank" title="https://jscoq.github.io/">https://jscoq.github.io/</a></p>

<a name="168407413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/168407413" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#168407413">Bryan Gin-ge Chen (Jun 18 2019 at 14:42)</a>:</h4>
<p>I saw this a few weeks ago too. I don't know enough (any) Coq to play around with it, but one feature it has which the lean-web-editor is missing is a "package manager" which loads Coq packages in the background as needed. I've been messing around with getting the lean-web-editor to be able to load different ZIP bundles on-the-fly, but it seems it would be much harder to get it to download only the necessary .olean files.</p>

<a name="168774880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/168774880" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#168774880">Simon Hudon (Jun 23 2019 at 02:41)</a>:</h4>
<p><span class="user-mention" data-user-id="123965">@Bryan Gin-ge Chen</span>, I see you have Lean 3.5 running at <a href="https://bryangingechen.github.io/lean/lean-web-editor/" target="_blank" title="https://bryangingechen.github.io/lean/lean-web-editor/">https://bryangingechen.github.io/lean/lean-web-editor/</a>. Can we get it hosted on <code>leanprover-community</code>?</p>

<a name="168774939"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/168774939" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#168774939">Bryan Gin-ge Chen (Jun 23 2019 at 02:43)</a>:</h4>
<p>Sure, it should just work if you mirror the files in <a href="https://github.com/bryangingechen/bryangingechen.github.io/tree/master/lean/lean-web-editor" target="_blank" title="https://github.com/bryangingechen/bryangingechen.github.io/tree/master/lean/lean-web-editor">this repo</a>.</p>

<a name="168775038"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/168775038" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#168775038">Bryan Gin-ge Chen (Jun 23 2019 at 02:47)</a>:</h4>
<p>I'm about to push a new version with some minor changes and update mathlib too.</p>

<a name="168775044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/168775044" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#168775044">Simon Hudon (Jun 23 2019 at 02:47)</a>:</h4>
<p>Cool, thanks! Would you mind creating a PR and link to it from <a href="https://github.com/leanprover-community/leanprover-community.github.io" target="_blank" title="https://github.com/leanprover-community/leanprover-community.github.io">https://github.com/leanprover-community/leanprover-community.github.io</a>?</p>

<a name="168775400"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/168775400" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#168775400">Bryan Gin-ge Chen (Jun 23 2019 at 02:59)</a>:</h4>
<p>Sure, but what do you think the best approach is? I've been force-pushing a lot in my <a href="http://github.io" target="_blank" title="http://github.io">github.io</a> repo in an attempt to avoid having lots and lots of versions of the library.zip file in the git history.</p>

<a name="168816629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/168816629" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#168816629">Bryan Gin-ge Chen (Jun 24 2019 at 01:51)</a>:</h4>
<p><span class="user-mention" data-user-id="110026">@Simon Hudon</span> <a href="https://github.com/leanprover-community/leanprover-community.github.io/pull/4" target="_blank" title="https://github.com/leanprover-community/leanprover-community.github.io/pull/4">PR here</a>. Thanks to <span class="user-mention" data-user-id="110087">@Scott Morrison</span> for hosting a bunch of files on <a href="http://tqft.net" target="_blank" title="http://tqft.net">tqft.net</a>!</p>

<a name="169085049"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169085049" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169085049">Bryan Gin-ge Chen (Jun 26 2019 at 22:08)</a>:</h4>
<p>The new version of the <code>lean-web-editor</code> is now hosted on the community github site! Not much has changed but it's a more official-looking link: <a href="https://leanprover-community.github.io/lean-web-editor" target="_blank" title="https://leanprover-community.github.io/lean-web-editor">https://leanprover-community.github.io/lean-web-editor</a> </p>
<p>Note that if you're using the uBlock extension to block ads, you will need to add the following custom filter in order for the editor to work properly: <code>@@||*$xmlhttprequest,domain=leanprover-community.github.io</code> due to <a href="https://github.com/uBlockOrigin/uAssets/issues/2309" target="_blank" title="https://github.com/uBlockOrigin/uAssets/issues/2309">the rule discussed here</a>.</p>

<a name="169390768"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169390768" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169390768">Patrick Massot (Jul 01 2019 at 12:30)</a>:</h4>
<p>Does anyone managed to use the <code>Load .lean from URL:</code> input from <a href="https://leanprover-community.github.io/lean-web-editor/" target="_blank" title="https://leanprover-community.github.io/lean-web-editor/">https://leanprover-community.github.io/lean-web-editor/</a>? My browser keeps complaining about Cross-origin request security things</p>

<a name="169391530"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169391530" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169391530">Patrick Massot (Jul 01 2019 at 12:40)</a>:</h4>
<p>It does work if I copy the web-editor to my webpage. <span class="user-mention" data-user-id="123965">@Bryan Gin-ge Chen</span> Is there a way to update the translations file, and maybe also to change the leader key? Even better, could we have the Tab key to trigger translations as in the VScode plugin? Is there any way to have custom imports without modifying <code>library.zip</code>?</p>

<a name="169392288"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169392288" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169392288">Mario Carneiro (Jul 01 2019 at 12:52)</a>:</h4>
<p>do you have any particular URLs as an example? I tried a few things and it seems to work</p>

<a name="169392308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169392308" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169392308">Mario Carneiro (Jul 01 2019 at 12:52)</a>:</h4>
<p>also what browser are you using?</p>

<a name="169392318"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169392318" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169392318">Patrick Massot (Jul 01 2019 at 12:52)</a>:</h4>
<p>Firefox</p>

<a name="169392395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169392395" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169392395">Patrick Massot (Jul 01 2019 at 12:54)</a>:</h4>
<p>Could you try <a href="https://www.math.u-psud.fr/~pmassot/enseignement/math114/tds/td1/td1.lean" target="_blank" title="https://www.math.u-psud.fr/~pmassot/enseignement/math114/tds/td1/td1.lean">https://www.math.u-psud.fr/~pmassot/enseignement/math114/tds/td1/td1.lean</a> for instance?</p>

<a name="169392424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169392424" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169392424">Patrick Massot (Jul 01 2019 at 12:54)</a>:</h4>
<p>It works in <a href="https://www.math.u-psud.fr/~pmassot/lean-web/#url=https%3A%2F%2Fwww.math.u-psud.fr%2F~pmassot%2Fenseignement%2Fmath114%2Ftds%2Ftd1%2Ftd1.lean" target="_blank" title="https://www.math.u-psud.fr/~pmassot/lean-web/#url=https%3A%2F%2Fwww.math.u-psud.fr%2F~pmassot%2Fenseignement%2Fmath114%2Ftds%2Ftd1%2Ftd1.lean">https://www.math.u-psud.fr/~pmassot/lean-web/#url=https%3A%2F%2Fwww.math.u-psud.fr%2F~pmassot%2Fenseignement%2Fmath114%2Ftds%2Ftd1%2Ftd1.lean</a> but not on the official website</p>

<a name="169392552"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169392552" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169392552">Mario Carneiro (Jul 01 2019 at 12:56)</a>:</h4>
<p>ah yeah I get the same error:</p>
<blockquote>
<p>Cross-Origin Request Blocked: The Same Origin Policy disallows reading the remote resource at <a href="https://www.math.u-psud.fr/~pmassot/enseignement/math114/tds/td1/td1.lean" target="_blank" title="https://www.math.u-psud.fr/~pmassot/enseignement/math114/tds/td1/td1.lean">https://www.math.u-psud.fr/~pmassot/enseignement/math114/tds/td1/td1.lean</a>. (Reason: CORS header Access-Control-Allow-Origin missing). <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS/Errors/CORSMissingAllowOrigin?utm_source=devtools&amp;utm_medium=firefox-cors-errors&amp;utm_campaign=default" target="_blank" title="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS/Errors/CORSMissingAllowOrigin?utm_source=devtools&amp;utm_medium=firefox-cors-errors&amp;utm_campaign=default">[Learn more]</a></p>
<p>TypeError: NetworkError when attempting to fetch resource.</p>
</blockquote>

<a name="169392599"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169392599" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169392599">Mario Carneiro (Jul 01 2019 at 12:57)</a>:</h4>
<p>still, there is a fix suggested in the error itself. Is it possible to serve this header?</p>

<a name="169392616"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169392616" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169392616">Patrick Massot (Jul 01 2019 at 12:57)</a>:</h4>
<p>serve from where?</p>

<a name="169392725"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169392725" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169392725">Mario Carneiro (Jul 01 2019 at 12:59)</a>:</h4>
<p>oh, that's actually a good question. I'm not sure if github needs to serve it or <a href="http://u-psud.fr" target="_blank" title="http://u-psud.fr">u-psud.fr</a></p>

<a name="169392765"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169392765" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169392765">Patrick Massot (Jul 01 2019 at 13:00)</a>:</h4>
<p>what kind of url did you try when you wrote it worked?</p>

<a name="169392828"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169392828" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169392828">Mario Carneiro (Jul 01 2019 at 13:00)</a>:</h4>
<p>GitHub raw lean files</p>

<a name="169392838"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169392838" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169392838">Mario Carneiro (Jul 01 2019 at 13:00)</a>:</h4>
<p>It's possible that GH-pages is actually on the same origin for that</p>

<a name="169392842"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169392842" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169392842">Patrick Massot (Jul 01 2019 at 13:00)</a>:</h4>
<p>Oh but that probably counts as "same origin"</p>

<a name="169392845"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169392845" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169392845">Patrick Massot (Jul 01 2019 at 13:00)</a>:</h4>
<p>yes</p>

<a name="169392869"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169392869" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169392869">Mario Carneiro (Jul 01 2019 at 13:01)</a>:</h4>
<p>In any case I'm not particularly surprised that this has happened. Browser security policies mostly don't allow unrelated sites to talk to each other like this</p>

<a name="169392950"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169392950" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169392950">Patrick Massot (Jul 01 2019 at 13:02)</a>:</h4>
<p>Then I think the Lean web editor should print something instead of hoping the user will open the dev console and check for errors...</p>

<a name="169393021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169393021" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169393021">Patrick Massot (Jul 01 2019 at 13:02)</a>:</h4>
<p>Anyway I think I'll use a self hosted Lean web-editor since I need extra supporting Lean files</p>

<a name="169393053"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169393053" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169393053">Patrick Massot (Jul 01 2019 at 13:02)</a>:</h4>
<p>The translations and leader key questions are actually more important then</p>

<a name="169393073"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169393073" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169393073">Bryan Gin-ge Chen (Jul 01 2019 at 13:03)</a>:</h4>
<p>Re: CORS errors, to fix them directly, you'd have to talk to the server admin of <code>www.math.u-psud.fr</code> and get them to add <code>Access-Control-Allow-Origin: *</code> to the http response. One easy workaround is to use a CORS proxy, one that I just got to work was to use <a href="https://cors-anywhere.herokuapp.com" target="_blank" title="https://cors-anywhere.herokuapp.com">cors-anywhere</a>, i.e. paste the URL:<code>https://cors-anywhere.herokuapp.com/https://www.math.u-psud.fr/~pmassot/enseignement/math114/tds/td1/td1.lean</code> into the web-editor's url form.</p>

<a name="169393132"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169393132" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169393132">Patrick Massot (Jul 01 2019 at 13:03)</a>:</h4>
<p>That's an interesting security feature...</p>

<a name="169393661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169393661" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169393661">Bryan Gin-ge Chen (Jul 01 2019 at 13:10)</a>:</h4>
<p>I should be able to update the translations without too much trouble (what I may do is just fetch the most recent translations file from the vscode-lean github). The tab key thing will be a bit tougher, as it'll require me to figure out how to add new keybinds to the monaco editor.</p>

<a name="169393748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169393748" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169393748">Patrick Massot (Jul 01 2019 at 13:11)</a>:</h4>
<p>Is there any access to this project for us? Do we have a community version somewhere? Or is it only the official repo and your private stuff? Is there any build documentation? I don't know much javascript but maybe other people could help</p>

<a name="169393827"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169393827" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169393827">Bryan Gin-ge Chen (Jul 01 2019 at 13:12)</a>:</h4>
<p>My fork isn't private, and I'd gladly accept contributions: <a href="https://github.com/bryangingechen/lean-web-editor" target="_blank" title="https://github.com/bryangingechen/lean-web-editor">https://github.com/bryangingechen/lean-web-editor</a></p>
<p>I did try to add to the documentation in the README, do let me know if you need any additional instructions</p>

<a name="169393867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169393867" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169393867">Bryan Gin-ge Chen (Jul 01 2019 at 13:13)</a>:</h4>
<p>There should be a working link to that repo in the popup that appears if you click the purple ? button in the "header" of the web editor.</p>

<a name="169394119"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169394119" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169394119">Patrick Massot (Jul 01 2019 at 13:16)</a>:</h4>
<p>Thanks! I was looking at the wrong repo (<a href="https://github.com/bryangingechen/bryangingechen.github.io/tree/master/lean/lean-web-editor" target="_blank" title="https://github.com/bryangingechen/bryangingechen.github.io/tree/master/lean/lean-web-editor">https://github.com/bryangingechen/bryangingechen.github.io/tree/master/lean/lean-web-editor</a>)</p>

<a name="169479963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169479963" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169479963">Patrick Massot (Jul 02 2019 at 13:24)</a>:</h4>
<p><span class="user-mention" data-user-id="123965">@Bryan Gin-ge Chen</span> I tried following the instructions at <a href="https://github.com/bryangingechen/lean-web-editor" target="_blank" title="https://github.com/bryangingechen/lean-web-editor">https://github.com/bryangingechen/lean-web-editor</a> and <a href="https://github.com/bryangingechen/lean-client-js" target="_blank" title="https://github.com/bryangingechen/lean-client-js">https://github.com/bryangingechen/lean-client-js</a> but failed completely. I think I managed to get a recent <code>node+npm</code>that doesn't complain. But then running <code>npm run demo</code> inside <code>lean-client-js</code> fails with various messages depending on where I try to put the content of <a href="https://github.com/leanprover-community/lean-nightly/releases/download/nightly-2019-06-24/lean-3.5.0-nightly-2019-06-24-browser.zip" target="_blank" title="https://github.com/leanprover-community/lean-nightly/releases/download/nightly-2019-06-24/lean-3.5.0-nightly-2019-06-24-browser.zip">https://github.com/leanprover-community/lean-nightly/releases/download/nightly-2019-06-24/lean-3.5.0-nightly-2019-06-24-browser.zip</a></p>

<a name="169480245"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169480245" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169480245">Patrick Massot (Jul 02 2019 at 13:28)</a>:</h4>
<p>I manage to run the web editor simply by cloning <a href="https://github.com/bryangingechen/leanprover-community.github.io/tree/master/lean-web-editor" target="_blank" title="https://github.com/bryangingechen/leanprover-community.github.io/tree/master/lean-web-editor">https://github.com/bryangingechen/leanprover-community.github.io/tree/master/lean-web-editor</a> and opening the index page. Now I only want to add one library in addition to mathlib. Is there anything I can do which would not involve the crazy npm stack? Naively I would try to compile my lib using the community Lean 3.5 and hope to follow <a href="https://github.com/bryangingechen/lean-web-editor#creating-a-customized-libraryzip" target="_blank" title="https://github.com/bryangingechen/lean-web-editor#creating-a-customized-libraryzip">https://github.com/bryangingechen/lean-web-editor#creating-a-customized-libraryzip</a>. Is that hopeless?</p>

<a name="169481646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169481646" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169481646">Patrick Massot (Jul 02 2019 at 13:46)</a>:</h4>
<p>I give up until Bryan comes back. There is too much guesswork involved.</p>

<a name="169481718"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169481718" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169481718">Patrick Massot (Jul 02 2019 at 13:47)</a>:</h4>
<p>I can't even manage to use the community fork of Lean with mathlib</p>

<a name="169481811"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169481811" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169481811">Patrick Massot (Jul 02 2019 at 13:48)</a>:</h4>
<p>I get wonderful errors like "WARNING: Lean version mismatch: installed version is nightly-2019-06-24, but package requires leanprover-community-lean-nightly"</p>

<a name="169484103"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169484103" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169484103">Rob Lewis (Jul 02 2019 at 14:12)</a>:</h4>
<p>Hmm. The version at <a href="http://leanprover-community.github.io" target="_blank" title="http://leanprover-community.github.io">leanprover-community.github.io</a> is failing now with the error <code>The script at 'https://leanprover-community.github.io/lean-web-editor/lean_js_wasm.js' failed to load.</code></p>

<a name="169484157"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169484157" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169484157">Patrick Massot (Jul 02 2019 at 14:13)</a>:</h4>
<p>I didn't touch anything there!</p>

<a name="169484243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169484243" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169484243">Rob Lewis (Jul 02 2019 at 14:14)</a>:</h4>
<p>Oh, I wasn't blaming you, just another note for Bryan when he gets back!</p>

<a name="169486235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169486235" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169486235">Bryan Gin-ge Chen (Jul 02 2019 at 14:36)</a>:</h4>
<p>Oops! I'll fix the community lean web editor shortly. I forgot to change the URLs to point to Scott's site.</p>

<a name="169486401"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169486401" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169486401">Bryan Gin-ge Chen (Jul 02 2019 at 14:39)</a>:</h4>
<blockquote>
<p>I manage to run the web editor simply by cloning <a href="https://github.com/bryangingechen/leanprover-community.github.io/tree/master/lean-web-editor" target="_blank" title="https://github.com/bryangingechen/leanprover-community.github.io/tree/master/lean-web-editor">https://github.com/bryangingechen/leanprover-community.github.io/tree/master/lean-web-editor</a> and opening the index page. Now I only want to add one library in addition to mathlib. Is there anything I can do which would not involve the crazy npm stack? Naively I would try to compile my lib using the community Lean 3.5 and hope to follow <a href="https://github.com/bryangingechen/lean-web-editor#creating-a-customized-libraryzip" target="_blank" title="https://github.com/bryangingechen/lean-web-editor#creating-a-customized-libraryzip">https://github.com/bryangingechen/lean-web-editor#creating-a-customized-libraryzip</a>. Is that hopeless?</p>
</blockquote>
<p>Sorry about the npm trouble. This second approach should indeed be possible. Let me try to figure out what's going on here.</p>

<a name="169486488"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169486488" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169486488">Bryan Gin-ge Chen (Jul 02 2019 at 14:40)</a>:</h4>
<blockquote>
<p>I get wonderful errors like "WARNING: Lean version mismatch: installed version is nightly-2019-06-24, but package requires leanprover-community-lean-nightly"</p>
</blockquote>
<p>This warning in particular is harmless; could you share the rest of the output of <code>mk_library.py</code>?</p>

<a name="169486511"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169486511" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169486511">Bryan Gin-ge Chen (Jul 02 2019 at 14:40)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span></p>

<a name="169487877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169487877" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169487877">Patrick Massot (Jul 02 2019 at 14:55)</a>:</h4>
<p>Unfortunately I had to go back home where internet is currently broken (except on my phone). Could you try to document the full procedure to get a Lean web using a custom library built on top of mathlib?</p>

<a name="169489667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169489667" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169489667">Bryan Gin-ge Chen (Jul 02 2019 at 15:17)</a>:</h4>
<p>So the first few steps are as in the instructions on my <code>lean-web-editor</code> README you linked. Afterwards, if you copied the contents of the lean-web-editor directory from the <a href="http://bryangingechen.github.io" target="_blank" title="http://bryangingechen.github.io">bryangingechen.github.io</a> repo somewhere, you'll overwrite its <code>library.zip</code>, <code>library.info.json</code>, and <code>library.olean_map.json</code> with the files generated by <code>mk_library.py</code>.</p>
<p>Something seems to be unclear / wrong in the instructions I wrote in the README. It sounds like something is going wrong in step 4 when you're running <code>mk_library.py</code> but I need more output to figure out what is happening.</p>

<a name="169490307"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169490307" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169490307">Patrick Massot (Jul 02 2019 at 15:25)</a>:</h4>
<p>Unclear (to me) sentences include: "If you plan to use the prebuilt JS/WASM versions of Lean," and "lean_version needs to point to the same version of Lean as the Emscripten build of Lean you plan to use. "</p>

<a name="169490405"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169490405" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169490405">Patrick Massot (Jul 02 2019 at 15:26)</a>:</h4>
<p>I have no idea which version I'm using when I clone the community <a href="http://github.io" target="_blank" title="http://github.io">github.io</a> site</p>

<a name="169490776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169490776" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169490776">Bryan Gin-ge Chen (Jul 02 2019 at 15:30)</a>:</h4>
<p>The first sentence should perhaps say "If you plan to use the prebuilt JS/WASM versions of Lean downloaded from the leanprover-community/lean-nightly site, i.e. if you are not compiling Lean with emscripten yourself".</p>

<a name="169490971"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169490971" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169490971">Patrick Massot (Jul 02 2019 at 15:33)</a>:</h4>
<p>Ok, let's say I want to use such a download. What version of mathlib should I use then? More to the point: where are the corresponding mathlib binaries?</p>

<a name="169490992"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169490992" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169490992">Bryan Gin-ge Chen (Jul 02 2019 at 15:33)</a>:</h4>
<p>The second sentence needs to be rewritten completely. I realized that my instructions will give rise to the confusing warning you pointed out above. However, for current purposes, you can ignore it safely.</p>
<p>Also, I would suggest not cloning the community <a href="http://github.io" target="_blank" title="http://github.io">github.io</a> repo, but rather the files in the <code>bryangingechen.github.io</code> repo instead because the version of the web editor app in the community repo grabs the dependencies from Scott's page rather than from the local folder.</p>

<a name="169491093"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169491093" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169491093">Bryan Gin-ge Chen (Jul 02 2019 at 15:34)</a>:</h4>
<p>You will have to recompile mathlib yourself since the olean files provided by e.g. <code>update-mathlib</code> are compiled with Lean 3.4.2, but the web-editor uses some version of Lean 3.5.0c</p>

<a name="169491126"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169491126" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169491126">Bryan Gin-ge Chen (Jul 02 2019 at 15:34)</a>:</h4>
<p>But the <code>mk_library.py</code> script will take care of compiling mathlib for you if you have edited <code>leanpkg.toml</code> as in the instructions (ignoring the harmless warning mentioned above).</p>

<a name="169491181"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169491181" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169491181">Bryan Gin-ge Chen (Jul 02 2019 at 15:35)</a>:</h4>
<p>You can put any commit of mathlib that you need in <code>combined_lib/leanpkg.toml</code>.</p>

<a name="169492023"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169492023" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169492023">Patrick Massot (Jul 02 2019 at 15:46)</a>:</h4>
<p>Ok, we really need Lean 3.5.0 versions of precompiled mathlib then. Compiling mathlib should happen only when working on mathlib</p>

<a name="169492077"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169492077" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169492077">Patrick Massot (Jul 02 2019 at 15:47)</a>:</h4>
<p>Thanks for all those explanations. I'll try again as soon as I'll get back to an internet enabled computer.</p>

<a name="169492115"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169492115" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169492115">Mario Carneiro (Jul 02 2019 at 15:47)</a>:</h4>
<p>The whole point behind the 3.5.0 release is to be compatible with 3.4.2</p>

<a name="169492168"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169492168" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169492168">Mario Carneiro (Jul 02 2019 at 15:48)</a>:</h4>
<p>3.5.1 is the backward-incompatible release</p>

<a name="169492180"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169492180" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169492180">Bryan Gin-ge Chen (Jul 02 2019 at 15:48)</a>:</h4>
<p>I agree about having precompiled mathlib. I meant to look into this with <span class="user-mention" data-user-id="110026">@Simon Hudon</span> but forgot.</p>
<p>No problem! Your questions should help me improve the process.</p>

<a name="169492196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169492196" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169492196">Mario Carneiro (Jul 02 2019 at 15:48)</a>:</h4>
<p>I think the warning should just be ignorable</p>

<a name="169492253"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169492253" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169492253">Mario Carneiro (Jul 02 2019 at 15:49)</a>:</h4>
<p>The olean files get the exact version number baked into them (down to the commit) so it's pretty likely for those to mismatch but that doesn't guarantee incompatibility unless lean has some silly requirement on top of everything else</p>

<a name="169492321"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169492321" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169492321">Bryan Gin-ge Chen (Jul 02 2019 at 15:50)</a>:</h4>
<p>It's true that it's compatible, but unfortunately Lean still checks the version info in the olean file under the hood and refuses to accept it if it differs. If I remember correctly there is a compile option to have Lean ignore that but it didn't seem like a good idea to turn it on even for the Emscripten build.</p>

<a name="169492357"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169492357" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169492357">Mario Carneiro (Jul 02 2019 at 15:50)</a>:</h4>
<p>I think we should just turn that check off then</p>

<a name="169492535"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169492535" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169492535">Mario Carneiro (Jul 02 2019 at 15:53)</a>:</h4>
<p>Given how we are trafficking in olean files a lot more than they were originally intended for, it's better to just try to load them and hope for the best. I don't think we are likely to change the serialization format in community lean any time soon</p>

<a name="169492679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169492679" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169492679">Mario Carneiro (Jul 02 2019 at 15:54)</a>:</h4>
<p>It would be much better if the olean serialization had its own versioning system, because the vast majority of commits don't touch it</p>

<a name="169493120"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169493120" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169493120">Bryan Gin-ge Chen (Jul 02 2019 at 16:00)</a>:</h4>
<p>Right, that makes sense. It's even better for Emscripten Lean since the library/init files are bundled with library.zip. If someone wants to PR this, <a href="https://github.com/leanprover-community/lean/blob/master/src/CMakeLists.txt#L60" target="_blank" title="https://github.com/leanprover-community/lean/blob/master/src/CMakeLists.txt#L60">here's the relevant line</a>.</p>

<a name="169562150"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169562150" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169562150">Patrick Massot (Jul 03 2019 at 12:36)</a>:</h4>
<p><span class="user-mention" data-user-id="123965">@Bryan Gin-ge Chen</span> I managed to run lean-web-editor with a custom library build on top of mathlib. Thank you very much for your help! Here are my notes/issue list:</p>
<ul>
<li>I cloned mathlib, changed its <code>leanpkg.toml</code> so that it contains <code>lean_version = "leanprover-community-lean-nightly"</code></li>
<li>I compiled mathlib, ignoring the lean version mismatch warning</li>
<li>In my custom lib <code>leanpkg.toml</code>, I used the same <code>lean_version</code> line as above, and in the <code>[dependencies]</code> section, I used <code>mathlib = { path = "/home/pmassot/lean/mathlib_3.5" }</code> featuring the path to my version of mathlib compiled using community Lean.</li>
<li>
<p>I cloned <code>https://github.com/bryangingechen/lean-web-editor</code> and edited <code>combined_lib/leanpkg.toml</code> to contain <br>
<code>
    [package]
    name = "combined_lib"
    version = "3.5.0"
    lean_version = "leanprover-community-lean-nightly"
    [dependencies]
    mathlib = {path = "/home/pmassot/lean/mathlib_3.5/"}
    lib114 = {path = "/home/pmassot/lean/lib114/"}
    </code><br>
  where <code>lib114</code> is my custom lib built on top of mathlib. </p>
</li>
<li>
<p>Then I first to run <code>mk_library.py</code>. On the first try it complained the directory <code>dist</code> did not exist. So I created it. Then it complained my custom lib had no GitHub url. So I edited <code>mk_library.py</code> to use empty <code>lib_info[lib_name]</code> when the regex looking for GitHub failed. Then the script succeeded.</p>
</li>
<li>Then I cloned <code>https://github.com/bryangingechen/bryangingechen.github.io</code>, copied the content of <code>lean/lean-web-editor</code> to my website, and copied the three files created by <code>mk_library.py</code> into that directory in place of <a href="https://github.com/bryangingechen/bryangingechen.github.io/blob/master/lean/lean-web-editor/libcore.olean_map.json" target="_blank" title="https://github.com/bryangingechen/bryangingechen.github.io/blob/master/lean/lean-web-editor/libcore.olean_map.json">https://github.com/bryangingechen/bryangingechen.github.io/blob/master/lean/lean-web-editor/libcore.olean_map.json</a> and its two friends.</li>
</ul>
<p>That's all! It could clear use some ironing, but it works. TODO list:</p>
<ul>
<li>solving the olean versionning check issue in Lean community</li>
<li>providing mathlib nightly compiled by community Lean 3.5.0, with a corresponding <code>leanpkg.toml</code></li>
<li>disentangling <code>combined_lib</code> from the <code>lean-web-editor</code> repository, so that we don't need to edit the git repository to use the tool.</li>
<li>fix the non-existent <code>dist</code> folder and GitHub url check bugs in <code>mk_library.py</code></li>
<li>make a user friendly script that download the precompiled website from <code>https://github.com/bryangingechen/bryangingechen.github.io</code>and move the output of <code>mk_library.py</code></li>
<li>Document all that!<br>
Thanks for all your work and help!</li>
</ul>

<a name="169567837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169567837" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169567837">Patrick Massot (Jul 03 2019 at 13:51)</a>:</h4>
<p>Next, I'll need to investigate <span class="user-mention" data-user-id="132175">@Mohammad Pedramfar</span>'s effort to integrate this with <code>format_lean</code>. I also have one more question: will I get a noticeable speed gain if I use a trimmed down mathlib? Or is it ignoring unneeded files in mathlib anyway?</p>

<a name="169568583"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169568583" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169568583">Bryan Gin-ge Chen (Jul 03 2019 at 13:59)</a>:</h4>
<p>Glad you got things working! And your writeup looks really helpful!  I didn't even realize you could use local paths in <code>leanpkg.toml</code> until now...</p>
<p>There will be a speedup for the initial start of the web editor with a trimmed down mathlib. The dominant effect is due to shortening download times (though after the first run, the ZIP file is cached). A smaller ZIP file might also make a difference when the Emscripten loader sets up the file system, but this should be a much smaller effect. Once the web editor is initialized though, I think unused .olean files won't change the speed at which Lean processes files.</p>

<a name="169568724"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169568724" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169568724">Bryan Gin-ge Chen (Jul 03 2019 at 14:00)</a>:</h4>
<p>What's the best way of "minifying" a Lean package right now? It would be useful to integrate that functionality into <code>mk_library.py</code>.</p>

<a name="169568753"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169568753" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169568753">Patrick Massot (Jul 03 2019 at 14:00)</a>:</h4>
<p>What do you mean by minifying?</p>

<a name="169568824"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169568824" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169568824">Bryan Gin-ge Chen (Jul 03 2019 at 14:01)</a>:</h4>
<p>Removing all lean / olean files which are not imported by those in the <code>src</code> directory.</p>

<a name="169568918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169568918" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169568918">Patrick Massot (Jul 03 2019 at 14:02)</a>:</h4>
<p>Oh, that would be nice. I guess you need one of our Rust gurus to ask Mario's <code>olean</code> reader</p>

<a name="169569006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169569006" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169569006">Bryan Gin-ge Chen (Jul 03 2019 at 14:03)</a>:</h4>
<p>Perhaps I should say <a href="https://developer.mozilla.org/en-US/docs/Glossary/Tree_shaking" target="_blank" title="https://developer.mozilla.org/en-US/docs/Glossary/Tree_shaking">"tree shaking"</a> instead of "minifying".</p>

<a name="169603948"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169603948" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169603948">Mohammad Pedramfar (Jul 03 2019 at 21:35)</a>:</h4>
<blockquote>
<p>Next, I'll need to investigate <span class="user-mention silent" data-user-id="132175">Mohammad Pedramfar</span>'s effort to integrate this with <code>format_lean</code>. I also have one more question: will I get a noticeable speed gain if I use a trimmed down mathlib? Or is it ignoring unneeded files in mathlib anyway?</p>
</blockquote>
<p>I started working on it a few days ago. I'll let you know when I get it to work.</p>

<a name="169604300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169604300" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169604300">Mohammad Pedramfar (Jul 03 2019 at 21:41)</a>:</h4>
<blockquote>
<p>Removing all lean / olean files which are not imported by those in the <code>src</code> directory.</p>
</blockquote>
<p>Try adding a line <code>path = "src"</code> into the <code>leanpkg.toml</code> before running <code>mk_library</code>.</p>

<a name="169606436"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169606436" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169606436">Bryan Gin-ge Chen (Jul 03 2019 at 22:20)</a>:</h4>
<p>Oh, that works. Though you'll have to delete all the other olean files first and then wait for lean to build everything from scratch.</p>

<a name="169606541"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169606541" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169606541">Mohammad Pedramfar (Jul 03 2019 at 22:22)</a>:</h4>
<p>Yeah, it takes a little time</p>

<a name="169609403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169609403" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169609403">Bryan Gin-ge Chen (Jul 03 2019 at 23:21)</a>:</h4>
<blockquote>
<ul>
<li>fix the non-existent <code>dist</code> folder and GitHub url check bugs in <code>mk_library.py</code></li>
</ul>
</blockquote>
<p>I made an attempt to fix these bugs in the last few commits to my fork of the <code>lean-web-editor</code>, but it's not well-tested yet. I don't have the bandwidth to follow up on the other items at the moment, though.</p>

<a name="169650590"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169650590" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169650590">Patrick Massot (Jul 04 2019 at 13:59)</a>:</h4>
<blockquote>
<p>Oh, that works. Though you'll have to delete all the other olean files first and then wait for lean to build everything from scratch.</p>
</blockquote>
<p>What does "that" refers to in this sentence?</p>

<a name="169650700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169650700" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169650700">Bryan Gin-ge Chen (Jul 04 2019 at 14:01)</a>:</h4>
<p>Adding the line <code>path = "src"</code> in <code>leanpkg.toml</code> and then putting some Lean files of interest in that directory before running <code>mk_library</code>.</p>

<a name="169650737"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169650737" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169650737">Patrick Massot (Jul 04 2019 at 14:02)</a>:</h4>
<p>which <code>leanpkg.toml</code>? The one in <code>combined_lib</code>?</p>

<a name="169650783"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169650783" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169650783">Bryan Gin-ge Chen (Jul 04 2019 at 14:02)</a>:</h4>
<p>Yes.</p>

<a name="169650852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169650852" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169650852">Bryan Gin-ge Chen (Jul 04 2019 at 14:03)</a>:</h4>
<p>It relies on the fact that <code>leanpkg build</code> only builds the dependencies of the files in <code>src</code>.</p>

<a name="169650869"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169650869" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169650869">Patrick Massot (Jul 04 2019 at 14:03)</a>:</h4>
<p>Oooh</p>

<a name="169650872"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169650872" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169650872">Patrick Massot (Jul 04 2019 at 14:03)</a>:</h4>
<p>I need to try that</p>

<a name="169650981"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169650981" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169650981">Patrick Massot (Jul 04 2019 at 14:05)</a>:</h4>
<p>But I'm confused. Is <code>mk_library.py</code> running <code>leanpkg build</code>? Or do you mean I should have mathlib in the dependencies of <code>combined_lib</code> as a git repo and run <code>leanpkg build</code> there and then <code>mk_library_build</code>?</p>

<a name="169650999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169650999" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169650999">Bryan Gin-ge Chen (Jul 04 2019 at 14:06)</a>:</h4>
<p><code>mk_library.py</code> runs <code>leanpkg build</code></p>

<a name="169651110"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169651110" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169651110">Bryan Gin-ge Chen (Jul 04 2019 at 14:07)</a>:</h4>
<p>And then it blindly copies all <code>.olean</code> files that it can find by looking in the directories provided by <code>lean -p</code> into the ZIP file; that's why I said you have to delete the other olean files.</p>

<a name="169884250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169884250" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169884250">Patrick Massot (Jul 08 2019 at 16:36)</a>:</h4>
<p>I can confirm I successfully built a 5.7Mo library instead of 18Mo by removing every olean from mathlib and my small undergraduate lib, and then run <code>mk_library.py -i ~/lean/lib114/ -o dist114/library.zip</code> where <code>lib114</code> import not much from mathlib</p>

<a name="169884382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169884382" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169884382">Johan Commelin (Jul 08 2019 at 16:38)</a>:</h4>
<p>Otoh, this tree-shaking means that users can't import things from mathlib that they suddenly would like to use...</p>

<a name="169884427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169884427" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169884427">Patrick Massot (Jul 08 2019 at 16:39)</a>:</h4>
<p><span class="user-mention" data-user-id="123965">@Bryan Gin-ge Chen</span> I can't open an issue in your fork, so let me continue using this thread. In the <a href="https://github.com/bryangingechen/lean-web-editor/blob/ui/README.md" target="_blank" title="https://github.com/bryangingechen/lean-web-editor/blob/ui/README.md">README</a>, last item you wrote "Run ./mk_library.py (requires Python 3.5 or greater)" is wrong. Your script requires python 3.7. I discovered that when running it on an old Ubuntu.</p>

<a name="169884549"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169884549" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169884549">Patrick Massot (Jul 08 2019 at 16:40)</a>:</h4>
<p>From <a href="https://docs.python.org/3.7/library/subprocess.html#subprocess.run" target="_blank" title="https://docs.python.org/3.7/library/subprocess.html#subprocess.run">https://docs.python.org/3.7/library/subprocess.html#subprocess.run</a>:</p>
<blockquote>
<p>Changed in version 3.7: Added the capture_output parameter.</p>
</blockquote>

<a name="169884592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169884592" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169884592">Patrick Massot (Jul 08 2019 at 16:41)</a>:</h4>
<p>On Ubuntu 18.04 (the latest LTS), python3 default to 3.6 but there is an official python 3.7. I only needed to use <code>python3.7 mk_library.py</code></p>

<a name="169884684"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169884684" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169884684">Patrick Massot (Jul 08 2019 at 16:42)</a>:</h4>
<p>Johan: yes indeed. But in the context of my teaching students don't want to import surprising things from mathlib. Remember we're not talking about Kevin's elite students. <em>None</em> of my 50 students created a Zulip account for instance. That's how curious they are</p>

<a name="169884720"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169884720" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169884720">Patrick Massot (Jul 08 2019 at 16:43)</a>:</h4>
<p>None of them asked whether there was any lemma they could add to Lean's library (I'm not even talking about knowing the name mathlib)</p>

<a name="169886542"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/169886542" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#169886542">Bryan Gin-ge Chen (Jul 08 2019 at 17:07)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> Thanks! I still have yet to make the other changes you suggested...</p>

<a name="170446659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/170446659" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#170446659">Patrick Massot (Jul 09 2019 at 12:03)</a>:</h4>
<p>One more suggestion about the Lean web editor: when clicking the Save button, inspiration for the file name could be taken from the name of the file that was last loaded (either from disk or url).</p>

<a name="170446735"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/170446735" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#170446735">Patrick Massot (Jul 09 2019 at 12:04)</a>:</h4>
<p>Maybe also turn "no goal" into "goal accomplished" as in VScode, for consistency</p>

<a name="170446766"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/170446766" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#170446766">Patrick Massot (Jul 09 2019 at 12:04)</a>:</h4>
<p>Otherwise the main thing is really getting Tab to autocomplete. Currently it seems only space works, which is really unconvenient</p>

<a name="170451249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/170451249" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#170451249">Bryan Gin-ge Chen (Jul 09 2019 at 13:10)</a>:</h4>
<p>Thanks for the suggestions! The issue with Tab vs Space is indeed at the top of the list but I still haven't figured out a good approach to address it...</p>

<a name="170465751"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/170465751" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#170465751">Patrick Massot (Jul 09 2019 at 15:53)</a>:</h4>
<p>One more suggestion that came to me while documenting my use of this tool: in the top status bar, you could replace "Lean is running..." by "Lean is loading..." that is less ambiguous</p>

<a name="170465773"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/170465773" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#170465773">Kevin Buzzard (Jul 09 2019 at 15:53)</a>:</h4>
<p>I agree that "Lean is running..." is confusing.</p>

<a name="170465876"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/170465876" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#170465876">Bryan Gin-ge Chen (Jul 09 2019 at 15:55)</a>:</h4>
<p>So you would want "Lean is loading..." while it initializes but "Lean is running" afterwards, when it is actually processing the editor contents? That sounds reasonable.</p>

<a name="170465895"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/170465895" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#170465895">Patrick Massot (Jul 09 2019 at 15:56)</a>:</h4>
<p>"Lean is ready!" is also fine</p>

<a name="170466554"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/170466554" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#170466554">Bryan Gin-ge Chen (Jul 09 2019 at 16:05)</a>:</h4>
<p>Oh, I think I misunderstood the request at first. Would you be happy if the status bar showed either "Lean is ready!" or "Lean is busy..." ?</p>

<a name="170468610"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/170468610" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#170468610">Patrick Massot (Jul 09 2019 at 16:31)</a>:</h4>
<p>Yes</p>

<a name="170927560"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/170927560" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#170927560">Wojciech Nawrocki (Jul 15 2019 at 20:13)</a>:</h4>
<p>Low priority, but I just tried it on my phone (android 9, chrome and Firefox) and the editor is unusable (backspace doesnt work). Possibly an issue in whatever text editor widget is used</p>

<a name="170927874"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/170927874" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#170927874">Marc Huisinga (Jul 15 2019 at 20:17)</a>:</h4>
<p>i doubt that monaco will work properly on mobile any time soon, and it probably doesn't make much sense to move away from it.<br>
it's a pretty damn good web editor and also the backend for vscode.<br>
there's a github issue (<a href="https://github.com/Microsoft/monaco-editor/issues/246" target="_blank" title="https://github.com/Microsoft/monaco-editor/issues/246">https://github.com/Microsoft/monaco-editor/issues/246</a>), but it doesn't look like there's any progress being made.</p>

<a name="170931183"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/170931183" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#170931183">Bryan Gin-ge Chen (Jul 15 2019 at 20:59)</a>:</h4>
<p>It's too bad that it doesn't work on Android. I tested it a while back on an iPad and it seemed OK (if rather slow). I tested it just now on my iPhone and while backspace is OK, Safari zooms in way too far when I try to type, making it pretty much unusable.</p>
<p>Re: monaco, I haven't updated the monaco version in my fork so it's probably out of date. Hopefully there aren't any big issues with it...</p>

<a name="170931794"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/170931794" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#170931794">Marc Huisinga (Jul 15 2019 at 21:06)</a>:</h4>
<p>the one we used for the wavelength ide has been frozen since early 2018 and it still seems to work fine</p>

<a name="170931829"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/170931829" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#170931829">Marc Huisinga (Jul 15 2019 at 21:07)</a>:</h4>
<p>while working through TPIL with the web editor i made a list with weird behavior, but that list seems to be gone now ...</p>

<a name="170932288"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/170932288" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#170932288">Marc Huisinga (Jul 15 2019 at 21:13)</a>:</h4>
<p>while opening it right now, just some quick weird things: <br>
- there's no bracket matching overlay for the bracket at the position of the text cursor like in vs-code. i think you can enable it in the settings and configure which brackets to use (might be worth configuring \&lt; \&gt; and such).<br>
- closing brackets are also seemingly not inserted automatically<br>
- when using it while working through TPIL, i think i also had some issue with undo/redo, but i can't reproduce it right now</p>

<a name="171490937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/online%20leanprover/near/171490937" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/19268onlineleanprover.html#171490937">Bryan Gin-ge Chen (Jul 23 2019 at 05:31)</a>:</h4>
<p>It took me a while to get to this, but you can now use tab to perform translations to unicode in <a href="https://leanprover-community.github.io/lean-web-editor" target="_blank" title="https://leanprover-community.github.io/lean-web-editor">the community lean-web-editor</a>! <span class="user-mention" data-user-id="110031">@Patrick Massot</span> </p>
<p>I cleaned up some stuff in the meantime, in particular, it should now be much easier to build the web app from scratch with npm, etc. now that I've published my fork of <code>lean-client-js-browser</code> to npm. <span class="user-mention" data-user-id="132175">@Mohammad Pedramfar</span></p>


{% endraw %}

{% include archive_update.html %}