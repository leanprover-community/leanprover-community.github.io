---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/56242Howtoprovevalsucceqsuccval.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/56242Howtoprovevalsucceqsuccval.html">How to prove val_succ_eq_succ_val</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="126591309"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20to%20prove%20val_succ_eq_succ_val/near/126591309" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/56242Howtoprovevalsucceqsuccval.html#126591309">Johan Commelin (May 15 2018 at 13:24)</a>:</h4>
<p>This feels almost defeq to me. But I am stumped how to prove this:</p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">val_succ_eq_succ_val</span> <span class="o">(</span><span class="n">j</span> <span class="o">:</span> <span class="n">fin</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span> <span class="n">j</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">val</span> <span class="bp">=</span> <span class="n">j</span><span class="bp">.</span><span class="n">val</span><span class="bp">.</span><span class="n">succ</span> <span class="o">:=</span> <span class="n">sorry</span>
</pre></div>

<a name="126591395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20to%20prove%20val_succ_eq_succ_val/near/126591395" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/56242Howtoprovevalsucceqsuccval.html#126591395">Sean Leather (May 15 2018 at 13:26)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">val_succ_eq_succ_val</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">}</span> <span class="o">(</span><span class="n">j</span> <span class="o">:</span> <span class="n">fin</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span> <span class="n">j</span><span class="bp">.</span><span class="n">succ</span><span class="bp">.</span><span class="n">val</span> <span class="bp">=</span> <span class="n">j</span><span class="bp">.</span><span class="n">val</span><span class="bp">.</span><span class="n">succ</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">cases</span> <span class="n">j</span><span class="bp">;</span> <span class="n">simp</span> <span class="o">[</span><span class="n">fin</span><span class="bp">.</span><span class="n">succ</span><span class="o">]</span>
</pre></div>

<a name="126591498"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20to%20prove%20val_succ_eq_succ_val/near/126591498" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/56242Howtoprovevalsucceqsuccval.html#126591498">Johan Commelin (May 15 2018 at 13:29)</a>:</h4>
<p>Aaaahaaa.</p>

<a name="126592224"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20to%20prove%20val_succ_eq_succ_val/near/126592224" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/56242Howtoprovevalsucceqsuccval.html#126592224">Patrick Massot (May 15 2018 at 13:47)</a>:</h4>
<p>I think we should add this sentence to our bluff toolbox. Instead of saying "the following is trivial", as we always do, we could say "the following is almost defeq".</p>

<a name="126592283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20to%20prove%20val_succ_eq_succ_val/near/126592283" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/56242Howtoprovevalsucceqsuccval.html#126592283">Patrick Massot (May 15 2018 at 13:48)</a>:</h4>
<p>People may think we are a bit weird (at least until proof assistant manage to take over the world).</p>

<a name="126592313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20to%20prove%20val_succ_eq_succ_val/near/126592313" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/56242Howtoprovevalsucceqsuccval.html#126592313">Patrick Massot (May 15 2018 at 13:49)</a>:</h4>
<p>But it won't be worse than all those students who took Kevin's exam on Monday and will get as their only explanation for poor grade: this doesn't type check.</p>

<a name="126592377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20to%20prove%20val_succ_eq_succ_val/near/126592377" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/56242Howtoprovevalsucceqsuccval.html#126592377">Patrick Massot (May 15 2018 at 13:50)</a>:</h4>
<p>Actually I'm reading this because I procrastinate writing a referee report. I should send "this paper does not type check" and be done with it</p>

<a name="126592408"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20to%20prove%20val_succ_eq_succ_val/near/126592408" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/56242Howtoprovevalsucceqsuccval.html#126592408">Kevin Buzzard (May 15 2018 at 13:51)</a>:</h4>
<p>I have taken off many points for solutions which don't type-check.</p>

<a name="126592466"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20to%20prove%20val_succ_eq_succ_val/near/126592466" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/56242Howtoprovevalsucceqsuccval.html#126592466">Kevin Buzzard (May 15 2018 at 13:52)</a>:</h4>
<p>I ask them what <code>P_4(X)</code> is, and many people tell me that it is <code>8cos(theta)^4-8cos(theta)^2+1</code></p>

<a name="126592475"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20to%20prove%20val_succ_eq_succ_val/near/126592475" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/56242Howtoprovevalsucceqsuccval.html#126592475">Kevin Buzzard (May 15 2018 at 13:52)</a>:</h4>
<p>[P_n(X) satisfies P_n(cos(theta))=cos(n.theta)]</p>

<a name="126592507"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20to%20prove%20val_succ_eq_succ_val/near/126592507" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/56242Howtoprovevalsucceqsuccval.html#126592507">Patrick Massot (May 15 2018 at 13:53)</a>:</h4>
<p>Right now I'm staring at some <code>wlog</code> without filling in the proof obligation in that paper I need to referee</p>

<a name="126592537"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20to%20prove%20val_succ_eq_succ_val/near/126592537" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/56242Howtoprovevalsucceqsuccval.html#126592537">Kevin Buzzard (May 15 2018 at 13:53)</a>:</h4>
<p>One student wrote down the answer and said it was true "by symmetry"</p>

<a name="126592577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20to%20prove%20val_succ_eq_succ_val/near/126592577" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/56242Howtoprovevalsucceqsuccval.html#126592577">Kevin Buzzard (May 15 2018 at 13:54)</a>:</h4>
<p>and I thought "hmm, I don't think that will work in Lean"</p>

<a name="126592579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20to%20prove%20val_succ_eq_succ_val/near/126592579" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/56242Howtoprovevalsucceqsuccval.html#126592579">Kevin Buzzard (May 15 2018 at 13:54)</a>:</h4>
<p>but at least it typechecks</p>

<a name="126599292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20to%20prove%20val_succ_eq_succ_val/near/126599292" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/56242Howtoprovevalsucceqsuccval.html#126599292">Reid Barton (May 15 2018 at 16:13)</a>:</h4>
<p>Replying to the original question; alternatively</p>
<div class="codehilite"><pre><span></span><span class="k">by</span> <span class="n">cases</span> <span class="n">j</span><span class="bp">;</span> <span class="n">refl</span>
</pre></div>


<p>which shows how almost-defeq it really is</p>

<a name="126601422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20to%20prove%20val_succ_eq_succ_val/near/126601422" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/56242Howtoprovevalsucceqsuccval.html#126601422">Johan Commelin (May 15 2018 at 17:06)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> Should this be in mathlib?</p>

<a name="126601623"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20to%20prove%20val_succ_eq_succ_val/near/126601623" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/56242Howtoprovevalsucceqsuccval.html#126601623">Johan Commelin (May 15 2018 at 17:10)</a>:</h4>
<p>And the analogue for <code>pred</code>.</p>

<a name="126601692"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20to%20prove%20val_succ_eq_succ_val/near/126601692" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/56242Howtoprovevalsucceqsuccval.html#126601692">Johan Commelin (May 15 2018 at 17:12)</a>:</h4>
<p>More generally: should I just create PR's for such small additions, or is it too trivial for that?</p>

<a name="126610125"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20to%20prove%20val_succ_eq_succ_val/near/126610125" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/56242Howtoprovevalsucceqsuccval.html#126610125">Mario Carneiro (May 15 2018 at 20:16)</a>:</h4>
<p>Small additions are fine, since they are focused and usually don't have dependency problems they are easy to review. I think it is not a good idea to have a lower bound on "too trivial" because then you have to find other things to do in the PR or forget about your little fix. It's rules like that that make typos like <code>αdditive</code> persist in lean core for so long</p>

<a name="126610143"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20to%20prove%20val_succ_eq_succ_val/near/126610143" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/56242Howtoprovevalsucceqsuccval.html#126610143">Mario Carneiro (May 15 2018 at 20:17)</a>:</h4>
<p>I would call the theorem <code>succ_val</code> though</p>

<a name="126660987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20to%20prove%20val_succ_eq_succ_val/near/126660987" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/56242Howtoprovevalsucceqsuccval.html#126660987">Johan Commelin (May 16 2018 at 19:31)</a>:</h4>
<p>Done: <a href="https://github.com/leanprover/mathlib/pull/138" target="_blank" title="https://github.com/leanprover/mathlib/pull/138">https://github.com/leanprover/mathlib/pull/138</a></p>


{% endraw %}
