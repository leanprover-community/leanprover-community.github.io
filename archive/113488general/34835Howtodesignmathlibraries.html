---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/34835Howtodesignmathlibraries.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/34835Howtodesignmathlibraries.html">How to design math libraries</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="165762243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20to%20design%20math%20libraries/near/165762243" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/34835Howtodesignmathlibraries.html#165762243">Kevin Sullivan (May 15 2019 at 22:53)</a>:</h4>
<p>Dear Lean Provers:</p>
<p>A colleague and I have a newly (about to be) funded project involving the mapping of objects of a certain type to physical quantities, represented by terms in the language(s) of mathematical physics formalized in Lean. We'll need libraries that will allow us to represent things like vector, affine, and Euclidean spaces, including objects and transformations, tensors of various kinds, Minkowski spaces, etc. To our knowledge, such libraries don't yet exist.</p>
<p>That leads to the question, what are the best practices for, and what are the most useful resources for informing, the design of mathematical libraries in Lean? Ideally we'd like to have what we produce have a life beyond our lab. I know that numerous of you on this list have been deeply involved in the development of math libraries for the Lean prover. Any informative discussion of what's involved principles, design guidelines, etc. would be much appreciated.</p>

<a name="165763614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20to%20design%20math%20libraries/near/165763614" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/34835Howtodesignmathlibraries.html#165763614">Simon Hudon (May 15 2019 at 23:15)</a>:</h4>
<p>There's a lot to learn, I think the mathlib community learned a lot from building mathlib. There is still improvement to be had. When you don't know how to do something, find a project (maybe mathlib) and see if they had to solve the same problem. If no Lean project has had to solve the same problem, look at the Coq community or the Isabelle community or any other.</p>

<a name="165763645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20to%20design%20math%20libraries/near/165763645" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/34835Howtodesignmathlibraries.html#165763645">Simon Hudon (May 15 2019 at 23:16)</a>:</h4>
<p>More specifically, make your types as simple as you can, don't use dependent types if you don't have to.</p>

<a name="165763754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20to%20design%20math%20libraries/near/165763754" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/34835Howtodesignmathlibraries.html#165763754">Simon Hudon (May 15 2019 at 23:17)</a>:</h4>
<p>And be ready to use <code>simp</code> and meta-programming to make modules easier to use in your proofs.</p>

<a name="165773761"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20to%20design%20math%20libraries/near/165773761" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/34835Howtodesignmathlibraries.html#165773761">Jesse Michael Han (May 16 2019 at 02:38)</a>:</h4>
<blockquote>
<p>That leads to the question, what are the best practices for, and what are the most useful resources for informing, the design of mathematical libraries in Lean? Ideally we'd like to have what we produce have a life beyond our lab. I know that numerous of you on this list have been deeply involved in the development of math libraries for the Lean prover. Any informative discussion of what's involved principles, design guidelines, etc. would be much appreciated.</p>
</blockquote>
<p>This is one of the topics we wanted to focus on when organizing the <a href="https://hanoilean2019.wordpress.com/" target="_blank" title="https://hanoilean2019.wordpress.com/">Hanoi Lean</a> workshop. <span class="user-mention" data-user-id="111080">@Floris van Doorn</span> is scheduled to deliver two lectures specifically about best practices for Lean library development.</p>

<a name="165776525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20to%20design%20math%20libraries/near/165776525" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/34835Howtodesignmathlibraries.html#165776525">Kevin Sullivan (May 16 2019 at 03:42)</a>:</h4>
<blockquote>
<p>This is one of the topics we wanted to focus on when organizing the <a href="https://hanoilean2019.wordpress.com/" target="_blank" title="https://hanoilean2019.wordpress.com/">Hanoi Lean</a> workshop. <span class="user-mention silent" data-user-id="111080">Floris van Doorn</span> is scheduled to deliver two lectures specifically about best practices for Lean library development.</p>
</blockquote>
<p>That's a great pointer. If the workshop materials are to be made more broadly available (even maybe videos?), I'd be first in line to check them out. Thank you.</p>

<a name="165777483"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20to%20design%20math%20libraries/near/165777483" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/34835Howtodesignmathlibraries.html#165777483">Scott Morrison (May 16 2019 at 04:05)</a>:</h4>
<p>Please record Floris' talks!</p>

<a name="165832624"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20to%20design%20math%20libraries/near/165832624" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/34835Howtodesignmathlibraries.html#165832624">Floris van Doorn (May 16 2019 at 17:55)</a>:</h4>
<p>The pressure is on... <span aria-label="anxious" class="emoji emoji-1f62c" role="img" title="anxious">:anxious:</span></p>

<a name="165864645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20to%20design%20math%20libraries/near/165864645" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/34835Howtodesignmathlibraries.html#165864645">Scott Morrison (May 17 2019 at 01:33)</a>:</h4>
<p>(My experience of recording many of my crappy talks is the following --- the very few people who ever watch the recordings are exactly the tiny subset of people who are really interested in what you're doing, and so they are happy and grateful that the talk was recorded, no matter how badly you messed up explaining things. :-)</p>

<a name="165876825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20to%20design%20math%20libraries/near/165876825" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/34835Howtodesignmathlibraries.html#165876825">Kevin Buzzard (May 17 2019 at 06:37)</a>:</h4>
<p>That's an interesting point. I've certainly enjoyed your YouTube talks Scott!</p>

<a name="168495882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/How%20to%20design%20math%20libraries/near/168495882" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/34835Howtodesignmathlibraries.html#168495882">Floris van Doorn (Jun 19 2019 at 10:57)</a>:</h4>
<p>There is no video of the talk. Someone did make a voice recording, but it might be hard to know what was going on since I was jumping around files in VSCode. (I now realize I could have easily recorded my screen + voice with OBS. I didn't think of that before <span aria-label="oops" class="emoji emoji-1f643" role="img" title="oops">:oops:</span> ) <br>
To give you an idea, during my talk I went through (and wrote parts of) this file:<br>
<a href="https://github.com/jesse-michael-han/hanoi-lean-2019/blob/master/src/floris/lecture-library-building.lean" target="_blank" title="https://github.com/jesse-michael-han/hanoi-lean-2019/blob/master/src/floris/lecture-library-building.lean">https://github.com/jesse-michael-han/hanoi-lean-2019/blob/master/src/floris/lecture-library-building.lean</a><br>
I also did an introduction to mathlib:<br>
<a href="https://github.com/jesse-michael-han/hanoi-lean-2019/blob/master/src/floris/lecture-mathlib.lean" target="_blank" title="https://github.com/jesse-michael-han/hanoi-lean-2019/blob/master/src/floris/lecture-mathlib.lean">https://github.com/jesse-michael-han/hanoi-lean-2019/blob/master/src/floris/lecture-mathlib.lean</a></p>


{% endraw %}

{% include archive_update.html %}