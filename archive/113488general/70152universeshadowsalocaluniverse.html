---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/70152universeshadowsalocaluniverse.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html">universe shadows a local universe</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="126684147"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126684147" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126684147">Sean Leather (May 17 2018 at 06:55)</a>:</h4>
<p>In a file with only this:</p>
<div class="codehilite"><pre><span></span><span class="n">universes</span> <span class="n">u</span>
<span class="kn">variables</span> <span class="n">α</span> <span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span>
</pre></div>


<p>I get this:</p>
<div class="codehilite"><pre><span></span><span class="n">error</span><span class="o">:</span> <span class="n">invalid</span> <span class="kn">universe</span> <span class="n">declaration</span><span class="o">,</span> <span class="err">&#39;</span><span class="n">u_1&#39;</span> <span class="n">shadows</span> <span class="n">a</span> <span class="n">local</span> <span class="kn">universe</span>
</pre></div>


<p>Why?</p>

<a name="126684197"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126684197" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126684197">Kenny Lau (May 17 2018 at 06:56)</a>:</h4>
<p>This also annoys me but I just didn't bother to ask</p>

<a name="126684203"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126684203" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126684203">Brendan Zabarauskas (May 17 2018 at 06:57)</a>:</h4>
<p>What does <code>Type*</code> do? Does it elaborate into introducing some hidden <code>u</code> universe?</p>

<a name="126684204"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126684204" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126684204">Sean Leather (May 17 2018 at 06:57)</a>:</h4>
<p>Yeah, it happened once too often for me: passed the annoyance threshold. <span class="emoji emoji-1f609" title="wink">:wink:</span></p>

<a name="126684205"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126684205" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126684205">Sean Leather (May 17 2018 at 06:57)</a>:</h4>
<blockquote>
<p>What does <code>Type*</code> do? Does it elaborate into introducing some hidden <code>u</code> universe?</p>
</blockquote>
<p>It uses an implicit universe, as far as I understand it.</p>

<a name="126684207"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126684207" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126684207">Johan Commelin (May 17 2018 at 06:57)</a>:</h4>
<p><code>set.option annoyance_threshold 100</code></p>

<a name="126684211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126684211" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126684211">Johan Commelin (May 17 2018 at 06:57)</a>:</h4>
<p>Solves it</p>

<a name="126684255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126684255" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126684255">Brendan Zabarauskas (May 17 2018 at 06:58)</a>:</h4>
<p>I've kind of noticed that Lean's elaboration isn't hygenic... guessing that's by design though?</p>

<a name="126684324"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126684324" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126684324">Sean Leather (May 17 2018 at 07:00)</a>:</h4>
<p>It's very powerful, but it does have some annoying corner cases in various places. I believe the idea is that as long as the kernel is safe and the core language is well-typed, elaboration and tactics can be less so.</p>

<a name="126684451"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126684451" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126684451">Brendan Zabarauskas (May 17 2018 at 07:05)</a>:</h4>
<p>By hygiene I mean in the macro sense. Racket works hard to preserve it. It might make encapsulation harder and increase the chance of breaking things downstream due to updates in libraries.</p>

<a name="126684503"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126684503" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126684503">Brendan Zabarauskas (May 17 2018 at 07:06)</a>:</h4>
<p>(warning, might be being imprecise in my language here, feel free to correct me)</p>

<a name="126684632"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126684632" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126684632">Sean Leather (May 17 2018 at 07:11)</a>:</h4>
<p>I sometimes like to think of Lean as one big code generator. I tries by various means to produce kernel code for definitions and theorems. Elaboration is an advanced form of unification and uses definitional equality to try to convert terms into other terms. Tactics are like imperatively programming the code generation. Type class instance resolution is another code generation mechanism. All of these try to interpret what you want and produce some kernel code. But they are all imperfect and sometimes require fiddling to get what you want.</p>
<p>(<em>Edit</em>: Language is also imprecise, but the idea helps me comprehend it.)</p>

<a name="126684811"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126684811" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126684811">Brendan Zabarauskas (May 17 2018 at 07:17)</a>:</h4>
<p>Yeah, definitely. That's how I'm starting to sort of see it. Just wondering if some of the learning from languages like Scheme and Racket into theorem provers. Not experienced enough with Coq to know how they handle hygiene (if they do any identifier generation in their tactics/elaboration). <span class="emoji emoji-1f914" title="thinking face">:thinking_face:</span></p>

<a name="126684948"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126684948" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126684948">Mario Carneiro (May 17 2018 at 07:20)</a>:</h4>
<p>Hygenic macros are a planned feature in the next version of lean</p>

<a name="126684951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126684951" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126684951">Brendan Zabarauskas (May 17 2018 at 07:20)</a>:</h4>
<p>Oh nice!</p>

<a name="126684962"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126684962" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126684962">Brendan Zabarauskas (May 17 2018 at 07:21)</a>:</h4>
<p>Yeah thought it might just be an intermediate state of affairs. Hard to do everything at once.</p>

<a name="126685006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126685006" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126685006">Mario Carneiro (May 17 2018 at 07:22)</a>:</h4>
<p>As for the given error, basically this is because <code>variables A B : Type*</code> desugars to</p>
<div class="codehilite"><pre><span></span>universe u_1
variable A : Type u_1
universe u_1
variable B : Type u_1
</pre></div>


<p>and universe shadowing is disallowed (for some reason...). This is a known bug, but it's unlikely to be addressed in the current version of lean</p>

<a name="126685019"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126685019" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126685019">Mario Carneiro (May 17 2018 at 07:23)</a>:</h4>
<p>the workaround is to write <code>variables (A : Type*) (B : Type*)</code></p>

<a name="126685021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126685021" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126685021">Brendan Zabarauskas (May 17 2018 at 07:23)</a>:</h4>
<p>So I'm guessing <code>universes u</code> does nothing to affect the issue?</p>

<a name="126685023"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126685023" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126685023">Mario Carneiro (May 17 2018 at 07:23)</a>:</h4>
<p>no, it's unrelated</p>

<a name="126685027"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126685027" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126685027">Mario Carneiro (May 17 2018 at 07:23)</a>:</h4>
<p>although I bet you can also get a name shadowing issue with only one <code>variable</code> if it was <code>universe u_1</code></p>

<a name="126685065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126685065" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126685065">Sean Leather (May 17 2018 at 07:24)</a>:</h4>
<p>Yeah, I discovered that, too. What is the difference from this?</p>
<div class="codehilite"><pre><span></span><span class="kn">variable</span> <span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span>
<span class="kn">variable</span> <span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span>
</pre></div>

<a name="126685071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126685071" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126685071">Mario Carneiro (May 17 2018 at 07:24)</a>:</h4>
<p>that desugars to</p>
<div class="codehilite"><pre><span></span>universe u_1
variable A : Type u_1
universe u_2
variable B : Type u_2
</pre></div>


<p>which is okay</p>

<a name="126685081"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126685081" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126685081">Brendan Zabarauskas (May 17 2018 at 07:25)</a>:</h4>
<p>In the future, is the intention to make those generated <code>u_1</code> identifiers inaccessable?</p>

<a name="126685086"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126685086" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126685086">Mario Carneiro (May 17 2018 at 07:25)</a>:</h4>
<p>the variable command in general is more than a little hackish</p>

<a name="126685090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126685090" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126685090">Sean Leather (May 17 2018 at 07:25)</a>:</h4>
<p>Ah. So, it's smart enough to create a fresh universe variable there.</p>

<a name="126685093"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126685093" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126685093">Mario Carneiro (May 17 2018 at 07:25)</a>:</h4>
<p>inaccessible? Why?</p>

<a name="126685094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126685094" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126685094">Mario Carneiro (May 17 2018 at 07:25)</a>:</h4>
<p>I think "fresh" is more appropriate</p>

<a name="126685140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126685140" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126685140">Mario Carneiro (May 17 2018 at 07:26)</a>:</h4>
<p>In fact, they come up explicitly in proofs, although it's bad form to refer to autogenerated names</p>

<a name="126685141"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126685141" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126685141">Mario Carneiro (May 17 2018 at 07:26)</a>:</h4>
<p>but the fact that they are literal names like <code>u_1</code> and not some mystery private thing is important</p>

<a name="126685143"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126685143" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126685143">Brendan Zabarauskas (May 17 2018 at 07:26)</a>:</h4>
<p>Hah, I might be conflicting with an existing term by the use of 'inaccessable', but yeah, it seems like it could result in fragile code if you referred to those generated names.</p>

<a name="126685195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126685195" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126685195">Brendan Zabarauskas (May 17 2018 at 07:28)</a>:</h4>
<p>But happy to be persuaded otherwise - I'm still new to Lean and might not fully understand.</p>

<a name="126685197"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126685197" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126685197">Sean Leather (May 17 2018 at 07:28)</a>:</h4>
<p>Here's my first experience with <a href="https://groups.google.com/d/msg/lean-user/-Da6fPijAjY/ZK9JHUfyKAAJ" target="_blank" title="https://groups.google.com/d/msg/lean-user/-Da6fPijAjY/ZK9JHUfyKAAJ">variable name shadowing</a>.</p>

<a name="126685273"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126685273" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126685273">Mario Carneiro (May 17 2018 at 07:31)</a>:</h4>
<p>I'm not advocating explicit reference to generated names, just the opposite (that's what I mean by "bad form"). But I can believe that sometimes it is necessary to refer to an autogenerated name, maybe because the tactic that produced the name doesn't have enough configuration space to supply nice names.</p>

<a name="126685371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126685371" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126685371">Brendan Zabarauskas (May 17 2018 at 07:34)</a>:</h4>
<p>What do you mean by 'configuration space'?</p>

<a name="126685432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126685432" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126685432">Mario Carneiro (May 17 2018 at 07:37)</a>:</h4>
<p>Some tactics have complicated logic for when they introduce new names, intro variables, etc, and it may not be easy to specify names at the top level so that after the tactic you know what you will get</p>

<a name="126685475"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126685475" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126685475">Brendan Zabarauskas (May 17 2018 at 07:38)</a>:</h4>
<p>Interesting! That seems like a tantilising design problem to solve! <span class="emoji emoji-1f642" title="simple smile">:simple_smile:</span></p>

<a name="126685477"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126685477" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126685477">Mario Carneiro (May 17 2018 at 07:38)</a>:</h4>
<p>The lazy option (for the tactic writer) is not to bother with providing names to the tactic, so you get what you get, and then after the tactic you might need to refer to those auto names (if only to rename them)</p>

<a name="126685487"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126685487" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126685487">Mario Carneiro (May 17 2018 at 07:39)</a>:</h4>
<p>I think that <code>finish</code> has this problem, although it's not really designed for nonterminal use so it's not a big problem</p>

<a name="126685535"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126685535" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126685535">Mario Carneiro (May 17 2018 at 07:40)</a>:</h4>
<p>Some tactics like <code>injections</code> just take a big list of names at the start and pull from that pool whenever something is intro'd</p>

<a name="126688626"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126688626" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126688626">Patrick Massot (May 17 2018 at 09:10)</a>:</h4>
<p><span class="user-mention" data-user-id="117066">@Brendan Zabarauskas</span> see <a href="https://github.com/leanprover/lean/issues/1674" target="_blank" title="https://github.com/leanprover/lean/issues/1674">https://github.com/leanprover/lean/issues/1674</a> which, I believe, is one the main issue Lean 4 is meant to solve, and contains "Hygienic macro system" in the title. Lean 4 is currently worked on (but won't come soon).</p>

<a name="126689678"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126689678" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126689678">Brendan Zabarauskas (May 17 2018 at 09:41)</a>:</h4>
<p>Very cool! And understandable that it will take time - good to know it's coming though.</p>

<a name="126690354"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126690354" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126690354">Johan Commelin (May 17 2018 at 10:03)</a>:</h4>
<p>Wow, I like the ideas in that issue! <span class="user-mention" data-user-id="110031">@Patrick Massot</span> do you remember asking about tikzcd notation for commutative diagrams in lean? That might become a true option then! I like it (-;</p>

<a name="126692094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/universe%20shadows%20a%20local%20universe/near/126692094" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70152universeshadowsalocaluniverse.html#126692094">Patrick Massot (May 17 2018 at 11:01)</a>:</h4>
<p>Indeed I was thinking about this when I mentioned tikz-cd syntax</p>


{% endraw %}
