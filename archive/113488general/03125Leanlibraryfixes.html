---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/03125Leanlibraryfixes.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/03125Leanlibraryfixes.html">Lean library fixes</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="150883678"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20library%20fixes/near/150883678" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/03125Leanlibraryfixes.html#150883678">Joe Hendrix (Dec 04 2018 at 22:08)</a>:</h4>
<p>The lean3 repo indicates that only major bugfixes will be accepted.  Are there any official or semi-official repos for more minor fixes that could be merged, but aren't?  e.g. make a <code>monad_except</code> instance for <code>except</code>, add missing <code>decidable</code> instances for predicates?<br>
I currently just add them as needed to my code, but figure they could be worth sharing.</p>

<a name="150884566"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20library%20fixes/near/150884566" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/03125Leanlibraryfixes.html#150884566">Rob Lewis (Dec 04 2018 at 22:23)</a>:</h4>
<p>If you're talking about additions, not changes, then definitely. <a href="https://github.com/leanprover/mathlib/" target="_blank" title="https://github.com/leanprover/mathlib/">https://github.com/leanprover/mathlib/</a></p>

<a name="150884621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20library%20fixes/near/150884621" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/03125Leanlibraryfixes.html#150884621">Rob Lewis (Dec 04 2018 at 22:24)</a>:</h4>
<p>Most of the discussions here assume you're using mathlib.</p>

<a name="150884644"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20library%20fixes/near/150884644" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/03125Leanlibraryfixes.html#150884644">Rob Lewis (Dec 04 2018 at 22:24)</a>:</h4>
<p>Despite the name, it has more than just math.</p>

<a name="150886027"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20library%20fixes/near/150886027" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/03125Leanlibraryfixes.html#150886027">Joe Hendrix (Dec 04 2018 at 22:46)</a>:</h4>
<p>Ok, if I have enough I'll make a PR to mathlib.<br>
I was thinking it may be useful to have a smaller set of additions that make the standard library more consistent, rather than mathlib which has a mix of useful additions and definitions to fill out the standard library.</p>

<a name="150886477"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20library%20fixes/near/150886477" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/03125Leanlibraryfixes.html#150886477">Reid Barton (Dec 04 2018 at 22:54)</a>:</h4>
<p>mathlib is admittedly a big monolith, but it's not clear what advantage splitting off parts of it would have, and it would certainly add a bunch of administrative overhead</p>

<a name="150886862"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20library%20fixes/near/150886862" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/03125Leanlibraryfixes.html#150886862">Joe Hendrix (Dec 04 2018 at 23:01)</a>:</h4>
<p>I'm not proposing to partition mathlib.</p>

<a name="150890159"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20library%20fixes/near/150890159" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/03125Leanlibraryfixes.html#150890159">Mario Carneiro (Dec 04 2018 at 23:59)</a>:</h4>
<p>I think what you are proposing usually falls under the header of "forking lean", which was a bad idea when lean was under active development. Now that lean3 is effectively EOL, it seems more reasonable but I think it is still a major decision that we wouldn't take lightly</p>

<a name="150890244"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20library%20fixes/near/150890244" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/03125Leanlibraryfixes.html#150890244">Mario Carneiro (Dec 05 2018 at 00:00)</a>:</h4>
<p>mathlib is currently right at the edge of what you can do to improve lean solely with an add on library and zero modifications to core lean</p>

<a name="150892454"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20library%20fixes/near/150892454" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/03125Leanlibraryfixes.html#150892454">Joe Hendrix (Dec 05 2018 at 00:40)</a>:</h4>
<p>I was looking for a more conservative staging library than mathlib for library improvements/generalizations that could be ported to Lean 4 once it is ready for library improvements.  With Lean 3 EOL, and Lean 4 in active development, there isn't a good way to share minor improvements to Lean 3 without distracting Lean 4 development.<br>
The Lean 4 improvements are essential for the project I'm working on, so I don't want to distract from that.  I've only used parts of mathlib, and it's great, but my impression is that's the bulk of it won't be integrated into the Lean standard library.</p>

<a name="150892782"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20library%20fixes/near/150892782" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/03125Leanlibraryfixes.html#150892782">Mario Carneiro (Dec 05 2018 at 00:46)</a>:</h4>
<p>I think that mathlib would be a good staging area for things you want to eventually move to lean 4, however it ends up looking</p>

<a name="150892805"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20library%20fixes/near/150892805" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/03125Leanlibraryfixes.html#150892805">Mario Carneiro (Dec 05 2018 at 00:46)</a>:</h4>
<p>right now we don't know enough of the basics to really plan a port in any more than very general terms</p>

<a name="150892838"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20library%20fixes/near/150892838" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/03125Leanlibraryfixes.html#150892838">Mario Carneiro (Dec 05 2018 at 00:48)</a>:</h4>
<p>but a lot of mathlib is tactics and basic programming that "morally" should have been in the core library, and isn't because of human reasons</p>

<a name="150892898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20library%20fixes/near/150892898" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/03125Leanlibraryfixes.html#150892898">Mario Carneiro (Dec 05 2018 at 00:48)</a>:</h4>
<p>while at the same time lean 4 is planning on outsourcing much of what is now core into the user space / lean 4 mathlib</p>

<a name="150892958"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20library%20fixes/near/150892958" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/03125Leanlibraryfixes.html#150892958">Mario Carneiro (Dec 05 2018 at 00:50)</a>:</h4>
<p>so all in all I don't know what will end up where, but mathlib is actively being developed and used so it's a good place to test out changes in the meantime</p>

<a name="150893056"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20library%20fixes/near/150893056" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/03125Leanlibraryfixes.html#150893056">Mario Carneiro (Dec 05 2018 at 00:52)</a>:</h4>
<p>Right now mathlib <em>is</em> the lean standard library. Lean core lacks a lot of basic stuff that one would expect in a standard library, much of it deliberately so. Mathlib was built to fill that gap</p>

<a name="151404787"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20library%20fixes/near/151404787" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/03125Leanlibraryfixes.html#151404787">Joe Hendrix (Dec 10 2018 at 22:01)</a>:</h4>
<p>To follow up on this, I'm currently putting our generic additions here <a href="https://github.com/GaloisInc/reopt-vcg/tree/master/lean/deps/galois_stdlib/src/galois" target="_blank" title="https://github.com/GaloisInc/reopt-vcg/tree/master/lean/deps/galois_stdlib/src/galois">https://github.com/GaloisInc/reopt-vcg/tree/master/lean/deps/galois_stdlib/src/galois</a>.<br>
They aren't particularly substantial, but are Apache 2 licensed, so feel free to pull to mathlib if you'd like.   If they get more substantial, then maybe it makes sense for me to add a PR to mathlib.</p>

<a name="151433862"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20library%20fixes/near/151433862" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/03125Leanlibraryfixes.html#151433862">Johannes Hölzl (Dec 11 2018 at 09:51)</a>:</h4>
<p>Nice, <code>reopt-vcg</code> is Lean in the wild stuff!</p>

<a name="151468629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20library%20fixes/near/151468629" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/03125Leanlibraryfixes.html#151468629">Joe Hendrix (Dec 11 2018 at 18:22)</a>:</h4>
<p>Yeah, I'm really interested in being able to use Lean as another programming language for developing verification/satisfiability checking tools, and then being able to prove soundness.</p>


{% endraw %}
