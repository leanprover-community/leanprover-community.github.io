---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/87350Stilldontunderstandsimp.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html">Still don't understand simp</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="130435282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130435282" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130435282">Kevin Buzzard (Jul 28 2018 at 06:55)</a>:</h4>
<p>I still don't understand simp. I tried</p>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">+</span> <span class="mi">0</span> <span class="bp">+</span> <span class="n">c</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span> <span class="n">c</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">H</span><span class="o">]</span>
</pre></div>


<p>fully expecting it to work, and it didn't. So I switched to <code>by simp at H;assumption</code> which works fine -- but I feel like I'm missing a trick. What is the correct way to solve this goal? I know I could prove it using <code>zero_add</code> a couple of times -- is best practice to spell out the proof in full or use automation?</p>

<a name="130435357"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130435357" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130435357">Kevin Buzzard (Jul 28 2018 at 06:57)</a>:</h4>
<p>The moment I try <code>zero_add</code> in term mode I find myself in triangle hell.</p>

<a name="130435434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130435434" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130435434">Chris Hughes (Jul 28 2018 at 06:58)</a>:</h4>
<p><code>simpa using h</code></p>

<a name="130435456"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130435456" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130435456">Chris Hughes (Jul 28 2018 at 06:58)</a>:</h4>
<p><code>simp * at *</code></p>

<a name="130435851"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130435851" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130435851">Kevin Buzzard (Jul 28 2018 at 07:05)</a>:</h4>
<blockquote>
<p><code>simpa using h</code></p>
</blockquote>
<p>Do I need an import for this?</p>

<a name="130436468"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130436468" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130436468">Mario Carneiro (Jul 28 2018 at 07:17)</a>:</h4>
<p>just the usual</p>

<a name="130437084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437084" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437084">Kevin Buzzard (Jul 28 2018 at 07:30)</a>:</h4>
<p>That's happening to me more and more. Is there any way I can import every mathlib tactic automatically?</p>

<a name="130437123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437123" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437123">Mario Carneiro (Jul 28 2018 at 07:31)</a>:</h4>
<p><code>import tactic.interactive</code> gets the main tactics, but advanced tactics have their own imports, in particular <code>ring</code> and <code>finish</code></p>

<a name="130437133"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437133" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437133">Kevin Buzzard (Jul 28 2018 at 07:31)</a>:</h4>
<p>Is there any reason I shouldn't import <code>ring</code> always?</p>

<a name="130437138"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437138" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437138">Mario Carneiro (Jul 28 2018 at 07:31)</a>:</h4>
<p>if you don't need it, don't import it</p>

<a name="130437143"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437143" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437143">Mario Carneiro (Jul 28 2018 at 07:31)</a>:</h4>
<p>and you shouldn't overuse it anyway, it's slow</p>

<a name="130437145"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437145" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437145">Kevin Buzzard (Jul 28 2018 at 07:31)</a>:</h4>
<blockquote>
<p>if you don't need it, don't import it</p>
</blockquote>
<p>Why not? If I don't use it, it doesn't even matter</p>

<a name="130437200"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437200" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437200">Mario Carneiro (Jul 28 2018 at 07:32)</a>:</h4>
<p>it adds a spurious dependency, which is probably a bigger problem for me than for you</p>

<a name="130437223"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437223" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437223">Mario Carneiro (Jul 28 2018 at 07:33)</a>:</h4>
<p>Of course, adding additional dependencies also slows down startup and recompile times</p>

<a name="130437228"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437228" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437228">Kevin Buzzard (Jul 28 2018 at 07:33)</a>:</h4>
<p>Even if I never use them?</p>

<a name="130437273"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437273" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437273">Kevin Buzzard (Jul 28 2018 at 07:34)</a>:</h4>
<p>They're compiled on sight?</p>

<a name="130437281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437281" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437281">Mario Carneiro (Jul 28 2018 at 07:34)</a>:</h4>
<p>of course, how would it know if you have used the file unless it compiles the dependency?</p>

<a name="130437292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437292" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437292">Mario Carneiro (Jul 28 2018 at 07:34)</a>:</h4>
<p>the way you are supposed to signal what you depend on is in your import list</p>

<a name="130437304"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437304" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437304">Kevin Buzzard (Jul 28 2018 at 07:35)</a>:</h4>
<p>How about I don't import it, and every time I use it a little pop-up appears saying "I see you're using <code>ring</code>. Do you want to import <code>tactic.ring</code>?"</p>

<a name="130437309"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437309" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437309">Mario Carneiro (Jul 28 2018 at 07:35)</a>:</h4>
<p>how would it know that <code>ring</code> exists?</p>

<a name="130437312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437312" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437312">Kevin Buzzard (Jul 28 2018 at 07:35)</a>:</h4>
<p>and same for <code>simpa</code> and <code>tactic.interactive</code></p>

<a name="130437322"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437322" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437322">Kevin Buzzard (Jul 28 2018 at 07:35)</a>:</h4>
<blockquote>
<p>how would it know that <code>ring</code> exists?</p>
</blockquote>
<p>Because I just tell it, using a "snippet" or something?</p>

<a name="130437377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437377" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437377">Kevin Buzzard (Jul 28 2018 at 07:36)</a>:</h4>
<p>"I see that you just deleted the last occurrence of <code>simpa</code>. Do you want me to unimport it again?"</p>

<a name="130437387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437387" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437387">Kevin Buzzard (Jul 28 2018 at 07:36)</a>:</h4>
<p>"I see that you used <code>simp</code>. Do you want me to replace that argument with what Lean actually did?"</p>

<a name="130437389"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437389" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437389">Mario Carneiro (Jul 28 2018 at 07:36)</a>:</h4>
<p>hm, I suppose one option is to somehow generate an "index" of all definitions in mathlib and their locations, and then store this info in some file with no dependencies and use it for hints</p>

<a name="130437409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437409" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437409">Mario Carneiro (Jul 28 2018 at 07:37)</a>:</h4>
<p>Import analysis like that is very expensive</p>

<a name="130437410"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437410" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437410">Kevin Buzzard (Jul 28 2018 at 07:37)</a>:</h4>
<p>I'm basically asking for some sort of tactic manager I think.</p>

<a name="130437411"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437411" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437411">Kevin Buzzard (Jul 28 2018 at 07:37)</a>:</h4>
<p>I just have no idea about what is possible.</p>

<a name="130437471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437471" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437471">Kevin Buzzard (Jul 28 2018 at 07:39)</a>:</h4>
<p>Does <code>simpa !? only? (* | [(* | (- id | expr)), ...]?) (with id*)? (using expr)? tactic.simp_config_ext?</code> actually mean something? Where can I learn about what it means?</p>

<a name="130437472"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437472" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437472">Mario Carneiro (Jul 28 2018 at 07:39)</a>:</h4>
<p>It is hard to get the analysis exactly right without just recompiling the current file, and if it's not exactly right then there is the possibility of incorrect hints, which will get old fast</p>

<a name="130437486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437486" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437486">Mario Carneiro (Jul 28 2018 at 07:39)</a>:</h4>
<p>yes, it's a description of the parsing of arguments following <code>simpa</code></p>

<a name="130437537"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437537" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437537">Kevin Buzzard (Jul 28 2018 at 07:40)</a>:</h4>
<p>I want it to be a regex but I can't make sense of it</p>

<a name="130437544"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437544" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437544">Mario Carneiro (Jul 28 2018 at 07:40)</a>:</h4>
<p>Basically <code>?</code> means that the previous thing may or may not be present, and <code>*</code> means zero or more of the previous thing</p>

<a name="130437546"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437546" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437546">Sebastian Ullrich (Jul 28 2018 at 07:40)</a>:</h4>
<p>It's a pseudorex</p>

<a name="130437547"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437547" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437547">Kevin Buzzard (Jul 28 2018 at 07:40)</a>:</h4>
<p>oh is it just a regex but using stuff I don't know?</p>

<a name="130437548"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437548" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437548">Kevin Buzzard (Jul 28 2018 at 07:41)</a>:</h4>
<p>Aah thanks!</p>

<a name="130437559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437559" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437559">Mario Carneiro (Jul 28 2018 at 07:41)</a>:</h4>
<p><code>|</code> means alternatives</p>

<a name="130437563"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437563" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437563">Mario Carneiro (Jul 28 2018 at 07:41)</a>:</h4>
<p>i.e. <code>a | b</code> means parse <code>a</code> or parse <code>b</code></p>

<a name="130437618"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437618" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437618">Kevin Buzzard (Jul 28 2018 at 07:42)</a>:</h4>
<p>and <code>expr</code> is some kind of variable? Or you want something of type <code>expr</code>?</p>

<a name="130437621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437621" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437621">Mario Carneiro (Jul 28 2018 at 07:42)</a>:</h4>
<p><code>expr</code> means parse an expression</p>

<a name="130437622"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437622" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437622">Mario Carneiro (Jul 28 2018 at 07:42)</a>:</h4>
<p>and <code>id</code> means parse an identifier</p>

<a name="130437625"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437625" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437625">Kevin Buzzard (Jul 28 2018 at 07:42)</a>:</h4>
<p>I thought that <code>h</code> was a name in <code>simpa using h</code>, not an <code>expr</code></p>

<a name="130437637"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437637" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437637">Mario Carneiro (Jul 28 2018 at 07:43)</a>:</h4>
<p>nope, look for <code>simpa using show</code> in mathlib and you will find several larger examples</p>

<a name="130437644"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437644" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437644">Mario Carneiro (Jul 28 2018 at 07:43)</a>:</h4>
<p>it's a nice way to say "use this term, but clean it up first"</p>

<a name="130437689"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437689" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437689">Kevin Buzzard (Jul 28 2018 at 07:44)</a>:</h4>
<p>so what's <code>with</code>?</p>

<a name="130437693"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437693" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437693">Kevin Buzzard (Jul 28 2018 at 07:44)</a>:</h4>
<p>I just apply these things at random usually.</p>

<a name="130437699"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437699" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437699">Mario Carneiro (Jul 28 2018 at 07:44)</a>:</h4>
<p>most of the args are just passed to <code>simp</code> as is</p>

<a name="130437700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437700" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437700">Kevin Buzzard (Jul 28 2018 at 07:44)</a>:</h4>
<p>I have a list of "incantations formed with <code>simp</code> or <code>simpa</code> which have worked for me in the past"</p>

<a name="130437704"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437704" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437704">Mario Carneiro (Jul 28 2018 at 07:44)</a>:</h4>
<p>that includes <code>!</code> and <code>with</code></p>

<a name="130437719"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437719" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437719">Mario Carneiro (Jul 28 2018 at 07:45)</a>:</h4>
<p>the <code>with</code> arg of <code>simp</code> allows you to simplify with custom simp sets, like <code>functor_norm</code></p>

<a name="130437726"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437726" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437726">Mario Carneiro (Jul 28 2018 at 07:45)</a>:</h4>
<p>I don't use it much at all</p>

<a name="130437773"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437773" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437773">Kevin Buzzard (Jul 28 2018 at 07:46)</a>:</h4>
<p>What does <code>simpa [this]</code> do? Does that not even parse?</p>

<a name="130437781"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437781" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437781">Chris Hughes (Jul 28 2018 at 07:47)</a>:</h4>
<p>The same as <code>simp [this], assumption</code></p>

<a name="130437859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437859" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437859">Kevin Buzzard (Jul 28 2018 at 07:49)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">+</span> <span class="mi">0</span> <span class="bp">+</span> <span class="n">c</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span> <span class="n">c</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">simpa</span> <span class="c1">-- fails</span>
<span class="kn">example</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">+</span> <span class="mi">0</span> <span class="bp">+</span> <span class="n">c</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">→</span> <span class="n">c</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">simpa</span> <span class="c1">-- works</span>
</pre></div>


<p>If you'd told me one works and one failed I would have guessed the other way around.</p>

<a name="130437929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437929" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437929">Chris Hughes (Jul 28 2018 at 07:50)</a>:</h4>
<p>The second one is simplified to <code>c=0 -&gt; c=0</code>. The first one doesn't simplify <code>H</code></p>

<a name="130437940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437940" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437940">Kevin Buzzard (Jul 28 2018 at 07:51)</a>:</h4>
<p><code>example : ∀ (y : ℕ), (λ (c : ℕ), 0 + 0 + c = 0) y → y = 0 := by simp </code></p>

<a name="130437982"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437982" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437982">Kevin Buzzard (Jul 28 2018 at 07:52)</a>:</h4>
<p>I wouldn't have dreamed of applying <code>simp</code> to that because it's not an equality. Am I using <code>simp</code> completely wrong?</p>

<a name="130437984"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130437984" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130437984">Mario Carneiro (Jul 28 2018 at 07:52)</a>:</h4>
<p>Actually <code>simpa [this]</code> is a bit funny - it's more like <code>have this' := this, simp [this] at this', simp [this], exact this'</code></p>

<a name="130438007"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130438007" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130438007">Mario Carneiro (Jul 28 2018 at 07:53)</a>:</h4>
<p>for the first example you want <code>by simpa using H</code></p>

<a name="130438050"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130438050" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130438050">Mario Carneiro (Jul 28 2018 at 07:54)</a>:</h4>
<p>The <code>using</code> argument of <code>simpa</code> is pretty important. It's not really optional, it just has a default value of <code>this</code></p>

<a name="130438054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130438054" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130438054">Mario Carneiro (Jul 28 2018 at 07:54)</a>:</h4>
<p>so <code>by simpa</code> where there is no <code>this</code> in the context is kind of pointless</p>

<a name="130438060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130438060" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130438060">Chris Hughes (Jul 28 2018 at 07:54)</a>:</h4>
<p>One nice feature of <code>simp</code> I discovered today, is it doesn't let you make horrible simp lemma. I tried to prove <code>forall x : zmod 2, x = -x</code> and it didn't let me make it <code>simp</code></p>

<a name="130438080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130438080" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130438080">Kevin Buzzard (Jul 28 2018 at 07:55)</a>:</h4>
<p>If you try it again you might get banned</p>

<a name="130438084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130438084" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130438084">Kevin Buzzard (Jul 28 2018 at 07:55)</a>:</h4>
<p>"no more simp for you for a week"</p>

<a name="130438146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130438146" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130438146">Mario Carneiro (Jul 28 2018 at 07:56)</a>:</h4>
<p>your use of <code>simp</code> to prove that is valid but a bit funny and doesn't generalize well</p>

<a name="130438155"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130438155" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130438155">Mario Carneiro (Jul 28 2018 at 07:57)</a>:</h4>
<p>I would do <code>intros y H; simpa using H</code></p>

<a name="130438163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Still%20don%27t%20understand%20simp/near/130438163" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/87350Stilldontunderstandsimp.html#130438163">Mario Carneiro (Jul 28 2018 at 07:57)</a>:</h4>
<p><code>simp {contextual := tt}</code> often works in these situations, but I don't think it simplifies the assumptions first</p>


{% endraw %}
