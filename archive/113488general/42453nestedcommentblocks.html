---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/42453nestedcommentblocks.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/42453nestedcommentblocks.html">nested comment blocks</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="188132373"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nested%20comment%20blocks/near/188132373" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/42453nestedcommentblocks.html#188132373">Rob Lewis (Feb 13 2020 at 18:01)</a>:</h4>
<p>Cross-posting from <a href="https://github.com/leanprover-community/mathlib/issues/1963" target="_blank" title="https://github.com/leanprover-community/mathlib/issues/1963">#1963</a>: Lean doesn't like nested comment blocks. e.g.</p>
<div class="codehilite"><pre><span></span><span class="c">/-</span><span class="cm"></span>
<span class="cm">/- -/</span>
<span class="cm">a</span>
<span class="cm">-/</span>
</pre></div>


<p>ends the comment on the second line, and <code>a</code> is not commented. <span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> guessed it wouldn't be horribly hard to allow this. Does anyone agree/disagree with that guess, and is anyone interested in trying to implement it?</p>

<a name="188133198"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nested%20comment%20blocks/near/188133198" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/42453nestedcommentblocks.html#188133198">Gabriel Ebner (Feb 13 2020 at 18:09)</a>:</h4>
<p>NB: it already works for regular comments.  That is, Rob's example works as expected.  It's docstrings that we want to nest.  So if anybody wants to implement this, you can just copy the logic from the <code>read_comment_block</code> function!</p>

<a name="188133350"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nested%20comment%20blocks/near/188133350" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/42453nestedcommentblocks.html#188133350">Rob Lewis (Feb 13 2020 at 18:10)</a>:</h4>
<p>Oh! I didn't even try it for the example I posted, I just assumed it would be the same.</p>

<a name="188133357"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nested%20comment%20blocks/near/188133357" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/42453nestedcommentblocks.html#188133357">Rob Lewis (Feb 13 2020 at 18:10)</a>:</h4>
<p>Silly me for making assumptions.</p>

<a name="188133954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nested%20comment%20blocks/near/188133954" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/42453nestedcommentblocks.html#188133954">Bryan Gin-ge Chen (Feb 13 2020 at 18:17)</a>:</h4>
<p>Oops, I missed this discussion and just said roughly the same thing in the issue comments.</p>

<a name="188179978"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nested%20comment%20blocks/near/188179978" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/42453nestedcommentblocks.html#188179978">Bryan Gin-ge Chen (Feb 14 2020 at 05:42)</a>:</h4>
<p>I gave this a shot: <a href="https://github.com/leanprover-community/lean/pull/113" target="_blank" title="https://github.com/leanprover-community/lean/pull/113">https://github.com/leanprover-community/lean/pull/113</a></p>


{% endraw %}

{% include archive_update.html %}