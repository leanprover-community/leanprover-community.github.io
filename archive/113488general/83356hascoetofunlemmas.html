---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/83356hascoetofunlemmas.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/83356hascoetofunlemmas.html">has_coe_to_fun lemmas</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="168847249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/has_coe_to_fun%20lemmas/near/168847249" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/83356hascoetofunlemmas.html#168847249">Andreas Swerdlow (Jun 24 2019 at 13:04)</a>:</h4>
<p>I'm working on bilinear forms (link: <a href="https://github.com/leanprover-community/mathlib/blob/inner_product_spaces/src/linear_algebra/bilinear_form.lean" target="_blank" title="https://github.com/leanprover-community/mathlib/blob/inner_product_spaces/src/linear_algebra/bilinear_form.lean">https://github.com/leanprover-community/mathlib/blob/inner_product_spaces/src/linear_algebra/bilinear_form.lean</a>) and would like to use <code>has_coe_to_fun</code> for notation. However, I run into issues when trying to apply lemmas for structures that extend <code>bilin_form</code>, for example <code>refl_bilin_form</code>.  Do I need to copy and paste every lemma for each new structure? I have found one workaround which is to give a coercion from <code>refl_bilin_form</code> to <code>bilin_form</code>, but this requires the use of <code>coe_fn_coe_base</code> before <code>rw</code> works.</p>

<a name="169157497"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/has_coe_to_fun%20lemmas/near/169157497" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/83356hascoetofunlemmas.html#169157497">Kevin Buzzard (Jun 27 2019 at 17:50)</a>:</h4>
<p>Andreas has just explained his question to me in a lot more detail. He has made a structure called bilinear forms, with a coe to fun. His simp lemmas for bilinear forms are all written in terms of this coercion (so they're statements about \u b with b the bilinear form). He now wants to make symmetric bilinear forms and so he extended the structure and now he can't use any of his simp lemmas. How should he be doing this? I suggested making an <code>is_symmetric</code> predicate on bilinear forms instead, so then the symmetric bilinear forms would be a subtype rather than a new structure. Are there other better ways to do this?</p>


{% endraw %}

{% include archive_update.html %}