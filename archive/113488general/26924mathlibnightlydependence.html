---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/26924mathlibnightlydependence.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/26924mathlibnightlydependence.html">mathlib nightly dependence</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="124969893"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightly%20dependence/near/124969893" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/26924mathlibnightlydependence.html#124969893">Kenny Lau (Apr 12 2018 at 07:48)</a>:</h4>
<p>could mathlib stop depending on nightlies?</p>

<a name="124969899"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightly%20dependence/near/124969899" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/26924mathlibnightlydependence.html#124969899">Mario Carneiro (Apr 12 2018 at 07:48)</a>:</h4>
<p>In lieu of what?</p>

<a name="124969905"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightly%20dependence/near/124969905" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/26924mathlibnightlydependence.html#124969905">Kenny Lau (Apr 12 2018 at 07:49)</a>:</h4>
<p>the latest lean commit that builds?</p>

<a name="124969907"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightly%20dependence/near/124969907" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/26924mathlibnightlydependence.html#124969907">Mario Carneiro (Apr 12 2018 at 07:49)</a>:</h4>
<p>That's what we used to do, gave headaches for all</p>

<a name="124969909"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightly%20dependence/near/124969909" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/26924mathlibnightlydependence.html#124969909">Kenny Lau (Apr 12 2018 at 07:49)</a>:</h4>
<p>04-10 lean compiles, but I'm forced to detach head from lean and use the 04-04 version</p>

<a name="124969911"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightly%20dependence/near/124969911" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/26924mathlibnightlydependence.html#124969911">Mario Carneiro (Apr 12 2018 at 07:49)</a>:</h4>
<p>just because it compiles doesn't mean it works with mathlib</p>

<a name="124969915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightly%20dependence/near/124969915" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/26924mathlibnightlydependence.html#124969915">Kenny Lau (Apr 12 2018 at 07:50)</a>:</h4>
<p>right</p>

<a name="124969956"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightly%20dependence/near/124969956" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/26924mathlibnightlydependence.html#124969956">Mario Carneiro (Apr 12 2018 at 07:50)</a>:</h4>
<p>If I increase the nightly version that means I've tested it with the latest changes, other than that I make no guarantee</p>

<a name="124969964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightly%20dependence/near/124969964" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/26924mathlibnightlydependence.html#124969964">Mario Carneiro (Apr 12 2018 at 07:51)</a>:</h4>
<p>By attaching to a particular nightly version it prevents the situation where Leo pushes some breaking change and mathlib is broken for a week while we figure out how to recover from it</p>

<a name="124969967"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightly%20dependence/near/124969967" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/26924mathlibnightlydependence.html#124969967">Kenny Lau (Apr 12 2018 at 07:51)</a>:</h4>
<p>I see</p>

<a name="124970015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightly%20dependence/near/124970015" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/26924mathlibnightlydependence.html#124970015">Mario Carneiro (Apr 12 2018 at 07:53)</a>:</h4>
<p>It's fully possible that mathlib works with no changes on 4-10 nightly, and I'll probably update it next time I make a change to mathlib, but unless there's some feature that was just added that you need it shouldn't cause you any problems to just stay on 04-04</p>

<a name="124970060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightly%20dependence/near/124970060" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/26924mathlibnightlydependence.html#124970060">Kenny Lau (Apr 12 2018 at 07:54)</a>:</h4>
<p>it doesn't work with 4-10</p>

<a name="124972134"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightly%20dependence/near/124972134" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/26924mathlibnightlydependence.html#124972134">Johannes Hölzl (Apr 12 2018 at 09:10)</a>:</h4>
<p>Also, mathlib is currently broken w.r.t. Lean head, until <a href="https://github.com/leanprover/lean/pull/1955" target="_blank" title="https://github.com/leanprover/lean/pull/1955">https://github.com/leanprover/lean/pull/1955</a> is merged</p>

<a name="124973329"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightly%20dependence/near/124973329" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/26924mathlibnightlydependence.html#124973329">Sebastian Ullrich (Apr 12 2018 at 09:55)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> Are you still compiling Lean yourself? Why?</p>

<a name="124973367"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightly%20dependence/near/124973367" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/26924mathlibnightlydependence.html#124973367">Kenny Lau (Apr 12 2018 at 09:56)</a>:</h4>
<p>why not?</p>

<a name="124973379"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightly%20dependence/near/124973379" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/26924mathlibnightlydependence.html#124973379">Sebastian Ullrich (Apr 12 2018 at 09:57)</a>:</h4>
<p>Because of the added friction you complain about here...</p>

<a name="124973426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightly%20dependence/near/124973426" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/26924mathlibnightlydependence.html#124973426">Sebastian Ullrich (Apr 12 2018 at 09:58)</a>:</h4>
<p>If you haven't seen <a href="https://github.com/Kha/elan" target="_blank" title="https://github.com/Kha/elan">https://github.com/Kha/elan</a> yet, it will solve the issue of how to obtain a Lean version compatible to mathlib. Though I don't know what OS you're using.</p>

<a name="124973498"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightly%20dependence/near/124973498" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/26924mathlibnightlydependence.html#124973498">Sebastian Ullrich (Apr 12 2018 at 10:01)</a>:</h4>
<p>Also compiling yourself is bad for the climate :P</p>

<a name="124973694"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightly%20dependence/near/124973694" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/26924mathlibnightlydependence.html#124973694">Kenny Lau (Apr 12 2018 at 10:08)</a>:</h4>
<p><span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span>  oh well i'm on windows</p>

<a name="124973702"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightly%20dependence/near/124973702" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/26924mathlibnightlydependence.html#124973702">Sean Leather (Apr 12 2018 at 10:09)</a>:</h4>
<p>I'm still quite happy using a git submodule for Lean and the mathlib commit in <code>leanpkg.toml</code> to manage my dependencies. I have precise control over which commits I rely on. Also, I compile Lean much less often than nightlies are made, so I don't think I'm contributing much to climate change. <span class="emoji emoji-1f609" title="wink">:wink:</span></p>

<a name="124973707"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightly%20dependence/near/124973707" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/26924mathlibnightlydependence.html#124973707">Kenny Lau (Apr 12 2018 at 10:09)</a>:</h4>
<div class="codehilite"><pre><span></span>$ curl https://raw.githubusercontent.com/Kha/elan/master/elan-init.sh -sSf | sh

info: downloading installer
curl: (22) The requested URL returned error: 404 Not Found
elan: command failed: curl -sSfL https://github.com/Kha/elan/releases/download/v0.3.0/elan-x86_64-pc-windows-gnu.zip -o /tmp/tmp.xOB7DmPlna/elan-init.zip
</pre></div>

<a name="124973815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightly%20dependence/near/124973815" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/26924mathlibnightlydependence.html#124973815">Sebastian Ullrich (Apr 12 2018 at 10:12)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> I'll take a look, thanks</p>

<a name="124973899"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightly%20dependence/near/124973899" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/26924mathlibnightlydependence.html#124973899">Sebastian Ullrich (Apr 12 2018 at 10:15)</a>:</h4>
<p><span class="user-mention" data-user-id="110045">@Sean Leather</span> Just for completeness, elan should give you exactly the same amount of control. Well, you can't select commits between nightlies, but hopefully that should be granular enough.</p>

<a name="124974006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightly%20dependence/near/124974006" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/26924mathlibnightlydependence.html#124974006">Sean Leather (Apr 12 2018 at 10:18)</a>:</h4>
<p><span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span> Thanks. I'll wait and see how it goes. I do like being able to choose commits, but I grant you that is probably not an important requirement. At the moment, anyway, I don't feel the need to change my approach.</p>

<a name="124975482"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightly%20dependence/near/124975482" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/26924mathlibnightlydependence.html#124975482">Scott Morrison (Apr 12 2018 at 11:08)</a>:</h4>
<p>There's also a certain argument that us "early adopters" hanging out here should dogfood elan, to make sure it's usable for the newcomers.</p>

<a name="124975863"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightly%20dependence/near/124975863" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/26924mathlibnightlydependence.html#124975863">Moses Schönfinkel (Apr 12 2018 at 11:22)</a>:</h4>
<p>How widespread do you expect Lean to get :)? Can we go by how Coq's doing after 30 years?</p>

<a name="124976887"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightly%20dependence/near/124976887" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/26924mathlibnightlydependence.html#124976887">Scott Morrison (Apr 12 2018 at 11:54)</a>:</h4>
<p>:-)</p>

<a name="124976901"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightly%20dependence/near/124976901" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/26924mathlibnightlydependence.html#124976901">Scott Morrison (Apr 12 2018 at 11:55)</a>:</h4>
<p>I'm enormously encouraged by the fact that my undergrads can learn Lean, and do non-trivial stuff in it.</p>

<a name="124981519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightly%20dependence/near/124981519" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/26924mathlibnightlydependence.html#124981519">Simon Hudon (Apr 12 2018 at 14:03)</a>:</h4>
<p><span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span> I believe Elan is still using the wrong tool for unzipping on Mac</p>

<a name="124981608"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightly%20dependence/near/124981608" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/26924mathlibnightlydependence.html#124981608">Sebastian Ullrich (Apr 12 2018 at 14:04)</a>:</h4>
<p>Well yes, I haven't touched it yet :)</p>

<a name="124982169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightly%20dependence/near/124982169" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/26924mathlibnightlydependence.html#124982169">Simon Hudon (Apr 12 2018 at 14:14)</a>:</h4>
<p>I think that's the wrong approach to fixing it <span class="emoji emoji-1f61d" title="stuck out tongue closed eyes">:stuck_out_tongue_closed_eyes:</span></p>


{% endraw %}
