---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/73933typeclassinferencesystem.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/73933typeclassinferencesystem.html">type class inference system</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="127610700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/type%20class%20inference%20system/near/127610700" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/73933typeclassinferencesystem.html#127610700">Johan Commelin (Jun 05 2018 at 19:03)</a>:</h4>
<p>Two (classes of) related questions:<br>
1) Is there some reference for the type class inference algorithm that Lean uses? Is it ad hoc, or does it follow some established algorithm? Is it documented in some paper?<br>
2) How will Lean 4 impact the type class system? Is it planned to remain the same, or will it go through a major revision?</p>

<a name="127610978"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/type%20class%20inference%20system/near/127610978" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/73933typeclassinferencesystem.html#127610978">Gabriel Ebner (Jun 05 2018 at 19:08)</a>:</h4>
<blockquote>
<p>Is there some reference for the type class inference algorithm that Lean uses? Is it ad hoc, or does it follow some established algorithm? Is it documented in some paper?</p>
</blockquote>
<p>I think the canonical answer is that it's a Î»Prolog interpreter, which synthesizes instances by essentially backchaining.  We typically cite [1].</p>
<p>[1] D. Miller and G. Nadathur. Programming with Higher-Order Logic. Cambridge, 2012.</p>
<p>(Not entirely sure if this is helpful.)</p>

<a name="127611007"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/type%20class%20inference%20system/near/127611007" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/73933typeclassinferencesystem.html#127611007">Johan Commelin (Jun 05 2018 at 19:09)</a>:</h4>
<p>Yes, I think it answers 1).</p>

<a name="127611008"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/type%20class%20inference%20system/near/127611008" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/73933typeclassinferencesystem.html#127611008">Gabriel Ebner (Jun 05 2018 at 19:09)</a>:</h4>
<blockquote>
<p>How will Lean 4 impact the type class system? Is it planned to remain the same, or will it go through a major revision?</p>
</blockquote>
<p>I don't expect any significant changes, but Sebastian can probably speak more authoritatively on this topic.</p>

<a name="127611083"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/type%20class%20inference%20system/near/127611083" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/73933typeclassinferencesystem.html#127611083">Sebastian Ullrich (Jun 05 2018 at 19:10)</a>:</h4>
<p>There are no changes to the type class system planned right now</p>

<a name="127611098"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/type%20class%20inference%20system/near/127611098" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/73933typeclassinferencesystem.html#127611098">Johan Commelin (Jun 05 2018 at 19:11)</a>:</h4>
<p>Maybe I have a newbie question 3): Are coercions and type class inferences somehow two avatars of some underlying common principle?</p>

<a name="127611427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/type%20class%20inference%20system/near/127611427" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/73933typeclassinferencesystem.html#127611427">Johan Commelin (Jun 05 2018 at 19:19)</a>:</h4>
<p>/me just realises that the Miller--Nadathur reference is a 300 page book...</p>

<a name="127611656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/type%20class%20inference%20system/near/127611656" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/73933typeclassinferencesystem.html#127611656">Johan Commelin (Jun 05 2018 at 19:24)</a>:</h4>
<p>Once Lean 4 is ready, someone should write "The Leanbook". Alas, I hear that Don Knuth's todo list is non-empty ;-)</p>

<a name="127611690"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/type%20class%20inference%20system/near/127611690" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/73933typeclassinferencesystem.html#127611690">Johan Commelin (Jun 05 2018 at 19:25)</a>:</h4>
<p>I would love to understand the inner workings of Lean. But I'm not a very proficient source reader. In that regard I found the TeXbook very enlightening.</p>


{% endraw %}
