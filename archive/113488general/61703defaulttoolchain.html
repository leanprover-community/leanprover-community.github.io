---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/61703defaulttoolchain.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/61703defaulttoolchain.html">default toolchain</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="188827196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/default%20toolchain/near/188827196" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/61703defaulttoolchain.html#188827196">Patrick Massot (Feb 22 2020 at 18:06)</a>:</h4>
<p>Shouldn't we update our installation docs and scripts to tell people to run <code>elan-init.sh -y --default-toolchain leanprover-community-lean-3.5.1</code>? The problem is we'll need to maintain that.</p>

<a name="188828856"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/default%20toolchain/near/188828856" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/61703defaulttoolchain.html#188828856">Simon Hudon (Feb 22 2020 at 18:56)</a>:</h4>
<p><span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span> Did you end up making the change to the default origin for the toolchains in <code>elan</code>? Does this affect which toolchain is installed when install <code>elan</code>?</p>

<a name="188834113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/default%20toolchain/near/188834113" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/61703defaulttoolchain.html#188834113">Patrick Massot (Feb 22 2020 at 21:33)</a>:</h4>
<p>Actually I don't know how to use elan here. If I have</p>
<div class="codehilite"><pre><span></span>$ elan toolchain list
leanprover-community-lean-3.5.1 (default)
</pre></div>


<p>Then <code>leanpkg new test</code> works but then <code>leanpkg add leanprover-community/mathlib</code> says:</p>
<div class="codehilite"><pre><span></span><span class="n">info</span><span class="o">:</span> <span class="n">downloading</span> <span class="n">component</span> <span class="err">&#39;</span><span class="n">lean&#39;</span>
<span class="n">Error</span><span class="o">(</span><span class="n">Download</span><span class="o">(</span><span class="n">HttpStatus</span><span class="o">(</span><span class="mi">404</span><span class="o">)),</span> <span class="n">State</span> <span class="o">{</span> <span class="n">next_error</span><span class="o">:</span> <span class="n">None</span><span class="o">,</span> <span class="n">backtrace</span><span class="o">:</span> <span class="n">None</span> <span class="o">})</span>
<span class="n">error</span><span class="o">:</span> <span class="n">could</span> <span class="n">not</span> <span class="n">download</span> <span class="n">nonexistent</span> <span class="n">lean</span> <span class="n">version</span> <span class="bp">`</span><span class="mi">3</span><span class="bp">.</span><span class="mi">5</span><span class="bp">.</span><span class="mi">1</span><span class="bp">`</span>
<span class="n">info</span><span class="o">:</span> <span class="n">caused</span> <span class="k">by</span><span class="o">:</span> <span class="n">could</span> <span class="n">not</span> <span class="n">download</span> <span class="n">file</span> <span class="k">from</span> <span class="err">&#39;</span><span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github</span><span class="bp">.</span><span class="n">com</span><span class="bp">/</span><span class="n">leanprover</span><span class="bp">/</span><span class="n">lean</span><span class="bp">/</span><span class="n">releases</span><span class="bp">/</span><span class="n">tag</span><span class="bp">/</span><span class="n">v3</span><span class="bp">.</span><span class="mi">5</span><span class="bp">.</span><span class="mi">1</span><span class="err">&#39;</span> <span class="n">to</span> <span class="err">&#39;</span><span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">pmassot</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">tmp</span><span class="bp">/</span><span class="n">rkly9ssuw8ovfl67_file&#39;</span>
<span class="n">info</span><span class="o">:</span> <span class="n">caused</span> <span class="k">by</span><span class="o">:</span> <span class="n">http</span> <span class="n">request</span> <span class="n">returned</span> <span class="n">an</span> <span class="n">unsuccessful</span> <span class="n">status</span> <span class="n">code</span><span class="o">:</span> <span class="mi">404</span>
</pre></div>

<a name="188834123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/default%20toolchain/near/188834123" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/61703defaulttoolchain.html#188834123">Patrick Massot (Feb 22 2020 at 21:33)</a>:</h4>
<p>Because <code>leanpkg new</code> put <code>3.5.1</code> as version in <code>leanpkg.toml</code>.</p>

<a name="188834171"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/default%20toolchain/near/188834171" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/61703defaulttoolchain.html#188834171">Patrick Massot (Feb 22 2020 at 21:34)</a>:</h4>
<p>instead of the correct <code>leanprover-community/lean-3.5.1</code></p>

<a name="188834173"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/default%20toolchain/near/188834173" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/61703defaulttoolchain.html#188834173">Sebastian Ullrich (Feb 22 2020 at 21:34)</a>:</h4>
<p>That is a bug of leanprover-community/lean then, not elan</p>

<a name="188834190"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/default%20toolchain/near/188834190" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/61703defaulttoolchain.html#188834190">Patrick Massot (Feb 22 2020 at 21:36)</a>:</h4>
<p>You mean a bug in leanpkg from there?</p>

<a name="188834240"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/default%20toolchain/near/188834240" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/61703defaulttoolchain.html#188834240">Patrick Massot (Feb 22 2020 at 21:36)</a>:</h4>
<p>Oh but I see you just pushed a new elan.</p>

<a name="188834298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/default%20toolchain/near/188834298" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/61703defaulttoolchain.html#188834298">Sebastian Ullrich (Feb 22 2020 at 21:38)</a>:</h4>
<p>Yes, but it will not fix this issue. In fact I was about to test whether the leanpkg.toml is created correctly, but you've already done that for me.</p>

<a name="188834311"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/default%20toolchain/near/188834311" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/61703defaulttoolchain.html#188834311">Patrick Massot (Feb 22 2020 at 21:39)</a>:</h4>
<p>So it's a bug in <a href="https://github.com/leanprover-community/lean/tree/master/leanpkg" target="_blank" title="https://github.com/leanprover-community/lean/tree/master/leanpkg">https://github.com/leanprover-community/lean/tree/master/leanpkg</a>, right?</p>

<a name="188834476"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/default%20toolchain/near/188834476" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/61703defaulttoolchain.html#188834476">Sebastian Ullrich (Feb 22 2020 at 21:44)</a>:</h4>
<p>Yes, imo</p>

<a name="188869853"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/default%20toolchain/near/188869853" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/61703defaulttoolchain.html#188869853">Patrick Massot (Feb 23 2020 at 13:45)</a>:</h4>
<p>I opened <a href="https://github.com/leanprover-community/lean/issues/126" target="_blank" title="https://github.com/leanprover-community/lean/issues/126">https://github.com/leanprover-community/lean/issues/126</a></p>

<a name="190651519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/default%20toolchain/near/190651519" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/61703defaulttoolchain.html#190651519">Simon Hudon (Mar 15 2020 at 15:17)</a>:</h4>
<p>Is this completely solved?</p>


{% endraw %}

{% include archive_update.html %}