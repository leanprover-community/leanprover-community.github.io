---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/64146howtocallthislemma.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/64146howtocallthislemma.html">how to call this lemma</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="131039906"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20to%20call%20this%20lemma/near/131039906" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/64146howtocallthislemma.html#131039906">Johan Commelin (Aug 07 2018 at 12:03)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">quux</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">add_comm_group</span> <span class="n">A</span><span class="o">]</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">fin</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="bp">→</span> <span class="n">A</span><span class="o">)</span> <span class="o">:</span> <span class="n">sum</span> <span class="n">univ</span> <span class="n">f</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">sum</span> <span class="n">univ</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">i</span> <span class="o">:</span> <span class="n">fin</span> <span class="n">n</span><span class="o">,</span> <span class="n">f</span> <span class="n">i</span><span class="bp">.</span><span class="n">raise</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">sorry</span>
<span class="kn">end</span>
</pre></div>

<a name="131040023"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20to%20call%20this%20lemma/near/131040023" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/64146howtocallthislemma.html#131040023">Johan Commelin (Aug 07 2018 at 12:06)</a>:</h4>
<p>Ooh, and if you don't know a name, but you know a <em>proof</em>... that's fine too.</p>

<a name="131040821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20to%20call%20this%20lemma/near/131040821" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/64146howtocallthislemma.html#131040821">Kevin Buzzard (Aug 07 2018 at 12:23)</a>:</h4>
<p>Johan, I think Kenny might have generated a proof of this once, when I was trying to figure out induction.</p>

<a name="131040877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20to%20call%20this%20lemma/near/131040877" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/64146howtocallthislemma.html#131040877">Kevin Buzzard (Aug 07 2018 at 12:24)</a>:</h4>
<p><a href="https://xenaproject.wordpress.com/2018/03/30/proofs-by-induction/" target="_blank" title="https://xenaproject.wordpress.com/2018/03/30/proofs-by-induction/">https://xenaproject.wordpress.com/2018/03/30/proofs-by-induction/</a></p>

<a name="131040889"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20to%20call%20this%20lemma/near/131040889" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/64146howtocallthislemma.html#131040889">Kevin Buzzard (Aug 07 2018 at 12:25)</a>:</h4>
<p>check out def4 in <a href="https://github.com/kckennylau/Lean/blob/master/proofs_by_induction.lean" target="_blank" title="https://github.com/kckennylau/Lean/blob/master/proofs_by_induction.lean">https://github.com/kckennylau/Lean/blob/master/proofs_by_induction.lean</a></p>

<a name="131040899"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20to%20call%20this%20lemma/near/131040899" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/64146howtocallthislemma.html#131040899">Kevin Buzzard (Aug 07 2018 at 12:25)</a>:</h4>
<p>Apparently it uses a lemma called <code>chris</code>. I'm not sure if this is the official mathlib-sanctioned name.</p>

<a name="131041195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20to%20call%20this%20lemma/near/131041195" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/64146howtocallthislemma.html#131041195">Johan Commelin (Aug 07 2018 at 12:30)</a>:</h4>
<p>Ok, thanks. I'll take a look in a minute!</p>

<a name="131042444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20to%20call%20this%20lemma/near/131042444" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/64146howtocallthislemma.html#131042444">Chris Hughes (Aug 07 2018 at 12:56)</a>:</h4>
<p>I proved a slightly weaker version</p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">quux</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">add_comm_group</span> <span class="n">A</span><span class="o">]</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">fin</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="bp">→</span> <span class="n">A</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">sum</span> <span class="n">univ</span> <span class="n">f</span> <span class="bp">=</span> <span class="n">f</span> <span class="bp">⟨</span><span class="n">n</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">lt_succ_self</span> <span class="bp">_⟩</span>  <span class="bp">+</span> <span class="n">sum</span> <span class="n">univ</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">i</span> <span class="o">:</span> <span class="n">fin</span> <span class="n">n</span><span class="o">,</span> <span class="n">f</span> <span class="n">i</span><span class="bp">.</span><span class="n">raise</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="err">←</span> <span class="n">insert_erase</span> <span class="o">(</span><span class="n">mem_univ</span> <span class="o">(</span><span class="bp">⟨</span><span class="n">n</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">lt_succ_self</span> <span class="bp">_⟩</span> <span class="o">:</span> <span class="n">fin</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))),</span>
    <span class="n">sum_insert</span> <span class="o">(</span><span class="n">not_mem_erase</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">),</span> <span class="n">add_left_inj</span><span class="o">]</span><span class="bp">;</span> <span class="n">exact</span>
<span class="n">sum_bij</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">a</span> <span class="n">ha</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">a</span><span class="o">,</span> <span class="n">lt_of_le_of_ne</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">le_of_lt_succ</span> <span class="n">a</span><span class="bp">.</span><span class="mi">2</span><span class="o">)</span>
  <span class="o">(</span><span class="n">fin</span><span class="bp">.</span><span class="n">vne_of_ne</span> <span class="o">(</span><span class="n">mem_erase</span><span class="bp">.</span><span class="mi">1</span> <span class="n">ha</span><span class="o">)</span><span class="bp">.</span><span class="mi">1</span><span class="o">)</span><span class="bp">⟩</span> <span class="o">)</span> <span class="o">(</span><span class="bp">λ</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">,</span> <span class="n">mem_univ</span> <span class="bp">_</span><span class="o">)</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="bp">⟨_</span><span class="o">,</span> <span class="bp">_⟩</span> <span class="bp">_</span><span class="o">,</span> <span class="n">rfl</span><span class="o">)</span> <span class="o">(</span><span class="bp">λ</span> <span class="bp">⟨</span><span class="n">a</span><span class="o">,</span> <span class="bp">_⟩</span> <span class="bp">⟨</span><span class="n">b</span><span class="o">,</span> <span class="bp">_⟩</span> <span class="bp">_</span> <span class="bp">_</span> <span class="n">h</span><span class="o">,</span> <span class="n">fin</span><span class="bp">.</span><span class="n">eq_of_veq</span> <span class="o">(</span><span class="n">fin</span><span class="bp">.</span><span class="n">veq_of_eq</span> <span class="n">h</span> <span class="o">:</span> <span class="bp">_</span><span class="o">))</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="n">b</span> <span class="n">hb</span><span class="o">,</span> <span class="bp">⟨⟨</span><span class="n">b</span><span class="bp">.</span><span class="mi">1</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">lt_succ_of_lt</span> <span class="n">b</span><span class="bp">.</span><span class="mi">2</span><span class="bp">⟩</span><span class="o">,</span> <span class="n">mem_erase</span><span class="bp">.</span><span class="mi">2</span> <span class="bp">⟨</span><span class="n">fin</span><span class="bp">.</span><span class="n">ne_of_vne</span> <span class="o">(</span><span class="n">ne_of_lt</span> <span class="n">b</span><span class="bp">.</span><span class="mi">2</span><span class="o">),</span> <span class="n">mem_univ</span> <span class="bp">_⟩</span><span class="o">,</span>
    <span class="k">by</span> <span class="n">cases</span> <span class="n">b</span><span class="bp">;</span> <span class="n">refl</span><span class="bp">⟩</span><span class="o">)</span>
</pre></div>

<a name="131042466"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20to%20call%20this%20lemma/near/131042466" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/64146howtocallthislemma.html#131042466">Johan Commelin (Aug 07 2018 at 12:57)</a>:</h4>
<p>Why is it weaker?</p>

<a name="131042478"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20to%20call%20this%20lemma/near/131042478" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/64146howtocallthislemma.html#131042478">Johan Commelin (Aug 07 2018 at 12:57)</a>:</h4>
<p>Also, apparently I ought to be using <code>finset.range</code>...</p>

<a name="131042484"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20to%20call%20this%20lemma/near/131042484" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/64146howtocallthislemma.html#131042484">Chris Hughes (Aug 07 2018 at 12:57)</a>:</h4>
<p>I used <code>⟨n, nat.lt_succ_self _⟩</code> instead of <code>\u n</code></p>

<a name="131042536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20to%20call%20this%20lemma/near/131042536" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/64146howtocallthislemma.html#131042536">Johan Commelin (Aug 07 2018 at 12:58)</a>:</h4>
<p>Aaah, but that is better.</p>

<a name="131042543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20to%20call%20this%20lemma/near/131042543" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/64146howtocallthislemma.html#131042543">Johan Commelin (Aug 07 2018 at 12:58)</a>:</h4>
<p>Silly me didn't understand that <code>\u n</code> is difficult.</p>

<a name="131042561"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20to%20call%20this%20lemma/near/131042561" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/64146howtocallthislemma.html#131042561">Johan Commelin (Aug 07 2018 at 12:59)</a>:</h4>
<p>I think you can use <code>nat.le_refl _</code> for some golfing.</p>

<a name="131042583"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20to%20call%20this%20lemma/near/131042583" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/64146howtocallthislemma.html#131042583">Johan Commelin (Aug 07 2018 at 12:59)</a>:</h4>
<p>But I will first think about the <code>finset.range</code> version. Maybe it becomes a whole lot easier.</p>

<a name="131046567"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20to%20call%20this%20lemma/near/131046567" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/64146howtocallthislemma.html#131046567">Johan Commelin (Aug 07 2018 at 14:08)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">quux</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">add_comm_group</span> <span class="n">A</span><span class="o">]</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">A</span><span class="o">)</span>
<span class="o">:</span> <span class="o">(</span><span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">))</span><span class="bp">.</span><span class="n">sum</span> <span class="n">f</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">n</span> <span class="bp">+</span> <span class="o">(</span><span class="n">finset</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">sum</span> <span class="n">f</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">simp</span>
</pre></div>

<a name="131046594"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20to%20call%20this%20lemma/near/131046594" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/64146howtocallthislemma.html#131046594">Johan Commelin (Aug 07 2018 at 14:09)</a>:</h4>
<p>So, that might not be even worth stating as a lemma.</p>

<a name="131046619"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20to%20call%20this%20lemma/near/131046619" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/64146howtocallthislemma.html#131046619">Kenny Lau (Aug 07 2018 at 14:09)</a>:</h4>
<p>what's the use of this lemma if you could just <code>simp</code>?</p>

<a name="131046678"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20to%20call%20this%20lemma/near/131046678" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/64146howtocallthislemma.html#131046678">Johan Commelin (Aug 07 2018 at 14:10)</a>:</h4>
<p>That's exactly my point.</p>


{% endraw %}

{% include archive_update.html %}