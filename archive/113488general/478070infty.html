---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/478070infty.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/478070infty.html">[0,infty]</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="148858594"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%5B0%2Cinfty%5D/near/148858594" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/478070infty.html#148858594">Kenny Lau (Nov 30 2018 at 12:38)</a>:</h4>
<p>The interval [0,infty] is quite special: you can add countably many things together. Does Lean know this fact? What is this structure called in general?</p>

<a name="148858663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%5B0%2Cinfty%5D/near/148858663" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/478070infty.html#148858663">Johan Commelin (Nov 30 2018 at 12:40)</a>:</h4>
<p>What's your motivation? (I know, it's an evil question. But I think it doesn't hurt to have a bit of focus.)</p>

<a name="148858669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%5B0%2Cinfty%5D/near/148858669" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/478070infty.html#148858669">Mario Carneiro (Nov 30 2018 at 12:40)</a>:</h4>
<p>you can add infinitely many things, even</p>

<a name="148858682"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%5B0%2Cinfty%5D/near/148858682" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/478070infty.html#148858682">Mario Carneiro (Nov 30 2018 at 12:41)</a>:</h4>
<p>the property is shared with canonically ordered semirings with a top element</p>

<a name="148858686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%5B0%2Cinfty%5D/near/148858686" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/478070infty.html#148858686">Mario Carneiro (Nov 30 2018 at 12:41)</a>:</h4>
<p>that are also totally ordered complete lattices</p>

<a name="148858740"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%5B0%2Cinfty%5D/near/148858740" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/478070infty.html#148858740">Mario Carneiro (Nov 30 2018 at 12:42)</a>:</h4>
<p><code>enat</code> is also such a thing</p>

<a name="148858753"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%5B0%2Cinfty%5D/near/148858753" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/478070infty.html#148858753">Kenny Lau (Nov 30 2018 at 12:42)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> measure theory, of course :D</p>

<a name="148858784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%5B0%2Cinfty%5D/near/148858784" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/478070infty.html#148858784">Mario Carneiro (Nov 30 2018 at 12:43)</a>:</h4>
<p>it's possible that [0, infty] is unique if you add a few more conditions</p>

<a name="148858828"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%5B0%2Cinfty%5D/near/148858828" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/478070infty.html#148858828">Mario Carneiro (Nov 30 2018 at 12:44)</a>:</h4>
<p>like nonatomicity</p>

<a name="148858861"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%5B0%2Cinfty%5D/near/148858861" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/478070infty.html#148858861">Johan Commelin (Nov 30 2018 at 12:45)</a>:</h4>
<p>To add infinitely many things together, I don't think you need <code>semiring</code>, <code>add_monoid</code> should suffice. So you want some <code>linearly_ordered_add_monoid_with_top</code>?</p>

<a name="148858914"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%5B0%2Cinfty%5D/near/148858914" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/478070infty.html#148858914">Mario Carneiro (Nov 30 2018 at 12:46)</a>:</h4>
<p>the complete lattice part is important, and it gives the top</p>

<a name="148858930"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%5B0%2Cinfty%5D/near/148858930" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/478070infty.html#148858930">Mario Carneiro (Nov 30 2018 at 12:47)</a>:</h4>
<p>in a complete lattice where every element is nonnegative, you can define arbitrary sums as a supremum of finite subsums</p>

<a name="148858935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%5B0%2Cinfty%5D/near/148858935" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/478070infty.html#148858935">Johannes Hölzl (Nov 30 2018 at 12:47)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> are you looking for <code>ennreal.has_sum</code> ( <a href="https://github.com/leanprover/mathlib/blob/master/analysis/ennreal.lean#L308" target="_blank" title="https://github.com/leanprover/mathlib/blob/master/analysis/ennreal.lean#L308">https://github.com/leanprover/mathlib/blob/master/analysis/ennreal.lean#L308</a> ) It says that at the <code>ennreal</code>s every infinite familiy has a well defined sum</p>

<a name="148858999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%5B0%2Cinfty%5D/near/148858999" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/478070infty.html#148858999">Kenny Lau (Nov 30 2018 at 12:49)</a>:</h4>
<p>nice</p>

<a name="148859458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%5B0%2Cinfty%5D/near/148859458" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/478070infty.html#148859458">Kenny Lau (Nov 30 2018 at 12:59)</a>:</h4>
<p>well if A is partially ordered and f:A-&gt;B-&gt;[0,infty] is a homomorphism for each b, then sup[a] sum[b] f(a,b) = sum[b] sup[a] f(a,b) right</p>

<a name="148859649"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%5B0%2Cinfty%5D/near/148859649" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/478070infty.html#148859649">Johannes Hölzl (Nov 30 2018 at 13:03)</a>:</h4>
<p>I think you need some directedness or monotonicity assumption of <code>f</code>, look at <code>ennreal.supr_add_supr</code> ( <a href="https://github.com/leanprover/mathlib/blob/2a86b06b1853493ab4fb381514e7d1a3f4dfc54b/analysis/ennreal.lean#L198" target="_blank" title="https://github.com/leanprover/mathlib/blob/2a86b06b1853493ab4fb381514e7d1a3f4dfc54b/analysis/ennreal.lean#L198">https://github.com/leanprover/mathlib/blob/2a86b06b1853493ab4fb381514e7d1a3f4dfc54b/analysis/ennreal.lean#L198</a>  )</p>

<a name="148859855"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%5B0%2Cinfty%5D/near/148859855" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/478070infty.html#148859855">Johannes Hölzl (Nov 30 2018 at 13:07)</a>:</h4>
<p>to generalize this to an arbitrary function <code>f : A -&gt; B -&gt; ennreal</code> you might combine <code>tsum_eq_supr_sum</code> and <code>finset_sum_supr_nat</code> (which btw has the wrong name, the <code>nat</code> needs to be removed)</p>

<a name="148859868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%5B0%2Cinfty%5D/near/148859868" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/478070infty.html#148859868">Kenny Lau (Nov 30 2018 at 13:07)</a>:</h4>
<p>I did say homomorphism</p>

<a name="148860004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%5B0%2Cinfty%5D/near/148860004" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/478070infty.html#148860004">Johannes Hölzl (Nov 30 2018 at 13:10)</a>:</h4>
<p>So you meant with <strong>homomorphisms</strong> functions which are directed or monotone?</p>

<a name="148860043"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%5B0%2Cinfty%5D/near/148860043" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/478070infty.html#148860043">Johannes Hölzl (Nov 30 2018 at 13:11)</a>:</h4>
<p>this should work for <code>ennreal</code>, and surely for some kind of canoncially ordered monoids on a complete lattice</p>

<a name="148860209"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%5B0%2Cinfty%5D/near/148860209" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/478070infty.html#148860209">Mario Carneiro (Nov 30 2018 at 13:14)</a>:</h4>
<p>Ah, there are subsets of [0,infty] with this property that are not isomorphic to enat: the set of elements a/2^n where n,a : nat and 3^n &lt;= a, plus infty</p>

<a name="148860212"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%5B0%2Cinfty%5D/near/148860212" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/478070infty.html#148860212">Kenny Lau (Nov 30 2018 at 13:14)</a>:</h4>
<p>that a1 &lt;= a2 implies f(a1,b) &lt;= f(a2,b)</p>

<a name="148860242"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%5B0%2Cinfty%5D/near/148860242" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/478070infty.html#148860242">Kenny Lau (Nov 30 2018 at 13:15)</a>:</h4>
<p>you mean n : int?</p>

<a name="148860291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%5B0%2Cinfty%5D/near/148860291" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/478070infty.html#148860291">Mario Carneiro (Nov 30 2018 at 13:16)</a>:</h4>
<p>no, but it doesn't matter</p>

<a name="148860301"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%5B0%2Cinfty%5D/near/148860301" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/478070infty.html#148860301">Kenny Lau (Nov 30 2018 at 13:16)</a>:</h4>
<p>what is a+a?</p>

<a name="148860303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%5B0%2Cinfty%5D/near/148860303" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/478070infty.html#148860303">Mario Carneiro (Nov 30 2018 at 13:16)</a>:</h4>
<p>2a</p>

<a name="148860307"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%5B0%2Cinfty%5D/near/148860307" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/478070infty.html#148860307">Mario Carneiro (Nov 30 2018 at 13:16)</a>:</h4>
<p>2a/2^0</p>

<a name="148860309"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%5B0%2Cinfty%5D/near/148860309" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/478070infty.html#148860309">Kenny Lau (Nov 30 2018 at 13:16)</a>:</h4>
<p>oh you don’t fix a</p>

<a name="148860329"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%5B0%2Cinfty%5D/near/148860329" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/478070infty.html#148860329">Mario Carneiro (Nov 30 2018 at 13:17)</a>:</h4>
<p>yeah it's a kind of weird set. it gets denser as you go up</p>

<a name="148860334"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%5B0%2Cinfty%5D/near/148860334" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/478070infty.html#148860334">Mario Carneiro (Nov 30 2018 at 13:17)</a>:</h4>
<p>but it's discrete except at infty</p>

<a name="148865420"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/%5B0%2Cinfty%5D/near/148865420" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/478070infty.html#148865420">Mario Carneiro (Nov 30 2018 at 14:46)</a>:</h4>
<p>Suppose X is a topological add comm monoid where every sum converges. First, suppose that a + b = 0. Then the infinite sum a + b + a + b + ... converges to a and also to 0, so if we assume X is Hausdorff then a = 0 (and b = 0). Thus we can define an order by a &lt;= b iff \ex c, a + c = b, and this order is reflexive and transitive (it's divisibility) and a &lt;= 0 -&gt; a = 0.</p>
<p>Similarly, if <code>a &lt;= b</code> and <code>b &lt;= a</code>, then given <code>a + c = b</code> and <code>b + d = a</code>, <code>a + c + d + c + d + ...</code> converges to both <code>a</code> and <code>b</code>, so <code>a = b</code>. Thus the order is a partial order. There is also a top element <code>T = \sum a : X, a</code>. Thus it is an ordered monoid, except that cancellation fails. Assuming X is nonzero, T is non-cancellative, since T + 0 = T + T but T =/= 0. The non-cancellative elements are upward closed.</p>
<p>There are plenty of examples of where this is not a total order, such as the one I gave above (which starts 0, 1, 3/2, and so 1 and 3/2 are incomparable). So let us assume it is. Then the countable suprema can be expressed as sums / limits of finite sub-sums: If <code>a n</code> is an increasing sequence and <code>a n + b n = a (n+1)</code>, then <code>a 0 + sum n, b n</code> is the sup of the <code>a n</code>.</p>
<p>Let N(a) be the sum of countably many copies of a. This is also the sum of any infinite family of copies of a, because it's still just the limit of n*a for n : nat. This always produces an idempotent, and <code>b &lt;= N(a)</code> implies <code>N(a) + b = N(a)</code>. If a set <code>S</code> satisfies the property that for every <code>a \in S</code>, there is <code>b \in S</code> with <code>N(a) &lt;= b</code>, then the supremum of S is just the sum of the members of S. If not, say <code>a \in S</code> has the property that <code>b &lt; N(a)</code> for all b in S, then either <code>N(a)</code> is the supremum of S, or for some n <code>n*a</code> is not an upper bound and <code>n*a + a</code> is. So we add n copies of a and then iterate to find the supremum of <code>{b | n*a + b \in S}</code>. The iteration is by transfinite induction using a well ordering of X, since we never pick the same element twice since they are decreasing in the natural order. The result is a supremum for the whole set S.</p>
<p>Thus X is a complete lattice. But now I'm out of time, characterization coming soon...</p>


{% endraw %}

{% include archive_update.html %}