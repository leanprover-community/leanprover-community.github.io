---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/77763killingeasynatgoal.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/77763killingeasynatgoal.html">killing easy nat goal</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="123969731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/killing%20easy%20nat%20goal/near/123969731" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/77763killingeasynatgoal.html#123969731">Kevin Buzzard (Mar 20 2018 at 16:17)</a>:</h4>
<p>Faced with <code>∀ n, 2 * nat.succ (n) = nat.succ (2 * n + 1)</code> I find that simp or ring don't seem to be able to do it. Even <code>intro n, simp [nat.succ_eq_add_one,mul_add,one_add_one_eq_two]</code> doesn't work. I can use simp and then ring!</p>

<a name="123969887"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/killing%20easy%20nat%20goal/near/123969887" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/77763killingeasynatgoal.html#123969887">Kevin Buzzard (Mar 20 2018 at 16:20)</a>:</h4>
<div class="codehilite"><pre><span></span>  intro n,
  suffices : 2 + 2 * n = 1 + (1 + 2 * n),
    simp [nat.succ_eq_add_one,mul_add,this],
  ring
</pre></div>

<a name="123969888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/killing%20easy%20nat%20goal/near/123969888" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/77763killingeasynatgoal.html#123969888">Kevin Buzzard (Mar 20 2018 at 16:20)</a>:</h4>
<p>meh</p>

<a name="123971217"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/killing%20easy%20nat%20goal/near/123971217" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/77763killingeasynatgoal.html#123971217">Patrick Massot (Mar 20 2018 at 16:52)</a>:</h4>
<p>Isn't there a lemma saying it suffices to prove this in Z, and then ring does it?</p>

<a name="123971737"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/killing%20easy%20nat%20goal/near/123971737" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/77763killingeasynatgoal.html#123971737">Simon Hudon (Mar 20 2018 at 17:06)</a>:</h4>
<p>Interesting! What would that lemma look like?</p>

<a name="123971848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/killing%20easy%20nat%20goal/near/123971848" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/77763killingeasynatgoal.html#123971848">Patrick Massot (Mar 20 2018 at 17:08)</a>:</h4>
<p>From a mathematician perspective, the lemma says the inclusion of N into Z is injective</p>

<a name="123971851"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/killing%20easy%20nat%20goal/near/123971851" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/77763killingeasynatgoal.html#123971851">Patrick Massot (Mar 20 2018 at 17:08)</a>:</h4>
<p>Insert words like coercion or cast</p>

<a name="123971854"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/killing%20easy%20nat%20goal/near/123971854" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/77763killingeasynatgoal.html#123971854">Patrick Massot (Mar 20 2018 at 17:08)</a>:</h4>
<p>and get the CS version</p>

<a name="123971878"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/killing%20easy%20nat%20goal/near/123971878" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/77763killingeasynatgoal.html#123971878">Patrick Massot (Mar 20 2018 at 17:09)</a>:</h4>
<p>I don't have a computer with Lean where I am right now</p>

<a name="123971881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/killing%20easy%20nat%20goal/near/123971881" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/77763killingeasynatgoal.html#123971881">Kevin Buzzard (Mar 20 2018 at 17:09)</a>:</h4>
<p>Fortunately I think ring seems to work on nat, faced with ring operations like + or *</p>

<a name="123971936"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/killing%20easy%20nat%20goal/near/123971936" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/77763killingeasynatgoal.html#123971936">Simon Hudon (Mar 20 2018 at 17:10)</a>:</h4>
<p>ah! So the injectivity of <code>coe</code> plus the distributivity over +, * and succ would do it. That is really nice</p>

<a name="123971953"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/killing%20easy%20nat%20goal/near/123971953" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/77763killingeasynatgoal.html#123971953">Kevin Buzzard (Mar 20 2018 at 17:10)</a>:</h4>
<p>One issue is that ring would rather see <code>n + 1</code> than <code>nat.succ n</code></p>

<a name="123971978"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/killing%20easy%20nat%20goal/near/123971978" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/77763killingeasynatgoal.html#123971978">Kevin Buzzard (Mar 20 2018 at 17:11)</a>:</h4>
<p>to coerce into Z you'll need <code>nat.cast_add</code>, <code>nat.cast_mul</code>, <code>nat.cast_one</code></p>

<a name="123971979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/killing%20easy%20nat%20goal/near/123971979" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/77763killingeasynatgoal.html#123971979">Simon Hudon (Mar 20 2018 at 17:11)</a>:</h4>
<p>I would assume that <code>↑(succ n) = ↑n + 1</code> would be a simp rule so <code>succ</code> would disappear</p>

<a name="123972132"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/killing%20easy%20nat%20goal/near/123972132" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/77763killingeasynatgoal.html#123972132">Chris Hughes (Mar 20 2018 at 17:14)</a>:</h4>
<p>Have you tried rfl? 2<em>succ n := 2</em>n + 2 := succ(2*n+1), maybe rw add_comm or mul_comm first?</p>

<a name="123972404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/killing%20easy%20nat%20goal/near/123972404" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/77763killingeasynatgoal.html#123972404">Patrick Massot (Mar 20 2018 at 17:20)</a>:</h4>
<p>There should be a tactic doing that for any equality in nat which would immediately follow from ring in int</p>

<a name="123972415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/killing%20easy%20nat%20goal/near/123972415" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/77763killingeasynatgoal.html#123972415">Patrick Massot (Mar 20 2018 at 17:20)</a>:</h4>
<p>without any preliminary rw</p>

<a name="123972422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/killing%20easy%20nat%20goal/near/123972422" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/77763killingeasynatgoal.html#123972422">Patrick Massot (Mar 20 2018 at 17:20)</a>:</h4>
<p>I'm sure Simon is already writing it</p>

<a name="123972435"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/killing%20easy%20nat%20goal/near/123972435" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/77763killingeasynatgoal.html#123972435">Simon Hudon (Mar 20 2018 at 17:21)</a>:</h4>
<p>I sneezed so you wrote the above before I could get started</p>

<a name="123972553"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/killing%20easy%20nat%20goal/near/123972553" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/77763killingeasynatgoal.html#123972553">Kevin Buzzard (Mar 20 2018 at 17:24)</a>:</h4>
<blockquote>
<p>Have you tried rfl? 2<em>succ n := 2</em>n + 2 := succ(2*n+1), maybe rw add_comm or mul_comm first?</p>
</blockquote>
<p>Aah! I tried refl before intro n and it failed, but after intro n it succeeds.</p>

<a name="123972554"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/killing%20easy%20nat%20goal/near/123972554" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/77763killingeasynatgoal.html#123972554">Kevin Buzzard (Mar 20 2018 at 17:24)</a>:</h4>
<p>Thanks.</p>

<a name="123972561"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/killing%20easy%20nat%20goal/near/123972561" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/77763killingeasynatgoal.html#123972561">Kevin Buzzard (Mar 20 2018 at 17:25)</a>:</h4>
<p>Chris, I'm doing the exercises here:</p>

<a name="123972570"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/killing%20easy%20nat%20goal/near/123972570" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/77763killingeasynatgoal.html#123972570">Kevin Buzzard (Mar 20 2018 at 17:25)</a>:</h4>
<p><a href="https://softwarefoundations.cis.upenn.edu/lf-current/Basics.html" target="_blank" title="https://softwarefoundations.cis.upenn.edu/lf-current/Basics.html">https://softwarefoundations.cis.upenn.edu/lf-current/Basics.html</a></p>

<a name="123973436"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/killing%20easy%20nat%20goal/near/123973436" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/77763killingeasynatgoal.html#123973436">Simon Hudon (Mar 20 2018 at 17:45)</a>:</h4>
<p>I did a bit of scripting and then tried to find what fails and I found that this works: </p>
<div class="codehilite"><pre><span></span>example (n : ℕ) : 2 * nat.succ (n) = nat.succ (2 * n + 1) :=
begin
  ring,
end
</pre></div>


<p>Why doesn't it work for you?</p>

<a name="123976260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/killing%20easy%20nat%20goal/near/123976260" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/77763killingeasynatgoal.html#123976260">Kevin Buzzard (Mar 20 2018 at 18:51)</a>:</h4>
<p>because I had "forall n" in front of it :-/</p>

<a name="123976344"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/killing%20easy%20nat%20goal/near/123976344" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/77763killingeasynatgoal.html#123976344">Simon Hudon (Mar 20 2018 at 18:52)</a>:</h4>
<p>Maybe <code>ring</code> should start with <code>intros</code></p>


{% endraw %}
