---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/68366howtoleanwithelan.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html">howto lean with elan</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="125446301"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125446301" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125446301">Johan Commelin (Apr 20 2018 at 12:03)</a>:</h4>
<p><a href="https://gist.github.com/jcommelin/1d45a0ea7a84a87db8a28a12e93cac32" target="_blank" title="https://gist.github.com/jcommelin/1d45a0ea7a84a87db8a28a12e93cac32">https://gist.github.com/jcommelin/1d45a0ea7a84a87db8a28a12e93cac32</a><br>
This is still WIP. I did not test it yet.</p>

<a name="125446346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125446346" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125446346">Johan Commelin (Apr 20 2018 at 12:04)</a>:</h4>
<p>Posting it here, because I gotta go now.</p>

<a name="125446397"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125446397" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125446397">Sebastian Ullrich (Apr 20 2018 at 12:06)</a>:</h4>
<blockquote>
<p>Then add source .elan/env to your shell initialization script, say ~/.bashrc</p>
</blockquote>
<p>Does this part not work out of the box via the elan installer?</p>

<a name="125446413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125446413" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125446413">Sebastian Ullrich (Apr 20 2018 at 12:07)</a>:</h4>
<blockquote>
<p>elan run nightly-2018-04-06 leanpkg new my_playground</p>
</blockquote>
<p>You can do <code>elan run --install ...</code> to skip step 1</p>

<a name="125446465"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125446465" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125446465">Sebastian Ullrich (Apr 20 2018 at 12:09)</a>:</h4>
<p>Scenario 2: <code>build</code> implies <code>configure</code></p>

<a name="125446569"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125446569" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125446569">Johan Commelin (Apr 20 2018 at 12:12)</a>:</h4>
<p>Thanks for the feedback!</p>

<a name="125446577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125446577" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125446577">Johan Commelin (Apr 20 2018 at 12:13)</a>:</h4>
<blockquote>
<blockquote>
<p>Then add source .elan/env to your shell initialization script, say ~/.bashrc</p>
</blockquote>
<p>Does this part not work out of the box via the elan installer?</p>
</blockquote>
<p>Not for me. It edited <code>.profile</code> and <code>.bash_profile</code> but those files do nothing for me.</p>

<a name="125446628"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125446628" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125446628">Sebastian Ullrich (Apr 20 2018 at 12:15)</a>:</h4>
<blockquote>
<p>Launch VScode from the terminal, while you are inside the directory lean-stacks-project. (This will make sure that VScode knows about the right version of Lean.)</p>
</blockquote>
<p>The location from where you start VS Code should not be relevant, as long as <code>elan</code> is in your PATH. Actually, I would recommend configuring the path in the VS Code settings rather than bothering with the terminal. You should open an issue in the plugin repo about <code>~</code> not being accepted.</p>

<a name="125446631"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125446631" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125446631">Sebastian Ullrich (Apr 20 2018 at 12:15)</a>:</h4>
<p>And thank you for testing and writing this!</p>

<a name="125446861"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125446861" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125446861">Sebastian Ullrich (Apr 20 2018 at 12:22)</a>:</h4>
<blockquote>
<p>It edited .profile and .bash_profile but those files do nothing for me.</p>
</blockquote>
<p>It should after you log out and back in (i.e. in a new login shell). Actually, your desktop environment should usually read <code>.profile</code> as well next time, so you shouldn't have to configure VS Code at all. This should probably be tested by multiple people on different configurations.</p>

<a name="125446877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125446877" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125446877">Johan Commelin (Apr 20 2018 at 12:23)</a>:</h4>
<p>Ok, <code>elan</code> is magic to me.</p>

<a name="125446881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125446881" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125446881">Johan Commelin (Apr 20 2018 at 12:23)</a>:</h4>
<p>If I have two folders <code>a/</code> and <code>b/</code>, and I have to different <code>toml</code> files in them</p>

<a name="125446883"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125446883" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125446883">Johan Commelin (Apr 20 2018 at 12:23)</a>:</h4>
<p>And I have two instances of vscode open</p>

<a name="125446923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125446923" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125446923">Johan Commelin (Apr 20 2018 at 12:24)</a>:</h4>
<p>In one I navigate to <code>a/</code>, in the other to <code>b/</code></p>

<a name="125446924"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125446924" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125446924">Johan Commelin (Apr 20 2018 at 12:24)</a>:</h4>
<p>How will they call the right version of Lean?, How does elan figure this out?</p>

<a name="125446927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125446927" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125446927">Johan Commelin (Apr 20 2018 at 12:24)</a>:</h4>
<p>I assumed via some <code>PWD</code> in the <code>env</code></p>

<a name="125446929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125446929" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125446929">Johan Commelin (Apr 20 2018 at 12:25)</a>:</h4>
<p>But if you don't call vscode from the terminal, that won't work</p>

<a name="125446945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125446945" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125446945">Sebastian Ullrich (Apr 20 2018 at 12:26)</a>:</h4>
<p>It sure does. The vscode plugin takes care to set the cwd of the server process to the opened directory.</p>

<a name="125446985"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125446985" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125446985">Johan Commelin (Apr 20 2018 at 12:26)</a>:</h4>
<p>Aah, wonderful</p>

<a name="125446987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125446987" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125446987">Sebastian Ullrich (Apr 20 2018 at 12:26)</a>:</h4>
<p>Which automatically makes <code>elan</code> work, without either of the two knowing about the other tool :)</p>

<a name="125446989"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125446989" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125446989">Johan Commelin (Apr 20 2018 at 12:26)</a>:</h4>
<p>Fantastic</p>

<a name="125447468"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125447468" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125447468">Sebastian Ullrich (Apr 20 2018 at 12:40)</a>:</h4>
<p>elan 0.5.0 will make <code>leanpkg +nightly-2018-04-06</code>work even if it's not installed yet btw</p>

<a name="125448267"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125448267" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125448267">Sebastian Ullrich (Apr 20 2018 at 13:02)</a>:</h4>
<p>I've opened an issue about what I imagine would be a nicer elan+mathlib workflow: <a href="https://github.com/Kha/elan/issues/7" target="_blank" title="https://github.com/Kha/elan/issues/7">https://github.com/Kha/elan/issues/7</a></p>

<a name="125448647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125448647" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125448647">Johan Commelin (Apr 20 2018 at 13:15)</a>:</h4>
<p>Thanks, great ideas!</p>

<a name="125448653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125448653" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125448653">Johan Commelin (Apr 20 2018 at 13:15)</a>:</h4>
<p>Do you plan to work on this soon?</p>

<a name="125448694"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125448694" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125448694">Johan Commelin (Apr 20 2018 at 13:16)</a>:</h4>
<p>Because then I will postpone my howto for a little bit</p>

<a name="125464426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125464426" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125464426">Patrick Massot (Apr 20 2018 at 19:45)</a>:</h4>
<p>Nice work Johan!</p>

<a name="125464474"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125464474" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125464474">Patrick Massot (Apr 20 2018 at 19:46)</a>:</h4>
<p>I think you could do the small corrections suggested by Sebastian without waiting so that we can point new users to this while Sebastian works on elan</p>

<a name="125464484"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125464484" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125464484">Johan Commelin (Apr 20 2018 at 19:46)</a>:</h4>
<p>Hmm, that's true</p>

<a name="125464485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125464485" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125464485">Patrick Massot (Apr 20 2018 at 19:47)</a>:</h4>
<p><span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span> what about VScode <code>open folder</code> operation? Is it no longer relevant?</p>

<a name="125464496"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125464496" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125464496">Johan Commelin (Apr 20 2018 at 19:47)</a>:</h4>
<p>I'll see if I can find some time on Monday</p>

<a name="125469732"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125469732" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125469732">Sebastian Ullrich (Apr 20 2018 at 21:54)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> You still need it, I think? You should use it anyway for easier navigation etc. Note that vscode-lean doesn't seem to support the new multi-root workspaces yet.</p>

<a name="125554858"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125554858" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125554858">Johan Commelin (Apr 23 2018 at 05:45)</a>:</h4>
<p>Voila, an update:<br>
<a href="https://gist.github.com/jcommelin/1d45a0ea7a84a87db8a28a12e93cac32" target="_blank" title="https://gist.github.com/jcommelin/1d45a0ea7a84a87db8a28a12e93cac32">https://gist.github.com/jcommelin/1d45a0ea7a84a87db8a28a12e93cac32</a><br>
This incorporates the suggestions by <span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span></p>

<a name="125554901"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125554901" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125554901">Johan Commelin (Apr 23 2018 at 05:46)</a>:</h4>
<p>What would be the proper place to post this how to?</p>

<a name="125554903"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125554903" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125554903">Johan Commelin (Apr 23 2018 at 05:46)</a>:</h4>
<p>I'm fine with leaving it as a gist right now, but that isn't very visible to newcomers</p>

<a name="125554906"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125554906" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125554906">Johan Commelin (Apr 23 2018 at 05:47)</a>:</h4>
<p>Or should we just link to it from several READMEs?</p>

<a name="125558443"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125558443" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125558443">Patrick Massot (Apr 23 2018 at 07:59)</a>:</h4>
<p>I think you can PR it to <code>mathlib/docs/elan.md</code> and link to it from <code>mathlib</code> main README.</p>

<a name="125558500"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125558500" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125558500">Patrick Massot (Apr 23 2018 at 08:00)</a>:</h4>
<p>I would add that you can put the <code>source .elan/env</code> in your <code>.bashrc</code> or <code>.zshrc</code> instead of <code>.profile</code> if you want to enjoy it from terminal immediately. Reading "It is recommended that you re-login, so that your environment knows about Elan." would be <em>extremely</em> off-putting for me.</p>

<a name="125558961"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125558961" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125558961">Johan Commelin (Apr 23 2018 at 08:15)</a>:</h4>
<p>But it already says:</p>
<blockquote>
<p>(Alternatively, type <code>source $HOME/.elan/env</code> into your terminal. Now this terminal session knows about Elan.)</p>
</blockquote>

<a name="125559111"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125559111" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125559111">Patrick Massot (Apr 23 2018 at 08:19)</a>:</h4>
<p>It still doesn't suggest the shell startup scripts. And I think this emphasis is currently much more on the relogging option.</p>

<a name="125559355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125559355" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125559355">Johan Commelin (Apr 23 2018 at 08:26)</a>:</h4>
<p>I agree that the emphasis is on logging in again. You don't need the startup scripts after logging in. So if you don't want to relogin, I would just source it straight into the current terminal session.</p>

<a name="125559365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125559365" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125559365">Johan Commelin (Apr 23 2018 at 08:27)</a>:</h4>
<p>The reason I put emphasis on the relogin is that you can just launch VScode from a GUI launcher afterwards. Which is nice.</p>

<a name="125559368"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125559368" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125559368">Johan Commelin (Apr 23 2018 at 08:27)</a>:</h4>
<p>Otherwise you have to launch it from a terminal... which some newcomers might not really be happy with...</p>

<a name="125559408"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125559408" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125559408">Johan Commelin (Apr 23 2018 at 08:28)</a>:</h4>
<p>But I agree that asking for a relogin is maybe also something that people are not happy with...</p>

<a name="125566458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125566458" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125566458">Johan Commelin (Apr 23 2018 at 12:16)</a>:</h4>
<p>Ok, I just reinstalled the desktop pc in my office. I just tested the howto, and it seems to work (-;</p>

<a name="125566513"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125566513" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125566513">Patrick Massot (Apr 23 2018 at 12:17)</a>:</h4>
<p>Nice! So you can PR it and then prove that Spec vs global section thing.</p>

<a name="125567126"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125567126" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125567126">Johan Commelin (Apr 23 2018 at 12:36)</a>:</h4>
<p>Ok, so to make a pull request, should I fork leanprover/mathlib? Or is there another way to do this?</p>

<a name="125567127"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125567127" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125567127">Patrick Massot (Apr 23 2018 at 12:36)</a>:</h4>
<p>fork</p>

<a name="125567135"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125567135" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125567135">Patrick Massot (Apr 23 2018 at 12:37)</a>:</h4>
<p>This sounds aggressive but that's the usual procedure</p>

<a name="125567140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125567140" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125567140">Johan Commelin (Apr 23 2018 at 12:37)</a>:</h4>
<p>okido</p>

<a name="125567142"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125567142" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125567142">Patrick Massot (Apr 23 2018 at 12:37)</a>:</h4>
<p>Then create a branch from master in your fork and PR from there</p>

<a name="125567188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125567188" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125567188">Sebastian Ullrich (Apr 23 2018 at 12:38)</a>:</h4>
<blockquote>
<p>Do you plan to work on this soon?</p>
</blockquote>
<p>I don't think I will get to it before Lean 3.4.1 is released... so perhaps at that point you can just hard-code 3.4.1 as the Lean version to use, with or without elan.</p>

<a name="125567192"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125567192" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125567192">Patrick Massot (Apr 23 2018 at 12:38)</a>:</h4>
<p>Any news about 3.4.1?</p>

<a name="125567207"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125567207" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125567207">Patrick Massot (Apr 23 2018 at 12:39)</a>:</h4>
<p>I guess you wait for Mario here</p>

<a name="125567210"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125567210" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125567210">Sebastian Ullrich (Apr 23 2018 at 12:39)</a>:</h4>
<p>yes</p>

<a name="125567258"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125567258" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125567258">Patrick Massot (Apr 23 2018 at 12:40)</a>:</h4>
<p>We need mathlib to work with nightly-2018-04-20</p>

<a name="125567260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125567260" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125567260">Patrick Massot (Apr 23 2018 at 12:40)</a>:</h4>
<p>Otherwise 3.4.1 is pointless</p>

<a name="125572029"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125572029" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125572029">Johan Commelin (Apr 23 2018 at 14:44)</a>:</h4>
<p>A student popped in. But here is the PR: <a href="https://github.com/leanprover/mathlib/pull/113" target="_blank" title="https://github.com/leanprover/mathlib/pull/113">https://github.com/leanprover/mathlib/pull/113</a></p>

<a name="125572125"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125572125" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125572125">Patrick Massot (Apr 23 2018 at 14:46)</a>:</h4>
<p>Thanks! I wrote a tiny comment</p>

<a name="125572299"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125572299" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125572299">Johan Commelin (Apr 23 2018 at 14:51)</a>:</h4>
<p>Fixed</p>

<a name="125573243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125573243" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125573243">Patrick Massot (Apr 23 2018 at 15:13)</a>:</h4>
<p>I felt like I should double that effort. So I just opened another doc PR: <a href="https://github.com/leanprover/mathlib/pull/114" target="_blank" title="https://github.com/leanprover/mathlib/pull/114">https://github.com/leanprover/mathlib/pull/114</a></p>

<a name="125573300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125573300" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125573300">Patrick Massot (Apr 23 2018 at 15:14)</a>:</h4>
<p>Maybe this is a nice challenge for me: each time someone PRs some doc, I double it.</p>

<a name="125573308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125573308" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125573308">Patrick Massot (Apr 23 2018 at 15:14)</a>:</h4>
<p>Simon: if you PR something now, we hit the 20 mark</p>

<a name="125573341"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125573341" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125573341">Patrick Massot (Apr 23 2018 at 15:15)</a>:</h4>
<p><span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> <span class="user-mention" data-user-id="110064">@Kenny Lau</span> <span class="user-mention" data-user-id="110026">@Simon Hudon</span> I hope you don't mind I've stolen your explanations (with attribution) in the above PR</p>

<a name="125573411"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125573411" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125573411">Simon Hudon (Apr 23 2018 at 15:16)</a>:</h4>
<p>Do we get royalties? :D</p>

<a name="125573501"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125573501" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125573501">Patrick Massot (Apr 23 2018 at 15:18)</a>:</h4>
<p>Your royalty is writing this piece of doc didn't distracted you from writing your tactic writing tutorials</p>

<a name="125574242"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125574242" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125574242">Simon Hudon (Apr 23 2018 at 15:32)</a>:</h4>
<p>Sounds like you win twice</p>

<a name="125574275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125574275" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125574275">Patrick Massot (Apr 23 2018 at 15:32)</a>:</h4>
<p>I love this negociation</p>

<a name="125574327"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/125574327" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#125574327">Patrick Massot (Apr 23 2018 at 15:33)</a>:</h4>
<p>But actually I'm a bit serious. Gathering some Zulip explanations into mathlib doc is something I can do. And I'm very happy if this allows experts to work on expert stuff I couldn't do.</p>

<a name="151493765"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/151493765" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#151493765">Simon Hudon (Dec 12 2018 at 00:50)</a>:</h4>
<p>I'm trying to use a local version of lean and hoping <code>elan</code> will help me with that. I wrote <code>elan toolchain link lean-tweaked ~/lean/lean-master</code> but then <code>elan</code> crashes. Am I the only one with this issue?</p>

<a name="151510146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/151510146" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#151510146">Gabriel Ebner (Dec 12 2018 at 08:28)</a>:</h4>
<p>I've run into this as well, something in elan panics and the error message is less than helpful.  An easy workaround is to add the symlink manually:</p>
<div class="codehilite"><pre><span></span>ln -s ~/lean/lean-master ~/.elan/toolchains/lean-tweaked
</pre></div>

<a name="151510342"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/151510342" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#151510342">Sebastian Ullrich (Dec 12 2018 at 08:33)</a>:</h4>
<p>I haven't encountered that before, but I'm open to PRs</p>

<a name="151521010"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/151521010" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#151521010">Simon Hudon (Dec 12 2018 at 12:25)</a>:</h4>
<p>Basically, I'd change these lines <a href="https://github.com/Kha/elan/blob/master/src/elan/toolchain.rs#L150-L154" target="_blank" title="https://github.com/Kha/elan/blob/master/src/elan/toolchain.rs#L150-L154">https://github.com/Kha/elan/blob/master/src/elan/toolchain.rs#L150-L154</a> to</p>
<div class="codehilite"><pre><span></span><span class="w">        </span><span class="k">match</span><span class="w"> </span><span class="n">install_method</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="n">InstallMethod</span>::<span class="nb">Copy</span><span class="p">(</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"></span>
<span class="w">            </span><span class="n">InstallMethod</span>::<span class="n">Dist</span><span class="p">(..)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="o">!</span><span class="bp">self</span><span class="p">.</span><span class="n">is_custom</span><span class="p">(),</span><span class="w"></span>
<span class="w">            </span><span class="n">InstallMethod</span>::<span class="n">Link</span><span class="p">(</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
</pre></div>

<a name="151521150"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/howto%20lean%20with%20elan/near/151521150" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68366howtoleanwithelan.html#151521150">Simon Hudon (Dec 12 2018 at 12:28)</a>:</h4>
<p>I should probably keep testing it. My setup seems a bit broken and I'm not sure if it's because of what I did to Lean (which I think shouldn't break anything) or what I did to <code>elan</code> (which I don't think should break anything either)</p>


{% endraw %}
