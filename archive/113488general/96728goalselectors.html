---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/96728goalselectors.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/96728goalselectors.html">goal selectors</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="191463161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/goal%20selectors/near/191463161" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/96728goalselectors.html#191463161">Johan Commelin (Mar 23 2020 at 12:02)</a>:</h4>
<p>In Coq they have really nice goal selectors. You can write things like</p>
<div class="codehilite"><pre><span></span>    <span class="mi">2</span><span class="o">,</span><span class="mi">5</span><span class="o">,</span><span class="mi">8</span><span class="o">:</span> <span class="n">cbn</span><span class="o">;</span> <span class="kp">by</span> <span class="k">rewrite</span> <span class="n">right_identity</span><span class="o">.</span>
    <span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">:</span> <span class="k">symmetry</span><span class="o">;</span> <span class="k">apply</span> <span class="n">left_identity</span><span class="o">.</span>
</pre></div>


<p>in your proof scripts. How hard would it be to get that for Lean tactic proofs?</p>

<a name="191463920"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/goal%20selectors/near/191463920" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/96728goalselectors.html#191463920">Mario Carneiro (Mar 23 2020 at 12:11)</a>:</h4>
<p>I remember <span class="user-mention" data-user-id="110087">@Scott Morrison</span> had a <code>work_on_goal 1 { tac }</code> tactic that is used by tidy scripts; that could be adapted to select multiple goals</p>

<a name="191463934"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/goal%20selectors/near/191463934" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/96728goalselectors.html#191463934">Johan Commelin (Mar 23 2020 at 12:11)</a>:</h4>
<p>But it's still quite verbose</p>

<a name="191463951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/goal%20selectors/near/191463951" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/96728goalselectors.html#191463951">Johan Commelin (Mar 23 2020 at 12:11)</a>:</h4>
<p>It would be nice if we could now hack Lean to support really short goal selectors</p>

<a name="191463952"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/goal%20selectors/near/191463952" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/96728goalselectors.html#191463952">Mario Carneiro (Mar 23 2020 at 12:11)</a>:</h4>
<p>I'm not sure I want to encourage this kind of proof style though</p>

<a name="191464006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/goal%20selectors/near/191464006" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/96728goalselectors.html#191464006">Rob Lewis (Mar 23 2020 at 12:12)</a>:</h4>
<p>No, I think the cost of hacking Lean to support this is way higher than the value of the slightly shorter proofs it would allow.</p>

<a name="191464018"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/goal%20selectors/near/191464018" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/96728goalselectors.html#191464018">Mario Carneiro (Mar 23 2020 at 12:12)</a>:</h4>
<p>numeric indexes are rarely the most maintainable</p>

<a name="191464083"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/goal%20selectors/near/191464083" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/96728goalselectors.html#191464083">Johan Commelin (Mar 23 2020 at 12:13)</a>:</h4>
<p>ok, fair enough</p>

<a name="191464418"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/goal%20selectors/near/191464418" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/96728goalselectors.html#191464418">Marc Huisinga (Mar 23 2020 at 12:16)</a>:</h4>
<p>what's the recommended way to deal with proofs with lots of cases where there's perhaps lots of duplication at the start of some cases, somewhere in the middle of some cases and at the end of some cases?<br>
assume that lemmas might not make sense because due to their specialized nature they will only be used in this one proof, and that we can't change the predicates that we work on to cause less duplication.</p>

<a name="191464559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/goal%20selectors/near/191464559" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/96728goalselectors.html#191464559">Mario Carneiro (Mar 23 2020 at 12:17)</a>:</h4>
<p>I will often use <code>; try { tac }</code> if <code>tac</code> works on say 4 of the 16 goals I just got</p>

<a name="191464605"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/goal%20selectors/near/191464605" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/96728goalselectors.html#191464605">Marc Huisinga (Mar 23 2020 at 12:18)</a>:</h4>
<p>in the past i've used multiple <code>any_goals</code>commands to deal with this, but it's terrible for maintainability because it makes the proofs very difficult to follow</p>

<a name="191467455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/goal%20selectors/near/191467455" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/96728goalselectors.html#191467455">Sebastian Ullrich (Mar 23 2020 at 12:47)</a>:</h4>
<p><code>case</code> already accepts multiple goal tag names. Unfortunately goal tags aren't used widely in Lean 3.</p>

<a name="191506567"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/goal%20selectors/near/191506567" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/96728goalselectors.html#191506567">Simon Hudon (Mar 23 2020 at 17:17)</a>:</h4>
<p><span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span> nice! I didn't even know that.</p>


{% endraw %}

{% include archive_update.html %}