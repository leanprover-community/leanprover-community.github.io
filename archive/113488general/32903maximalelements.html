---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/32903maximalelements.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html">maximal elements</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="160676241"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160676241" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160676241">Patrick Massot (Mar 13 2019 at 15:31)</a>:</h4>
<p>I'm again mathlib-blind. Who can help me find maximal elements of a poset, and their API?</p>

<a name="160677023"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160677023" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160677023">Mario Carneiro (Mar 13 2019 at 15:39)</a>:</h4>
<p>I don't think we have anything for that. Usually we just write out the condition, e.g. <code>zorn</code></p>

<a name="160677134"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160677134" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160677134">Patrick Massot (Mar 13 2019 at 15:40)</a>:</h4>
<p>I can't believe Johannes missed an opportunity to write a general order API</p>

<a name="160678230"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160678230" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160678230">Sebastien Gouezel (Mar 13 2019 at 15:51)</a>:</h4>
<p>I was surprised I had to add several lemmas on orders and unions for #PR816. It seems there is no end to what will be ever needed about this.</p>

<a name="160678359"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160678359" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160678359">Patrick Massot (Mar 13 2019 at 15:52)</a>:</h4>
<p>What a subtle way to advertise a new PR!</p>

<a name="160678432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160678432" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160678432">Sebastien Gouezel (Mar 13 2019 at 15:53)</a>:</h4>
<p>Almost half of the PR is about orders and general lemmas, in fact!</p>

<a name="160678456"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160678456" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160678456">Sebastien Gouezel (Mar 13 2019 at 15:53)</a>:</h4>
<p>And yes, very nice PR indeed :)</p>

<a name="160678864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160678864" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160678864">Patrick Massot (Mar 13 2019 at 15:57)</a>:</h4>
<p>It may have helped to cut the PR in two pieces. The order stuff could be reviewed completely independently</p>

<a name="160678879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160678879" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160678879">Patrick Massot (Mar 13 2019 at 15:57)</a>:</h4>
<p>This is is still an amazing PR</p>

<a name="160678913"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160678913" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160678913">Kevin Buzzard (Mar 13 2019 at 15:57)</a>:</h4>
<p><a href="https://github.com/leanprover/mathlib/issues/816" target="_blank" title="https://github.com/leanprover/mathlib/issues/816">#816</a></p>

<a name="160678975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160678975" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160678975">Kevin Buzzard (Mar 13 2019 at 15:58)</a>:</h4>
<p>seemed like the easiest way to get my browser to go to it</p>

<a name="160679245"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160679245" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160679245">Kevin Buzzard (Mar 13 2019 at 16:00)</a>:</h4>
<p>So we're on the way to the open mapping theorem?</p>

<a name="160679263"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160679263" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160679263">Sebastien Gouezel (Mar 13 2019 at 16:00)</a>:</h4>
<p>Yes, that's the next PR :)</p>

<a name="160679357"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160679357" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160679357">Sebastien Gouezel (Mar 13 2019 at 16:02)</a>:</h4>
<p>Especially, the last lemma of <a href="https://github.com/leanprover/mathlib/issues/816" target="_blank" title="https://github.com/leanprover/mathlib/issues/816">#816</a> is written directly for this.</p>

<a name="160679445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160679445" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160679445">Patrick Massot (Mar 13 2019 at 16:02)</a>:</h4>
<p>I'm a bit lost in all your work. What happened to the Gromov-Hausdorff distance, is it merged in mathlib?</p>

<a name="160679601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160679601" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160679601">Sebastien Gouezel (Mar 13 2019 at 16:04)</a>:</h4>
<p>Not submitted to mathlib yet, because it builds on not-yet merged PRs (<a href="https://github.com/leanprover/mathlib/issues/743" target="_blank" title="https://github.com/leanprover/mathlib/issues/743">#743</a> completion of metric spaces, <a href="https://github.com/leanprover/mathlib/issues/732" target="_blank" title="https://github.com/leanprover/mathlib/issues/732">#732</a> inductive limit of metric spaces).</p>

<a name="160679651"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160679651" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160679651">Patrick Massot (Mar 13 2019 at 16:05)</a>:</h4>
<p>Ok, this is what I thought. So you began another thread of PR to keep you busy?</p>

<a name="160679713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160679713" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160679713">Sebastien Gouezel (Mar 13 2019 at 16:05)</a>:</h4>
<p>You know the power of procrastination: I had to refer a paper, so I decided to do the open mapping theorem instead.</p>

<a name="160679811"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160679811" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160679811">Patrick Massot (Mar 13 2019 at 16:06)</a>:</h4>
<p><a href="http://www.structuredprocrastination.com/" target="_blank" title="http://www.structuredprocrastination.com/">http://www.structuredprocrastination.com/</a></p>

<a name="160706523"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160706523" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160706523">Mario Carneiro (Mar 13 2019 at 17:31)</a>:</h4>
<p>heh, this article definitely resonates with me</p>

<a name="160889373"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160889373" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160889373">Sebastien Gouezel (Mar 15 2019 at 16:17)</a>:</h4>
<p>It turns out that the open mapping theorem requires the base field to have an element with norm different from 1 (exercise: construct a counter-example over F_2 with the trivial norm). There are three options:</p>
<ul>
<li>add this as an assumption to the theorem</li>
<li>add a typeclass about this, and check that R, C and p-adics are instances of this typeclass</li>
<li>add this to the very definition of normed_field, since it makes no sense anyway to use a normed field with all elements of norm 1.</li>
</ul>
<p>My preferred option is clearly the third one, but I would like to have your opinion on this (especially, maybe I am missing some applications of stupid normed fields). </p>
<p>By the way, In Bourbaki, they call this "corps valué non-discret", which collides nicely with the definition of "discrete field" in Lean.</p>

<a name="160890151"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160890151" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160890151">Johan Commelin (Mar 15 2019 at 16:27)</a>:</h4>
<p>Does Bourbaki say anything about "corps valué discret" and why they might be interesting?</p>

<a name="160893015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160893015" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160893015">Sebastien Gouezel (Mar 15 2019 at 17:01)</a>:</h4>
<p>No, in nontrivial theorems they always use "corps valué non-discret" and I did not find anything about "corps valué discret"</p>

<a name="160896269"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160896269" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160896269">Mario Carneiro (Mar 15 2019 at 17:38)</a>:</h4>
<p>I think the trivial norm is as much a norm as the discrete metric is a metric</p>

<a name="160897881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160897881" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160897881">Sebastien Gouezel (Mar 15 2019 at 17:55)</a>:</h4>
<p>Sure. We could have a typeclass <code>normed_field</code> and a typeclass <code>nondiscrete_normed_field</code> extending it. But if there are absolutely no applications of <code>normed_field</code>, then what is the point of complicating uselessly the typeclass graph, which is already complicated enough? This is really different from metric spaces, where one uses routinely finite metric spaces.</p>

<a name="160899998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160899998" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160899998">Mario Carneiro (Mar 15 2019 at 18:19)</a>:</h4>
<p>there are finite fields?</p>

<a name="160902978"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160902978" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160902978">Kevin Buzzard (Mar 15 2019 at 18:53)</a>:</h4>
<blockquote>
<p>I think the trivial norm is as much a norm as the discrete metric is a metric</p>
</blockquote>
<p>Actually the theory becomes quite different for non-trivial norms. The book "non-archimedean analysis" by Bosch, Guentzer and Remmert, which I read from cover to cover as a post-doc, starts with the words "let k be a field complete with respect to a non-trivial non-archimedean norm", and this non-triviality hypothesis is never dropped. I was skeptical (like Mario is now) -- surely the results are going to be true in the case where the norm is trivial, but just uninteresting. But actually the non-triviality really plays an important role -- it enables one to scale vectors so they have norm at most 1. A fundamental result about Banach spaces is that a map between them is continuous if and only if it is bounded. The proof crucially needs an element of non-trivial norm, and indeed turns out to be false for vector spaces over fields with trivial norm, because there is no topology so everything is continuous, but things are not in general bounded. Because a huge amount of the theory depends on this foundational result, I suspect that this is why the non-triviality of the norm is introduced right from the outset in BGR.</p>

<a name="160905805"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160905805" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160905805">Sebastien Gouezel (Mar 15 2019 at 19:26)</a>:</h4>
<blockquote>
<p>there are finite fields?</p>
</blockquote>
<p>Yes, there are finite fields, but you will never use them as normed fields.</p>

<a name="160905855"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160905855" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160905855">Kevin Buzzard (Mar 15 2019 at 19:27)</a>:</h4>
<p>Every single example I've seen of a trivial norm on a field is to say "oh look, this lemma works even if the norm is trivial, and it turns into a standard algebraic fact which we all knew, and which we probably assumed in the middle of the proof of the lemma"</p>

<a name="160905916"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160905916" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160905916">Kevin Buzzard (Mar 15 2019 at 19:28)</a>:</h4>
<p>However in the perfectoid project it is essential that we allow trivial valuations.</p>

<a name="160905996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160905996" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160905996">Kevin Buzzard (Mar 15 2019 at 19:29)</a>:</h4>
<p>The difference is that we are doing ring theory not field theory perhaps</p>

<a name="160906049"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160906049" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160906049">Sebastien Gouezel (Mar 15 2019 at 19:29)</a>:</h4>
<p>Ha, that's an argument in favor of keeping the current <code>normed_field</code>. Then I will go for the solution <code>nondiscrete_normed_field</code> as a typeclass.</p>

<a name="160906167"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160906167" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160906167">Johan Commelin (Mar 15 2019 at 19:30)</a>:</h4>
<p>Oooh, but given one of those valuations, you still can't build a <code>normed_field</code>... they are too general.</p>

<a name="160906194"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160906194" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160906194">Johan Commelin (Mar 15 2019 at 19:31)</a>:</h4>
<p>Our valuations take values in some arbitrary lin.order.comm.group</p>

<a name="160908842"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160908842" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160908842">Kevin Buzzard (Mar 15 2019 at 20:02)</a>:</h4>
<p>Yes, we have already written a 1000 line valuation API where a valuation goes from a general commutative ring into a fairly general linearly ordered monoid (for example the nonnegative reals under multiplication)</p>

<a name="160996410"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160996410" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160996410">Jan-David Salchow (Mar 17 2019 at 12:13)</a>:</h4>
<p>I ran into the issue that I needed a normed_field to be non-discrete in showing that derivatives are unique <a href="https://github.com/leanprover-community/mathlib/issues/830" target="_blank" title="https://github.com/leanprover-community/mathlib/issues/830">#830</a> as well.</p>

<a name="160996452"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160996452" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160996452">Jan-David Salchow (Mar 17 2019 at 12:14)</a>:</h4>
<p>So I'm wondering, should we really have normed_field and nondiscrete_normed_field, or would potentially_discrete_normed_field and normed_field be better?</p>

<a name="160996990"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/maximal%20elements/near/160996990" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/32903maximalelements.html#160996990">Sebastien Gouezel (Mar 17 2019 at 12:31)</a>:</h4>
<p>The standard math terminology is really nondiscrete normed field, so I would rather keep it is at is now to avoid surprises to users. But I don't have a very strong opinion on this.</p>


{% endraw %}
