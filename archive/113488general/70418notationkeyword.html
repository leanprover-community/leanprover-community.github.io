---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/70418notationkeyword.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/70418notationkeyword.html">notation keyword</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="157976483"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20keyword/near/157976483" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70418notationkeyword.html#157976483">Edward Ayers (Feb 10 2019 at 14:06)</a>:</h4>
<p>Hi all are there any docs on how notation works in Lean 3.4.x? I was staring at <code>notation f ` $ `:1 a:0 := f a</code> and I realised there is more to it than I thought.</p>

<a name="157976763"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20keyword/near/157976763" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70418notationkeyword.html#157976763">Edward Ayers (Feb 10 2019 at 14:15)</a>:</h4>
<p>Also in <code>init/core.lean</code>, How come <code>notation α × β := prod α β</code> doesn't need backticks?</p>

<a name="157979918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20keyword/near/157979918" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70418notationkeyword.html#157979918">Kevin Buzzard (Feb 10 2019 at 15:48)</a>:</h4>
<p>What's the subtlety with <code>$</code>? This says that <code>$</code> has binding power 1 and is..umm..right associative. Lean's parser is a Pratt parser. <a href="https://xenaproject.wordpress.com/2019/01/20/a-word-on-bidmas/Or" target="_blank" title="https://xenaproject.wordpress.com/2019/01/20/a-word-on-bidmas/Or">https://xenaproject.wordpress.com/2019/01/20/a-word-on-bidmas/Or</a> do you know all this and you're asking about a subtlety that I've missed?</p>

<a name="157979932"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20keyword/near/157979932" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70418notationkeyword.html#157979932">Kevin Buzzard (Feb 10 2019 at 15:48)</a>:</h4>
<p>I don't know the answer to the core question though</p>

<a name="157980256"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20keyword/near/157980256" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70418notationkeyword.html#157980256">Edward Ayers (Feb 10 2019 at 15:59)</a>:</h4>
<p>Hi Kevin I can't follow your link</p>

<a name="157980305"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20keyword/near/157980305" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70418notationkeyword.html#157980305">Kevin Buzzard (Feb 10 2019 at 16:00)</a>:</h4>
<p>Sorry, kill the Or</p>

<a name="157980308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20keyword/near/157980308" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70418notationkeyword.html#157980308">Patrick Massot (Feb 10 2019 at 16:00)</a>:</h4>
<p>remove the Or</p>

<a name="157980309"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20keyword/near/157980309" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70418notationkeyword.html#157980309">Kevin Buzzard (Feb 10 2019 at 16:00)</a>:</h4>
<p>I'll edit</p>

<a name="157980311"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20keyword/near/157980311" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70418notationkeyword.html#157980311">Kevin Buzzard (Feb 10 2019 at 16:00)</a>:</h4>
<p>I'm on phone</p>

<a name="157980430"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20keyword/near/157980430" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70418notationkeyword.html#157980430">Kevin Buzzard (Feb 10 2019 at 16:03)</a>:</h4>
<p>Every piece of notation has a right binding power and, if infix, an associativity. In Lean the associativity is given by assigning two binding powers, one for the notation and one for the thing just after it. <code>#print notation +</code> and <code>#print notation ^</code> to see the difference</p>

<a name="157980487"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20keyword/near/157980487" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70418notationkeyword.html#157980487">Edward Ayers (Feb 10 2019 at 16:04)</a>:</h4>
<p>I guess I'm just after some docs on the parser because I was thinking of writing some. Eg, when do you need backticks, explaining exactly how foldr works, what exactly are the keywords doing in <code>notation `∃` binders `, ` r:(scoped P, Exists P) := r</code> etc. I agree that you can usually figure it out by finding examples but I would like some definitive explanations.</p>

<a name="157980493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20keyword/near/157980493" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70418notationkeyword.html#157980493">Kevin Buzzard (Feb 10 2019 at 16:04)</a>:</h4>
<p>Oh but that is just a hack</p>

<a name="157980512"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20keyword/near/157980512" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70418notationkeyword.html#157980512">Kevin Buzzard (Feb 10 2019 at 16:05)</a>:</h4>
<p>It's all going to change in Lean 4 and the cool stuff you want to do probably can't be done in Lean 3 anyway</p>

<a name="157980515"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20keyword/near/157980515" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70418notationkeyword.html#157980515">Kevin Buzzard (Feb 10 2019 at 16:05)</a>:</h4>
<p>Otherwise exists unique would work properly</p>

<a name="157980565"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20keyword/near/157980565" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70418notationkeyword.html#157980565">Kevin Buzzard (Feb 10 2019 at 16:06)</a>:</h4>
<p>You can't iterate the notation currently and this can't really be fixed</p>

<a name="157980566"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20keyword/near/157980566" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70418notationkeyword.html#157980566">Kevin Buzzard (Feb 10 2019 at 16:06)</a>:</h4>
<p>Backwards E then !</p>

<a name="157980569"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20keyword/near/157980569" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70418notationkeyword.html#157980569">Kevin Buzzard (Feb 10 2019 at 16:06)</a>:</h4>
<p>It iterates to the wrong thing</p>

<a name="157980627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20keyword/near/157980627" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70418notationkeyword.html#157980627">Kevin Buzzard (Feb 10 2019 at 16:08)</a>:</h4>
<p>Simon Hudon once pointed out the relevant bit of the source code to me. I think they just hacked something together so that lists worked (<code>[1,2,3]</code>) and left it at that</p>

<a name="157980715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20keyword/near/157980715" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70418notationkeyword.html#157980715">Kevin Buzzard (Feb 10 2019 at 16:10)</a>:</h4>
<p>My proudest Lean moment was when the core Lean people changed the associativity of <code>^</code> after I opened an issue</p>

<a name="157980909"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20keyword/near/157980909" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70418notationkeyword.html#157980909">Patrick Massot (Feb 10 2019 at 16:16)</a>:</h4>
<p>Ed, I think the fold conversation starts at <a href="https://gitter.im/leanprover_public/Lobby?at=5a5686366117191e614e3ce4" target="_blank" title="https://gitter.im/leanprover_public/Lobby?at=5a5686366117191e614e3ce4">https://gitter.im/leanprover_public/Lobby?at=5a5686366117191e614e3ce4</a></p>

<a name="157980920"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20keyword/near/157980920" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70418notationkeyword.html#157980920">Patrick Massot (Feb 10 2019 at 16:16)</a>:</h4>
<p>Unfortunately we didn't have threads at that time, so it's mixed with several other conversations</p>

<a name="157981099"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20keyword/near/157981099" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70418notationkeyword.html#157981099">Kevin Buzzard (Feb 10 2019 at 16:21)</a>:</h4>
<p>Wow, we were all so much younger then</p>

<a name="157981155"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20keyword/near/157981155" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70418notationkeyword.html#157981155">Kevin Buzzard (Feb 10 2019 at 16:22)</a>:</h4>
<p>Yes that was exactly the conversation I was thinking of! That was when I figured out what the point of Simon was. Before that he was just some guy asking incomprehensible questions</p>

<a name="157981172"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20keyword/near/157981172" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70418notationkeyword.html#157981172">Kevin Buzzard (Feb 10 2019 at 16:23)</a>:</h4>
<p>After that he was the guy that could actually make some sense of the source code</p>


{% endraw %}

{% include archive_update.html %}