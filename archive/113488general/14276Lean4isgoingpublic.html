---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/14276Lean4isgoingpublic.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html">Lean 4 is going public</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="164159039"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164159039" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164159039">Gabriel Ebner (Apr 25 2019 at 10:32)</a>:</h4>
<p>16 hours ago Leo made the lean4 repo public: <a href="https://github.com/leanprover/lean4/" target="_blank" title="https://github.com/leanprover/lean4/">https://github.com/leanprover/lean4/</a></p>

<a name="164159986"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164159986" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164159986">Patrick Massot (Apr 25 2019 at 10:51)</a>:</h4>
<p>Wow! Did you receive any kind of announcement? Do we have instructions about things we could test? I wouldn't try anything without being asked to do it.</p>

<a name="164160960"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164160960" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164160960">Gabriel Ebner (Apr 25 2019 at 11:08)</a>:</h4>
<p>It just showed up on my github activity feed today.  I think the README is pretty clear: "We strongly suggest you use Lean 3."</p>

<a name="164161275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164161275" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164161275">Patrick Massot (Apr 25 2019 at 11:14)</a>:</h4>
<p>I understand the README, what I don't understand is why making it public if there is nothing anyone should do (besides Leo and Sebastian of course)?</p>

<a name="164161946"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164161946" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164161946">Gabriel Ebner (Apr 25 2019 at 11:26)</a>:</h4>
<p>The reason is of course to get you used to the new naming convention. <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>

<a name="164161966"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164161966" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164161966">Patrick Massot (Apr 25 2019 at 11:27)</a>:</h4>
<p>what naming convention? Putting a 4 after Lean?</p>

<a name="164163912"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164163912" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164163912">Gabriel Ebner (Apr 25 2019 at 12:01)</a>:</h4>
<p>I'm talking about the <a href="https://github.com/leanprover/lean4/blob/c8a045d69fac152fd5e3a577f718615cecb9c53d/library/init/data/nat/basic.lean" target="_blank" title="https://github.com/leanprover/lean4/blob/c8a045d69fac152fd5e3a577f718615cecb9c53d/library/init/data/nat/basic.lean">namingConvention</a>:</p>
<div class="codehilite"><pre><span></span><span class="kn">protected</span> <span class="kn">theorem</span> <span class="n">mulLtMulOfPosLeft</span> <span class="o">{</span><span class="n">n</span> <span class="n">m</span> <span class="n">k</span> <span class="o">:</span> <span class="n">Nat</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">n</span> <span class="bp">&lt;</span> <span class="n">m</span><span class="o">)</span> <span class="o">(</span><span class="n">hk</span> <span class="o">:</span> <span class="n">k</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span> <span class="n">k</span> <span class="bp">*</span> <span class="n">n</span> <span class="bp">&lt;</span> <span class="n">k</span> <span class="bp">*</span> <span class="n">m</span> <span class="o">:=</span>
<span class="n">Nat</span><span class="bp">.</span><span class="n">ltOfLtOfLe</span> <span class="o">(</span><span class="n">Nat</span><span class="bp">.</span><span class="n">addLtAddLeft</span> <span class="n">hk</span> <span class="bp">_</span><span class="o">)</span> <span class="o">(</span><span class="n">Nat</span><span class="bp">.</span><span class="n">mulSucc</span> <span class="n">k</span> <span class="n">n</span> <span class="bp">▸</span> <span class="n">Nat</span><span class="bp">.</span><span class="n">mulLeMulLeft</span> <span class="n">k</span> <span class="o">(</span><span class="n">succLeOfLt</span> <span class="n">h</span><span class="o">))</span>
</pre></div>

<a name="164164882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164164882" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164164882">Sebastian Ullrich (Apr 25 2019 at 12:19)</a>:</h4>
<p>whichIsClearlySuperior</p>

<a name="164164985"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164164985" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164164985">Johan Commelin (Apr 25 2019 at 12:20)</a>:</h4>
<p>whichIsClearlyJava</p>

<a name="164164996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164164996" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164164996">Johan Commelin (Apr 25 2019 at 12:21)</a>:</h4>
<p>give_me_some_room_to_breathe</p>

<a name="164165240"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164165240" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164165240">Keeley Hoek (Apr 25 2019 at 12:25)</a>:</h4>
<p>theNamingConventionIsAmazing</p>

<a name="164165455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164165455" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164165455">Kevin Buzzard (Apr 25 2019 at 12:28)</a>:</h4>
<p>willSomeoneWriteSomeCodeWhichChangesOldLeanNamingConventionsIntoThisOne? orIsThatSortOfThingImpossibleInPractice?</p>

<a name="164165507"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164165507" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164165507">Keeley Hoek (Apr 25 2019 at 12:29)</a>:</h4>
<p>itIsDefinitelyVeryScriptableMaybeWithAHumanAddressableNumberOfExceptions</p>

<a name="164165580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164165580" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164165580">Keeley Hoek (Apr 25 2019 at 12:30)</a>:</h4>
<p>forWeirdDeclarationsWhichOurHastilyWrittenSwapperProgramDoesn'tRecognise</p>

<a name="164165599"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164165599" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164165599">Sebastian Ullrich (Apr 25 2019 at 12:30)</a>:</h4>
<p>weDidJustThatHackishlyForTheLean4Repo.willBeMuchEasierAndMoreRobustUsingTheFinalLean4.</p>

<a name="164165606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164165606" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164165606">Johan Commelin (Apr 25 2019 at 12:30)</a>:</h4>
<p>how_will_we_call_our_categories?</p>

<a name="164165624"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164165624" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164165624">Johan Commelin (Apr 25 2019 at 12:31)</a>:</h4>
<p>comm_ring → CommRing</p>

<a name="164165631"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164165631" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164165631">Johan Commelin (Apr 25 2019 at 12:31)</a>:</h4>
<p>maybe we can start snake_casing them</p>

<a name="164165638"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164165638" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164165638">Johan Commelin (Apr 25 2019 at 12:31)</a>:</h4>
<p>that would make me a very big proponent of bundling everything (-;</p>

<a name="164165647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164165647" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164165647">Gabriel Ebner (Apr 25 2019 at 12:31)</a>:</h4>
<p>ℭ𝔬𝔪𝔪ℜ𝔦𝔫𝔤</p>

<a name="164165717"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164165717" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164165717">Sebastian Ullrich (Apr 25 2019 at 12:32)</a>:</h4>
<p>personally_forLemmas_I_wouldSuggest_something_like_theMathematicalComponentsConvention <a href="https://github.com/math-comp/math-comp/blob/master/CONTRIBUTING.md#names-in-the-library-usually-obey-one-of-following-the-convention" target="_blank" title="https://github.com/math-comp/math-comp/blob/master/CONTRIBUTING.md#names-in-the-library-usually-obey-one-of-following-the-convention">https://github.com/math-comp/math-comp/blob/master/CONTRIBUTING.md#names-in-the-library-usually-obey-one-of-following-the-convention</a></p>

<a name="164165804"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164165804" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164165804">Johan Commelin (Apr 25 2019 at 12:34)</a>:</h4>
<p>Oh no! Not the 1-letter abbreviations... that makes things even more incomprehensible</p>

<a name="164165824"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164165824" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164165824">Keeley Hoek (Apr 25 2019 at 12:34)</a>:</h4>
<p>Yeah no those abbreviations are the worst thing I've ever seen in my life</p>

<a name="164165834"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164165834" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164165834">Johan Commelin (Apr 25 2019 at 12:34)</a>:</h4>
<p>Can't we have several user modes, that transparently switch between the naming conventions?</p>

<a name="164165855"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164165855" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164165855">Keeley Hoek (Apr 25 2019 at 12:35)</a>:</h4>
<p>hahaha now that is fancy</p>

<a name="164165858"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164165858" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164165858">Johan Commelin (Apr 25 2019 at 12:35)</a>:</h4>
<p>Some option <code>naming_convention</code> in <code>leanpkg.toml</code></p>

<a name="164165866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164165866" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164165866">Johan Commelin (Apr 25 2019 at 12:35)</a>:</h4>
<p>Or <code>namingConvention</code> if you really want</p>

<a name="164165877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164165877" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164165877">Johan Commelin (Apr 25 2019 at 12:35)</a>:</h4>
<p>And then all your dependencies automatically show in your naming convention when you browse the code in VScode</p>

<a name="164165977"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164165977" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164165977">Sebastian Ullrich (Apr 25 2019 at 12:37)</a>:</h4>
<p>Oh, I was only referring to their <span aria-label="snake" class="emoji emoji-1f40d" role="img" title="snake">:snake:</span>/<span aria-label="camel" class="emoji emoji-1f42b" role="img" title="camel">:camel:</span> convention. Those abbreviations do look horrible.</p>

<a name="164165989"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164165989" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164165989">Keeley Hoek (Apr 25 2019 at 12:37)</a>:</h4>
<p>Leo has almost 6 million LOC changed in the repository history!</p>

<a name="164166062"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164166062" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164166062">Keeley Hoek (Apr 25 2019 at 12:38)</a>:</h4>
<p>Sebastian, (obligatory disclaimer: I have literally no expectations please no-one get angry I'm just keen is all) is there any juicy code generation business going on in leanprover/lean4?</p>

<a name="164167020"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164167020" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164167020">Sebastian Ullrich (Apr 25 2019 at 12:52)</a>:</h4>
<p>The compiler is there and it's functional and pretty fast, if that's what you're asking</p>

<a name="164167633"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164167633" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164167633">Edward Ayers (Apr 25 2019 at 13:01)</a>:</h4>
<p>It looks like the bytecode VM is still there. Is it still hooked up to something or is it vestigial?</p>

<a name="164169038"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164169038" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164169038">Patrick Massot (Apr 25 2019 at 13:21)</a>:</h4>
<p>This CamelCase is so awful, I understand you made the repository secret for so long</p>

<a name="164169251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164169251" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164169251">Keeley Hoek (Apr 25 2019 at 13:23)</a>:</h4>
<p>PascalCase camelCase</p>

<a name="164169317"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164169317" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164169317">Johan Commelin (Apr 25 2019 at 13:24)</a>:</h4>
<p>Oooh! So we should blame Blaise!</p>

<a name="164172211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164172211" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164172211">Edward Ayers (Apr 25 2019 at 13:58)</a>:</h4>
<p>What does <code>&amp;@</code>, <code>mk_borrowed</code> do?</p>

<a name="164174331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164174331" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164174331">Edward Ayers (Apr 25 2019 at 14:20)</a>:</h4>
<p>To answer my own question: If I am not mistaken it is an optimisation that doesn't copy the argument. Eg in <code>list.length</code>, the output number doesn't need a memory reference to the input list, wheras <code>list.cons</code> does.</p>

<a name="164184745"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164184745" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164184745">Simon Hudon (Apr 25 2019 at 16:13)</a>:</h4>
<p>What's the reason for switching the naming convention, by the way?</p>

<a name="164185255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164185255" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164185255">Patrick Massot (Apr 25 2019 at 16:19)</a>:</h4>
<p>I'm sure it's preparing ground for a parser demo: soon they will showcase three lines of Lean asking the parser to rewrite all files using the normal name convention.</p>

<a name="164185414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164185414" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164185414">Simon Hudon (Apr 25 2019 at 16:21)</a>:</h4>
<p>haha! That would be a pretty round about way to do it</p>

<a name="164185592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164185592" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164185592">Patrick Massot (Apr 25 2019 at 16:23)</a>:</h4>
<p>I feel sorry I'm not commenting anything else, I totally lack expertise to write useful comments. But I'm still very happy to see Leo and Sebastian seem to be happy enough about their progress to make it public!</p>

<a name="164230914"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164230914" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164230914">Mario Carneiro (Apr 26 2019 at 03:59)</a>:</h4>
<p>I'm still a bit confused about <code>@&amp;</code>. Does lean have a linear type system now?</p>
<div class="codehilite"><pre><span></span><span class="kn">constant</span> <span class="n">hugeFuel</span> <span class="o">:</span> <span class="n">Nat</span> <span class="o">:=</span> <span class="mi">10000</span>
</pre></div>


<p>I wonder what constants with definitions means</p>

<a name="164233317"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164233317" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164233317">Mario Carneiro (Apr 26 2019 at 05:06)</a>:</h4>
<p>A few more notes to self about new stuff:</p>
<ul>
<li><code>meta</code> has been renamed <code>unsafe</code> (good idea)</li>
<li><code>@[macroInline]</code>?</li>
<li>we have a lot of <code>extern cpp</code> now, I'm curious how that works.</li>
<li><code>==</code> now means boolean equals instead of <code>Heq</code> (which has taken both notations <code>≅</code> and <code>~=</code>)</li>
<li><code>drec</code> seems to have grown an <code>n</code> (i.e. <code>Eq.ndrec</code>), I'm not sure what it stands for</li>
<li><code>@[inlineIfReduce, nospecialize] def Decidable.toBool (p : Prop) [h : Decidable p] : Bool</code>: oh boy, new attributes</li>
<li><code>Array</code> is the new name for <code>buffer</code>, <code>array</code> seems to be gone. They are implemented as array lists instead of persistent arrays now (+1 from me)</li>
</ul>
<div class="codehilite"><pre><span></span>partial def shrink : Array α → Nat → Array α
| a n := if n ≥ a.size then a else shrink a.pop n
</pre></div>


<ul>
<li>Oh wow, built in partial definitions! I will have to see how this interacts with the type system</li>
<li>Everything is <code>Bool</code> now instead of <code>Prop</code>. Not sure how this will interact with pure mathematics stuff</li>
<li><code>Expr</code> is non-meta! Woohoo!</li>
<li>I think <code>tactic</code> is also non-meta, and has been renamed <code>ElaboratorM</code></li>
<li><a href="https://github.com/leanprover/lean4/blob/master/library/init/lean/compiler/ir.lean#L10-L11" target="_blank" title="https://github.com/leanprover/lean4/blob/master/library/init/lean/compiler/ir.lean#L10-L11">https://github.com/leanprover/lean4/blob/master/library/init/lean/compiler/ir.lean#L10-L11</a> <span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span> Is the article "Counting Immutable Beans" available anywhere?</li>
</ul>

<a name="164240916"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164240916" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164240916">Sebastian Ullrich (Apr 26 2019 at 08:01)</a>:</h4>
<p>No, not yet</p>

<a name="164240986"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164240986" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164240986">Kevin Buzzard (Apr 26 2019 at 08:03)</a>:</h4>
<blockquote>
<ul>
<li>Everything is <code>Bool</code> now instead of <code>Prop</code>. Not sure how this will interact with pure mathematics stuff</li>
</ul>
</blockquote>
<p>Can you elaborate? Did we become Isabelle?</p>

<a name="164255063"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164255063" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164255063">Patrick Massot (Apr 26 2019 at 12:03)</a>:</h4>
<p>Yes, I'm very frightened by this comment. Can anyone explain this?</p>

<a name="164255885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164255885" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164255885">Keeley Hoek (Apr 26 2019 at 12:15)</a>:</h4>
<p>There still literally is a definition <code>notation `Prop` := Sort 0</code> in <code>init/core.lean</code></p>

<a name="164264222"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164264222" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164264222">Gabriel Ebner (Apr 26 2019 at 14:03)</a>:</h4>
<p>AFAICT, the main difference is that functions such as <code>list.filter</code> no longer takes a decidable predicate as argument, but a function <code>α → Bool</code>.  Also lots of stuff uses <code>HasBeq</code> (lawless function <code>α → α → Bool</code>) instead of <code>DecidableEq</code>, but I believe that is just because <code>derive DecidableEq</code> doesn't work yet.</p>

<a name="164271349"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164271349" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164271349">Kenny Lau (Apr 26 2019 at 15:21)</a>:</h4>
<p><a href="/user_uploads/3121/QeoEsvkGX0Ss-mNhJtX9MCAz/winnie_meme.png" target="_blank" title="winnie_meme.png"></a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/QeoEsvkGX0Ss-mNhJtX9MCAz/winnie_meme.png" target="_blank" title=""><img src="/user_uploads/3121/QeoEsvkGX0Ss-mNhJtX9MCAz/winnie_meme.png"></a></div>

<a name="164302364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164302364" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164302364">Koundinya Vajjha (Apr 26 2019 at 22:16)</a>:</h4>
<blockquote>
<div class="codehilite"><pre><span></span><span class="n">partial</span> <span class="n">def</span> <span class="n">shrink</span> <span class="o">:</span> <span class="n">Array</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">Nat</span> <span class="bp">→</span> <span class="n">Array</span> <span class="n">α</span>
<span class="bp">|</span> <span class="n">a</span> <span class="n">n</span> <span class="o">:=</span> <span class="k">if</span> <span class="n">n</span> <span class="bp">≥</span> <span class="n">a</span><span class="bp">.</span><span class="n">size</span> <span class="k">then</span> <span class="n">a</span> <span class="k">else</span> <span class="n">shrink</span> <span class="n">a</span><span class="bp">.</span><span class="n">pop</span> <span class="n">n</span>
</pre></div>


<ul>
<li>Oh wow, built in partial definitions! I will have to see how this interacts with the type system</li>
</ul>
</blockquote>
<p>What are partial definitions?</p>

<a name="164302749"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164302749" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164302749">Mario Carneiro (Apr 26 2019 at 22:23)</a>:</h4>
<p>that's a good question. At a glance, I would say it's the analogue of <code>meta</code> that allows non-well founded recursions</p>

<a name="164302953"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164302953" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164302953">Mario Carneiro (Apr 26 2019 at 22:26)</a>:</h4>
<p>There are some things you can say about partial definitions that is a little stronger than <code>meta</code>. In particular, although there are obviously partial proofs of false, there is a non-meta notion of "domain" of a partial function, and you can extract a real value from a partial function within its domain. But that's just wishful thinking; probably this is just a viral marker like <code>meta</code> and you don't have direct access to the domain predicate</p>

<a name="164303966"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164303966" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164303966">Joe Hendrix (Apr 26 2019 at 22:46)</a>:</h4>
<p>Partial functions require that Lean can show the result type is inhabited; I don't think <code>meta</code> requires that.</p>

<a name="164305606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164305606" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164305606">Mario Carneiro (Apr 26 2019 at 23:19)</a>:</h4>
<p>Not necessarily. A partial function from A to B is really a function from A to (optional B) for some sense of "optional", and so it is always inhabited (by bottom)</p>

<a name="164305710"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164305710" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164305710">Mario Carneiro (Apr 26 2019 at 23:20)</a>:</h4>
<p>If lean gets native support for <code>partial</code> functions and definitions, then I imagine it will act something like Haskell's "bottom" value inhabiting all (partial) types</p>

<a name="164305779"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164305779" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164305779">Mario Carneiro (Apr 26 2019 at 23:22)</a>:</h4>
<p>This isn't really a new feature - lean 3 <code>meta</code> allows you to write nonterminating computations already - but the separation of <code>meta</code> into <code>partial</code> (meaning unqualified recursion is okay) and <code>unsafe</code> (meaning you are doing something not necessarily sound with the VM representation) seems like a good idea</p>

<a name="164306051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164306051" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164306051">Joe Hendrix (Apr 26 2019 at 23:28)</a>:</h4>
<p>You may be right.  I'm just speaking from what I've seen trying out Lean 4.</p>

<a name="164306064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164306064" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164306064">Mario Carneiro (Apr 26 2019 at 23:29)</a>:</h4>
<p>oh, are you saying that the lean 4 typechecker is asking for a proof of inhabited?</p>

<a name="164306068"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164306068" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164306068">Mario Carneiro (Apr 26 2019 at 23:29)</a>:</h4>
<p>that's pretty weird if so, because it can't ever use that value</p>

<a name="164306132"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164306132" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164306132">Mario Carneiro (Apr 26 2019 at 23:30)</a>:</h4>
<p>I guess it's a low tech way to avoid inconsistency, but it is not maximally expressive</p>

<a name="164306153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164306153" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164306153">Mario Carneiro (Apr 26 2019 at 23:31)</a>:</h4>
<p>I haven't actually tried to run lean 4 yet, I'm just reading the code</p>

<a name="164306439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164306439" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164306439">Joe Hendrix (Apr 26 2019 at 23:37)</a>:</h4>
<p>I've only done a bit of programming, but found it useful so far.  I found it tedious to use combinator-based parsers in Lean 3, but the result types of a parser are pretty much always inhabited.  I haven't tried out proving things though.</p>

<a name="164306510"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164306510" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164306510">Mario Carneiro (Apr 26 2019 at 23:39)</a>:</h4>
<p>My first impression is that lean 4 has skewed a lot more towards programming, possibly at the expense of mathematics. We will have to see</p>

<a name="164306579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164306579" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164306579">Mario Carneiro (Apr 26 2019 at 23:40)</a>:</h4>
<p>Of course the lack of a tactic framework means we won't be porting mathlib any time soon... although possibly lean 4 allows us to write our own tactic framework now?</p>

<a name="164306657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164306657" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164306657">Mario Carneiro (Apr 26 2019 at 23:42)</a>:</h4>
<p>Isn't the lean 4 parser also combinator based? It looks like they built on Haskell's Parsec library</p>

<a name="164441756"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164441756" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164441756">Kevin Buzzard (Apr 29 2019 at 10:50)</a>:</h4>
<blockquote>
<p>My first impression is that lean 4 has skewed a lot more towards programming, possibly at the expense of mathematics. We will have to see</p>
</blockquote>
<p>I have now been assured by the devs that Lean 4 will support mathematics just as well as Lean 3, if not better. I have also been reminded that Lean 4 currently has no tactic framework, so don't anyone get any ideas about porting anything yet :-)</p>

<a name="164441863"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164441863" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164441863">Kevin Buzzard (Apr 29 2019 at 10:52)</a>:</h4>
<blockquote>
<p>I've only done a bit of programming, but found it useful so far.  I found it tedious to use combinator-based parsers in Lean 3, but the result types of a parser are pretty much always inhabited.  I haven't tried out proving things though.</p>
</blockquote>
<p><span class="user-mention" data-user-id="110994">@Joe Hendrix</span> could you explain how you're doing this? Do you compile Lean, and then make .lean files using term mode and then run them through lean --make?</p>

<a name="164441959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164441959" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164441959">Patrick Massot (Apr 29 2019 at 10:54)</a>:</h4>
<p>About these rumors, what I think is: because Leo and Sebastian want to rebuild a lot of things in Lean using the Lean programming language, they first focused on the programming aspect. I doesn't mean we won't be able to do math. They need the programming aspects in order to allow rebuilding the tactic framework. Once we get the tactic framework we can start on math</p>

<a name="164442576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164442576" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164442576">Sebastian Ullrich (Apr 29 2019 at 11:05)</a>:</h4>
<p>What Patrick said</p>

<a name="164479571"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%204%20is%20going%20public/near/164479571" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/14276Lean4isgoingpublic.html#164479571">Joe Hendrix (Apr 29 2019 at 19:07)</a>:</h4>
<p>I just used the command line for trying things out.  It's a little clunky at the moment, but I imagine it will be similar to the Lean 3 experience once it makes sense to get leanpkg and the editor interfaces properly working.</p>


{% endraw %}

{% include archive_update.html %}