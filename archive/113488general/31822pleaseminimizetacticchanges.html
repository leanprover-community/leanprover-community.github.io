---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/31822pleaseminimizetacticchanges.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/31822pleaseminimizetacticchanges.html">please minimize tactic changes</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="157346599"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/please%20minimize%20tactic%20changes/near/157346599" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/31822pleaseminimizetacticchanges.html#157346599">Kenny Lau (Feb 01 2019 at 11:31)</a>:</h4>
<p>Please minimize tactic changes as it requires the recompiling of essentially the whole mathlib, so the cache is essentially useless, which would cause quite some inconvenience...</p>

<a name="157346602"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/please%20minimize%20tactic%20changes/near/157346602" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/31822pleaseminimizetacticchanges.html#157346602">Kenny Lau (Feb 01 2019 at 11:32)</a>:</h4>
<p>particularly the file <code>tactic.interactive</code></p>

<a name="157346652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/please%20minimize%20tactic%20changes/near/157346652" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/31822pleaseminimizetacticchanges.html#157346652">Kenny Lau (Feb 01 2019 at 11:32)</a>:</h4>
<p>AFAICT it takes travis ~ 1 hour to compile the whole mathlib</p>

<a name="157346922"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/please%20minimize%20tactic%20changes/near/157346922" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/31822pleaseminimizetacticchanges.html#157346922">Kenny Lau (Feb 01 2019 at 11:38)</a>:</h4>
<p><span class="user-mention" data-user-id="110596">@Rob Lewis</span> What are L349 and L480 doing here? <a href="https://github.com/leanprover-community/mathlib/commit/c9e4f8edc30da76ffa740000957e26aaf79cc31e" target="_blank" title="https://github.com/leanprover-community/mathlib/commit/c9e4f8edc30da76ffa740000957e26aaf79cc31e">https://github.com/leanprover-community/mathlib/commit/c9e4f8edc30da76ffa740000957e26aaf79cc31e</a></p>

<a name="157346935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/please%20minimize%20tactic%20changes/near/157346935" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/31822pleaseminimizetacticchanges.html#157346935">Kenny Lau (Feb 01 2019 at 11:38)</a>:</h4>
<p>(no, don't add another commit to delete those lines, just keep them there)</p>

<a name="157347046"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/please%20minimize%20tactic%20changes/near/157347046" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/31822pleaseminimizetacticchanges.html#157347046">Mario Carneiro (Feb 01 2019 at 11:41)</a>:</h4>
<p>Kenny, I'm not sure what your goal is here. Some things invalidate the cache, it's a fact of life. The solution is to make caching better or more precise, not to avoid improvements</p>

<a name="157347095"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/please%20minimize%20tactic%20changes/near/157347095" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/31822pleaseminimizetacticchanges.html#157347095">Kenny Lau (Feb 01 2019 at 11:42)</a>:</h4>
<p>I said minimize, not avoid.</p>

<a name="157347122"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/please%20minimize%20tactic%20changes/near/157347122" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/31822pleaseminimizetacticchanges.html#157347122">Kenny Lau (Feb 01 2019 at 11:43)</a>:</h4>
<p>So for example we can discuss the details before making changes in order to not generate a situation where A made changes and B is unhappy and then make more changes and then C comes along and make 10 more changes</p>

<a name="157347143"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/please%20minimize%20tactic%20changes/near/157347143" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/31822pleaseminimizetacticchanges.html#157347143">Mario Carneiro (Feb 01 2019 at 11:43)</a>:</h4>
<p>sure, but tactic changes require some iteration to get right anyway. I assume it's in a branch, so that's the right place for it</p>

<a name="157347151"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/please%20minimize%20tactic%20changes/near/157347151" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/31822pleaseminimizetacticchanges.html#157347151">Kenny Lau (Feb 01 2019 at 11:44)</a>:</h4>
<p>And also we can double check the changes before pushing it to mathlib to make sure that it doesn't contain extra lines.</p>

<a name="157347200"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/please%20minimize%20tactic%20changes/near/157347200" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/31822pleaseminimizetacticchanges.html#157347200">Kenny Lau (Feb 01 2019 at 11:44)</a>:</h4>
<blockquote>
<p>sure, but tactic changes require some iteration to get right anyway. I assume it's in a branch, so that's the right place for it</p>
</blockquote>
<p>it's in the master branch...</p>

<a name="157347213"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/please%20minimize%20tactic%20changes/near/157347213" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/31822pleaseminimizetacticchanges.html#157347213">Kenny Lau (Feb 01 2019 at 11:44)</a>:</h4>
<p>Have you clicked on the link above?</p>

<a name="157347327"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/please%20minimize%20tactic%20changes/near/157347327" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/31822pleaseminimizetacticchanges.html#157347327">Mario Carneiro (Feb 01 2019 at 11:46)</a>:</h4>
<p>there are obviously some commented trace lines that were added. They can be removed</p>

<a name="157347430"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/please%20minimize%20tactic%20changes/near/157347430" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/31822pleaseminimizetacticchanges.html#157347430">Mario Carneiro (Feb 01 2019 at 11:49)</a>:</h4>
<p>but it's absolutely the wrong idea to change commit or PR habits for worry of recompilation. Problems that need fixing should be fixed</p>

<a name="157348123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/please%20minimize%20tactic%20changes/near/157348123" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/31822pleaseminimizetacticchanges.html#157348123">Kevin Buzzard (Feb 01 2019 at 12:04)</a>:</h4>
<p>I am the anti-Kenny on this one. What is the hurry? Who cares if something takes an hour to compile? It will take less than an hour next year. Kenny just needs a better computer, that's the real problem. We can't change our behaviour to work around the fact that Kenny needs a better computer.</p>

<a name="157348249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/please%20minimize%20tactic%20changes/near/157348249" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/31822pleaseminimizetacticchanges.html#157348249">Mario Carneiro (Feb 01 2019 at 12:06)</a>:</h4>
<p>also it's an hour of Travis's time, not mine</p>

<a name="157348278"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/please%20minimize%20tactic%20changes/near/157348278" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/31822pleaseminimizetacticchanges.html#157348278">Mario Carneiro (Feb 01 2019 at 12:07)</a>:</h4>
<p>(thanks travis for your donation of significant computing time to FOSS projects)</p>

<a name="157405161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/please%20minimize%20tactic%20changes/near/157405161" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/31822pleaseminimizetacticchanges.html#157405161">Joe Hendrix (Feb 02 2019 at 03:33)</a>:</h4>
<p>I definitely consider imports and impact of frequent changes on compilation in developing Haskell.  Like I'll think about partitioning a module if part of it changes frequently, but modules that import it tend to only need the stable parts.<br>
That said, you shouldn't hold off deleting dead code just to avoid recompiling a module.</p>

<a name="157405636"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/please%20minimize%20tactic%20changes/near/157405636" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/31822pleaseminimizetacticchanges.html#157405636">Simon Hudon (Feb 02 2019 at 03:49)</a>:</h4>
<p>mathlib could definitely stand to be divided more finely and its dependencies need to be disentangled. But we don't have a warning on spurious imports. We need to build a tool for that</p>

<a name="157405698"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/please%20minimize%20tactic%20changes/near/157405698" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/31822pleaseminimizetacticchanges.html#157405698">Kenny Lau (Feb 02 2019 at 03:51)</a>:</h4>
<p>I think someone can produce an import graph... I don't know enough programming to do that</p>

<a name="157405749"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/please%20minimize%20tactic%20changes/near/157405749" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/31822pleaseminimizetacticchanges.html#157405749">Simon Hudon (Feb 02 2019 at 03:53)</a>:</h4>
<p>Mario wrote a parser for olean files. I think that will be a good starting point. It's on my todo list</p>


{% endraw %}
