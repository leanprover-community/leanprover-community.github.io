---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/08643partialordernoobquestions.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/08643partialordernoobquestions.html">partial order noob questions</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="133302203"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/partial%20order%20noob%20questions/near/133302203" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/08643partialordernoobquestions.html#133302203">Kevin Buzzard (Sep 04 2018 at 10:05)</a>:</h4>
<p>OK so I appear to be engaging with orders for the first time in my Lean career.</p>
<p>1) Is this a good instance?</p>
<div class="codehilite"><pre><span></span><span class="kn">instance</span> <span class="o">(</span><span class="n">X</span><span class="o">)</span> <span class="o">[</span><span class="n">h</span> <span class="o">:</span> <span class="n">partial_order</span> <span class="n">X</span><span class="o">]</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="n">partial_order</span> <span class="o">({</span><span class="n">x</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">//</span> <span class="n">p</span> <span class="n">x</span><span class="o">})</span> <span class="o">:=</span> <span class="bp">...</span>
</pre></div>


<p>[I still feel very ill-equipped to answer such questions.]</p>
<p>2) Stupid class noob question: what am I doing wrong here:</p>
<div class="codehilite"><pre><span></span><span class="kn">definition</span> <span class="n">subtype</span><span class="bp">.</span><span class="n">partial_order</span> <span class="o">(</span><span class="n">X</span><span class="o">)</span> <span class="o">[</span><span class="n">h</span> <span class="o">:</span> <span class="n">partial_order</span> <span class="n">X</span><span class="o">]</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="n">partial_order</span> <span class="o">({</span><span class="n">x</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">//</span> <span class="n">p</span> <span class="n">x</span><span class="o">})</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">le</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">X</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">b</span><span class="o">,</span>
  <span class="n">le_refl</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">a</span><span class="o">,</span> <span class="n">h</span><span class="bp">.</span><span class="n">le_refl</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">X</span><span class="o">),</span> <span class="c1">-- error</span>
<span class="c">/-</span><span class="cm"></span>
<span class="cm">invalid field notation, function &#39;partial_order.le_refl&#39;</span>
<span class="cm"> does not have explicit argument with type (partial_order ...)</span>
<span class="cm">-/</span>
  <span class="n">le_trans</span> <span class="o">:=</span> <span class="n">sorry</span><span class="o">,</span>
  <span class="n">le_antisymm</span> <span class="o">:=</span> <span class="n">sorry</span>
  <span class="o">}</span>
</pre></div>


<p>This "invalid field notation" stuff is something I see a lot, because I don't understand fields very well (indeed in an earlier post today I managed to fail to even remember the word "field"). How am I supposed to prove <code>le_refl</code> like a boss?</p>
<p>3) Is it called <code>subtype.partial_order</code> or <code>partial_order.subtype</code> or something else? Is it already there?</p>

<a name="133302294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/partial%20order%20noob%20questions/near/133302294" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/08643partialordernoobquestions.html#133302294">Kevin Buzzard (Sep 04 2018 at 10:07)</a>:</h4>
<p><code>  le_refl := λ a, le_refl (a : X),</code> works. Why does what I did not work?</p>

<a name="133302298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/partial%20order%20noob%20questions/near/133302298" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/08643partialordernoobquestions.html#133302298">Kenny Lau (Sep 04 2018 at 10:07)</a>:</h4>
<p>2) don't use projection (the <code>x.y</code> notation) if <code>x</code> is an instance of a class<br>
3) subrel</p>

<a name="133302306"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/partial%20order%20noob%20questions/near/133302306" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/08643partialordernoobquestions.html#133302306">Kenny Lau (Sep 04 2018 at 10:07)</a>:</h4>
<p>and in particular 2) don't name instances of classes</p>

<a name="133302344"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/partial%20order%20noob%20questions/near/133302344" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/08643partialordernoobquestions.html#133302344">Kenny Lau (Sep 04 2018 at 10:08)</a>:</h4>
<p>i.e. <code>[h : partial_order X]</code> is wrong in the first place</p>

<a name="133302433"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/partial%20order%20noob%20questions/near/133302433" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/08643partialordernoobquestions.html#133302433">Kevin Buzzard (Sep 04 2018 at 10:10)</a>:</h4>
<p><code>subrel</code> just gives me the relation on the subtype, not that it is also a partial order.</p>

<a name="133302457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/partial%20order%20noob%20questions/near/133302457" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/08643partialordernoobquestions.html#133302457">Kevin Buzzard (Sep 04 2018 at 10:10)</a>:</h4>
<p>I wanted to use projection because I wanted to prove <code>le_refl</code> by "use X's le_refl"</p>

<a name="133302524"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/partial%20order%20noob%20questions/near/133302524" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/08643partialordernoobquestions.html#133302524">Kenny Lau (Sep 04 2018 at 10:12)</a>:</h4>
<p>I don't think it's in mathlib</p>

<a name="133302553"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/partial%20order%20noob%20questions/near/133302553" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/08643partialordernoobquestions.html#133302553">Kevin Buzzard (Sep 04 2018 at 10:13)</a>:</h4>
<p>Kenny, I have a partial order structure on <code>submodule R M</code>, the type of <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.00773em;">R</span></span></span></span>-submodules of <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.10903em;">M</span></span></span></span>. I want a partial order structure on the subtype of this consisting of submodules which are contained in a given submodule <code>N</code>. I was going to make this general subtype nonsense above and then use it to get an induced partial order on this subtype, and then prove that this was order isomorphic to <code>submodule R N</code>. Does this sound sensible?</p>

<a name="133302605"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/partial%20order%20noob%20questions/near/133302605" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/08643partialordernoobquestions.html#133302605">Kevin Buzzard (Sep 04 2018 at 10:14)</a>:</h4>
<p>I'm currently trying to work out a way of doing this which won't make Mario's head hurt when he sees the PR.</p>

<a name="133302626"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/partial%20order%20noob%20questions/near/133302626" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/08643partialordernoobquestions.html#133302626">Kevin Buzzard (Sep 04 2018 at 10:15)</a>:</h4>
<p>Then I get an order embedding <code>submodule R N -&gt; submodule R M</code> and I can deduce that <code>N</code> is Noetherian from the already-proved theoerem that Noetherian iff &gt; is well-founded.</p>

<a name="133302646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/partial%20order%20noob%20questions/near/133302646" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/08643partialordernoobquestions.html#133302646">Kenny Lau (Sep 04 2018 at 10:15)</a>:</h4>
<p>that sounds very sensible</p>

<a name="133302845"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/partial%20order%20noob%20questions/near/133302845" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/08643partialordernoobquestions.html#133302845">Kevin Buzzard (Sep 04 2018 at 10:21)</a>:</h4>
<p>?! <code>#print partial_order</code> gives <code>partial_order.le_antisymm : ∀ {α : Type u} [c : partial_order α] (a b : α), a ≤ b → b ≤ a → a = b</code> with <code>a</code> and <code>b</code> explicit, but hovering over <code>@le_antisymm</code> in the middle of the definition I'm writing gives me <code>le_antisymm : ∀ {α : Type u} [_inst_1 : partial_order α] {a b : α}, a ≤ b → b ≤ a → a = b</code> with <code>a</code> and <code>b</code> implicit. Who am I to believe?</p>

<a name="133302925"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/partial%20order%20noob%20questions/near/133302925" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/08643partialordernoobquestions.html#133302925">Kenny Lau (Sep 04 2018 at 10:22)</a>:</h4>
<p>both</p>

<a name="133302988"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/partial%20order%20noob%20questions/near/133302988" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/08643partialordernoobquestions.html#133302988">Kevin Buzzard (Sep 04 2018 at 10:24)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">instance</span> <span class="n">subtype</span><span class="bp">.</span><span class="n">partial_order</span> <span class="o">(</span><span class="n">X</span><span class="o">)</span> <span class="o">[</span><span class="n">partial_order</span> <span class="n">X</span><span class="o">]</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="n">partial_order</span> <span class="o">({</span><span class="n">x</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">//</span> <span class="n">p</span> <span class="n">x</span><span class="o">})</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">le</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">X</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">b</span><span class="o">,</span>
  <span class="n">le_refl</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">a</span><span class="o">,</span> <span class="n">le_refl</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">X</span><span class="o">),</span>
  <span class="n">le_trans</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">hab</span> <span class="n">hbc</span><span class="o">,</span> <span class="bp">@</span><span class="n">le_trans</span> <span class="n">X</span> <span class="bp">_</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">hab</span> <span class="n">hbc</span><span class="o">,</span>
  <span class="n">le_antisymm</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">a</span> <span class="n">b</span> <span class="n">hab</span> <span class="n">hba</span><span class="o">,</span> <span class="n">subtype</span><span class="bp">.</span><span class="n">eq</span> <span class="err">$</span> <span class="bp">@</span><span class="n">le_antisymm</span> <span class="n">X</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="n">hab</span> <span class="n">hba</span>
<span class="o">}</span>
</pre></div>


<p>So I still don't know if this should be an instance. Should I just suck it and see?</p>

<a name="133303450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/partial%20order%20noob%20questions/near/133303450" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/08643partialordernoobquestions.html#133303450">Kevin Buzzard (Sep 04 2018 at 10:36)</a>:</h4>
<p>and the presence of <code>@</code>s makes me feel like I'm missing a trick.</p>

<a name="133303540"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/partial%20order%20noob%20questions/near/133303540" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/08643partialordernoobquestions.html#133303540">Kenny Lau (Sep 04 2018 at 10:39)</a>:</h4>
<p>this is my code in the <code>temp</code> file in our stacks project:</p>
<div class="codehilite"><pre><span></span><span class="kn">instance</span> <span class="o">:</span> <span class="n">partial_order</span> <span class="o">{</span><span class="n">x</span> <span class="bp">//</span> <span class="n">p</span> <span class="n">x</span><span class="o">}</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">le</span> <span class="o">:=</span> <span class="n">subrel</span> <span class="o">(</span><span class="bp">≤</span><span class="o">)</span> <span class="n">p</span><span class="o">,</span>
  <span class="n">le_refl</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">le_refl</span> <span class="n">x</span><span class="o">,</span>
  <span class="n">le_trans</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">,</span> <span class="n">le_trans</span><span class="o">,</span>
  <span class="n">le_antisymm</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">x</span> <span class="n">y</span> <span class="n">hx</span> <span class="n">hy</span><span class="o">,</span> <span class="n">subtype</span><span class="bp">.</span><span class="n">eq</span> <span class="err">$</span> <span class="n">le_antisymm</span> <span class="n">hx</span> <span class="n">hy</span> <span class="o">}</span>
</pre></div>

<a name="133304072"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/partial%20order%20noob%20questions/near/133304072" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/08643partialordernoobquestions.html#133304072">Kevin Buzzard (Sep 04 2018 at 10:54)</a>:</h4>
<p>heh, so I switched to @ because I couldn't get <code>le_antisymm</code> working, and after the switch I still couldn't, and then I realised  <code>subtype.eq</code> was missing, and then I didn't switch back :-)</p>

<a name="133304099"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/partial%20order%20noob%20questions/near/133304099" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/08643partialordernoobquestions.html#133304099">Kevin Buzzard (Sep 04 2018 at 10:55)</a>:</h4>
<p><code>le_refl := λ x, le_refl x</code> I am surprised this works. How does Lean know which <code>le_refl</code> to use?</p>

<a name="133331784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/partial%20order%20noob%20questions/near/133331784" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/08643partialordernoobquestions.html#133331784">Kevin Buzzard (Sep 04 2018 at 19:40)</a>:</h4>
<p>This is kind of annoying. This <code>order_iso</code> stuff just seems to work with not an actual partial order or preorder or anything, but any binary relation at all. So I was expecting to see a lemma saying "if X and Y are equivalent partial orders, i.e. they have the same &lt;=, then they have the same &lt; too", but somehow this isn't covered by what <code>order_iso</code> does, despite its name.</p>


{% endraw %}
