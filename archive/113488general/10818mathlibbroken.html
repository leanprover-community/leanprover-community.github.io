---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/10818mathlibbroken.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html">mathlib broken?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="124599682"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124599682" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124599682">Scott Morrison (Apr 04 2018 at 09:35)</a>:</h4>
<p>Actually, it seems like the problem is just in mathlib.</p>

<a name="124599728"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124599728" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124599728">Scott Morrison (Apr 04 2018 at 09:36)</a>:</h4>
<p>Does anyone else get</p>
<div class="codehilite"><pre><span></span>/Users/scott/projects/lean/lean-category-theory/_target/deps/mathlib/data/nat/sqrt.lean:103:48: error: solve1 tactic failed, focused goal has not been solved

state:

n : ℕ,
sqrt_aux_is_sqrt :
 ∀ (m r : ℕ),
 r * r ≤ n →
 n &lt; (r + 2 ^ (m + 1)) * (r + 2 ^ (m + 1)) → is_sqrt n (sqrt_aux (2 ^ m * 2 ^ m) (2 * r * 2 ^ m) (n - r * r)),
m r : ℕ,
h₁ : r * r ≤ n,
h₂ : n &lt; (r + 2 ^ (m + 1 + 1)) * (r + 2 ^ (m + 1 + 1)),
a : n &lt; (r + 2 ^ (m + 1)) * (r + 2 ^ (m + 1)),
this : is_sqrt n (sqrt_aux (2 ^ m * 2 ^ m) (r * 2 * 2 ^ m) (n - r * r))
⊢ is_sqrt n (sqrt_aux (2 ^ m * 2 ^ m) (r * (2 * 2 ^ m)) (n - r * r))
 ````
</pre></div>

<a name="124599971"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124599971" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124599971">Scott Morrison (Apr 04 2018 at 09:43)</a>:</h4>
<p>The <code>finish</code> <a href="https://github.com/leanprover/mathlib/blob/master/order/complete_boolean_algebra.lean#L42" target="_blank" title="https://github.com/leanprover/mathlib/blob/master/order/complete_boolean_algebra.lean#L42">here</a> in mathlib/order/complete_boolean_algebra seems to take a long time to execute.</p>

<a name="124601878"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124601878" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124601878">Mario Carneiro (Apr 04 2018 at 10:47)</a>:</h4>
<p>mathlib is currently broken. I am working on a fix</p>

<a name="124601879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124601879" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124601879">Kenny Lau (Apr 04 2018 at 10:47)</a>:</h4>
<p>actually what is the cause of the problem?</p>

<a name="124601880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124601880" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124601880">Kenny Lau (Apr 04 2018 at 10:47)</a>:</h4>
<p>I roughly saw something to do with <code>punit.eq</code></p>

<a name="124601881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124601881" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124601881">Kenny Lau (Apr 04 2018 at 10:47)</a>:</h4>
<p>I checked the init and it is indeed there</p>

<a name="124601909"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124601909" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124601909">Mario Carneiro (Apr 04 2018 at 10:48)</a>:</h4>
<p>The biggest change was the <code>has_pow</code> typeclass, which changes the way power functions are used across the library</p>

<a name="124601924"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124601924" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124601924">Kenny Lau (Apr 04 2018 at 10:48)</a>:</h4>
<p>then why do I see <code>punit.eq</code>?</p>

<a name="124601925"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124601925" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124601925">Mario Carneiro (Apr 04 2018 at 10:48)</a>:</h4>
<p><code>group_power</code> needed to be heavily edited, and that caused downstream changes</p>

<a name="124601936"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124601936" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124601936">Kenny Lau (Apr 04 2018 at 10:49)</a>:</h4>
<p>alright, good luck</p>

<a name="124601982"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124601982" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124601982">Mario Carneiro (Apr 04 2018 at 10:50)</a>:</h4>
<p>(plus I have some HW due tomorrow which is interfering with my maintenance work)</p>

<a name="124601983"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124601983" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124601983">Kenny Lau (Apr 04 2018 at 10:50)</a>:</h4>
<p>I see</p>

<a name="124602377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124602377" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124602377">Scott Morrison (Apr 04 2018 at 11:05)</a>:</h4>
<p>Let us know if there is work that can be delegated. (Right now delegating might be more work than just fixing, but in the long run it may be worth thinking about sustainable models of mathlib maintenance.)</p>

<a name="124602936"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124602936" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124602936">Mario Carneiro (Apr 04 2018 at 11:25)</a>:</h4>
<p>For the moment I think I would rather do this work myself, and would indeed discourage others from trying to fix it on their own, because this creates merge headaches, especially in this sort of cross-library modification.</p>

<a name="124602984"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124602984" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124602984">Mario Carneiro (Apr 04 2018 at 11:26)</a>:</h4>
<p>I've got it 99% working, there's just one error in ordinal_notation that I need to check the original proof to fix. I could push it now, but it won't compile in travis</p>

<a name="124608602"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124608602" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124608602">Scott Morrison (Apr 04 2018 at 14:59)</a>:</h4>
<p>A  99% fix would still be helpful, as at the moment huge chunks of mathlib recompile every time I run leanpkg. This makes it almost impossible to work.</p>

<a name="124609640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124609640" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124609640">Mario Carneiro (Apr 04 2018 at 15:38)</a>:</h4>
<p>I'll push a 99% fix if I can't get it working tonight.</p>

<a name="124609646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124609646" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124609646">Scott Morrison (Apr 04 2018 at 15:39)</a>:</h4>
<p>no problem --- I'm managing as is, actually.</p>

<a name="124616232"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124616232" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124616232">Kevin Buzzard (Apr 04 2018 at 19:29)</a>:</h4>
<blockquote>
<p>For the moment I think I would rather do this work myself, and would indeed discourage others from trying to fix it on their own, because this creates merge headaches, especially in this sort of cross-library modification.</p>
</blockquote>
<p>The folly of youth :-)</p>

<a name="124616233"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124616233" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124616233">Kevin Buzzard (Apr 04 2018 at 19:29)</a>:</h4>
<p>"I am young and enthusiastic and I know I can fix it myself, so let me fix it myself"</p>

<a name="124616270"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124616270" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124616270">Kevin Buzzard (Apr 04 2018 at 19:30)</a>:</h4>
<p>I am just the opposite nowadays</p>

<a name="124616280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124616280" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124616280">Kenny Lau (Apr 04 2018 at 19:30)</a>:</h4>
<p>a loucura da juventude</p>

<a name="124616282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124616282" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124616282">Kevin Buzzard (Apr 04 2018 at 19:30)</a>:</h4>
<p>"I am old and busy, and I know I can do it, so sure go ahead and do it, and then I can remove it from my job list and furthermore I can blame you later ;-)"</p>

<a name="124616285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124616285" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124616285">Mario Carneiro (Apr 04 2018 at 19:30)</a>:</h4>
<p>I see your point, but given that I've already done most of it, someone else jumping in at this point will only make things worse</p>

<a name="124616292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124616292" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124616292">Mario Carneiro (Apr 04 2018 at 19:31)</a>:</h4>
<p>If I hadn't started the work I'd agree with you</p>

<a name="124616294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124616294" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124616294">Kevin Buzzard (Apr 04 2018 at 19:31)</a>:</h4>
<p>I am sure you're right on this occasion.</p>

<a name="124616300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124616300" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124616300">Kevin Buzzard (Apr 04 2018 at 19:31)</a>:</h4>
<p>If you're in the middle then it's surely easiest just to keep going.</p>

<a name="124616305"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124616305" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124616305">Kevin Buzzard (Apr 04 2018 at 19:31)</a>:</h4>
<p>I know now that the wise move is just to sit and wait and not upgrade Lean</p>

<a name="124616306"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124616306" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124616306">Kevin Buzzard (Apr 04 2018 at 19:31)</a>:</h4>
<p>see my comment in travis</p>

<a name="124616356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124616356" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124616356">Mario Carneiro (Apr 04 2018 at 19:33)</a>:</h4>
<p>Indeed. My fix includes updating the leanpkg.toml file to explicitly reference the nightly it should work with, so hopefully going forward we shouldn't have the problem that updating breaks mathlib</p>

<a name="124616437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124616437" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124616437">Kevin Buzzard (Apr 04 2018 at 19:35)</a>:</h4>
<p>I think that all this leanpkg.toml tinkering is a really good idea</p>

<a name="124616477"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124616477" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124616477">Kevin Buzzard (Apr 04 2018 at 19:36)</a>:</h4>
<p>because in the medium term future things will get more chaotic (when lean 4 appears)</p>

<a name="124616484"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124616484" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124616484">Kevin Buzzard (Apr 04 2018 at 19:36)</a>:</h4>
<p>and if we have some pretty robust stuff available for making lean and mathlib not break for people wanting to stay on the bleeding edge</p>

<a name="124616486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124616486" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124616486">Kevin Buzzard (Apr 04 2018 at 19:36)</a>:</h4>
<p>this will be brilliant</p>

<a name="124617600"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124617600" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124617600">Mario Carneiro (Apr 04 2018 at 20:12)</a>:</h4>
<p>okay, I missed my self imposed deadline, have my 99% fix</p>

<a name="124617601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124617601" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124617601">Kenny Lau (Apr 04 2018 at 20:12)</a>:</h4>
<p>e o teu HW?</p>

<a name="124617650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124617650" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124617650">Mario Carneiro (Apr 04 2018 at 20:14)</a>:</h4>
<p>nao terminei</p>

<a name="124617665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124617665" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124617665">Kenny Lau (Apr 04 2018 at 20:15)</a>:</h4>
<p>oh hey finalmente me falas em portugues</p>

<a name="124617667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124617667" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124617667">Mario Carneiro (Apr 04 2018 at 20:15)</a>:</h4>
<p>lol</p>

<a name="124617669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124617669" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124617669">Kenny Lau (Apr 04 2018 at 20:15)</a>:</h4>
<p>mdr</p>

<a name="124619310"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124619310" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124619310">Mario Carneiro (Apr 04 2018 at 21:07)</a>:</h4>
<p><span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span> Could you troubleshoot the mathlib leanpkg.toml setup? Adding the lean_version just makes travis complain about it, and doesn't change the result.</p>

<a name="124619473"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124619473" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124619473">Sebastian Ullrich (Apr 04 2018 at 21:13)</a>:</h4>
<p>I'll try to build an MVP of leanup today that is sufficient for using it with Travis</p>

<a name="124656640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124656640" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124656640">Mario Carneiro (Apr 05 2018 at 15:17)</a>:</h4>
<p>I think I've figured out the problem: Travis is using <a href="https://github.com/leanprover/lean-nightly/blob/gh-pages/build/lean-nightly-linux.tar.gz" target="_blank" title="https://github.com/leanprover/lean-nightly/blob/gh-pages/build/lean-nightly-linux.tar.gz">https://github.com/leanprover/lean-nightly/blob/gh-pages/build/lean-nightly-linux.tar.gz</a>, which hasn't been updated in 15 days, presumably since the nightly publication process changed. Now I guess I have to go to <a href="https://github.com/leanprover/lean-nightly/releases" target="_blank" title="https://github.com/leanprover/lean-nightly/releases">https://github.com/leanprover/lean-nightly/releases</a> and download the appropriate nightly, but that either requires parsing the TOML file or inserting the date in two more places in the travis.yml file. I assume this is what <code>leanup</code> is going to do?</p>

<a name="124660148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124660148" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124660148">Gabriel Ebner (Apr 05 2018 at 17:26)</a>:</h4>
<p>Yes, see previous discussion here: <a href="#narrow/stream/113488-general/subject/lean.20travis.20problems/near/124359348" title="#narrow/stream/113488-general/subject/lean.20travis.20problems/near/124359348">https://leanprover.zulipchat.com/#narrow/stream/113488-general/subject/lean.20travis.20problems/near/124359348</a></p>

<a name="124660826"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20broken%3F/near/124660826" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/10818mathlibbroken.html#124660826">Sebastian Ullrich (Apr 05 2018 at 17:53)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> Thanks for the quickfix :) . I'll have to supervise an exam today first, but after that I'll continue working on a proper leanup.</p>


{% endraw %}
