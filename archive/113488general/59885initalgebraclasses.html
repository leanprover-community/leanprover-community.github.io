---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/59885initalgebraclasses.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/59885initalgebraclasses.html">init.algebra.classes</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="161450168"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/init.algebra.classes/near/161450168" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59885initalgebraclasses.html#161450168">Johan Commelin (Mar 22 2019 at 14:04)</a>:</h4>
<p>What is the purpose of this file: <a href="https://github.com/leanprover/lean/blob/ceacfa7445953cbc8860ddabc55407430a9ca5c3/library/init/algebra/classes.lean" target="_blank" title="https://github.com/leanprover/lean/blob/ceacfa7445953cbc8860ddabc55407430a9ca5c3/library/init/algebra/classes.lean">https://github.com/leanprover/lean/blob/ceacfa7445953cbc8860ddabc55407430a9ca5c3/library/init/algebra/classes.lean</a><br>
It is used almost nowhere as far as I can see. It seems to be a sort of start of an algebraic hierarchy that is even unbundlerred than the current one...</p>

<a name="161450232"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/init.algebra.classes/near/161450232" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59885initalgebraclasses.html#161450232">Patrick Massot (Mar 22 2019 at 14:05)</a>:</h4>
<p>Yes, this is Leo starting a new hierarchy, but Mario wasn't convinced so he didn't use it</p>

<a name="161450299"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/init.algebra.classes/near/161450299" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59885initalgebraclasses.html#161450299">Patrick Massot (Mar 22 2019 at 14:06)</a>:</h4>
<p>I use it in <a href="https://github.com/PatrickMassot/bigop/blob/master/src/bigop.lean" target="_blank" title="https://github.com/PatrickMassot/bigop/blob/master/src/bigop.lean">https://github.com/PatrickMassot/bigop/blob/master/src/bigop.lean</a></p>

<a name="161450323"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/init.algebra.classes/near/161450323" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59885initalgebraclasses.html#161450323">Patrick Massot (Mar 22 2019 at 14:06)</a>:</h4>
<p>But it leads to higher order unification problems that are not easy to handle</p>

<a name="161450359"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/init.algebra.classes/near/161450359" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59885initalgebraclasses.html#161450359">Patrick Massot (Mar 22 2019 at 14:06)</a>:</h4>
<p>And I should really be grading exams...</p>

<a name="161450645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/init.algebra.classes/near/161450645" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59885initalgebraclasses.html#161450645">Johan Commelin (Mar 22 2019 at 14:10)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> Are those problems documented somewhere?</p>

<a name="161451044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/init.algebra.classes/near/161451044" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59885initalgebraclasses.html#161451044">Johan Commelin (Mar 22 2019 at 14:15)</a>:</h4>
<p>Aaah, I just found: <a href="#narrow/stream/113488-general/topic/is_left_id.20rw.20mystery" title="#narrow/stream/113488-general/topic/is_left_id.20rw.20mystery">https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/is_left_id.20rw.20mystery</a></p>

<a name="161457565"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/init.algebra.classes/near/161457565" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59885initalgebraclasses.html#161457565">Simon Hudon (Mar 22 2019 at 15:28)</a>:</h4>
<p>I have also found those classes useful for rewriting modulo associativity and commutativity</p>

<a name="161457668"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/init.algebra.classes/near/161457668" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59885initalgebraclasses.html#161457668">Simon Hudon (Mar 22 2019 at 15:28)</a>:</h4>
<p>It is not flexible enough to cover associativity of composition in category theory though</p>

<a name="161457982"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/init.algebra.classes/near/161457982" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59885initalgebraclasses.html#161457982">Johan Commelin (Mar 22 2019 at 15:32)</a>:</h4>
<p>I guess one could try to write smarter tactics to get around the higher order unification problem. If <code>smart_rw</code> sees that you want to rewrite using a lemma tagged with <code>algebra</code>, then it looks in the goal to find terms that are "tagged" with <code>binop</code> (I'm making this up right now) and will try to plug those terms into the right slot of the rw-lemma.</p>

<a name="161459525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/init.algebra.classes/near/161459525" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59885initalgebraclasses.html#161459525">Simon Hudon (Mar 22 2019 at 15:50)</a>:</h4>
<p>The issue is not when you use an associativity lemma to rewrite. The issue is when you have an expression like <code>f ≫ g ≫ h ≫ i</code> and a lemma that could rewrite <code>g ≫ h</code> into something else</p>

<a name="161459564"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/init.algebra.classes/near/161459564" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59885initalgebraclasses.html#161459564">Johan Commelin (Mar 22 2019 at 15:51)</a>:</h4>
<p>Like <code>is_left_id</code>?</p>

<a name="161459667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/init.algebra.classes/near/161459667" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59885initalgebraclasses.html#161459667">Simon Hudon (Mar 22 2019 at 15:52)</a>:</h4>
<p>No</p>

<a name="161459693"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/init.algebra.classes/near/161459693" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59885initalgebraclasses.html#161459693">Simon Hudon (Mar 22 2019 at 15:52)</a>:</h4>
<p>You need to rely on associativity but indirectly</p>

<a name="161459722"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/init.algebra.classes/near/161459722" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59885initalgebraclasses.html#161459722">Johan Commelin (Mar 22 2019 at 15:53)</a>:</h4>
<p>Ok, in the thread that I linked to above, Patrick was already having issues with <code>is_left_id</code></p>

<a name="161459752"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/init.algebra.classes/near/161459752" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59885initalgebraclasses.html#161459752">Simon Hudon (Mar 22 2019 at 15:53)</a>:</h4>
<p>Ah ok, I didn't see that</p>


{% endraw %}
