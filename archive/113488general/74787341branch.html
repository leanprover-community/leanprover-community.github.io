---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/74787341branch.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/74787341branch.html">3.4.1 branch</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="158480456"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.1%20branch/near/158480456" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74787341branch.html#158480456">Patrick Massot (Feb 13 2019 at 21:52)</a>:</h4>
<p>Is there any reason the 3.4.1 branch of mathlib is stuck long before the actual move to 3.4.2?</p>

<a name="158480482"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.1%20branch/near/158480482" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74787341branch.html#158480482">Patrick Massot (Feb 13 2019 at 21:52)</a>:</h4>
<p>Isn't <a href="https://github.com/leanprover-community/mathlib/commit/2c5bc214d1391659611591f4c6af222f2bea8e05" target="_blank" title="https://github.com/leanprover-community/mathlib/commit/2c5bc214d1391659611591f4c6af222f2bea8e05">https://github.com/leanprover-community/mathlib/commit/2c5bc214d1391659611591f4c6af222f2bea8e05</a> the actual end of compatibility with Lean 3.4.1?</p>

<a name="158480523"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.1%20branch/near/158480523" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74787341branch.html#158480523">Patrick Massot (Feb 13 2019 at 21:53)</a>:</h4>
<p>This is important because CoCalc is currently stuck with Lean 3.4.1</p>

<a name="158483667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.1%20branch/near/158483667" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74787341branch.html#158483667">Patrick Massot (Feb 13 2019 at 22:36)</a>:</h4>
<p>It looks like I managed to get a reasonable mathlib running on CoCalc <br>
<a href="/user_uploads/3121/LDb7fjvStslgCm1XTUovOLa4/cocalc.png" target="_blank" title="cocalc.png">cocalc.png</a> <br>
My students will love that</p>
<div class="message_inline_image"><a href="/user_uploads/3121/LDb7fjvStslgCm1XTUovOLa4/cocalc.png" target="_blank" title="cocalc.png"><img src="/user_uploads/3121/LDb7fjvStslgCm1XTUovOLa4/cocalc.png"></a></div>

<a name="158484902"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.1%20branch/near/158484902" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74787341branch.html#158484902">Kevin Buzzard (Feb 13 2019 at 22:56)</a>:</h4>
<p>Patrick -- my experience says that more of them will like the Props than the tactics. The tactics are intimidating to most people, even though we find them easy. The propositions are very easy to understand.</p>

<a name="158544154"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.1%20branch/near/158544154" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74787341branch.html#158544154">Patrick Massot (Feb 14 2019 at 16:47)</a>:</h4>
<blockquote>
<p>Patrick -- my experience says that more of them will like the Props than the tactics. The tactics are intimidating to most people, even though we find them easy. The propositions are very easy to understand.</p>
</blockquote>
<p>I'm not sure what you mean. Do you mean they will like the definition of limits better than the proofs? My goal is to teach them how to prove stuff about such definitions</p>

<a name="158544271"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.1%20branch/near/158544271" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74787341branch.html#158544271">Kevin Buzzard (Feb 14 2019 at 16:49)</a>:</h4>
<p>I mean that after showing them a bunch of Lean I have learnt that students have little trouble understanding the tactic state but a lot of trouble understanding what the hell to type into VS Code because in the last year we accidentally learnt 1000 tactics and names of lemmas and techniques which are now second nature to us</p>

<a name="158546888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.1%20branch/near/158546888" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74787341branch.html#158546888">Patrick Massot (Feb 14 2019 at 17:24)</a>:</h4>
<p>I agree we also need that formatting mode where every Lean is hidden except for the tactic state. This is only a matter of finding time to implement it, there is no difficulty.</p>

<a name="158548305"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.1%20branch/near/158548305" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74787341branch.html#158548305">Kevin Buzzard (Feb 14 2019 at 17:43)</a>:</h4>
<p>I'm not trying to rush you, I am just thinking about teaching next academic year :-)</p>

<a name="158587708"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.1%20branch/near/158587708" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74787341branch.html#158587708">Scott Morrison (Feb 15 2019 at 03:50)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span>, I would love to hear how you have CoCalc set up at the moment. I have students arriving soon!</p>

<a name="159390026"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.1%20branch/near/159390026" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74787341branch.html#159390026">Scott Morrison (Feb 26 2019 at 01:42)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span>, could you give a quick tutorial?</p>

<a name="159390065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.1%20branch/near/159390065" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74787341branch.html#159390065">Scott Morrison (Feb 26 2019 at 01:42)</a>:</h4>
<p>When I go to cocalc today, it seems to have lean 3.4.2 installed, and it works great from the command line. (e.g. I can compile a project with a dependency on mathlib, using <code>leanpkg build</code>)</p>

<a name="159390083"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.1%20branch/near/159390083" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74787341branch.html#159390083">Scott Morrison (Feb 26 2019 at 01:43)</a>:</h4>
<p>However, the Lean editor built into cocalc just says it can't resolve the imports.</p>

<a name="159390300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.1%20branch/near/159390300" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74787341branch.html#159390300">Scott Morrison (Feb 26 2019 at 01:47)</a>:</h4>
<p>Sorry, false alarm, restarting the project makes everything work! Awesome sauce. :-)</p>

<a name="159390961"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.1%20branch/near/159390961" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74787341branch.html#159390961">Scott Morrison (Feb 26 2019 at 01:59)</a>:</h4>
<p>Okay --- one defect: things only work perfectly if everything is in the root directory.</p>

<a name="159405165"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.1%20branch/near/159405165" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74787341branch.html#159405165">Patrick Massot (Feb 26 2019 at 07:42)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> you've found <a href="https://github.com/sagemathinc/cocalc/issues/3589" target="_blank" title="https://github.com/sagemathinc/cocalc/issues/3589">https://github.com/sagemathinc/cocalc/issues/3589</a> which is the only thing that is slightly annoying with the current state of Lean in CoCalc. You can go there and ask for the current status of this issue</p>

<a name="159405429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.1%20branch/near/159405429" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74787341branch.html#159405429">Patrick Massot (Feb 26 2019 at 07:47)</a>:</h4>
<p>The workaround is pretty clear: ask students to create at the root of their project, a file <code>leanpkg.path</code> containing:</p>
<div class="codehilite"><pre><span></span>builtin_path
path /ext/lean/lean/mathlib/src/
path /home/user/assignments/
</pre></div>


<p>The last line is the only one you may want to change. In my workflow, I put all students assignments in folders like <code>assignments/assignment1</code>, <code>assignments/assignment2</code> etc. Each folder <code>assignment$i</code> contains two files <code>resources.lean</code> containing all mathlib import, special teaching lemmas and tactics, and a file <code>assignment$i.lean</code> which starts with <code>import assignment$i.resources</code></p>

<a name="159405483"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.1%20branch/near/159405483" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74787341branch.html#159405483">Patrick Massot (Feb 26 2019 at 07:48)</a>:</h4>
<p>Unfortunately you cannot directly create <code>leanpkg.path</code> for your students because the root of their project is the only place you can't put a file in.</p>

<a name="159409497"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.1%20branch/near/159409497" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74787341branch.html#159409497">Kevin Buzzard (Feb 26 2019 at 09:07)</a>:</h4>
<p>You can send them a setup script and ask them to run it I guess.</p>

<a name="159410482"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.1%20branch/near/159410482" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74787341branch.html#159410482">Patrick Massot (Feb 26 2019 at 09:27)</a>:</h4>
<p>It's not much easier than tell them to copy paste three lines in a file with a given name</p>

<a name="160945415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.1%20branch/near/160945415" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74787341branch.html#160945415">Abhimanyu Pallavi Sudhir (Mar 16 2019 at 10:14)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="110087">Scott Morrison</span> you've found <a href="https://github.com/sagemathinc/cocalc/issues/3589" target="_blank" title="https://github.com/sagemathinc/cocalc/issues/3589">https://github.com/sagemathinc/cocalc/issues/3589</a> which is the only thing that is slightly annoying with the current state of Lean in CoCalc. You can go there and ask for the current status of this issue</p>
</blockquote>
<p>I'm trying to get mathlib imports working on CoCalc right now -- what's the workaround mentioned in <a href="https://github.com/sagemathinc/cocalc/issues/3589" target="_blank" title="https://github.com/sagemathinc/cocalc/issues/3589">https://github.com/sagemathinc/cocalc/issues/3589</a>? All my files are already in the home directory, but that doesn't seem to be enough.</p>

<a name="160945711"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.1%20branch/near/160945711" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74787341branch.html#160945711">Abhimanyu Pallavi Sudhir (Mar 16 2019 at 10:22)</a>:</h4>
<p>Oops, found the workaround, couldn't see it in search, sorry. Got it -- it really is pretty great.</p>


{% endraw %}
