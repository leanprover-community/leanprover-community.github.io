---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/22440traviscipushpr.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/22440traviscipushpr.html">travis-ci/{push,pr}</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="164791088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/travis-ci/%7Bpush%2Cpr%7D/near/164791088" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22440traviscipushpr.html#164791088">Johan Commelin (May 03 2019 at 12:52)</a>:</h4>
<p>What is the difference between <code>travis-ci/push</code> and <code>travis-ci/pr</code>?<br>
See e.g. <a href="https://github.com/leanprover-community/mathlib/pull/973" target="_blank" title="https://github.com/leanprover-community/mathlib/pull/973">https://github.com/leanprover-community/mathlib/pull/973</a><br>
Why do we need both checks?</p>

<a name="164791218"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/travis-ci/%7Bpush%2Cpr%7D/near/164791218" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22440traviscipushpr.html#164791218">Chris Hughes (May 03 2019 at 12:54)</a>:</h4>
<p>push checks the branch and pr checks whether it works after rebasing with current master. We don't need both, but apparently it's hard to switch off.</p>

<a name="164791280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/travis-ci/%7Bpush%2Cpr%7D/near/164791280" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22440traviscipushpr.html#164791280">Johan Commelin (May 03 2019 at 12:55)</a>:</h4>
<p>That's really silly that Travis doesn't have a switch for that <span aria-label="sad" class="emoji emoji-2639" role="img" title="sad">:sad:</span></p>

<a name="164791625"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/travis-ci/%7Bpush%2Cpr%7D/near/164791625" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22440traviscipushpr.html#164791625">Johan Commelin (May 03 2019 at 13:00)</a>:</h4>
<p>Shouldn't we turn this switch off: <a href="https://docs.travis-ci.com/user/web-ui/#build-pushed-branches" target="_blank" title="https://docs.travis-ci.com/user/web-ui/#build-pushed-branches">https://docs.travis-ci.com/user/web-ui/#build-pushed-branches</a></p>

<a name="164791653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/travis-ci/%7Bpush%2Cpr%7D/near/164791653" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22440traviscipushpr.html#164791653">Johan Commelin (May 03 2019 at 13:01)</a>:</h4>
<p>It means that Travis will not check commits that are pushed to branches that have not yet been PR'd.</p>

<a name="164791656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/travis-ci/%7Bpush%2Cpr%7D/near/164791656" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22440traviscipushpr.html#164791656">Johan Commelin (May 03 2019 at 13:01)</a>:</h4>
<p>That would be fine with me.</p>

<a name="164791773"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/travis-ci/%7Bpush%2Cpr%7D/near/164791773" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22440traviscipushpr.html#164791773">Johan Commelin (May 03 2019 at 13:03)</a>:</h4>
<p><span class="user-mention" data-user-id="110026">@Simon Hudon</span> Do you know if that would work?</p>

<a name="164792462"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/travis-ci/%7Bpush%2Cpr%7D/near/164792462" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22440traviscipushpr.html#164792462">Patrick Massot (May 03 2019 at 13:13)</a>:</h4>
<p>I'm all in favor of not Travis-checking branches that are not PR'ed. For instance, I'm creating a lot of noise in the Travis thread, and a lot of useless Travis work this afternoon</p>

<a name="164792552"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/travis-ci/%7Bpush%2Cpr%7D/near/164792552" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22440traviscipushpr.html#164792552">Chris Hughes (May 03 2019 at 13:14)</a>:</h4>
<p>A lot of these issues could be solved if we just made a fork for WIP. I think PRing from branches is an unusual setup, so it makes it hard to work with travis and mergify.</p>

<a name="164795851"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/travis-ci/%7Bpush%2Cpr%7D/near/164795851" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22440traviscipushpr.html#164795851">Johan Commelin (May 03 2019 at 13:55)</a>:</h4>
<p>I flipped this switch on the perfectoid project. Now we have <a href="https://github.com/leanprover-community/lean-perfectoid-spaces/pull/34" target="_blank" title="https://github.com/leanprover-community/lean-perfectoid-spaces/pull/34">https://github.com/leanprover-community/lean-perfectoid-spaces/pull/34</a></p>

<a name="164795864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/travis-ci/%7Bpush%2Cpr%7D/near/164795864" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22440traviscipushpr.html#164795864">Johan Commelin (May 03 2019 at 13:55)</a>:</h4>
<p>Only one check. Which is what we want.</p>

<a name="164798347"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/travis-ci/%7Bpush%2Cpr%7D/near/164798347" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22440traviscipushpr.html#164798347">Johan Commelin (May 03 2019 at 14:24)</a>:</h4>
<p><del>Hmm, and now both checks are back... even though the switch is still disabled.</del> (Github displayed two tests, for some weird reason. But after a hard refresh there was only one test.)</p>


{% endraw %}
