---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/28061Modulerefactor.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/28061Modulerefactor.html">Module refactor</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="154648106"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Module%20refactor/near/154648106" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/28061Modulerefactor.html#154648106">Kenny Lau (Jan 08 2019 at 14:29)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/tree/module-refactor" target="_blank" title="https://github.com/leanprover-community/mathlib/tree/module-refactor">I have refactored modules in order to make it possible for a module to be based on two rings.</a> However, there is a small part in analysis/normed_space written by <span class="user-mention" data-user-id="110031">@Patrick Massot</span> and <span class="user-mention" data-user-id="110294">@Johannes Hölzl</span> which I do not know how to fix. I would be grateful if they could kindly offer their assistance.</p>

<a name="156905982"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Module%20refactor/near/156905982" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/28061Modulerefactor.html#156905982">Kenny Lau (Jan 26 2019 at 03:41)</a>:</h4>
<p>I am rebasing it to the current mathlib; I would appreciate it if we could pause merging module-related stuff for a while (that would include my recent <a href="https://github.com/leanprover/mathlib/issues/625" target="_blank" title="https://github.com/leanprover/mathlib/issues/625">#625</a>)</p>

<a name="156905983"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Module%20refactor/near/156905983" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/28061Modulerefactor.html#156905983">Kenny Lau (Jan 26 2019 at 03:41)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> do you think this is a good time?</p>

<a name="156906025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Module%20refactor/near/156906025" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/28061Modulerefactor.html#156906025">Mario Carneiro (Jan 26 2019 at 03:42)</a>:</h4>
<p>sure, what's the status?</p>

<a name="156906039"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Module%20refactor/near/156906039" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/28061Modulerefactor.html#156906039">Kenny Lau (Jan 26 2019 at 03:43)</a>:</h4>
<p>expect a PR in 10 minutes</p>

<a name="156906149"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Module%20refactor/near/156906149" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/28061Modulerefactor.html#156906149">Kenny Lau (Jan 26 2019 at 03:46)</a>:</h4>
<p>make that 1 hour</p>

<a name="156907809"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Module%20refactor/near/156907809" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/28061Modulerefactor.html#156907809">Kenny Lau (Jan 26 2019 at 04:38)</a>:</h4>
<p><a href="https://github.com/leanprover/mathlib/issues/626" target="_blank" title="https://github.com/leanprover/mathlib/issues/626">#626</a></p>

<a name="156916951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Module%20refactor/near/156916951" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/28061Modulerefactor.html#156916951">Patrick Massot (Jan 26 2019 at 09:10)</a>:</h4>
<p>I'm sorry I didn't find the right time to think about this thread. <span class="user-mention" data-user-id="110064">@Kenny Lau</span> did you manage to fix your normed space issue?</p>

<a name="156919459"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Module%20refactor/near/156919459" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/28061Modulerefactor.html#156919459">Kenny Lau (Jan 26 2019 at 10:23)</a>:</h4>
<p>yes</p>

<a name="156922108"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Module%20refactor/near/156922108" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/28061Modulerefactor.html#156922108">Kenny Lau (Jan 26 2019 at 11:38)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> <code>pi_instance</code> fails for <code>smul</code> because <code>pi_instance</code> tries to apply <code>has_scalar.smul</code> but it fails because the instance cannot be synthesized</p>

<a name="156928213"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Module%20refactor/near/156928213" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/28061Modulerefactor.html#156928213">Kenny Lau (Jan 26 2019 at 14:52)</a>:</h4>
<ul>
<li>The first parameters of <code>has_scalar</code>, <code>semimodule</code>, <code>module</code>, and <code>vector_space</code> are no longer <code>out_param</code>s. The implication is that the base ring will have to be inferred either from being provided explicitly or from context.</li>
<li>The base ring of linear maps are now specified via <code>β →ₗ[α] γ</code>, alongside the original notation <code>β →ₗ γ</code>. A similar notation has been introduced for tensor products.</li>
<li>The base ring in some definitions/theorems are made explicit.</li>
</ul>

<a name="156928216"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Module%20refactor/near/156928216" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/28061Modulerefactor.html#156928216">Kenny Lau (Jan 26 2019 at 14:52)</a>:</h4>
<p>do you guys have any suggestions / objections?</p>

<a name="156928481"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Module%20refactor/near/156928481" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/28061Modulerefactor.html#156928481">Kenny Lau (Jan 26 2019 at 15:00)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span></p>

<a name="156939434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Module%20refactor/near/156939434" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/28061Modulerefactor.html#156939434">Kevin Buzzard (Jan 26 2019 at 20:09)</a>:</h4>
<p>In real life one often sees phrases like "<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.00773em;">R</span></span></span></span>-linear maps from <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.10903em;">M</span></span></span></span> to <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.10903em;">N</span></span></span></span>" so I'm very happy. I live in a world where one often can consider both <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.00773em;">R</span></span></span></span>-linear and <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.05764em;">S</span></span></span></span>-linear maps between two modules.</p>

<a name="156942441"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Module%20refactor/near/156942441" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/28061Modulerefactor.html#156942441">Kenny Lau (Jan 26 2019 at 21:40)</a>:</h4>
<blockquote>
<p>I am rebasing it to the current mathlib; I would appreciate it if we could pause merging module-related stuff for a while (that would include my recent <a href="https://github.com/leanprover/mathlib/issues/625" target="_blank" title="https://github.com/leanprover/mathlib/issues/625">#625</a>)</p>
</blockquote>
<p><a href="#narrow/stream/113488-general/topic/Module.20refactor/near/156905982" title="#narrow/stream/113488-general/topic/Module.20refactor/near/156905982">Kenny Lau, 2019 Jan 26 03:41 (UTC)</a> <span aria-label="point up" class="emoji emoji-1f446" role="img" title="point up">:point_up:</span> </p>
<p>I hope I didn't start a one-month module hiatus</p>


{% endraw %}
