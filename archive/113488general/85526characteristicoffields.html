---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/85526characteristicoffields.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html">characteristic of fields</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="135921382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135921382" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135921382">Kenny Lau (Oct 16 2018 at 18:54)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> <span class="user-mention" data-user-id="112680">@Johan Commelin</span> <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> how should we define the <code>char</code> of a field?</p>

<a name="135921432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135921432" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135921432">Mario Carneiro (Oct 16 2018 at 18:55)</a>:</h4>
<p>I think your definition should be on semirings instead of zero/one/mul classes</p>

<a name="135921541"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135921541" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135921541">Mario Carneiro (Oct 16 2018 at 18:57)</a>:</h4>
<p>I guess it could be on rings, since a nonzero characteristic semiring is a ring</p>

<a name="135921546"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135921546" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135921546">Chris Hughes (Oct 16 2018 at 18:57)</a>:</h4>
<p>Should it be a class or just a Prop?</p>

<a name="135921574"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135921574" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135921574">Mario Carneiro (Oct 16 2018 at 18:57)</a>:</h4>
<p>a prop, it is a prop</p>

<a name="135921587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135921587" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135921587">Mario Carneiro (Oct 16 2018 at 18:57)</a>:</h4>
<p>oh wait you aren't asking about <code>char_p</code></p>

<a name="135921653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135921653" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135921653">Kenny Lau (Oct 16 2018 at 18:58)</a>:</h4>
<p>both</p>

<a name="135921654"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135921654" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135921654">Chris Hughes (Oct 16 2018 at 18:58)</a>:</h4>
<p>I'm asking about <code>char</code>.</p>

<a name="135921657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135921657" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135921657">Kenny Lau (Oct 16 2018 at 18:58)</a>:</h4>
<p>I'm asking about this thing in general</p>

<a name="135921670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135921670" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135921670">Kenny Lau (Oct 16 2018 at 18:58)</a>:</h4>
<p>how did metamath / other languages deal with this?</p>

<a name="135921676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135921676" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135921676">Kenny Lau (Oct 16 2018 at 18:58)</a>:</h4>
<p>and is char(Q) 0 or 1?</p>

<a name="135921705"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135921705" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135921705">Mario Carneiro (Oct 16 2018 at 18:59)</a>:</h4>
<p>char(Q) is 0</p>

<a name="135921712"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135921712" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135921712">Kenny Lau (Oct 16 2018 at 18:59)</a>:</h4>
<p>in where?</p>

<a name="135921720"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135921720" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135921720">Mario Carneiro (Oct 16 2018 at 18:59)</a>:</h4>
<p>in metamath</p>

<a name="135921723"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135921723" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135921723">Mario Carneiro (Oct 16 2018 at 18:59)</a>:</h4>
<p>and in math</p>

<a name="135921730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135921730" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135921730">Kenny Lau (Oct 16 2018 at 18:59)</a>:</h4>
<p>but how is char defined?</p>

<a name="135921736"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135921736" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135921736">Kenny Lau (Oct 16 2018 at 18:59)</a>:</h4>
<p>I feel like there's 1,000,000 subtleties</p>

<a name="135921739"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135921739" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135921739">Mario Carneiro (Oct 16 2018 at 19:00)</a>:</h4>
<p>the order of 1</p>

<a name="135921811"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135921811" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135921811">Kenny Lau (Oct 16 2018 at 19:00)</a>:</h4>
<p>how is order defined?</p>

<a name="135921818"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135921818" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135921818">Chris Hughes (Oct 16 2018 at 19:00)</a>:</h4>
<p>We don't have <code>order_of</code> on non finite groups</p>

<a name="135921840"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135921840" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135921840">Mario Carneiro (Oct 16 2018 at 19:00)</a>:</h4>
<p>and the order of a group element is the smallest nonzero power of the element that is 1</p>

<a name="135921850"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135921850" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135921850">Mario Carneiro (Oct 16 2018 at 19:01)</a>:</h4>
<p>or 0 if it doesn't exist</p>

<a name="135921852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135921852" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135921852">Kenny Lau (Oct 16 2018 at 19:01)</a>:</h4>
<p>so that's a <code>def</code> not a <code>prop</code>?</p>

<a name="135921861"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135921861" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135921861">Kenny Lau (Oct 16 2018 at 19:01)</a>:</h4>
<p>ok I don't like this</p>

<a name="135921866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135921866" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135921866">Mario Carneiro (Oct 16 2018 at 19:01)</a>:</h4>
<p>metamath doesn't care about computability tho</p>

<a name="135921867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135921867" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135921867">Kenny Lau (Oct 16 2018 at 19:01)</a>:</h4>
<p>do we have another approach?</p>

<a name="135921873"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135921873" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135921873">Mario Carneiro (Oct 16 2018 at 19:01)</a>:</h4>
<p>there is a computable definition yielding a <code>roption nat</code></p>

<a name="135921939"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135921939" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135921939">Mario Carneiro (Oct 16 2018 at 19:02)</a>:</h4>
<p>and if we define <code>get_or_else</code> for <code>roption</code> then we can make it 0 otherwise</p>

<a name="135921988"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135921988" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135921988">Kenny Lau (Oct 16 2018 at 19:03)</a>:</h4>
<p>would it be usable?</p>

<a name="135922050"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922050" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922050">Mario Carneiro (Oct 16 2018 at 19:04)</a>:</h4>
<p>I am a fan of <code>roption</code> definitions; it would give you a relational interface</p>

<a name="135922054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922054" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922054">Mario Carneiro (Oct 16 2018 at 19:04)</a>:</h4>
<p><code>p \in char R</code></p>

<a name="135922092"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922092" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922092">Kevin Buzzard (Oct 16 2018 at 19:05)</a>:</h4>
<p>The characteristic of a ring is the kernel of the canonical ring homomorphism from the integers to the ring.</p>

<a name="135922108"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922108" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922108">Mario Carneiro (Oct 16 2018 at 19:05)</a>:</h4>
<p>there is also the ideal option</p>

<a name="135922114"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922114" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922114">Kenny Lau (Oct 16 2018 at 19:05)</a>:</h4>
<blockquote>
<p>The characteristic of a ring is the kernel of the canonical ring homomorphism from the integers to the ring.</p>
</blockquote>
<p>next</p>

<a name="135922123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922123" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922123">Kevin Buzzard (Oct 16 2018 at 19:05)</a>:</h4>
<p>That's the best definition.</p>

<a name="135922145"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922145" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922145">Mario Carneiro (Oct 16 2018 at 19:05)</a>:</h4>
<p>that's just restating x^n = 0 though</p>

<a name="135922199"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922199" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922199">Mario Carneiro (Oct 16 2018 at 19:06)</a>:</h4>
<p>maybe a better question is not what is the characteristic but what is it for</p>

<a name="135922241"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922241" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922241">Mario Carneiro (Oct 16 2018 at 19:07)</a>:</h4>
<p>We have PID defined, right? Is it constructive exists?</p>

<a name="135922259"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922259" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922259">Kenny Lau (Oct 16 2018 at 19:07)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">class</span> <span class="n">is_principal_ideal</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">principal</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">,</span> <span class="n">S</span> <span class="bp">=</span> <span class="o">{</span><span class="n">x</span> <span class="bp">|</span> <span class="n">a</span> <span class="err">∣</span> <span class="n">x</span><span class="o">})</span>

<span class="n">class</span> <span class="n">principal_ideal_domain</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="kn">extends</span> <span class="n">integral_domain</span> <span class="n">α</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">principal</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">)</span> <span class="o">[</span><span class="n">is_ideal</span> <span class="n">S</span><span class="o">],</span> <span class="n">is_principal_ideal</span> <span class="n">S</span><span class="o">)</span>
</pre></div>

<a name="135922262"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922262" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922262">Kenny Lau (Oct 16 2018 at 19:07)</a>:</h4>
<p>yes</p>

<a name="135922273"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922273" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922273">Mario Carneiro (Oct 16 2018 at 19:07)</a>:</h4>
<p>well no</p>

<a name="135922280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922280" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922280">Kevin Buzzard (Oct 16 2018 at 19:07)</a>:</h4>
<p>That looks right to me. Is Mario asking about whether there's a function from ideals to generators though?</p>

<a name="135922284"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922284" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922284">Mario Carneiro (Oct 16 2018 at 19:08)</a>:</h4>
<p>yeah</p>

<a name="135922332"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922332" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922332">Kevin Buzzard (Oct 16 2018 at 19:08)</a>:</h4>
<p>A maths PID is what Kenny just quoted.</p>

<a name="135922341"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922341" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922341">Mario Carneiro (Oct 16 2018 at 19:08)</a>:</h4>
<p>I guess there is no constructive proof that Z is a PID then?</p>

<a name="135922345"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922345" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922345">Kevin Buzzard (Oct 16 2018 at 19:08)</a>:</h4>
<p>Of course the notion of PID was not invented by constructivists.</p>

<a name="135922350"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922350" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922350">Kenny Lau (Oct 16 2018 at 19:08)</a>:</h4>
<p>nothing involving arbitrary sets can be constructive</p>

<a name="135922351"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922351" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922351">Kevin Buzzard (Oct 16 2018 at 19:08)</a>:</h4>
<p>History is written by the victors</p>

<a name="135922383"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922383" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922383">Mario Carneiro (Oct 16 2018 at 19:09)</a>:</h4>
<p>that's not exactly true kenny, it's possible that the ideal structure can be leveraged to give a generator</p>

<a name="135922388"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922388" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922388">Kevin Buzzard (Oct 16 2018 at 19:09)</a>:</h4>
<blockquote>
<p>I guess there is no constructive proof that Z is a PID then?</p>
</blockquote>
<p>The standard proof in textbooks ("if the ideal is zero then done, if not then choose the smallest positive integer") is constructive.</p>

<a name="135922440"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922440" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922440">Mario Carneiro (Oct 16 2018 at 19:10)</a>:</h4>
<p>well, constructive with LEM</p>

<a name="135922465"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922465" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922465">Kenny Lau (Oct 16 2018 at 19:10)</a>:</h4>
<p>you can't decide if the ideal is zero</p>

<a name="135922466"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922466" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922466">Mario Carneiro (Oct 16 2018 at 19:10)</a>:</h4>
<p>you can't determine if an arbitrary ideal is zero</p>

<a name="135922471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922471" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922471">Kevin Buzzard (Oct 16 2018 at 19:10)</a>:</h4>
<p>In Z??</p>

<a name="135922475"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922475" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922475">Mario Carneiro (Oct 16 2018 at 19:10)</a>:</h4>
<p>that's exactly the problem with defining characteristic</p>

<a name="135922477"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922477" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922477">Kenny Lau (Oct 16 2018 at 19:10)</a>:</h4>
<p>give me an algorithm</p>

<a name="135922490"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922490" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922490">Mario Carneiro (Oct 16 2018 at 19:11)</a>:</h4>
<p>the set of periods of an element is an ideal of Z</p>

<a name="135922500"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922500" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922500">Mario Carneiro (Oct 16 2018 at 19:11)</a>:</h4>
<p>but you can't tell if it is zero</p>

<a name="135922506"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922506" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922506">Kevin Buzzard (Oct 16 2018 at 19:11)</a>:</h4>
<p>I'm not going to talk about this any more. It's silly.</p>

<a name="135922511"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922511" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922511">Mario Carneiro (Oct 16 2018 at 19:11)</a>:</h4>
<p>I think we have our answer Kenny</p>

<a name="135922516"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922516" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922516">Kevin Buzzard (Oct 16 2018 at 19:11)</a>:</h4>
<p>:-)</p>

<a name="135922518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922518" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922518">Mario Carneiro (Oct 16 2018 at 19:11)</a>:</h4>
<p>totalize it</p>

<a name="135922565"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922565" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922565">Kenny Lau (Oct 16 2018 at 19:12)</a>:</h4>
<p>could you summarize the answer?</p>

<a name="135922575"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922575" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922575">Kevin Buzzard (Oct 16 2018 at 19:12)</a>:</h4>
<p>Are you going to assume LEM?</p>

<a name="135922576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922576" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922576">Mario Carneiro (Oct 16 2018 at 19:12)</a>:</h4>
<p>char Q = 0</p>

<a name="135922579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922579" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922579">Mario Carneiro (Oct 16 2018 at 19:12)</a>:</h4>
<p><code>noncomputable</code></p>

<a name="135922584"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922584" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922584">Mario Carneiro (Oct 16 2018 at 19:12)</a>:</h4>
<p>live with it</p>

<a name="135922598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922598" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922598">Kenny Lau (Oct 16 2018 at 19:12)</a>:</h4>
<p>no roption?</p>

<a name="135922599"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922599" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922599">Mario Carneiro (Oct 16 2018 at 19:12)</a>:</h4>
<p>if you insist, you can define <code>char' A : roption nat</code></p>

<a name="135922611"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922611" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922611">Mario Carneiro (Oct 16 2018 at 19:13)</a>:</h4>
<p>and define <code>char</code> in terms of it</p>

<a name="135922615"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922615" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922615">Mario Carneiro (Oct 16 2018 at 19:13)</a>:</h4>
<p>but most of the theory will be about <code>char</code></p>

<a name="135922618"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922618" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922618">Kenny Lau (Oct 16 2018 at 19:13)</a>:</h4>
<p>it won't be a class then</p>

<a name="135922620"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922620" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922620">Patrick Massot (Oct 16 2018 at 19:13)</a>:</h4>
<p><code>kenny_char : roption Prop</code> (because who knows?)</p>

<a name="135922637"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922637" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922637">Mario Carneiro (Oct 16 2018 at 19:13)</a>:</h4>
<p>also, <code>char</code> is a type</p>

<a name="135922640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922640" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922640">Kenny Lau (Oct 16 2018 at 19:13)</a>:</h4>
<p>but every ring has a unique char</p>

<a name="135922649"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922649" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922649">Mario Carneiro (Oct 16 2018 at 19:13)</a>:</h4>
<p>characters</p>

<a name="135922699"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922699" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922699">Mario Carneiro (Oct 16 2018 at 19:14)</a>:</h4>
<p>there is also the ideal definition, dunno how useful it is but that's constructive too</p>

<a name="135922704"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922704" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922704">Patrick Massot (Oct 16 2018 at 19:14)</a>:</h4>
<p>Let's write it in French then! <code>car</code></p>

<a name="135922705"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922705" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922705">Kenny Lau (Oct 16 2018 at 19:14)</a>:</h4>
<p>I mean, it's useful to make "char A = p" into a class</p>

<a name="135922710"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922710" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922710">Mario Carneiro (Oct 16 2018 at 19:14)</a>:</h4>
<p>I agree on that</p>

<a name="135922715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922715" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922715">Mario Carneiro (Oct 16 2018 at 19:14)</a>:</h4>
<p><code>char_p</code> is fine and unproblematic</p>

<a name="135922719"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922719" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922719">Kenny Lau (Oct 16 2018 at 19:14)</a>:</h4>
<p>oh ok</p>

<a name="135922722"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922722" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922722">Reid Barton (Oct 16 2018 at 19:14)</a>:</h4>
<blockquote>
<p>but every ring has a unique char</p>
</blockquote>
<p>isn't this not true constructively? or am I really confused</p>

<a name="135922744"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922744" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922744">Mario Carneiro (Oct 16 2018 at 19:15)</a>:</h4>
<p>no, that's true</p>

<a name="135922750"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922750" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922750">Kenny Lau (Oct 16 2018 at 19:15)</a>:</h4>
<p>I'm talking about the reason to make it into a typeclass</p>

<a name="135922760"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922760" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922760">Mario Carneiro (Oct 16 2018 at 19:15)</a>:</h4>
<p>if a ring has two characteristics then they are equal</p>

<a name="135922763"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922763" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922763">Kenny Lau (Oct 16 2018 at 19:15)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">class</span> <span class="n">char_p</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">has_zero</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">has_one</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">has_add</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">cast_eq_zero</span> <span class="o">:</span> <span class="o">(</span><span class="n">p</span><span class="o">:</span><span class="n">α</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">)</span>
</pre></div>


<p>Do we all agree that this definition is deficit?</p>

<a name="135922770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922770" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922770">Reid Barton (Oct 16 2018 at 19:15)</a>:</h4>
<p>It's the "has" part I am worried about</p>

<a name="135922780"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922780" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922780">Reid Barton (Oct 16 2018 at 19:16)</a>:</h4>
<p>I agree "unique" is okay.</p>

<a name="135922831"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922831" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922831">Mario Carneiro (Oct 16 2018 at 19:16)</a>:</h4>
<p>no you can't prove existence of a characteristic (number) in general without LEM</p>

<a name="135922835"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922835" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922835">Mario Carneiro (Oct 16 2018 at 19:16)</a>:</h4>
<p>the ideal is fine of course</p>

<a name="135922838"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135922838" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135922838">Reid Barton (Oct 16 2018 at 19:16)</a>:</h4>
<p>right, okay</p>

<a name="135923259"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135923259" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135923259">Reid Barton (Oct 16 2018 at 19:25)</a>:</h4>
<blockquote>
<p>I guess there is no constructive proof that Z is a PID then?</p>
</blockquote>
<p>I think you can even prove constructively that "Z is a PID" =&gt; LEM</p>

<a name="135923313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135923313" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135923313">Reid Barton (Oct 16 2018 at 19:26)</a>:</h4>
<p>by taking a proposition P and defining the ideal I = {x | x = 0 \/ P}</p>

<a name="135923331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135923331" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135923331">Reid Barton (Oct 16 2018 at 19:26)</a>:</h4>
<p>and then looking at whether its generator is zero or not</p>

<a name="135923475"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135923475" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135923475">Kenny Lau (Oct 16 2018 at 19:29)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">class</span> <span class="n">char_p</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">cast_eq_zero_iff</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span><span class="o">:</span><span class="bp">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">x</span><span class="o">:</span><span class="n">α</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">↔</span> <span class="n">p</span> <span class="err">∣</span> <span class="n">x</span><span class="o">)</span>
</pre></div>

<a name="135923477"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135923477" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135923477">Kenny Lau (Oct 16 2018 at 19:29)</a>:</h4>
<p>how about this</p>

<a name="135923619"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135923619" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135923619">Kenny Lau (Oct 16 2018 at 19:31)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">class</span> <span class="n">char_p</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">cast_eq_zero_iff</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span><span class="o">:</span><span class="bp">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">x</span><span class="o">:</span><span class="n">α</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">↔</span> <span class="n">p</span> <span class="err">∣</span> <span class="n">x</span><span class="o">)</span>

<span class="kn">theorem</span> <span class="n">char_p</span><span class="bp">.</span><span class="n">cast_eq_zero</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">α</span><span class="o">]</span> <span class="o">{</span><span class="n">p</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">}</span> <span class="o">[</span><span class="n">char_p</span> <span class="n">α</span> <span class="n">p</span><span class="o">]</span> <span class="o">:</span> <span class="o">(</span><span class="n">p</span><span class="o">:</span><span class="n">α</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">char_p</span><span class="bp">.</span><span class="n">cast_eq_zero_iff</span> <span class="n">α</span> <span class="n">p</span> <span class="n">p</span><span class="o">)</span><span class="bp">.</span><span class="mi">2</span> <span class="o">(</span><span class="n">dvd_refl</span> <span class="n">p</span><span class="o">)</span>

<span class="kn">theorem</span> <span class="n">char_p</span><span class="bp">.</span><span class="n">eq</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">[</span><span class="n">char_p</span> <span class="n">α</span> <span class="n">p</span><span class="o">]</span> <span class="o">[</span><span class="n">char_p</span> <span class="n">α</span> <span class="n">q</span><span class="o">]</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">=</span> <span class="n">q</span> <span class="o">:=</span>
<span class="n">nat</span><span class="bp">.</span><span class="n">dvd_antisymm</span>
  <span class="o">((</span><span class="n">char_p</span><span class="bp">.</span><span class="n">cast_eq_zero_iff</span> <span class="n">α</span> <span class="n">p</span> <span class="n">q</span><span class="o">)</span><span class="bp">.</span><span class="mi">1</span> <span class="n">char_p</span><span class="bp">.</span><span class="n">cast_eq_zero</span><span class="o">)</span>
  <span class="o">((</span><span class="n">char_p</span><span class="bp">.</span><span class="n">cast_eq_zero_iff</span> <span class="n">α</span> <span class="n">q</span> <span class="n">p</span><span class="o">)</span><span class="bp">.</span><span class="mi">1</span> <span class="n">char_p</span><span class="bp">.</span><span class="n">cast_eq_zero</span><span class="o">)</span>
</pre></div>

<a name="135923715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135923715" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135923715">Kenny Lau (Oct 16 2018 at 19:33)</a>:</h4>
<blockquote>
<p>I think your definition should be on semirings instead of zero/one/mul classes</p>
</blockquote>
<p>but <code>char_zero</code> is defined on <code>[add_monoid \a] [has_one \a]</code>?</p>

<a name="135924255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135924255" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135924255">Mario Carneiro (Oct 16 2018 at 19:43)</a>:</h4>
<p>or that</p>

<a name="135924367"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135924367" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135924367">Kenny Lau (Oct 16 2018 at 19:45)</a>:</h4>
<p>existe uma diferencia?</p>

<a name="135925799"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135925799" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135925799">Kenny Lau (Oct 16 2018 at 20:06)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">class</span> <span class="n">char_p</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">cast_eq_zero_iff</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span><span class="o">:</span><span class="bp">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">x</span><span class="o">:</span><span class="n">α</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">↔</span> <span class="n">p</span> <span class="err">∣</span> <span class="n">x</span><span class="o">)</span>

<span class="kn">theorem</span> <span class="n">char_p</span><span class="bp">.</span><span class="n">cast_eq_zero</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">[</span><span class="n">char_p</span> <span class="n">α</span> <span class="n">p</span><span class="o">]</span> <span class="o">:</span> <span class="o">(</span><span class="n">p</span><span class="o">:</span><span class="n">α</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">char_p</span><span class="bp">.</span><span class="n">cast_eq_zero_iff</span> <span class="n">α</span> <span class="n">p</span> <span class="n">p</span><span class="o">)</span><span class="bp">.</span><span class="mi">2</span> <span class="o">(</span><span class="n">dvd_refl</span> <span class="n">p</span><span class="o">)</span>

<span class="kn">theorem</span> <span class="n">char_p</span><span class="bp">.</span><span class="n">eq</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">[</span><span class="n">char_p</span> <span class="n">α</span> <span class="n">p</span><span class="o">]</span> <span class="o">[</span><span class="n">char_p</span> <span class="n">α</span> <span class="n">q</span><span class="o">]</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">=</span> <span class="n">q</span> <span class="o">:=</span>
<span class="n">nat</span><span class="bp">.</span><span class="n">dvd_antisymm</span>
  <span class="o">((</span><span class="n">char_p</span><span class="bp">.</span><span class="n">cast_eq_zero_iff</span> <span class="n">α</span> <span class="n">p</span> <span class="n">q</span><span class="o">)</span><span class="bp">.</span><span class="mi">1</span> <span class="o">(</span><span class="n">char_p</span><span class="bp">.</span><span class="n">cast_eq_zero</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">))</span>
  <span class="o">((</span><span class="n">char_p</span><span class="bp">.</span><span class="n">cast_eq_zero_iff</span> <span class="n">α</span> <span class="n">q</span> <span class="n">p</span><span class="o">)</span><span class="bp">.</span><span class="mi">1</span> <span class="o">(</span><span class="n">char_p</span><span class="bp">.</span><span class="n">cast_eq_zero</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">))</span>

<span class="kn">instance</span> <span class="n">char_p</span><span class="bp">.</span><span class="n">of_char_zero</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">char_zero</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span> <span class="n">char_p</span> <span class="n">α</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="bp">⟨λ</span> <span class="n">x</span><span class="o">,</span> <span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">zero_dvd_iff</span><span class="o">,</span> <span class="err">←</span> <span class="n">nat</span><span class="bp">.</span><span class="n">cast_zero</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">cast_inj</span><span class="o">]</span><span class="bp">⟩</span>

<span class="kn">theorem</span> <span class="n">char_p</span><span class="bp">.</span><span class="n">exists</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">p</span><span class="o">,</span> <span class="n">char_p</span> <span class="n">α</span> <span class="n">p</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">letI</span> <span class="o">:=</span> <span class="n">classical</span><span class="bp">.</span><span class="n">dec_eq</span> <span class="n">α</span><span class="bp">;</span> <span class="n">exact</span>
<span class="n">classical</span><span class="bp">.</span><span class="n">by_cases</span>
  <span class="o">(</span><span class="k">assume</span> <span class="n">H</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">p</span><span class="o">:</span><span class="bp">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">p</span><span class="o">:</span><span class="n">α</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">→</span> <span class="n">p</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">,</span> <span class="bp">⟨</span><span class="mi">0</span><span class="o">,</span>
    <span class="bp">⟨λ</span> <span class="n">x</span><span class="o">,</span> <span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">zero_dvd_iff</span><span class="o">]</span><span class="bp">;</span> <span class="n">exact</span> <span class="bp">⟨</span><span class="n">H</span> <span class="n">x</span><span class="o">,</span> <span class="k">by</span> <span class="n">rintro</span> <span class="n">rfl</span><span class="bp">;</span> <span class="n">refl</span><span class="bp">⟩⟩⟩</span><span class="o">)</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="n">H</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">nat</span><span class="bp">.</span><span class="n">find</span> <span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">not_forall</span><span class="bp">.</span><span class="mi">1</span> <span class="n">H</span><span class="o">),</span> <span class="bp">⟨λ</span> <span class="n">x</span><span class="o">,</span>
    <span class="bp">⟨λ</span> <span class="n">H1</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">dvd_of_mod_eq_zero</span> <span class="o">(</span><span class="n">by_contradiction</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">H2</span><span class="o">,</span>
      <span class="n">nat</span><span class="bp">.</span><span class="n">find_min</span> <span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">not_forall</span><span class="bp">.</span><span class="mi">1</span> <span class="n">H</span><span class="o">)</span>
        <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">mod_lt</span> <span class="n">x</span> <span class="err">$</span> <span class="n">nat</span><span class="bp">.</span><span class="n">pos_of_ne_zero</span> <span class="err">$</span> <span class="n">not_of_not_imp</span> <span class="err">$</span>
          <span class="n">nat</span><span class="bp">.</span><span class="n">find_spec</span> <span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">not_forall</span><span class="bp">.</span><span class="mi">1</span> <span class="n">H</span><span class="o">))</span>
        <span class="o">(</span><span class="n">not_imp_of_and_not</span> <span class="bp">⟨</span><span class="k">by</span> <span class="n">rwa</span> <span class="o">[</span><span class="err">←</span> <span class="n">nat</span><span class="bp">.</span><span class="n">mod_add_div</span> <span class="n">x</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">find</span> <span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">not_forall</span><span class="bp">.</span><span class="mi">1</span> <span class="n">H</span><span class="o">)),</span>
          <span class="n">nat</span><span class="bp">.</span><span class="n">cast_add</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">cast_mul</span><span class="o">,</span> <span class="n">of_not_not</span> <span class="o">(</span><span class="n">not_not_of_not_imp</span> <span class="err">$</span> <span class="n">nat</span><span class="bp">.</span><span class="n">find_spec</span> <span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">not_forall</span><span class="bp">.</span><span class="mi">1</span> <span class="n">H</span><span class="o">)),</span>
          <span class="n">zero_mul</span><span class="o">,</span> <span class="n">add_zero</span><span class="o">]</span> <span class="n">at</span> <span class="n">H1</span><span class="o">,</span> <span class="n">H2</span><span class="bp">⟩</span><span class="o">)),</span>
    <span class="bp">λ</span> <span class="n">H1</span><span class="o">,</span> <span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="err">←</span> <span class="n">nat</span><span class="bp">.</span><span class="n">mul_div_cancel&#39;</span> <span class="n">H1</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">cast_mul</span><span class="o">,</span>
      <span class="n">of_not_not</span> <span class="o">(</span><span class="n">not_not_of_not_imp</span> <span class="err">$</span> <span class="n">nat</span><span class="bp">.</span><span class="n">find_spec</span> <span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">not_forall</span><span class="bp">.</span><span class="mi">1</span> <span class="n">H</span><span class="o">)),</span> <span class="n">zero_mul</span><span class="o">]</span><span class="bp">⟩⟩⟩</span><span class="o">)</span>

<span class="kn">theorem</span> <span class="n">char_p</span><span class="bp">.</span><span class="n">exists_unique</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span> <span class="bp">∃!</span> <span class="n">p</span><span class="o">,</span> <span class="n">char_p</span> <span class="n">α</span> <span class="n">p</span> <span class="o">:=</span>
<span class="k">let</span> <span class="bp">⟨</span><span class="n">c</span><span class="o">,</span> <span class="n">H</span><span class="bp">⟩</span> <span class="o">:=</span> <span class="n">char_p</span><span class="bp">.</span><span class="n">exists</span> <span class="n">α</span> <span class="k">in</span>
<span class="bp">⟨</span><span class="n">c</span><span class="o">,</span> <span class="n">H</span><span class="o">,</span> <span class="bp">λ</span> <span class="n">y</span> <span class="n">H2</span><span class="o">,</span> <span class="k">by</span> <span class="n">resetI</span><span class="bp">;</span> <span class="n">apply</span> <span class="n">char_p</span><span class="bp">.</span><span class="n">eq</span> <span class="n">α</span><span class="bp">⟩</span>
</pre></div>

<a name="135925803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135925803" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135925803">Kenny Lau (Oct 16 2018 at 20:06)</a>:</h4>
<p>How does this look? <span class="user-mention" data-user-id="110049">@Mario Carneiro</span> <span class="user-mention" data-user-id="110031">@Patrick Massot</span></p>

<a name="135925816"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135925816" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135925816">Kenny Lau (Oct 16 2018 at 20:06)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span></p>

<a name="135925950"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135925950" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135925950">Kevin Buzzard (Oct 16 2018 at 20:08)</a>:</h4>
<blockquote>
<div class="codehilite"><pre><span></span><span class="n">class</span> <span class="n">char_p</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">cast_eq_zero_iff</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span><span class="o">:</span><span class="bp">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">x</span><span class="o">:</span><span class="n">α</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">↔</span> <span class="n">p</span> <span class="err">∣</span> <span class="n">x</span><span class="o">)</span>
</pre></div>


</blockquote>
<p>I see you went for the ideal idea after all ;-)</p>

<a name="135925962"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135925962" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135925962">Mario Carneiro (Oct 16 2018 at 20:08)</a>:</h4>
<p><code>char_p.eq</code> should definitely not have square brackets</p>

<a name="135925979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135925979" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135925979">Kevin Buzzard (Oct 16 2018 at 20:09)</a>:</h4>
<p><code>is_char_p</code>?</p>

<a name="135926065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135926065" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135926065">Mario Carneiro (Oct 16 2018 at 20:10)</a>:</h4>
<p>Maybe it should be a property of Z, then you can literally say <code>is_ideal (char_p A)</code></p>

<a name="135926427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135926427" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135926427">Kenny Lau (Oct 16 2018 at 20:16)</a>:</h4>
<p>wait I'm confused</p>

<a name="135926429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135926429" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135926429">Kenny Lau (Oct 16 2018 at 20:16)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">theorem</span> <span class="n">char_p</span><span class="bp">.</span><span class="n">eq</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">c1</span> <span class="o">:</span> <span class="n">char_p</span> <span class="n">α</span> <span class="n">p</span><span class="o">)</span> <span class="o">(</span><span class="n">c2</span> <span class="o">:</span> <span class="n">char_p</span> <span class="n">α</span> <span class="n">q</span><span class="o">)</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">=</span> <span class="n">q</span> <span class="o">:=</span>
<span class="n">nat</span><span class="bp">.</span><span class="n">dvd_antisymm</span>
  <span class="o">((</span><span class="n">char_p</span><span class="bp">.</span><span class="n">cast_eq_zero_iff</span> <span class="n">α</span> <span class="n">p</span> <span class="n">q</span><span class="o">)</span><span class="bp">.</span><span class="mi">1</span> <span class="o">(</span><span class="n">char_p</span><span class="bp">.</span><span class="n">cast_eq_zero</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">))</span>
  <span class="o">((</span><span class="n">char_p</span><span class="bp">.</span><span class="n">cast_eq_zero_iff</span> <span class="n">α</span> <span class="n">q</span> <span class="n">p</span><span class="o">)</span><span class="bp">.</span><span class="mi">1</span> <span class="o">(</span><span class="n">char_p</span><span class="bp">.</span><span class="n">cast_eq_zero</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">))</span>
</pre></div>

<a name="135926434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135926434" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135926434">Kenny Lau (Oct 16 2018 at 20:16)</a>:</h4>
<p>how can the proof still work now that I turned <code>[]</code> to <code>()</code>?</p>

<a name="135926462"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135926462" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135926462">Mario Carneiro (Oct 16 2018 at 20:17)</a>:</h4>
<p>maybe kevin knows... I told him the solution to this puzzle a few weeks ago</p>

<a name="135926477"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135926477" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135926477">Kenny Lau (Oct 16 2018 at 20:17)</a>:</h4>
<p>anyway how is this now?</p>
<div class="codehilite"><pre><span></span><span class="n">class</span> <span class="n">char_p</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">cast_eq_zero_iff</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span><span class="o">:</span><span class="bp">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">x</span><span class="o">:</span><span class="n">α</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">↔</span> <span class="n">p</span> <span class="err">∣</span> <span class="n">x</span><span class="o">)</span>

<span class="kn">theorem</span> <span class="n">char_p</span><span class="bp">.</span><span class="n">cast_eq_zero</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">[</span><span class="n">char_p</span> <span class="n">α</span> <span class="n">p</span><span class="o">]</span> <span class="o">:</span> <span class="o">(</span><span class="n">p</span><span class="o">:</span><span class="n">α</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">char_p</span><span class="bp">.</span><span class="n">cast_eq_zero_iff</span> <span class="n">α</span> <span class="n">p</span> <span class="n">p</span><span class="o">)</span><span class="bp">.</span><span class="mi">2</span> <span class="o">(</span><span class="n">dvd_refl</span> <span class="n">p</span><span class="o">)</span>

<span class="kn">theorem</span> <span class="n">char_p</span><span class="bp">.</span><span class="n">eq</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">α</span><span class="o">]</span> <span class="o">{</span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">}</span> <span class="o">(</span><span class="n">c1</span> <span class="o">:</span> <span class="n">char_p</span> <span class="n">α</span> <span class="n">p</span><span class="o">)</span> <span class="o">(</span><span class="n">c2</span> <span class="o">:</span> <span class="n">char_p</span> <span class="n">α</span> <span class="n">q</span><span class="o">)</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">=</span> <span class="n">q</span> <span class="o">:=</span>
<span class="n">nat</span><span class="bp">.</span><span class="n">dvd_antisymm</span>
  <span class="o">((</span><span class="n">char_p</span><span class="bp">.</span><span class="n">cast_eq_zero_iff</span> <span class="n">α</span> <span class="n">p</span> <span class="n">q</span><span class="o">)</span><span class="bp">.</span><span class="mi">1</span> <span class="o">(</span><span class="n">char_p</span><span class="bp">.</span><span class="n">cast_eq_zero</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">))</span>
  <span class="o">((</span><span class="n">char_p</span><span class="bp">.</span><span class="n">cast_eq_zero_iff</span> <span class="n">α</span> <span class="n">q</span> <span class="n">p</span><span class="o">)</span><span class="bp">.</span><span class="mi">1</span> <span class="o">(</span><span class="n">char_p</span><span class="bp">.</span><span class="n">cast_eq_zero</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">))</span>

<span class="kn">instance</span> <span class="n">char_p</span><span class="bp">.</span><span class="n">of_char_zero</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">char_zero</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span> <span class="n">char_p</span> <span class="n">α</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="bp">⟨λ</span> <span class="n">x</span><span class="o">,</span> <span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">zero_dvd_iff</span><span class="o">,</span> <span class="err">←</span> <span class="n">nat</span><span class="bp">.</span><span class="n">cast_zero</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">cast_inj</span><span class="o">]</span><span class="bp">⟩</span>

<span class="kn">theorem</span> <span class="n">char_p</span><span class="bp">.</span><span class="n">exists</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">p</span><span class="o">,</span> <span class="n">char_p</span> <span class="n">α</span> <span class="n">p</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">letI</span> <span class="o">:=</span> <span class="n">classical</span><span class="bp">.</span><span class="n">dec_eq</span> <span class="n">α</span><span class="bp">;</span> <span class="n">exact</span>
<span class="n">classical</span><span class="bp">.</span><span class="n">by_cases</span>
  <span class="o">(</span><span class="k">assume</span> <span class="n">H</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">p</span><span class="o">:</span><span class="bp">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">p</span><span class="o">:</span><span class="n">α</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">→</span> <span class="n">p</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">,</span> <span class="bp">⟨</span><span class="mi">0</span><span class="o">,</span>
    <span class="bp">⟨λ</span> <span class="n">x</span><span class="o">,</span> <span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">zero_dvd_iff</span><span class="o">]</span><span class="bp">;</span> <span class="n">exact</span> <span class="bp">⟨</span><span class="n">H</span> <span class="n">x</span><span class="o">,</span> <span class="k">by</span> <span class="n">rintro</span> <span class="n">rfl</span><span class="bp">;</span> <span class="n">refl</span><span class="bp">⟩⟩⟩</span><span class="o">)</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="n">H</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">nat</span><span class="bp">.</span><span class="n">find</span> <span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">not_forall</span><span class="bp">.</span><span class="mi">1</span> <span class="n">H</span><span class="o">),</span> <span class="bp">⟨λ</span> <span class="n">x</span><span class="o">,</span>
    <span class="bp">⟨λ</span> <span class="n">H1</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">dvd_of_mod_eq_zero</span> <span class="o">(</span><span class="n">by_contradiction</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">H2</span><span class="o">,</span>
      <span class="n">nat</span><span class="bp">.</span><span class="n">find_min</span> <span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">not_forall</span><span class="bp">.</span><span class="mi">1</span> <span class="n">H</span><span class="o">)</span>
        <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">mod_lt</span> <span class="n">x</span> <span class="err">$</span> <span class="n">nat</span><span class="bp">.</span><span class="n">pos_of_ne_zero</span> <span class="err">$</span> <span class="n">not_of_not_imp</span> <span class="err">$</span>
          <span class="n">nat</span><span class="bp">.</span><span class="n">find_spec</span> <span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">not_forall</span><span class="bp">.</span><span class="mi">1</span> <span class="n">H</span><span class="o">))</span>
        <span class="o">(</span><span class="n">not_imp_of_and_not</span> <span class="bp">⟨</span><span class="k">by</span> <span class="n">rwa</span> <span class="o">[</span><span class="err">←</span> <span class="n">nat</span><span class="bp">.</span><span class="n">mod_add_div</span> <span class="n">x</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">find</span> <span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">not_forall</span><span class="bp">.</span><span class="mi">1</span> <span class="n">H</span><span class="o">)),</span>
          <span class="n">nat</span><span class="bp">.</span><span class="n">cast_add</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">cast_mul</span><span class="o">,</span> <span class="n">of_not_not</span> <span class="o">(</span><span class="n">not_not_of_not_imp</span> <span class="err">$</span> <span class="n">nat</span><span class="bp">.</span><span class="n">find_spec</span> <span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">not_forall</span><span class="bp">.</span><span class="mi">1</span> <span class="n">H</span><span class="o">)),</span>
          <span class="n">zero_mul</span><span class="o">,</span> <span class="n">add_zero</span><span class="o">]</span> <span class="n">at</span> <span class="n">H1</span><span class="o">,</span> <span class="n">H2</span><span class="bp">⟩</span><span class="o">)),</span>
    <span class="bp">λ</span> <span class="n">H1</span><span class="o">,</span> <span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="err">←</span> <span class="n">nat</span><span class="bp">.</span><span class="n">mul_div_cancel&#39;</span> <span class="n">H1</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">cast_mul</span><span class="o">,</span>
      <span class="n">of_not_not</span> <span class="o">(</span><span class="n">not_not_of_not_imp</span> <span class="err">$</span> <span class="n">nat</span><span class="bp">.</span><span class="n">find_spec</span> <span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">not_forall</span><span class="bp">.</span><span class="mi">1</span> <span class="n">H</span><span class="o">)),</span> <span class="n">zero_mul</span><span class="o">]</span><span class="bp">⟩⟩⟩</span><span class="o">)</span>

<span class="kn">theorem</span> <span class="n">char_p</span><span class="bp">.</span><span class="n">exists_unique</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span> <span class="bp">∃!</span> <span class="n">p</span><span class="o">,</span> <span class="n">char_p</span> <span class="n">α</span> <span class="n">p</span> <span class="o">:=</span>
<span class="k">let</span> <span class="bp">⟨</span><span class="n">c</span><span class="o">,</span> <span class="n">H</span><span class="bp">⟩</span> <span class="o">:=</span> <span class="n">char_p</span><span class="bp">.</span><span class="n">exists</span> <span class="n">α</span> <span class="k">in</span>
<span class="bp">⟨</span><span class="n">c</span><span class="o">,</span> <span class="n">H</span><span class="o">,</span> <span class="bp">λ</span> <span class="n">y</span> <span class="n">H2</span><span class="o">,</span> <span class="n">char_p</span><span class="bp">.</span><span class="n">eq</span> <span class="n">α</span> <span class="n">H2</span> <span class="n">H</span><span class="bp">⟩</span>
</pre></div>

<a name="135926549"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135926549" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135926549">Mario Carneiro (Oct 16 2018 at 20:18)</a>:</h4>
<p><code>char_p.exists</code> should be defining a function... called <code>char</code></p>

<a name="135926554"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135926554" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135926554">Kenny Lau (Oct 16 2018 at 20:18)</a>:</h4>
<p>we can functionize that</p>

<a name="135926587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135926587" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135926587">Kevin Buzzard (Oct 16 2018 at 20:19)</a>:</h4>
<p>He told Johannes too.</p>

<a name="135926599"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135926599" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135926599">Kenny Lau (Oct 16 2018 at 20:19)</a>:</h4>
<div class="codehilite"><pre><span></span>invalid definition, a declaration named &#39;char&#39; has already been declared
</pre></div>

<a name="135926600"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135926600" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135926600">Kenny Lau (Oct 16 2018 at 20:19)</a>:</h4>
<p>hard luck</p>

<a name="135926906"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135926906" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135926906">Kenny Lau (Oct 16 2018 at 20:24)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">noncomputable</span> <span class="n">def</span> <span class="n">ring_char</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="o">:=</span>
<span class="n">classical</span><span class="bp">.</span><span class="n">some</span> <span class="o">(</span><span class="n">char_p</span><span class="bp">.</span><span class="n">exists_unique</span> <span class="n">α</span><span class="o">)</span>

<span class="kn">theorem</span> <span class="n">ring_char</span><span class="bp">.</span><span class="n">spec</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span><span class="o">:</span><span class="bp">ℕ</span><span class="o">,</span> <span class="o">(</span><span class="n">x</span><span class="o">:</span><span class="n">α</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">↔</span> <span class="n">ring_char</span> <span class="n">α</span> <span class="err">∣</span> <span class="n">x</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">letI</span> <span class="o">:=</span> <span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">some_spec</span> <span class="o">(</span><span class="n">char_p</span><span class="bp">.</span><span class="n">exists_unique</span> <span class="n">α</span><span class="o">))</span><span class="bp">.</span><span class="mi">1</span><span class="bp">;</span>
<span class="n">unfold</span> <span class="n">ring_char</span><span class="bp">;</span> <span class="n">exact</span> <span class="n">char_p</span><span class="bp">.</span><span class="n">cast_eq_zero_iff</span> <span class="n">α</span> <span class="o">(</span><span class="n">ring_char</span> <span class="n">α</span><span class="o">)</span>

<span class="kn">theorem</span> <span class="n">ring_char</span><span class="bp">.</span><span class="n">eq</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">α</span><span class="o">]</span> <span class="o">{</span><span class="n">p</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">}</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">char_p</span> <span class="n">α</span> <span class="n">p</span><span class="o">)</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">=</span> <span class="n">ring_char</span> <span class="n">α</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">some_spec</span> <span class="o">(</span><span class="n">char_p</span><span class="bp">.</span><span class="n">exists_unique</span> <span class="n">α</span><span class="o">))</span><span class="bp">.</span><span class="mi">2</span> <span class="n">p</span> <span class="n">C</span>
</pre></div>

<a name="135926909"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135926909" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135926909">Kenny Lau (Oct 16 2018 at 20:24)</a>:</h4>
<p>how is this?</p>

<a name="135927432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135927432" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135927432">Kevin Buzzard (Oct 16 2018 at 20:34)</a>:</h4>
<blockquote>
<p>how can the proof still work now that I turned <code>[]</code> to <code>()</code>?</p>
</blockquote>
<p>Type class inference just grabs anything it can find to the left of the colon. The round and square brackets are just for the signature of the theorem, they don't affect how type class inference works in the proof. This is not so well-known because it's not common to put a typeclass left of the colon and not in a square bracket.</p>

<a name="135927447"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135927447" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135927447">Kevin Buzzard (Oct 16 2018 at 20:34)</a>:</h4>
<p>I discovered it a few weeks ago when I was trying to understand Patrick's type class hell with his completions and had exactly the same reaction.</p>

<a name="135927490"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135927490" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135927490">Kevin Buzzard (Oct 16 2018 at 20:35)</a>:</h4>
<p>I've had to construct that argument from memory because my search for the conversation failed. Hopefully it's some sort of approximation to the truth.</p>

<a name="135927856"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135927856" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135927856">Bryan Gin-ge Chen (Oct 16 2018 at 20:40)</a>:</h4>
<p>I guess it's <a href="#narrow/stream/116395-maths/subject/Separation.20stuff/near/134261338" title="#narrow/stream/116395-maths/subject/Separation.20stuff/near/134261338">this conversation?</a> I found it by searching for "left of colon".</p>

<a name="135927950"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135927950" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135927950">Kenny Lau (Oct 16 2018 at 20:42)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> Could you help me with some typeclass problems? It's in L324 here: <a href="https://github.com/kckennylau/Lean/blob/master/perfect_closure.lean#L324" target="_blank" title="https://github.com/kckennylau/Lean/blob/master/perfect_closure.lean#L324">https://github.com/kckennylau/Lean/blob/master/perfect_closure.lean#L324</a></p>

<a name="135927966"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135927966" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135927966">Kenny Lau (Oct 16 2018 at 20:42)</a>:</h4>
<p>Lean can't figure out the coercion in <code>(↑x : perfect_closure α p)</code></p>

<a name="135928018"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135928018" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135928018">Kevin Buzzard (Oct 16 2018 at 20:43)</a>:</h4>
<p><a href="#narrow/stream/116395-maths/subject/Separation.20stuff/near/134261591" title="#narrow/stream/116395-maths/subject/Separation.20stuff/near/134261591">https://leanprover.zulipchat.com/#narrow/stream/116395-maths/subject/Separation.20stuff/near/134261591</a></p>

<a name="135928021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135928021" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135928021">Kevin Buzzard (Oct 16 2018 at 20:43)</a>:</h4>
<p>You owe Mario a light bulb</p>

<a name="135928069"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135928069" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135928069">Kenny Lau (Oct 16 2018 at 20:44)</a>:</h4>
<p>done</p>

<a name="135928099"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135928099" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135928099">Kevin Buzzard (Oct 16 2018 at 20:44)</a>:</h4>
<p>(thanks Bryan)</p>

<a name="135928788"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/characteristic%20of%20fields/near/135928788" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/85526characteristicoffields.html#135928788">Kenny Lau (Oct 16 2018 at 20:53)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> never mind it's stupid</p>


{% endraw %}
