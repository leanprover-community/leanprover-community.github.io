---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/99769importingwithinleanpackage.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html">importing within lean package</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="124161392"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124161392" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124161392">Chris Hughes (Mar 24 2018 at 20:09)</a>:</h4>
<p>So I've tried to download <span class="user-mention" data-user-id="110064">@Kenny Lau</span> and <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span>'s stacks project library, but none of the imports are currently working, I get the following message</p>
<div class="codehilite"><pre><span></span><span class="n">invalid</span> <span class="kn">import</span><span class="o">:</span> <span class="n">Kenny_comm_alg</span><span class="bp">.</span><span class="n">avoid_powers</span>
<span class="n">could</span> <span class="n">not</span> <span class="n">resolve</span> <span class="kn">import</span><span class="o">:</span> <span class="n">Kenny_comm_alg</span><span class="bp">.</span><span class="n">avoid_powers</span>
</pre></div>


<p>I tried using both <code>leanpkg install</code> and <code>leanpkg add</code> to download the library, but both have this problem. I'm on windows. Can anyone help?</p>

<a name="124161439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124161439" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124161439">Simon Hudon (Mar 24 2018 at 20:10)</a>:</h4>
<p>did you do <code>leanpkg init my_project</code> on your directory?</p>

<a name="124161491"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124161491" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124161491">Chris Hughes (Mar 24 2018 at 20:12)</a>:</h4>
<p>Which directory?</p>

<a name="124161548"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124161548" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124161548">Kevin Buzzard (Mar 24 2018 at 20:15)</a>:</h4>
<p>Chris : try the "open folder" option in VS Code. Open the project root as a folder.</p>

<a name="124161550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124161550" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124161550">Kevin Buzzard (Mar 24 2018 at 20:15)</a>:</h4>
<p>Let me know if it doesn't work. I'll add it to the README if it does.</p>

<a name="124161592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124161592" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124161592">Kevin Buzzard (Mar 24 2018 at 20:16)</a>:</h4>
<p>That should make the import directories all point to the right places</p>

<a name="124161648"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124161648" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124161648">Kevin Buzzard (Mar 24 2018 at 20:18)</a>:</h4>
<p>and then I would have suggested "leanpkg upgrade" or "leanpkg build" -- oh -- I see -- this doesn't work because Chris won't have any leanpkg.path file in his clone?</p>

<a name="124161656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124161656" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124161656">Chris Hughes (Mar 24 2018 at 20:19)</a>:</h4>
<p>I don't have a leanpkg path</p>

<a name="124161663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124161663" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124161663">Kevin Buzzard (Mar 24 2018 at 20:19)</a>:</h4>
<p>Chris -- I have a _target directoy that you don't have because my gitignore file tells git not to upload my _target directory to github</p>

<a name="124161669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124161669" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124161669">Kevin Buzzard (Mar 24 2018 at 20:19)</a>:</h4>
<p>so you'll need one of those</p>

<a name="124161670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124161670" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124161670">Chris Hughes (Mar 24 2018 at 20:19)</a>:</h4>
<p>But I should be able to build it, I can build mathlib, and that's the same.</p>

<a name="124161708"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124161708" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124161708">Kevin Buzzard (Mar 24 2018 at 20:20)</a>:</h4>
<p>Mathlib has no dependencies.</p>

<a name="124161719"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124161719" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124161719">Kevin Buzzard (Mar 24 2018 at 20:20)</a>:</h4>
<p>Our project depends on other projects so it's a bit different.</p>

<a name="124161721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124161721" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124161721">Chris Hughes (Mar 24 2018 at 20:20)</a>:</h4>
<p>It downloaded all the dependecncies automatically. Trouble is they don't compile.</p>

<a name="124161722"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124161722" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124161722">Kevin Buzzard (Mar 24 2018 at 20:20)</a>:</h4>
<p>I'm not sure that's a problem</p>

<a name="124161723"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124161723" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124161723">Kevin Buzzard (Mar 24 2018 at 20:21)</a>:</h4>
<p>As long as mathlib compiles</p>

<a name="124161730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124161730" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124161730">Chris Hughes (Mar 24 2018 at 20:21)</a>:</h4>
<p>And my computer's too slow to make compiling when I import practical.</p>

<a name="124161772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124161772" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124161772">Simon Hudon (Mar 24 2018 at 20:22)</a>:</h4>
<p>If you want we can start from scratch.</p>

<a name="124161774"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124161774" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124161774">Chris Hughes (Mar 24 2018 at 20:22)</a>:</h4>
<p>It's a problem because it crashes everything</p>

<a name="124161775"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124161775" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124161775">Kevin Buzzard (Mar 24 2018 at 20:22)</a>:</h4>
<p>You should be able to get it to work. Kenny got it to work</p>

<a name="124161776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124161776" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124161776">Chris Hughes (Mar 24 2018 at 20:22)</a>:</h4>
<p>And I doubt mathlib compileseither, since it depends on an old version</p>

<a name="124161777"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124161777" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124161777">Kevin Buzzard (Mar 24 2018 at 20:22)</a>:</h4>
<p>and he was in exactly the same situation as you -- it wasn't his project and he had to clone from github</p>

<a name="124161783"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124161783" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124161783">Kevin Buzzard (Mar 24 2018 at 20:23)</a>:</h4>
<p>type leanpkg upgrade</p>

<a name="124161784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124161784" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124161784">Kevin Buzzard (Mar 24 2018 at 20:23)</a>:</h4>
<p>This should get the correct versions of everything</p>

<a name="124161785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124161785" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124161785">Kevin Buzzard (Mar 24 2018 at 20:23)</a>:</h4>
<p>and then leanpkg build and leave it on overnight</p>

<a name="124161786"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124161786" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124161786">Kevin Buzzard (Mar 24 2018 at 20:23)</a>:</h4>
<p>or however long it takes</p>

<a name="124161828"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124161828" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124161828">Chris Hughes (Mar 24 2018 at 20:24)</a>:</h4>
<p>If there are errors, leaving it overnight doesn't help</p>

<a name="124161882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124161882" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124161882">Kevin Buzzard (Mar 24 2018 at 20:26)</a>:</h4>
<p>You're right, it's not working for me.</p>

<a name="124161884"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124161884" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124161884">Kevin Buzzard (Mar 24 2018 at 20:26)</a>:</h4>
<p>I'll try and figure out what's going on.</p>

<a name="124161894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124161894" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124161894">Kevin Buzzard (Mar 24 2018 at 20:27)</a>:</h4>
<p>Do you have the latest Lean?</p>

<a name="124161939"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124161939" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124161939">Chris Hughes (Mar 24 2018 at 20:28)</a>:</h4>
<p>The latest lean doesn't compile. I have four day old lean.</p>

<a name="124162170"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124162170" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124162170">Kevin Buzzard (Mar 24 2018 at 20:37)</a>:</h4>
<p>OK so I just tried compiling my project using lean from the linux nightly (commit 28f4143be31b) and my project did not compile.</p>

<a name="124162172"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124162172" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124162172">Kevin Buzzard (Mar 24 2018 at 20:37)</a>:</h4>
<p>The first error is this:</p>

<a name="124162175"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124162175" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124162175">Kevin Buzzard (Mar 24 2018 at 20:37)</a>:</h4>
<div class="codehilite"><pre><span></span>/home/buzzard/temp/lean-stacks-project/_target/deps/mathlib/data/option.lean:24:1: error: failed to synthesize type class instance for
α : Type u
⊢ is_lawful_monad option
</pre></div>

<a name="124162215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124162215" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124162215">Kevin Buzzard (Mar 24 2018 at 20:38)</a>:</h4>
<p>and there was some talk about lawful monads recently so maybe there was some change</p>

<a name="124162284"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124162284" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124162284">Chris Hughes (Mar 24 2018 at 20:41)</a>:</h4>
<p>If you just find a version it works with, I'll download that.</p>

<a name="124162337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124162337" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124162337">Simon Hudon (Mar 24 2018 at 20:42)</a>:</h4>
<p>I believe mathlib doesn't build with the latest nightly. I worked with revision <code>07bb7d809b6be49f38ce4e427c54a82708ae281f </code> of Lean</p>

<a name="124162345"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124162345" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124162345">Simon Hudon (Mar 24 2018 at 20:43)</a>:</h4>
<p>And I use <code>4ceb545f7e07431263e1131a9c9524a28de99472</code> for mathlib</p>

<a name="124162409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124162409" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124162409">Chris Hughes (Mar 24 2018 at 20:45)</a>:</h4>
<p>I have made some progress. It now gets stuck at importing, because nothing's compiled instead of not finding the file it's meant to import.</p>

<a name="124162420"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124162420" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124162420">Kevin Buzzard (Mar 24 2018 at 20:46)</a>:</h4>
<p>I am downloading lean HEAD. It's three days old and it would not surprise me if ever-efficient Mario had made mathlib work with it.</p>

<a name="124162461"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124162461" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124162461">Kevin Buzzard (Mar 24 2018 at 20:46)</a>:</h4>
<p>Chris are you able to compile Lean from source?</p>

<a name="124162464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124162464" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124162464">Kevin Buzzard (Mar 24 2018 at 20:46)</a>:</h4>
<p><a href="https://github.com/leanprover/lean/blob/master/doc/make/msys2.md" target="_blank" title="https://github.com/leanprover/lean/blob/master/doc/make/msys2.md">https://github.com/leanprover/lean/blob/master/doc/make/msys2.md</a></p>

<a name="124162465"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124162465" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124162465">Simon Hudon (Mar 24 2018 at 20:46)</a>:</h4>
<p>If you check travis, you'll see that it doesn't work with HEAD</p>

<a name="124162471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124162471" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124162471">Chris Hughes (Mar 24 2018 at 20:47)</a>:</h4>
<p>Probably not with the current version, since it says build failing. Maybe with a previous version.</p>

<a name="124162474"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124162474" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124162474">Chris Hughes (Mar 24 2018 at 20:47)</a>:</h4>
<p>But I haven't worked out how to build an old commit with git yet.</p>

<a name="124162528"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124162528" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124162528">Kevin Buzzard (Mar 24 2018 at 20:49)</a>:</h4>
<p>Just google "git change to commit" or something</p>

<a name="124162565"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124162565" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124162565">Kevin Buzzard (Mar 24 2018 at 20:50)</a>:</h4>
<p>google is really good for git commands</p>

<a name="124162577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124162577" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124162577">Kevin Buzzard (Mar 24 2018 at 20:50)</a>:</h4>
<p>git checkout commit</p>

<a name="124162579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124162579" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124162579">Kevin Buzzard (Mar 24 2018 at 20:50)</a>:</h4>
<p>is probably how to do it</p>

<a name="124162580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124162580" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124162580">Kevin Buzzard (Mar 24 2018 at 20:50)</a>:</h4>
<p>Oh wooah lean HEAD just failed to build.</p>

<a name="124162703"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124162703" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124162703">Chris Hughes (Mar 24 2018 at 20:55)</a>:</h4>
<p>Yeah. If we just find a version of lean and mathlib to use it should be fine. But I don't know which version.</p>

<a name="124162747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124162747" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124162747">Simon Hudon (Mar 24 2018 at 20:56)</a>:</h4>
<blockquote>
<p>Simon Hudon: I believe mathlib doesn't build with the latest nightly. I work with revision <code>07bb7d809b6be49f38ce4e427c54a82708ae281f</code>  of Lean</p>
<p>Simon Hudon: And I use <code>4ceb545f7e07431263e1131a9c9524a28de99472</code> for mathlib </p>
</blockquote>

<a name="124162752"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124162752" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124162752">Kevin Buzzard (Mar 24 2018 at 20:56)</a>:</h4>
<p>I just checked out c4cc8c88c08d86cd902c577de09ef69528c2da36 of Lean on the basis that it was the most recent version that compiled (as far as I coudl see)</p>

<a name="124162805"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124162805" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124162805">Mario Carneiro (Mar 24 2018 at 20:58)</a>:</h4>
<p>I built a version slightly in advance of the nightly, but it should be out now</p>

<a name="124162881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124162881" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124162881">Chris Hughes (Mar 24 2018 at 21:01)</a>:</h4>
<p>Where are the instructions on building lean? I did it before, but I don't remember how</p>

<a name="124162927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124162927" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124162927">Kevin Buzzard (Mar 24 2018 at 21:02)</a>:</h4>
<p>Do you know which commit it works with? I am having trouble getting Lean to compile from source and mathlib doesn't compile if I download the latest linux nightly and then use "leanpkg upgrade"</p>

<a name="124162939"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124162939" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124162939">Kevin Buzzard (Mar 24 2018 at 21:03)</a>:</h4>
<blockquote>
<p>Where are the instructions on building lean? I did it before, but I don't remember how</p>
</blockquote>
<p><a href="https://github.com/leanprover/lean/blob/master/doc/make/msys2.md" target="_blank" title="https://github.com/leanprover/lean/blob/master/doc/make/msys2.md">https://github.com/leanprover/lean/blob/master/doc/make/msys2.md</a></p>

<a name="124162993"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124162993" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124162993">Chris Hughes (Mar 24 2018 at 21:05)</a>:</h4>
<p>I''ve been using the f7977ff5a6bcf7e5c54eec908364ceb40dafc795 version of mathlib. The latest version only works with the version of lean that doesn't work</p>

<a name="124163050"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124163050" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124163050">Kevin Buzzard (Mar 24 2018 at 21:07)</a>:</h4>
<p>How do I get travis to tell me the last Lean commit which compiled for linux?</p>

<a name="124163051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124163051" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124163051">Kevin Buzzard (Mar 24 2018 at 21:07)</a>:</h4>
<p>And how do I get mathlib to tell me the version of Lean which it compiled against?</p>

<a name="124163101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124163101" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124163101">Simon Hudon (Mar 24 2018 at 21:09)</a>:</h4>
<p>You can get the result of all the builds here:</p>
<p><a href="https://travis-ci.org/leanprover/mathlib/builds" target="_blank" title="https://travis-ci.org/leanprover/mathlib/builds">https://travis-ci.org/leanprover/mathlib/builds</a></p>

<a name="124163158"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124163158" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124163158">Simon Hudon (Mar 24 2018 at 21:11)</a>:</h4>
<p>I'm not sure how to use that to infer the corresponding version of Lean other than see that the last successful build was 10 days ago. We can go and see what version Lean was on 10 days ago</p>

<a name="124163201"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124163201" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124163201">Kevin Buzzard (Mar 24 2018 at 21:12)</a>:</h4>
<p>I don't understand travis.</p>

<a name="124163202"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124163202" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124163202">Kevin Buzzard (Mar 24 2018 at 21:12)</a>:</h4>
<p>According to this link:</p>

<a name="124163203"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124163203" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124163203">Kevin Buzzard (Mar 24 2018 at 21:12)</a>:</h4>
<p><a href="https://ci.appveyor.com/project/leodemoura/lean/history" target="_blank" title="https://ci.appveyor.com/project/leodemoura/lean/history">https://ci.appveyor.com/project/leodemoura/lean/history</a></p>

<a name="124163206"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124163206" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124163206">Kevin Buzzard (Mar 24 2018 at 21:12)</a>:</h4>
<p>the last successful build was c17e5b913b2db687ab38f53285326b9dbb2b1b6e</p>

<a name="124163215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124163215" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124163215">Kevin Buzzard (Mar 24 2018 at 21:13)</a>:</h4>
<p>but according to <a href="https://travis-ci.org/leanprover/lean/builds" target="_blank" title="https://travis-ci.org/leanprover/lean/builds">https://travis-ci.org/leanprover/lean/builds</a></p>

<a name="124163255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124163255" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124163255">Kevin Buzzard (Mar 24 2018 at 21:14)</a>:</h4>
<p>it was d6d44a19947e2575b3fceed6d61167d258c661fb</p>

<a name="124163278"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124163278" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124163278">Simon Hudon (Mar 24 2018 at 21:15)</a>:</h4>
<p>I guess you can try either</p>

<a name="124163321"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124163321" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124163321">Simon Hudon (Mar 24 2018 at 21:16)</a>:</h4>
<p>You might be interested in recording the version of Lean that you use in your repository. You can facilitate the testing and importing this way</p>

<a name="124163678"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124163678" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124163678">Kevin Buzzard (Mar 24 2018 at 21:29)</a>:</h4>
<p>That's a good idea.</p>

<a name="124163729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124163729" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124163729">Kevin Buzzard (Mar 24 2018 at 21:30)</a>:</h4>
<p>If I decide to use leanpkg upgrade with a specific version of lean, which version of mathlib will it upgrade to?</p>

<a name="124163735"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124163735" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124163735">Simon Hudon (Mar 24 2018 at 21:30)</a>:</h4>
<p>If you need a reference, I have some scripts for that. Some of them blocks you from committing on git if your lean version is inaccurate</p>

<a name="124163756"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124163756" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124163756">Simon Hudon (Mar 24 2018 at 21:31)</a>:</h4>
<p>I think there are two possibilities: if you're on an official release (say 3.3.0) it will get the version of mathlib that works with it. Otherwise, it will get HEAD</p>

<a name="124164063"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/importing%20within%20lean%20package/near/124164063" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99769importingwithinleanpackage.html#124164063">Kevin Buzzard (Mar 24 2018 at 21:41)</a>:</h4>
<p>(deleted)</p>


{% endraw %}
