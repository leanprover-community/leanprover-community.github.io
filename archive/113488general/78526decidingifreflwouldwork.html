---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/78526decidingifreflwouldwork.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/78526decidingifreflwouldwork.html">deciding if `refl` would work</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="125526321"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deciding%20if%20%60refl%60%20would%20work/near/125526321" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/78526decidingifreflwouldwork.html#125526321">Scott Morrison (Apr 22 2018 at 11:13)</a>:</h4>
<p>I have <code>lhs rhs : expr</code>, and I would like to know, if the goal were to be <code>lhs = rhs</code>,  whether or not <code>refl</code> would succeed. I could temporarily make the goal actually <code>lhs = rhs</code>, and try <code>refl</code>, but I'm wondering if it can be done directly.</p>

<a name="125526366"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deciding%20if%20%60refl%60%20would%20work/near/125526366" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/78526decidingifreflwouldwork.html#125526366">Scott Morrison (Apr 22 2018 at 11:14)</a>:</h4>
<p>I'm only hesitant to overwrite the goal because the actual current goal may be something completely unrelated to what my tactic is thinking about that the moment it's wondering about <code>lhs = rhs</code>, and it feels kludgy to actually have to use <code>set_goal</code>.</p>

<a name="125526377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deciding%20if%20%60refl%60%20would%20work/near/125526377" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/78526decidingifreflwouldwork.html#125526377">Scott Morrison (Apr 22 2018 at 11:15)</a>:</h4>
<p>The problem is that <code>refl</code> is basically just shorthand for <code>mk_const `eq.refl &gt;&gt;= Î» r, apply_core r</code>, and <code>apply_core</code> only unifies with the goal.</p>

<a name="125526830"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deciding%20if%20%60refl%60%20would%20work/near/125526830" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/78526decidingifreflwouldwork.html#125526830">Sebastian Ullrich (Apr 22 2018 at 11:32)</a>:</h4>
<p><span class="user-mention" data-user-id="110524">@Scott Morrison</span> Take a look at <code>tactic.solve_aux</code></p>

<a name="125527074"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deciding%20if%20%60refl%60%20would%20work/near/125527074" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/78526decidingifreflwouldwork.html#125527074">Scott Morrison (Apr 22 2018 at 11:42)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span>. Implicit in your answer is "get over it, just set_goal to whatever you want, it's how you're meant to do this"! Good to know.</p>

<a name="125527212"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deciding%20if%20%60refl%60%20would%20work/near/125527212" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/78526decidingifreflwouldwork.html#125527212">Sebastian Ullrich (Apr 22 2018 at 11:48)</a>:</h4>
<p>If you want to look at it like that, yes :)</p>

<a name="125530633"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deciding%20if%20%60refl%60%20would%20work/near/125530633" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/78526decidingifreflwouldwork.html#125530633">Simon Hudon (Apr 22 2018 at 14:07)</a>:</h4>
<p>What if you try to unify them directly? <code>unify lhs rhs</code></p>


{% endraw %}

{% include archive_update.html %}