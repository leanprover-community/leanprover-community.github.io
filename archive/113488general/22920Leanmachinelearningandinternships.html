---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/22920Leanmachinelearningandinternships.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/22920Leanmachinelearningandinternships.html">Lean, machine learning, and internships</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="179847979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%2C%20machine%20learning%2C%20and%20internships/near/179847979" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22920Leanmachinelearningandinternships.html#179847979">John Tristan (Nov 04 2019 at 16:21)</a>:</h4>
<p>Hi everyone,</p>
<p>Last summer, Koundinya (Kody) Vajjha, Joseph Tassarotti, and I have been using Lean to formally prove a (very basic) result<br>
in machine learning theory: that decision stumps are PAC learnable. I'm a machine learning researcher working in the industry and<br>
increasingly I have been feeling the need for more trustworthy machine learning applications. I started this project as an experiment <br>
to see how far we could get in a summer. We chose Lean because I had prior experience with Coq and we needed to build on the<br>
measure theory available in mathlib. It was a very positive experience, we finished the proof, and I really enjoyed working with Lean. </p>
<p>If you're interested, you can find the proof: <a href="https://github.com/jtristan/stump-learnable/wiki/A-formal-proof-that-decisions-stumps-are-PAC-learnable" target="_blank" title="https://github.com/jtristan/stump-learnable/wiki/A-formal-proof-that-decisions-stumps-are-PAC-learnable">https://github.com/jtristan/stump-learnable/wiki/A-formal-proof-that-decisions-stumps-are-PAC-learnable</a>. It was my first experience with Lean and I had not used a proof assistant in many years so I am aware that my proofs could use a lot of cleaning. The part of the development written by Kody is of course in much better shape. </p>
<p>We also put a paper on arxiv describing our work: <a href="https://arxiv.org/pdf/1911.00385.pdf" target="_blank" title="https://arxiv.org/pdf/1911.00385.pdf">https://arxiv.org/pdf/1911.00385.pdf</a></p>
<p>As a side note, I'm thinking of doing some more work on using Lean for machine learning and I am looking for an intern.<br>
(to join me at Oracle Labs in Boston in the summer of 2020)<br>
Things we could work on include:</p>
<ul>
<li>Generalizing the proof to higher dimensions, by using the Giry monad as much as possible</li>
<li>Proving Hoeffding inequality (a common tool in ML)</li>
<li>Working our way toward proving the VC inequality</li>
<li>Work related to fairness in machine learning</li>
</ul>
<p>If you're interested please send me an email! (<a href="https://jtristan.github.io/" target="_blank" title="https://jtristan.github.io/">https://jtristan.github.io/</a>)</p>

<a name="179848184"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%2C%20machine%20learning%2C%20and%20internships/near/179848184" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22920Leanmachinelearningandinternships.html#179848184">Johan Commelin (Nov 04 2019 at 16:23)</a>:</h4>
<p>Nice work! Are you considering PRing the mathematical bits of your repo to mathlib?</p>

<a name="179848553"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%2C%20machine%20learning%2C%20and%20internships/near/179848553" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22920Leanmachinelearningandinternships.html#179848553">Chris Hughes (Nov 04 2019 at 16:27)</a>:</h4>
<p>There's a <code>to_mathlib</code> file in the repo.</p>

<a name="179848557"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%2C%20machine%20learning%2C%20and%20internships/near/179848557" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22920Leanmachinelearningandinternships.html#179848557">John Tristan (Nov 04 2019 at 16:27)</a>:</h4>
<p>Yes, we would certainly like to do so.</p>

<a name="179848764"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%2C%20machine%20learning%2C%20and%20internships/near/179848764" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22920Leanmachinelearningandinternships.html#179848764">John Tristan (Nov 04 2019 at 16:30)</a>:</h4>
<p>We split the proof in two folders for that reason. The results in the lib folder are more general and could potentially be contributed. The results in the stump folder are very specific to the machine learning result.</p>

<a name="179849158"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%2C%20machine%20learning%2C%20and%20internships/near/179849158" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22920Leanmachinelearningandinternships.html#179849158">Koundinya Vajjha (Nov 04 2019 at 16:33)</a>:</h4>
<p>The <code>to_mathlib</code> file contains a few lemmas on integration, the Markov and Chebyshev inequalities, lemmas about the Giry monad on probability measures.</p>

<a name="179849234"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%2C%20machine%20learning%2C%20and%20internships/near/179849234" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22920Leanmachinelearningandinternships.html#179849234">Koundinya Vajjha (Nov 04 2019 at 16:33)</a>:</h4>
<p>I also used the Dynkin pi-lambda theorem to prove that the product measure constructed out of the Giry monad is in fact a product measure.</p>

<a name="179849327"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%2C%20machine%20learning%2C%20and%20internships/near/179849327" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22920Leanmachinelearningandinternships.html#179849327">Koundinya Vajjha (Nov 04 2019 at 16:34)</a>:</h4>
<p>None of this would have been possible without Johannes' work. Many thanks to him!</p>

<a name="179874688"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%2C%20machine%20learning%2C%20and%20internships/near/179874688" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22920Leanmachinelearningandinternships.html#179874688">Jesse Michael Han (Nov 04 2019 at 20:48)</a>:</h4>
<p>i'm amused that<code>flypitch</code>'s library on <code>dvector</code>s has been replicated verbatim and copyrighted by Oracle: <a href="https://github.com/jtristan/stump-learnable/blob/master/src/lib/dvector.lean" target="_blank" title="https://github.com/jtristan/stump-learnable/blob/master/src/lib/dvector.lean">https://github.com/jtristan/stump-learnable/blob/master/src/lib/dvector.lean</a></p>

<a name="179879174"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%2C%20machine%20learning%2C%20and%20internships/near/179879174" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22920Leanmachinelearningandinternships.html#179879174">Koundinya Vajjha (Nov 04 2019 at 21:35)</a>:</h4>
<p>That file is from the <code>formalabstracts</code> repo. <a href="https://github.com/formalabstracts/formalabstracts/blob/master/src/data/dvector.lean" target="_blank" title="https://github.com/formalabstracts/formalabstracts/blob/master/src/data/dvector.lean">https://github.com/formalabstracts/formalabstracts/blob/master/src/data/dvector.lean</a></p>
<p>NOT flypitch.</p>
<p>I am a contributing member of <code>formalabstracts</code> and the license for <code>formalabstracts</code> allows reuse.</p>

<a name="179880349"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%2C%20machine%20learning%2C%20and%20internships/near/179880349" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22920Leanmachinelearningandinternships.html#179880349">Jesse Michael Han (Nov 04 2019 at 21:48)</a>:</h4>
<p>yes, that file is also copied verbatim from <code>flypitch</code></p>

<a name="179880614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%2C%20machine%20learning%2C%20and%20internships/near/179880614" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22920Leanmachinelearningandinternships.html#179880614">Mario Carneiro (Nov 04 2019 at 21:50)</a>:</h4>
<p>I don't think apache license supports copying without attribution (and relicensing under oracle seems especially problematic)</p>

<a name="179881101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%2C%20machine%20learning%2C%20and%20internships/near/179881101" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22920Leanmachinelearningandinternships.html#179881101">Mario Carneiro (Nov 04 2019 at 21:56)</a>:</h4>
<p>ah, correction, it seems stump-learnable is apache licensed but oracle copyrighted</p>

<a name="179881135"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%2C%20machine%20learning%2C%20and%20internships/near/179881135" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22920Leanmachinelearningandinternships.html#179881135">Floris van Doorn (Nov 04 2019 at 21:56)</a>:</h4>
<p>Relicensing seems allowed:</p>
<blockquote>
<p>You may add Your own copyright statement to Your modifications and may provide additional or different license terms and conditions for use, reproduction, or distribution of Your modifications, or for any such Derivative Works as a whole, provided Your use, reproduction, and distribution of the Work otherwise complies with the conditions stated in this License.</p>
</blockquote>
<p><a href="https://tldrlegal.com/license/apache-license-2.0-(apache-2.0)#fulltext" target="_blank" title="https://tldrlegal.com/license/apache-license-2.0-(apache-2.0)#fulltext">https://tldrlegal.com/license/apache-license-2.0-(apache-2.0)#fulltext</a></p>

<a name="179881317"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%2C%20machine%20learning%2C%20and%20internships/near/179881317" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22920Leanmachinelearningandinternships.html#179881317">John Tristan (Nov 04 2019 at 21:58)</a>:</h4>
<p>Well, this is a mistake on our part and we will fix it. I didn't realize that some code was copied from another project (I didn't work on that file), but granted, I should have. I will work with Kody to clearly separate the code that was copied and give it the proper attribution.</p>

<a name="179881381"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%2C%20machine%20learning%2C%20and%20internships/near/179881381" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22920Leanmachinelearningandinternships.html#179881381">Mario Carneiro (Nov 04 2019 at 21:59)</a>:</h4>
<p>This wouldn't have been a problem if <code>dvector</code> was PR'd to mathlib :P</p>

<a name="179884827"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%2C%20machine%20learning%2C%20and%20internships/near/179884827" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22920Leanmachinelearningandinternships.html#179884827">David Michael Roberts (Nov 04 2019 at 22:39)</a>:</h4>
<p><span class="user-mention" data-user-id="221511">@John Tristan</span> , maybe it's standard in your area, but in the sentence in the paper </p>
<blockquote>
<p>The concept class <code>C</code> is the subset of <code>X^{0,1}</code><br>
it took me a while to realise that <code>X^{0,1}</code> meant functions from <code>X</code> to <code>{0,1}</code> (the indicator function notation was not a problem, the lambda gave me no clues as to the domain :-). As written it usually means functions <code>{0,1}</code> to <code>X</code>, in mathematical contexts.</p>
</blockquote>

<a name="179885001"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%2C%20machine%20learning%2C%20and%20internships/near/179885001" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22920Leanmachinelearningandinternships.html#179885001">Joseph Tassarotti (Nov 04 2019 at 22:41)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="221511">John Tristan</span> , maybe it's standard in your area, but in the sentence in the paper </p>
<blockquote>
<p>The concept class <code>C</code> is the subset of <code>X^{0,1}</code><br>
it took me a while to realise that <code>X^{0,1}</code> meant functions from <code>X</code> to <code>{0,1}</code> (the indicator function notation was not a problem, the lambda gave me no clues as to the domain :-). As written it usually means functions <code>{0,1}</code> to <code>X</code>, in mathematical contexts.</p>
</blockquote>
</blockquote>
<p>Indeed, that's a very confusing typo, thanks!</p>


{% endraw %}

{% include archive_update.html %}