---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/68222UpdatingMathlib.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html">Updating Mathlib</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="131239650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/131239650" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#131239650">Morenikeji Neri (Aug 11 2018 at 00:15)</a>:</h4>
<p>I typed leanpkg upgrade on msys2 but my mathlib doesn't update. Help!</p>

<a name="131242157"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/131242157" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#131242157">Kevin Buzzard (Aug 11 2018 at 00:50)</a>:</h4>
<p>If you're trying it with the xena-UROP project, it's probably because I set it to track Mathlib 3.4.1, which is fixed. I thought it might make life easier if we were all singing from the same hymn-sheet, as it were.</p>

<a name="131242193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/131242193" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#131242193">Chris Hughes (Aug 11 2018 at 00:50)</a>:</h4>
<p>Keji wants to use signatures of permutations, which has just been merged.</p>

<a name="131242302"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/131242302" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#131242302">Kevin Buzzard (Aug 11 2018 at 00:52)</a>:</h4>
<p>To be honest I'm not sure of a slick way of sorting this out. I am guessing Keji is using Lean 3.4.1. If he were to download the latest nightly, and then switch his msys2 so that when he typed <code>leanpkg</code> it used the latest nightly, then maybe this would fix it. I don't know if he can just edit <code>leanpkg.toml</code> to fix it.</p>

<a name="131242320"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/131242320" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#131242320">Kevin Buzzard (Aug 11 2018 at 00:53)</a>:</h4>
<p>I'm currently in an airport which is not really the most ideal place to be experimenting with this sort of thing.</p>

<a name="131242470"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/131242470" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#131242470">Mario Carneiro (Aug 11 2018 at 00:55)</a>:</h4>
<p>I think you can just specify your mathlib dependency to point to <code>"master"</code></p>

<a name="131242478"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/131242478" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#131242478">Mario Carneiro (Aug 11 2018 at 00:55)</a>:</h4>
<p>in <code>leanpkg.toml</code></p>

<a name="131243629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/131243629" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#131243629">Kevin Buzzard (Aug 11 2018 at 01:13)</a>:</h4>
<p>Keji I just edited <code>leanpkg.toml</code> following Mario's suggestion; try pulling the latest version of the repo (with <code>git pull</code> perhaps, if you have <code>git</code> working in msys2) and then try <code>leanpkg upgrade</code> again.</p>
<p>I must be honest -- I hadn't expected this to happen. I was envisaging people on the Xena summer project just playing around with basic stuff and nothing we needed getting PR'ed to mathlib. Really I just wanted to avoid having to spend hours showing people how to upgrade mathlib :-) We now run the risk that some of us will write code which will not run for others, but I guess in the long run most people have got Lean running on their laptops and it's in their interest to learn how to upgrade mathlib.</p>
<p>One could envisage a one-click solution to all of this for Windows users. An "upgrade mathlib" button which just requires someone to type in their github credentials (or perhaps not even that). For mac users it's often easier because they have a terminal pre-installed, and when they install git it might well end up in a directory which is already in their path.</p>

<a name="131243695"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/131243695" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#131243695">Mario Carneiro (Aug 11 2018 at 01:14)</a>:</h4>
<p>you can't stop progress</p>

<a name="131244304"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/131244304" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#131244304">Kevin Buzzard (Aug 11 2018 at 01:23)</a>:</h4>
<p>You said this back when I was pleading for mathlib 3.4.1, and as is usually the case I am now coming round to your way of thinking. It's not going to be so easy with CoCalc I suspect, but with my course running on CoCalc I really do think I want a frozen mathlib [famous last words]</p>

<a name="131244397"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/131244397" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#131244397">Chris Hughes (Aug 11 2018 at 01:24)</a>:</h4>
<p>Keji tried updating it with <code>leanpkg upgrade</code>, but it just unupdated instead, and reverted to some old version.</p>

<a name="131832343"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/131832343" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#131832343">Kevin Buzzard (Aug 11 2018 at 02:09)</a>:</h4>
<p>Did you pull or otherwise edit leanpkg.toml?</p>

<a name="131835840"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/131835840" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#131835840">Sebastian Ullrich (Aug 11 2018 at 03:19)</a>:</h4>
<p>I don't think there is a way to tell leanpkg to track a different branch for a dependency yet</p>

<a name="131835920"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/131835920" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#131835920">Mario Carneiro (Aug 11 2018 at 03:20)</a>:</h4>
<p>isn't the dependency item a git repo and a branch or commit hash?</p>

<a name="131836124"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/131836124" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#131836124">Sebastian Ullrich (Aug 11 2018 at 03:24)</a>:</h4>
<p>Yes, but <code>leanpkg upgrade</code> will still <em>track</em> the branch associated with the executed Lean version</p>

<a name="131836139"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/131836139" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#131836139">Sebastian Ullrich (Aug 11 2018 at 03:25)</a>:</h4>
<p>I.e. if you're running 3.4.1, <code>leanpkg upgrade</code> will always update to the head of <code>lean-3.4.1</code></p>

<a name="131836251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/131836251" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#131836251">Mario Carneiro (Aug 11 2018 at 03:27)</a>:</h4>
<p>so what does that branch info do?</p>

<a name="131836614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/131836614" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#131836614">Sebastian Ullrich (Aug 11 2018 at 03:35)</a>:</h4>
<p>It points to the <em>currently used</em> commit, so it doesn't really make sense to store anything other than a commit hash or tag in that field. <code>leanpkg upgrade</code> ignores the field.</p>

<a name="131852105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/131852105" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#131852105">Scott Morrison (Aug 11 2018 at 09:23)</a>:</h4>
<p>Is it reasonable to be able to change this? I would really like to be able to track arbitrary branches of dependencies.</p>

<a name="132753539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132753539" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132753539">Scott Morrison (Aug 26 2018 at 01:54)</a>:</h4>
<p>I'm having trouble with the UROP repo.</p>

<a name="132753573"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132753573" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132753573">Scott Morrison (Aug 26 2018 at 01:54)</a>:</h4>
<div class="codehilite"><pre><span></span>&gt; leanpkg upgrade
error: override toolchain &#39;master&#39; is not installed
info: caused by: the toolchain file at &#39;/Users/scott/scratch/xena-UROP-2018/leanpkg.toml&#39; specifies an uninstalled toolchain
</pre></div>

<a name="132753575"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132753575" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132753575">Scott Morrison (Aug 26 2018 at 01:54)</a>:</h4>
<div class="codehilite"><pre><span></span>&gt; elan toolchain list
stable (default)
nightly-2018-04-06
nightly-2018-04-20
nightly-2018-06-21
khoek-klean-3.4.2
khoek-klean-3.4.3
3.4.0
3.4.1
</pre></div>

<a name="132753579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132753579" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132753579">Scott Morrison (Aug 26 2018 at 01:54)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span>, do you know what's going on?</p>

<a name="132753588"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132753588" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132753588">Kevin Buzzard (Aug 26 2018 at 01:55)</a>:</h4>
<p>I wouldn't trust our <code>leanpkg.toml</code> :-)</p>

<a name="132753632"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132753632" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132753632">Kevin Buzzard (Aug 26 2018 at 01:56)</a>:</h4>
<p>The last time I pulled the project, it had at least one <code>&lt;&lt;&lt;&lt;&lt; .. ==== .. &gt;&gt;&gt;&gt;&gt;</code>in it :-)</p>

<a name="132753645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132753645" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132753645">Kevin Buzzard (Aug 26 2018 at 01:57)</a>:</h4>
<p><code>leanpkg upgrade</code> just worked for me</p>

<a name="132753650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132753650" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132753650">Kevin Buzzard (Aug 26 2018 at 01:57)</a>:</h4>
<div class="codehilite"><pre><span></span>WARNING: Lean version mismatch: installed version is nightly-2018-06-21, but package requires master
</pre></div>

<a name="132753694"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132753694" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132753694">Scott Morrison (Aug 26 2018 at 01:58)</a>:</h4>
<p>I really wouldn't put <code>leanpkg upgrade</code> as part of your install instructions: <a href="https://github.com/ImperialCollegeLondon/xena-UROP-2018" target="_blank" title="https://github.com/ImperialCollegeLondon/xena-UROP-2018">https://github.com/ImperialCollegeLondon/xena-UROP-2018</a></p>

<a name="132753696"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132753696" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132753696">Scott Morrison (Aug 26 2018 at 01:58)</a>:</h4>
<p><code>leanpkg configure</code> is what you want</p>

<a name="132753704"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132753704" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132753704">Scott Morrison (Aug 26 2018 at 01:58)</a>:</h4>
<p>(that doesn't touch your leanpkg.toml file, making it more likely it will survive multiple users)</p>

<a name="132753706"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132753706" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132753706">Kevin Buzzard (Aug 26 2018 at 01:58)</a>:</h4>
<p>Oh thanks. This was an attempt to get users to install mathlib in <code>_target</code></p>

<a name="132753708"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132753708" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132753708">Scott Morrison (Aug 26 2018 at 01:59)</a>:</h4>
<p>btw --- we need to make sure you update/replace your blog post on installing on Windows, to tell people to use <code>elan</code>.</p>

<a name="132753719"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132753719" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132753719">Scott Morrison (Aug 26 2018 at 01:59)</a>:</h4>
<p>At Dagstuhl, Neil Strickland made a valiant effort to have someone show him how to install and prove the infinitude of primes in as many theorem provers as he could.</p>

<a name="132753724"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132753724" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132753724">Kevin Buzzard (Aug 26 2018 at 01:59)</a>:</h4>
<p>Neil just asked me to give a colloquium in Sheffield</p>

<a name="132753725"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132753725" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132753725">Scott Morrison (Aug 26 2018 at 01:59)</a>:</h4>
<p>I really struggled helping him install Lean on his (windows) laptop.</p>

<a name="132753788"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132753788" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132753788">Kevin Buzzard (Aug 26 2018 at 02:01)</a>:</h4>
<p>You need a terminal and git, and you need to understand how your chosen terminal's path can be configured to globally remember where git and lean are installed</p>

<a name="132753798"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132753798" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132753798">Keeley Hoek (Aug 26 2018 at 02:01)</a>:</h4>
<p>I don't think 'master' could ever work with the latest version of elan<br>
it has to be 'stable', 'nightly-xxx', or something on this list <a href="https://github.com/leanprover/lean/releases" target="_blank" title="https://github.com/leanprover/lean/releases">https://github.com/leanprover/lean/releases</a> with the prefix "v" removed</p>

<a name="132753800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132753800" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132753800">Kevin Buzzard (Aug 26 2018 at 02:01)</a>:</h4>
<p>Aah there's the problem then. I don't use <code>elan</code></p>

<a name="132753842"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132753842" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132753842">Kevin Buzzard (Aug 26 2018 at 02:02)</a>:</h4>
<p>Thanks.</p>

<a name="132753915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132753915" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132753915">Scott Morrison (Aug 26 2018 at 02:05)</a>:</h4>
<p>Yeah --- we were definitely having problems with paths, and it wasn't helping that Neil had already tried and failed, so had left things affecting the paths.</p>

<a name="132753920"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132753920" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132753920">Scott Morrison (Aug 26 2018 at 02:05)</a>:</h4>
<p>It also didn't help that his system had 3 different notions of "path", between windows, cygwin, and msys2.</p>

<a name="132753924"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132753924" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132753924">Scott Morrison (Aug 26 2018 at 02:05)</a>:</h4>
<p>(He wanted to use cygwin, because that was the windows shell he was familiar with)</p>

<a name="132753969"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132753969" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132753969">Scott Morrison (Aug 26 2018 at 02:06)</a>:</h4>
<p><code>elan</code> has a really big advantage here: it tries to take care of the paths for you, and I trust <span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span> to play with paths better than I trust users. :-)</p>

<a name="132753982"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132753982" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132753982">Johan Commelin (Aug 26 2018 at 02:07)</a>:</h4>
<p>Would Docker be an option for such showcasing purposes?</p>

<a name="132754022"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132754022" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132754022">Johan Commelin (Aug 26 2018 at 02:08)</a>:</h4>
<p>I hear that Docker also runs on Windows.</p>

<a name="132754025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132754025" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132754025">Kevin Buzzard (Aug 26 2018 at 02:08)</a>:</h4>
<p>Here's a proposal for Windows users only: we make a "one size fits all" download. One zip file, that you put in <code>C:/Users/Neil</code> and then unpack, giving you a directory <code>C:/Users/Neil/leanstuff/</code>.</p>

<a name="132754042"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132754042" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132754042">Kevin Buzzard (Aug 26 2018 at 02:09)</a>:</h4>
<p>You then tell users to install VS Code, and then "open folder" the folder <code>C:/Users/Neil/leanstuff/sample_project/</code>, and to tell VS Code where the Lean binary is, which is <code>C:/Users/Neil/leanstuff/lean-3.4.2/bin/lean.exe</code></p>

<a name="132754045"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132754045" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132754045">Kevin Buzzard (Aug 26 2018 at 02:10)</a>:</h4>
<p>and then everything just works.</p>

<a name="132754083"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132754083" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132754083">Kevin Buzzard (Aug 26 2018 at 02:10)</a>:</h4>
<p>No git, no command line, no nothing</p>

<a name="132754090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132754090" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132754090">Johan Commelin (Aug 26 2018 at 02:10)</a>:</h4>
<p>Couldn't you even package VS code, with the right path setting, into that zipfile?</p>

<a name="132754092"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132754092" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132754092">Kevin Buzzard (Aug 26 2018 at 02:10)</a>:</h4>
<p>and that's because the sample project directory has got a correct leanpkg.toml, and <code>_target/deps/mathlib</code> exists and has all the <code>.olean</code> files and everything</p>

<a name="132754100"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132754100" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132754100">Kevin Buzzard (Aug 26 2018 at 02:11)</a>:</h4>
<p>I have no idea about how Windows works and whether you can package a complicated thing like VS Code in a zip file</p>

<a name="132755190"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132755190" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132755190">Reid Barton (Aug 26 2018 at 02:44)</a>:</h4>
<p>I also don't know how Windows works or how Docker on Windows works but it sounds like something worth looking into.<br>
The examples I've managed to find involve VS Code running inside Docker on a Linux virtual system, and connecting to an X window server running under Windows. That sounds ... workable, but a little awkward (you still have at least two pieces to download).</p>

<a name="132755208"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132755208" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132755208">Reid Barton (Aug 26 2018 at 02:45)</a>:</h4>
<p>Some links:<br>
<a href="https://hub.docker.com/r/joengenduvel/docker-vscode/" target="_blank" title="https://hub.docker.com/r/joengenduvel/docker-vscode/">https://hub.docker.com/r/joengenduvel/docker-vscode/</a><br>
<a href="http://blog.ctaggart.com/2016/05/visual-studio-code-served-from-docker.html" target="_blank" title="http://blog.ctaggart.com/2016/05/visual-studio-code-served-from-docker.html">http://blog.ctaggart.com/2016/05/visual-studio-code-served-from-docker.html</a><br>
<a href="https://www.aaron-powell.com/posts/2017-09-21-vscode-linux-docker-windows/" target="_blank" title="https://www.aaron-powell.com/posts/2017-09-21-vscode-linux-docker-windows/">https://www.aaron-powell.com/posts/2017-09-21-vscode-linux-docker-windows/</a></p>

<a name="132755429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132755429" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132755429">Reid Barton (Aug 26 2018 at 02:52)</a>:</h4>
<p>There's probably no advantage to putting VS Code in the Docker container, and requiring the end user to download an X server and the Lean/mathlib/VS Code container, over just using the native VS Code, and requiring the end user to download VS Code and the Lean/mathlib container. And there are almost certainly advantages to native VS Code over one running over X11.</p>

<a name="132755441"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132755441" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132755441">Reid Barton (Aug 26 2018 at 02:53)</a>:</h4>
<p>I do sort of like the idea of Windows users having Lean/mathlib/git/etc. running inside a Docker container, though, since it reduces the support surface area</p>

<a name="132755483"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Updating%20Mathlib/near/132755483" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/68222UpdatingMathlib.html#132755483">Reid Barton (Aug 26 2018 at 02:54)</a>:</h4>
<p>It might become a very large download though, not sure.</p>


{% endraw %}
