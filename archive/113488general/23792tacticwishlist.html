---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/23792tacticwishlist.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/23792tacticwishlist.html">tactic wishlist</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="157348532"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tactic%20wishlist/near/157348532" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/23792tacticwishlist.html#157348532">Koundinya Vajjha (Feb 01 2019 at 12:12)</a>:</h4>
<p>Not sure if there's something like this in another stream - apologies if there is.  What tactics would you like to see written? (By tactics I also include broader metaprogramming constructs, not necessarily those which you would use to discharge proof obligations.)</p>

<a name="157348681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tactic%20wishlist/near/157348681" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/23792tacticwishlist.html#157348681">Koundinya Vajjha (Feb 01 2019 at 12:16)</a>:</h4>
<p><span class="user-mention" data-user-id="116585">@Seul Baek</span>  told me he wanted to see a tactic to list lemmas in your current file which are unused by other lemmas. This helps in building theories which avoid spurious lemmas.</p>

<a name="157348715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tactic%20wishlist/near/157348715" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/23792tacticwishlist.html#157348715">Mario Carneiro (Feb 01 2019 at 12:17)</a>:</h4>
<p>The big missing tactics for me are <code>metis</code> and <code>omega</code>. <code>metis</code> is important for sledgehammer like operation, and is also useful as a standalone tool for fiddly goals. For <code>omega</code> there are various versions of <code>cooper</code> by Seul that can fill this role, but there is some work to be done to make them usable without a complicated setup and/or a PhD</p>

<a name="157348793"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tactic%20wishlist/near/157348793" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/23792tacticwishlist.html#157348793">Mario Carneiro (Feb 01 2019 at 12:18)</a>:</h4>
<p>Most of the little tactics I can think of are already written and in mathlib</p>

<a name="157348828"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tactic%20wishlist/near/157348828" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/23792tacticwishlist.html#157348828">Mario Carneiro (Feb 01 2019 at 12:19)</a>:</h4>
<p>Simon and I have been discussing the possibility of global analysis for linting and things, which could address your unused lemmas example</p>

<a name="157348911"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tactic%20wishlist/near/157348911" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/23792tacticwishlist.html#157348911">Mario Carneiro (Feb 01 2019 at 12:20)</a>:</h4>
<p>but we are somewhat limited by what lean will give us here, unless we use an external tool like the olean viewer</p>

<a name="157348921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tactic%20wishlist/near/157348921" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/23792tacticwishlist.html#157348921">Koundinya Vajjha (Feb 01 2019 at 12:20)</a>:</h4>
<p>How about documentation generation? Is there something for that?</p>

<a name="157348996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tactic%20wishlist/near/157348996" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/23792tacticwishlist.html#157348996">Mario Carneiro (Feb 01 2019 at 12:22)</a>:</h4>
<p>I'm not entirely sure what the story is there. <span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span> Lean has some support for a leandoc tool but it's not all there; do you know what the commandline option actually does currently? Is lean 4 any different here?</p>

<a name="157349124"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tactic%20wishlist/near/157349124" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/23792tacticwishlist.html#157349124">Sebastian Ullrich (Feb 01 2019 at 12:25)</a>:</h4>
<p>I've never used it. This should really be an external tool written in Lean in Lean 4.</p>

<a name="157360566"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tactic%20wishlist/near/157360566" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/23792tacticwishlist.html#157360566">Joseph Corneli (Feb 01 2019 at 15:25)</a>:</h4>
<p>How about a tactic to convert term-style proofs into tactic style proofs?</p>

<a name="157361590"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tactic%20wishlist/near/157361590" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/23792tacticwishlist.html#157361590">Johan Commelin (Feb 01 2019 at 15:38)</a>:</h4>
<p>The recent move of mathlib removed the old community-wiki on github. I don't know where to find it now, but it contained a couple of such wishlists.</p>

<a name="157364387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tactic%20wishlist/near/157364387" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/23792tacticwishlist.html#157364387">Simon Hudon (Feb 01 2019 at 16:19)</a>:</h4>
<p>Are you referring to this: <a href="https://github.com/leanprover-fork/mathlib-backup/wiki" target="_blank" title="https://github.com/leanprover-fork/mathlib-backup/wiki">https://github.com/leanprover-fork/mathlib-backup/wiki</a></p>

<a name="157364641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tactic%20wishlist/near/157364641" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/23792tacticwishlist.html#157364641">Simon Hudon (Feb 01 2019 at 16:22)</a>:</h4>
<p>I think we could move it to <code>leanprover-community</code></p>

<a name="157371140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tactic%20wishlist/near/157371140" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/23792tacticwishlist.html#157371140">Johan Commelin (Feb 01 2019 at 17:54)</a>:</h4>
<p>Aaah, yes that's it. Should we just copy-paste it? Or is there some history that can/should be preserved?</p>

<a name="157373191"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tactic%20wishlist/near/157373191" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/23792tacticwishlist.html#157373191">Simon Hudon (Feb 01 2019 at 18:23)</a>:</h4>
<p>It can be preserved, I don't know if we want to. <span class="user-mention" data-user-id="110049">@Mario Carneiro</span> You seem to have authored a wiki page with nothing on it on <code>leanprover-community/mathlib</code>. Do you mind if we overwrite it with the one we have in the backup?</p>

<a name="157380444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tactic%20wishlist/near/157380444" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/23792tacticwishlist.html#157380444">Mario Carneiro (Feb 01 2019 at 19:53)</a>:</h4>
<p>That's news to me. Go ahead and overwrite it, I don't think I have touched the wiki</p>

<a name="157384217"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tactic%20wishlist/near/157384217" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/23792tacticwishlist.html#157384217">Simon Hudon (Feb 01 2019 at 20:43)</a>:</h4>
<p>Thanks! I just did. <span class="user-mention" data-user-id="112680">@Johan Commelin</span> you should be able to see what you had before. Let me know if there's anything else to move from the old <code>leanprover-community/mathlib</code> (now located at <code>leanprover-fork/mathlib-backup</code>) to the new <code>leanprover-community/mathlib</code> (formerly <code>leanprover/mathlib</code>)</p>

<a name="157553473"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tactic%20wishlist/near/157553473" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/23792tacticwishlist.html#157553473">Johan Commelin (Feb 04 2019 at 20:17)</a>:</h4>
<p>Here are another idea:<br>
<code>symmetry at H</code> — replace the equality <code>H</code> with <code>H.symm</code> in the context</p>

<a name="157553509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tactic%20wishlist/near/157553509" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/23792tacticwishlist.html#157553509">Johan Commelin (Feb 04 2019 at 20:17)</a>:</h4>
<p>I know this can be done with <code>replace</code>, but I think that it is intuitive to try this with <code>symmetry</code>, and it might be nice for beginners.</p>

<a name="157553510"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tactic%20wishlist/near/157553510" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/23792tacticwishlist.html#157553510">Patrick Massot (Feb 04 2019 at 20:17)</a>:</h4>
<p>This one is a really nice exercise for you: read the tactic writing tutorial and write it</p>

<a name="157553568"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tactic%20wishlist/near/157553568" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/23792tacticwishlist.html#157553568">Johan Commelin (Feb 04 2019 at 20:18)</a>:</h4>
<p>I agree. So let me try it once I finish my bureaucracy tomorrow.</p>

<a name="157554153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tactic%20wishlist/near/157554153" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/23792tacticwishlist.html#157554153">Johan Commelin (Feb 04 2019 at 20:26)</a>:</h4>
<p>Hmmm, I guess there is a little bit of trouble, namely that <code>symmetry</code> is locked into core.</p>

<a name="157554518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tactic%20wishlist/near/157554518" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/23792tacticwishlist.html#157554518">Chris Hughes (Feb 04 2019 at 20:30)</a>:</h4>
<p>Call it <code>symm</code></p>

<a name="157554703"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tactic%20wishlist/near/157554703" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/23792tacticwishlist.html#157554703">Kenny Lau (Feb 04 2019 at 20:33)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">spoilers</span>
<span class="bp">.</span>
<span class="bp">.</span>
<span class="bp">.</span>
<span class="bp">.</span>
<span class="bp">.</span>
<span class="bp">.</span>
<span class="bp">.</span>
<span class="bp">.</span>
<span class="bp">.</span>
<span class="bp">.</span>
<span class="bp">.</span>
<span class="bp">.</span>
<span class="bp">.</span>
<span class="bp">.</span>
<span class="bp">.</span>
<span class="bp">.</span>
<span class="bp">.</span>
<span class="bp">.</span>
<span class="bp">.</span>
<span class="bp">.</span>
<span class="bp">.</span>
<span class="kn">import</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">interactive</span>

<span class="kn">namespace</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">interactive</span>
<span class="kn">open</span> <span class="n">expr</span> <span class="n">tactic</span> <span class="n">interactive</span> <span class="n">lean</span><span class="bp">.</span><span class="n">parser</span>

<span class="n">meta</span> <span class="n">def</span> <span class="n">symm</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">parse</span> <span class="o">(</span><span class="n">tk</span> <span class="s2">&quot;at&quot;</span> <span class="bp">*&gt;</span> <span class="n">ident</span><span class="o">))</span> <span class="o">:</span> <span class="n">tactic</span> <span class="n">unit</span> <span class="o">:=</span>
<span class="n">do</span> <span class="n">env</span> <span class="err">←</span> <span class="n">get_env</span><span class="o">,</span>
   <span class="n">exp</span> <span class="err">←</span> <span class="n">get_local</span> <span class="n">h</span><span class="o">,</span>
   <span class="n">typ</span> <span class="err">←</span> <span class="n">infer_type</span> <span class="n">exp</span><span class="o">,</span>
   <span class="k">let</span> <span class="n">r</span> <span class="o">:=</span> <span class="n">get_app_fn</span> <span class="n">typ</span><span class="o">,</span>
   <span class="k">match</span> <span class="n">environment</span><span class="bp">.</span><span class="n">symm_for</span> <span class="n">env</span> <span class="o">(</span><span class="n">const_name</span> <span class="n">r</span><span class="o">)</span> <span class="k">with</span>
   <span class="bp">|</span> <span class="o">(</span><span class="n">some</span> <span class="n">symm</span><span class="o">)</span> <span class="o">:=</span> <span class="n">do</span> <span class="n">r</span> <span class="err">←</span> <span class="n">mk_const</span> <span class="n">symm</span><span class="o">,</span> <span class="n">replace</span> <span class="n">h</span> <span class="n">none</span> <span class="bp">``</span><span class="o">(</span><span class="err">%%</span><span class="n">r</span> <span class="err">%%</span><span class="n">exp</span><span class="o">)</span> <span class="bp">&gt;&gt;</span> <span class="n">return</span> <span class="o">()</span>
   <span class="bp">|</span> <span class="n">none</span> <span class="o">:=</span> <span class="n">fail</span> <span class="err">$</span> <span class="s2">&quot;symmetry&#39; failed, target is not a relation with symmetry.&quot;</span>
   <span class="kn">end</span>

<span class="kn">end</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">interactive</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="mi">1</span> <span class="bp">=</span> <span class="mi">3</span><span class="o">)</span> <span class="o">:</span> <span class="n">true</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">symm</span> <span class="n">at</span> <span class="n">H</span><span class="o">,</span>
<span class="kn">end</span>
</pre></div>

<a name="157554737"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tactic%20wishlist/near/157554737" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/23792tacticwishlist.html#157554737">Mario Carneiro (Feb 04 2019 at 20:33)</a>:</h4>
<p>now make it work with arbitrary <code>loc</code>s</p>

<a name="157554802"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tactic%20wishlist/near/157554802" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/23792tacticwishlist.html#157554802">Kenny Lau (Feb 04 2019 at 20:34)</a>:</h4>
<p>what does that mean?</p>

<a name="157554815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tactic%20wishlist/near/157554815" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/23792tacticwishlist.html#157554815">Patrick Massot (Feb 04 2019 at 20:34)</a>:</h4>
<p>potentially several assumptions at the same time, and also the goal</p>

<a name="157554824"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tactic%20wishlist/near/157554824" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/23792tacticwishlist.html#157554824">Kenny Lau (Feb 04 2019 at 20:34)</a>:</h4>
<p>oh man</p>

<a name="157554846"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tactic%20wishlist/near/157554846" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/23792tacticwishlist.html#157554846">Patrick Massot (Feb 04 2019 at 20:35)</a>:</h4>
<p>it's not difficult</p>

<a name="157557483"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tactic%20wishlist/near/157557483" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/23792tacticwishlist.html#157557483">Kevin Buzzard (Feb 04 2019 at 21:09)</a>:</h4>
<p>I always felt bad that I could not teach Chris and Kenny (or indeed anyone at Imperial) tactics, but they seem to have picked it up for themselves. Chris PR'ed a tactic last week :D</p>

<a name="157558769"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tactic%20wishlist/near/157558769" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/23792tacticwishlist.html#157558769">Chris Hughes (Feb 04 2019 at 21:29)</a>:</h4>
<p>I wouldn't say I've picked it up that well. It was a very straightforward tactic. I hope to do something less trivial at some point.</p>

<a name="157559955"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tactic%20wishlist/near/157559955" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/23792tacticwishlist.html#157559955">Kenny Lau (Feb 04 2019 at 21:46)</a>:</h4>
<p>and I basically copied my tactic from the original one and modified it a tad</p>

<a name="157588341"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tactic%20wishlist/near/157588341" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/23792tacticwishlist.html#157588341">Kevin Buzzard (Feb 05 2019 at 07:32)</a>:</h4>
<p>That's how these things start.</p>


{% endraw %}
