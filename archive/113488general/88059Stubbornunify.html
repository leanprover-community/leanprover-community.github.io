---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/88059Stubbornunify.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/88059Stubbornunify.html">Stubborn unify</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="134372143"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Stubborn%20unify/near/134372143" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/88059Stubbornunify.html#134372143">Keeley Hoek (Sep 21 2018 at 11:35)</a>:</h4>
<p>I've been experimenting with some of the <code>tactic.*</code> namespace, which I'm admittedly pretty scared of since some of it seems like magic. In trying to accomplish my nefarious goals, I'm running into quite a wall with <code>unify</code> and friends. It's seeming more and more like <code>unify</code> is more stubborn (an idiot?) than I first thought; for example, the following happens when I try to <code>unify</code> two metavar-containing types (which I think is sensible?)</p>
<div class="codehilite"><pre><span></span>unify tactic failed, failed to unify
  ?m_1 тед ?m_3 : Type (max ? ? ? ?)
and
  D тед C : Type (max (?+1) ? (?+1))
</pre></div>


<p>(There are hypotheses <code>D</code> and <code>C</code> with type <code>Type (?+1)</code> .)</p>
<p>Why is <code>unify</code> not compelled to assign the values of <code>?m_1</code> and <code>?m_3</code> in this situation?</p>

<a name="134390656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Stubborn%20unify/near/134390656" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/88059Stubbornunify.html#134390656">Simon Hudon (Sep 21 2018 at 17:06)</a>:</h4>
<p>Unifying complex universe terms is often a mess. If you can manage to avoid <code>max</code> and <code>imax</code> in your universe terms, I would go for that. Otherwise, you may need to specifying universes explicitly when resolving constants.</p>

<a name="134414211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Stubborn%20unify/near/134414211" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/88059Stubbornunify.html#134414211">Scott Morrison (Sep 22 2018 at 00:33)</a>:</h4>
<p>Yeah, get rid of all your ?s in exchange for explicit named universes, and you'll probably see what the obstruction is.</p>


{% endraw %}

{% include archive_update.html %}