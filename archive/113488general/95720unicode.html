---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/95720unicode.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/95720unicode.html">unicode</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="124443168"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unicode/near/124443168" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/95720unicode.html#124443168">Kenny Lau (Mar 31 2018 at 05:05)</a>:</h4>
<p>Does every symbol have a non-unicode equivalent?</p>

<a name="124443263"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unicode/near/124443263" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/95720unicode.html#124443263">Mario Carneiro (Mar 31 2018 at 05:09)</a>:</h4>
<p>No. Most do, but the strict policy on this was dropped a while ago and new features have crept in with no non-unicode equivalents. Basically no one uses lean without unicode anymore (if they ever did), so it wasn't felt necessary to continue to support.</p>

<a name="124443307"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unicode/near/124443307" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/95720unicode.html#124443307">Mario Carneiro (Mar 31 2018 at 05:11)</a>:</h4>
<p>Here's one:</p>
<div class="codehilite"><pre><span></span>theorem Â«a strange-identifier!Â» : true := trivial
</pre></div>


<p>the double french quotes escape everything, and have no non-unicode equivalent</p>

<a name="168191956"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unicode/near/168191956" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/95720unicode.html#168191956">Johan Commelin (Jun 15 2019 at 05:05)</a>:</h4>
<p>I thought it might be a good idea to use <code>pÌŒ</code> (p breve) as a variable. But Lean says "unexpected token". I thought Lean has full unicode support. What is going on?</p>

<a name="168192871"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unicode/near/168192871" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/95720unicode.html#168192871">Bryan Gin-ge Chen (Jun 15 2019 at 05:32)</a>:</h4>
<p>From some brief googling it looks like the accent mark is created by <a href="https://en.wikipedia.org/wiki/Caron#Unicode" target="_blank" title="https://en.wikipedia.org/wiki/Caron#Unicode">a "modifier" unicode character</a> acting on p and so I guess that modifier character isn't allowed by Lean. <span class="user-mention" data-user-id="121918">@Edward Ayers</span> has <a href="https://github.com/EdAyers/mathlib/blob/fb5c2ffe917049959597b0a93b872e91f4004922/docs/unicode.md" target="_blank" title="https://github.com/EdAyers/mathlib/blob/fb5c2ffe917049959597b0a93b872e91f4004922/docs/unicode.md">a page on Unicode in Lean</a> and in the section on accents he warns "It's an absolute minefield." <span aria-label="shrug" class="emoji emoji-1f937" role="img" title="shrug">:shrug:</span></p>

<a name="168192970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unicode/near/168192970" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/95720unicode.html#168192970">Johan Commelin (Jun 15 2019 at 05:36)</a>:</h4>
<p>Ok, thanks for the info!</p>

<a name="168198851"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unicode/near/168198851" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/95720unicode.html#168198851">Floris van Doorn (Jun 15 2019 at 08:30)</a>:</h4>
<p>They cannot be used in identifiers, but they can be used as notation. For example in Flypitch: <a href="https://github.com/flypitch/flypitch/blob/64d2bc25e033fb294c7e8d1c3dfba3d26f60b4a8/src/bvm.lean#L1281" target="_blank" title="https://github.com/flypitch/flypitch/blob/64d2bc25e033fb294c7e8d1c3dfba3d26f60b4a8/src/bvm.lean#L1281">https://github.com/flypitch/flypitch/blob/64d2bc25e033fb294c7e8d1c3dfba3d26f60b4a8/src/bvm.lean#L1281</a></p>
<div class="codehilite"><pre><span></span><span class="kn">postfix</span> <span class="bp">`</span><span class="err">ÌŒ</span> <span class="bp">`</span><span class="o">:</span><span class="mi">90</span> <span class="o">:=</span> <span class="kn">check</span>
<span class="kn">lemma</span> <span class="n">check_type</span> <span class="o">{</span><span class="n">Î±</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="n">Î±</span> <span class="bp">â†’</span> <span class="n">pSet</span><span class="o">}</span> <span class="o">:</span> <span class="n">bSet</span><span class="bp">.</span><span class="n">type</span> <span class="o">((</span><span class="n">pSet</span><span class="bp">.</span><span class="n">mk</span> <span class="n">Î±</span> <span class="n">A</span><span class="o">)</span><span class="err">ÌŒ</span>  <span class="o">:</span> <span class="n">bSet</span> <span class="err">ğ”¹</span><span class="o">)</span> <span class="bp">=</span> <span class="n">Î±</span> <span class="o">:=</span> <span class="n">rfl</span>
<span class="kn">lemma</span> <span class="n">check_type&#39;</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">pSet</span><span class="bp">.</span><span class="o">{</span><span class="n">u</span><span class="o">}}</span> <span class="o">:</span> <span class="n">bSet</span><span class="bp">.</span><span class="n">type</span> <span class="o">(</span><span class="n">x</span><span class="err">ÌŒ</span> <span class="o">:</span> <span class="n">bSet</span> <span class="err">ğ”¹</span><span class="o">)</span> <span class="bp">=</span> <span class="n">x</span><span class="bp">.</span><span class="n">type</span>
</pre></div>


<p>Note that the <code>xÌŒ</code> is not a variable, but the check-operation applied to <code>x</code>.</p>

<a name="168198866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unicode/near/168198866" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/95720unicode.html#168198866">Floris van Doorn (Jun 15 2019 at 08:31)</a>:</h4>
<p>I'm not sure why Zulip is displaying <code>xÌŒ</code> once as two separate characters, and once as a <code>x</code> with a check on top of it...</p>

<a name="168215873"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unicode/near/168215873" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/95720unicode.html#168215873">matt rice (Jun 15 2019 at 17:16)</a>:</h4>
<p><span class="user-mention" data-user-id="121918">@Edward Ayers</span> here is some more supercripts/subscripts (not all of which i have tried in lean)<br>
greek, caps, and some more latin letters scattered about<br>
<a href="https://github.com/ratmice/lumpy-leandoc/blob/master/src/tex_gen.rs#L366-L373" target="_blank" title="https://github.com/ratmice/lumpy-leandoc/blob/master/src/tex_gen.rs#L366-L373">https://github.com/ratmice/lumpy-leandoc/blob/master/src/tex_gen.rs#L366-L373</a></p>

<a name="168215996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unicode/near/168215996" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/95720unicode.html#168215996">Marc Huisinga (Jun 15 2019 at 17:21)</a>:</h4>
<p>if you're looking for the corresponding lean vscode shortcuts for some of these symbols, here's a list: <a href="https://github.com/leanprover/vscode-lean/blob/master/translations.json" target="_blank" title="https://github.com/leanprover/vscode-lean/blob/master/translations.json">https://github.com/leanprover/vscode-lean/blob/master/translations.json</a></p>

<a name="168267829"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unicode/near/168267829" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/95720unicode.html#168267829">Edward Ayers (Jun 16 2019 at 21:06)</a>:</h4>
<p>Lean (quite sensibly, imo) doesn't let you use arbitrary unicode characters in identifiers. The rules for what characters Lean allows are in <code>src/util/name.cpp</code>. Which is:<br>
 - Any alphanumeric letter (no starting with numbers though)<br>
 - lowercase greek except lambda  <code>Î± Î² Î³ Î´ Îµ Î¶ Î· Î¸ Î¹ Îº Î¼ Î½ Î¾ Î¿ Ï€ Ï Ï‚ Ïƒ Ï„ Ï… Ï† Ï‡ Ïˆ Ï‰</code><br>
 - uppercase greek except Pi and Sigma <code>Î‘ Î’ Î“ Î” Î• Î– Î— Î˜ Î™ Îš Î› Îœ Î Î ÎŸ Î¡ Î¤ Î¥ Î¦ Î§ Î¨ Î©</code><br>
 - coptic <code>ÏŠÏ‹ÏŒÏÏÏÎ²Î¸Î¥Ï“Ï”Ï†Ï€Ï—Ï˜Ï™ÏšÏ›ÏœÏÏÏŸÏ Ï¡Ï¢Ï£Ï¤Ï¥Ï¦Ï§Ï¨Ï©ÏªÏ«Ï¬Ï­Ï®Ï¯ÎºÏÏ‚Ï³Î˜ÎµÏ¶Ï·Ï¸ÏºÏ»</code><br>
- Polytonic greek extended character set  <a href="https://www.unicode.org/charts/PDF/U1F00.pdf" target="_blank" title="https://www.unicode.org/charts/PDF/U1F00.pdf">https://www.unicode.org/charts/PDF/U1F00.pdf</a><br>
- Letter like symbols <a href="https://www.unicode.org/charts/PDF/U2100.pdf" target="_blank" title="https://www.unicode.org/charts/PDF/U2100.pdf">https://www.unicode.org/charts/PDF/U2100.pdf</a>  <code>â„‚Â°Câ„„Æâ„ˆÂ°Fâ„Šâ„‹â„Œâ„â„â„â„â„‘â„’â„“â„”â„•Noâ„—â„˜â„™â„šâ„›â„œâ„â„â„Ÿâ„ TELâ„¢â„£â„¤â„¥Î©â„§â„¨â„©KÃ…â„¬â„­â„®â„¯â„°â„±â„²â„³â„´××‘×’×“â„¹â„ºFAXâ„¼â„½â„¾â„¿â…€â…â…‚â…ƒâ…„â……â…†â…‡â…ˆâ…‰â…Šâ…‹â…Œâ…â…â…</code><br>
- Some of the mathematical letters in <a href="https://www.unicode.org/charts/PDF/U1D400.pdf" target="_blank" title="https://www.unicode.org/charts/PDF/U1D400.pdf">https://www.unicode.org/charts/PDF/U1D400.pdf</a></p>
<p><code>ğ’œğ’ğ’Ÿğ’¢ğ’¥ğ’¦ğ’©ğ’ªğ’«ğ’¬ğ’®ğ’¯ğ’°ğ’±ğ’²ğ’³ğ’´ğ’µğ’¶ğ’·ğ’¸ğ’¹ğ’»ğ’½ğ’¾ğ’¿ğ“€ğ“ğ“‚ğ“ƒğ“…ğ“†ğ“‡ğ“ˆğ“‰ğ“Šğ“‹ğ“Œğ“ğ“ğ“ğ“ğ“‘ğ“’ğ““ğ“”ğ“•ğ“–ğ“—ğ“˜ğ“™ğ“šğ“›ğ“œğ“ğ“ğ“Ÿğ“ ğ“¡ğ“¢ğ“£ğ“¤ğ“¥ğ“¦ğ“§ğ“¨ğ“©ğ“ªğ“«ğ“¬ğ“­ğ“®ğ“¯ğ“°ğ“±ğ“²ğ“³ğ“´ğ“µğ“¶ğ“·ğ“¸ğ“¹ğ“ºğ“»ğ“¼ğ“½ğ“¾ğ“¿ğ”€ğ”ğ”‚ğ”ƒğ”„ğ”…ğ”‡ğ”ˆğ”‰ğ”Šğ”ğ”ğ”ğ”ğ”‘ğ”’ğ”“ğ””ğ”–ğ”—ğ”˜ğ”™ğ”šğ”›ğ”œğ”ğ”Ÿğ” ğ”¡ğ”¢ğ”£ğ”¤ğ”¥ğ”¦ğ”§ğ”¨ğ”©ğ”ªğ”«ğ”¬ğ”­ğ”®ğ”¯ğ”°ğ”±ğ”²ğ”³ğ”´ğ”µğ”¶ğ”·ğ”¸ğ”¹ğ”»ğ”¼ğ”½ğ”¾ğ•€ğ•ğ•‚ğ•ƒğ•„ğ•†ğ•Šğ•‹ğ•Œğ•ğ•ğ•ğ•ğ•’ğ•“ğ•”ğ••ğ•–ğ•—ğ•˜ğ•™ğ•šğ•›ğ•œğ•ğ•ğ•Ÿğ• ğ•¡ğ•¢ğ•£ğ•¤ğ•¥ğ•¦ğ•§ğ•¨ğ•©ğ•ªğ•«ğ•¬ğ•­ğ•®ğ•¯ğ•°ğ•±ğ•²ğ•³ğ•´ğ•µğ•¶ğ•·ğ•¸ğ•¹ğ•ºğ•»ğ•¼ğ•½ğ•¾ğ•¿ğ–€ğ–ğ–‚ğ–ƒğ–„ğ–…ğ–†ğ–‡ğ–ˆğ–‰ğ–Šğ–‹ğ–Œğ–ğ–ğ–ğ–ğ–‘ğ–’ğ–“ğ–”ğ–•ğ––ğ–—ğ–˜ğ–™ğ–šğ–›ğ–œğ–ğ–ğ–Ÿ</code></p>
<p>AFAIK you can use any unicode character in the notation parser.</p>

<a name="168268169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unicode/near/168268169" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/95720unicode.html#168268169">Edward Ayers (Jun 16 2019 at 21:16)</a>:</h4>
<p>In addition, if it's not at the head of the identifier you can use numbers and <code>â¿â‚€â‚â‚‚â‚ƒâ‚„â‚…â‚†â‚‡â‚ˆâ‚‰â‚â‚‘â‚’â‚“â‚”â‚•â‚–â‚—â‚˜â‚™â‚šâ‚›â‚œáµ¢áµ£áµ¤áµ¥áµ¦áµ§áµ¨áµ©áµª</code>.</p>

<a name="168268429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/unicode/near/168268429" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/95720unicode.html#168268429">Edward Ayers (Jun 16 2019 at 21:25)</a>:</h4>
<p>The basic problems with unicode accents are: <br>
  - they are rendered inconsistently depending on font and platform (eg sometimes the accent is hidden behind the character). Often they will be rendered in the wrong place (as evidenced by zulip).<br>
  - there are multiple sequences of unicode characters which look the same or very similar on the screen but which Lean will read differently.<br>
 - It can be finicky to get the editor to input diacritical marks correctly, for example vscode treats <code>cÌŒ</code> as two characters so you have to click right twice to go to the other side of it which is jarring, especially if you don't know how it was made. Also I notice in zulip editor that you can enter  wierd states where the diacritical mark is bound to a space and so is rendered slightly before the character even though it looked fine in vscode ... etc</p>


{% endraw %}

{% include archive_update.html %}