---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/30952nightlyversionstapling.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html">nightly version stapling</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="123270930"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/123270930" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#123270930">Sebastian Ullrich (Mar 04 2018 at 18:49)</a>:</h4>
<p>sneak peek: <a href="https://github.com/leanprover/lean-nightly/releases" target="_blank" title="https://github.com/leanprover/lean-nightly/releases">https://github.com/leanprover/lean-nightly/releases</a></p>

<a name="123271176"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/123271176" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#123271176">Mario Carneiro (Mar 04 2018 at 18:59)</a>:</h4>
<p>cool! Are you autogenerating the chglog diffs?</p>

<a name="123278141"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/123278141" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#123278141">Sebastian Ullrich (Mar 04 2018 at 23:27)</a>:</h4>
<p>Yep!</p>

<a name="124221663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124221663" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124221663">Sebastian Ullrich (Mar 26 2018 at 10:48)</a>:</h4>
<p>After wasting hours and hours of cloud build time on fixing broken bash scripts, the pre-monad-PR nightly has finally landed for all platforms: <a href="https://github.com/leanprover/lean-nightly/releases/tag/nightly-2018-03-19" target="_blank" title="https://github.com/leanprover/lean-nightly/releases/tag/nightly-2018-03-19">https://github.com/leanprover/lean-nightly/releases/tag/nightly-2018-03-19</a><br>
Now building the latest commit. Regular daily (well, nightly) builds should work starting tomorrow.</p>

<a name="124224825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124224825" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124224825">Sebastian Ullrich (Mar 26 2018 at 12:30)</a>:</h4>
<p>Monad nightly: <a href="https://github.com/leanprover/lean-nightly/releases" target="_blank" title="https://github.com/leanprover/lean-nightly/releases">https://github.com/leanprover/lean-nightly/releases</a></p>

<a name="124224904"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124224904" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124224904">Simon Hudon (Mar 26 2018 at 12:33)</a>:</h4>
<p>Nice! Thanks for doing it!</p>

<a name="124225247"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124225247" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124225247">Sebastian Ullrich (Mar 26 2018 at 12:44)</a>:</h4>
<p>So feel free to discuss now how leanpkg should interact with all that :)</p>

<a name="124226089"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124226089" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124226089">Simon Hudon (Mar 26 2018 at 13:08)</a>:</h4>
<p><em>stretches</em> alrighty!</p>

<a name="124226137"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124226137" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124226137">Simon Hudon (Mar 26 2018 at 13:09)</a>:</h4>
<p>For starter, it might be good to have a separate <code>leanpkg</code> project with a separate way of installing it.</p>

<a name="124226267"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124226267" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124226267">Simon Hudon (Mar 26 2018 at 13:12)</a>:</h4>
<p>Then I think we should have a field in <code>leanpkg.toml</code></p>

<a name="124229253"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124229253" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124229253">Simon Hudon (Mar 26 2018 at 14:34)</a>:</h4>
<p>I think in general we should be able to choose a version of Lean (in the project file) and have the version of the packages worked out for us. The most difficult part would be to let multiple versions of Lean exist on your system. I recognize that we talked about this before but this might be a good time to separate <code>leanpkg</code> and <code>lean</code></p>

<a name="124229281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124229281" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124229281">Simon Hudon (Mar 26 2018 at 14:35)</a>:</h4>
<p>Or ... that would mean install a "master" version of Lean which <code>leanpkg</code> uses  as its interpreter and then curate a collection of nightlies</p>

<a name="124229353"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124229353" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124229353">Sebastian Ullrich (Mar 26 2018 at 14:37)</a>:</h4>
<p>Yes, in absence of a native backend that may be the best solution. Though nightly releases may lose their importance until Lean 4 is merged into master.</p>

<a name="124229424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124229424" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124229424">Sebastian Ullrich (Mar 26 2018 at 14:39)</a>:</h4>
<p>Note that you can now store a nightly version string in the <code>lean_version</code> config variable, and leanpkg will warn you about a mismatch</p>

<a name="124229488"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124229488" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124229488">Simon Hudon (Mar 26 2018 at 14:40)</a>:</h4>
<p>That's nice to know! Can you give me an example of the syntax?</p>

<a name="124229527"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124229527" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124229527">Sebastian Ullrich (Mar 26 2018 at 14:41)</a>:</h4>
<p><code>lean_version = "nightly-2018-03-26"</code>, same string as in the release names and tags</p>

<a name="124229613"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124229613" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124229613">Simon Hudon (Mar 26 2018 at 14:43)</a>:</h4>
<p>Nice! What I've been using lately is a file called <code>lean_version</code> with the exact hash that my project is using. Travis uses it to compile the right version of Lean and I have git hooks that block commits if that version doesn't match my system's version</p>

<a name="124229664"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124229664" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124229664">Sebastian Ullrich (Mar 26 2018 at 14:44)</a>:</h4>
<blockquote>
<p>have the version of the packages worked out for us </p>
</blockquote>
<p>I believe this part isn't exactly trivial either. Do we grep through the repository for a commit with a fitting leanpkg.toml, or do we use tags for that (certainly not branches like for the stable releases)? What if there is no commit for that exact nightly?</p>

<a name="124229679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124229679" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124229679">Simon Hudon (Mar 26 2018 at 14:45)</a>:</h4>
<p>I assume if <code>mathlib</code> was to be tagged with the nightly it was built with, upgrade would upgrade to the right version</p>

<a name="124229757"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124229757" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124229757">Simon Hudon (Mar 26 2018 at 14:47)</a>:</h4>
<p>You're right</p>

<a name="124229814"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124229814" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124229814">Simon Hudon (Mar 26 2018 at 14:48)</a>:</h4>
<p>It might require discipline from the maintainers so that if they skip versions, they still tag a commit that will build with that version. That sounds cumbersome</p>

<a name="124229845"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124229845" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124229845">Simon Hudon (Mar 26 2018 at 14:49)</a>:</h4>
<p>The other possibility is to work in one of two modes: flexible or strict. In a strict mode, you ask leanpkg what is the latest nightly that all your dependencies work with and you upgrade to that one</p>

<a name="124229914"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124229914" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124229914">Simon Hudon (Mar 26 2018 at 14:50)</a>:</h4>
<p>Flexible would be a more relaxed form of that rule ... or just say "screw it" and get something that works with a more recent version of Lean and hope for the best</p>

<a name="124235668"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124235668" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124235668">Andrew Ashworth (Mar 26 2018 at 17:12)</a>:</h4>
<p>ahh, versioning. i just read a blog post about it in go <a href="https://blog.golang.org/versioning-proposal" target="_blank" title="https://blog.golang.org/versioning-proposal">https://blog.golang.org/versioning-proposal</a></p>

<a name="124236309"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124236309" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124236309">Simon Hudon (Mar 26 2018 at 17:30)</a>:</h4>
<p>I've been trying to come up with a sensible notion of semantic versioning for Lean but the <code>meta</code> language usually doesn't fit in well</p>

<a name="124423475"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124423475" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124423475">Sebastian Ullrich (Mar 30 2018 at 18:25)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> What do you think would be a realistic Lean versioning scheme for mathlib? Store the nightly version in the toml/a tag, then upgrade only when important upstream fixes/features are available?</p>

<a name="124423579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124423579" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124423579">Mario Carneiro (Mar 30 2018 at 18:27)</a>:</h4>
<p>I think that's a fine idea. Assuming that old nightlies are now tracked, which it sounds like is working now, we could just put an appropriate nightly or lean git commit hash in the <code>lean_version</code> field or wherever, and update it when mathlib updates to lean</p>

<a name="124423654"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124423654" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124423654">Sebastian Ullrich (Mar 30 2018 at 18:29)</a>:</h4>
<p>Yea, see <a href="#narrow/stream/113488-general/subject/nightly.20version.20stapling/near/124229424" title="#narrow/stream/113488-general/subject/nightly.20version.20stapling/near/124229424">https://leanprover.zulipchat.com/#narrow/stream/113488-general/subject/nightly.20version.20stapling/near/124229424</a></p>

<a name="124423741"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124423741" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124423741">Mario Carneiro (Mar 30 2018 at 18:30)</a>:</h4>
<p>Oh, nice, days are nicer than hashes for this</p>

<a name="124423762"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124423762" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124423762">Mario Carneiro (Mar 30 2018 at 18:31)</a>:</h4>
<p>So we can implement this in mathlib now?</p>

<a name="124423925"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124423925" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124423925">Sebastian Ullrich (Mar 30 2018 at 18:34)</a>:</h4>
<p>Yep, you can manually set that field right now and leanpkg will warn people about any mismatch</p>

<a name="124424040"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124424040" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124424040">Sebastian Ullrich (Mar 30 2018 at 18:36)</a>:</h4>
<p>The only thing missing is a tool that automates that and setting up the correct Lean version. I've almost accidentally started a Twitter thread about that: <a href="https://twitter.com/derKha/status/979385452506550272" target="_blank" title="https://twitter.com/derKha/status/979385452506550272">https://twitter.com/derKha/status/979385452506550272</a></p>
<div class="inline-preview-twitter"><div class="twitter-tweet"><a href="https://twitter.com/derKha/status/979385452506550272" target="_blank"><img class="twitter-avatar" src="https://uploads.zulipusercontent.net/eed2c5a7af22b4ad0091fa38a5bef677be9295f1/687474703a2f2f7062732e7477696d672e636f6d2f70726f66696c655f696d616765732f3739313833303132353830393530303136302f344e5a62634475635f6e6f726d616c2e6a7067"></a><p>Naming suggestions for an application that downloads and manages your installed Lean versions (think rustup)?</p><span>- Sebastian Ullrich (@derKha)</span></div></div>

<a name="124424138"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124424138" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124424138">Mario Carneiro (Mar 30 2018 at 18:38)</a>:</h4>
<p><code>leanup</code> makes me giggle</p>

<a name="124424217"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124424217" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124424217">Sebastian Ullrich (Mar 30 2018 at 18:40)</a>:</h4>
<p>I feel like most puns/connotations are completely flying over my head :)</p>

<a name="124424224"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124424224" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124424224">Mario Carneiro (Mar 30 2018 at 18:41)</a>:</h4>
<p>But I'm confused why this is distinct from <code>leanpkg</code></p>

<a name="124424294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124424294" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124424294">Sebastian Ullrich (Mar 30 2018 at 18:42)</a>:</h4>
<p>See <a href="https://twitter.com/derKha/status/979422420653297666" target="_blank" title="https://twitter.com/derKha/status/979422420653297666">https://twitter.com/derKha/status/979422420653297666</a></p>
<div class="inline-preview-twitter"><div class="twitter-tweet"><a href="https://twitter.com/derKha/status/979422420653297666" target="_blank"><img class="twitter-avatar" src="https://uploads.zulipusercontent.net/eed2c5a7af22b4ad0091fa38a5bef677be9295f1/687474703a2f2f7062732e7477696d672e636f6d2f70726f66696c655f696d616765732f3739313833303132353830393530303136302f344e5a62634475635f6e6f726d616c2e6a7067"></a><p><a href="https://twitter.com/graydon_pub" target="_blank" title="https://twitter.com/graydon_pub">@graydon_pub</a> I think I agree with you, but in our case the package manager is written in Lean. Since we still lack good FFI for e.g. downloading files, or even native compilation, I'm inclined to write the meta installer in Rust for now. Not rewriting the kernel in Lean either anytime soon...</p><span>- Sebastian Ullrich (@derKha)</span></div></div>

<a name="124424321"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124424321" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124424321">Mario Carneiro (Mar 30 2018 at 18:43)</a>:</h4>
<p>so it's a bootstrapping issue?</p>

<a name="124424513"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124424513" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124424513">Sebastian Ullrich (Mar 30 2018 at 18:46)</a>:</h4>
<p>More like a "our current interpreter and object file format aren't exactly standalone and also calling out to <code>curl</code> isn't very platform independent" issue</p>

<a name="124424525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124424525" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124424525">Sebastian Ullrich (Mar 30 2018 at 18:47)</a>:</h4>
<p>I.e. "probably the wrong tool for the job"</p>

<a name="124424541"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124424541" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124424541">Mario Carneiro (Mar 30 2018 at 18:47)</a>:</h4>
<p>What's wrong with having separate install instructions for each platform, as long as you can keep it to one line for each?</p>

<a name="124424643"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124424643" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124424643">Sebastian Ullrich (Mar 30 2018 at 18:48)</a>:</h4>
<p>It's not install instructions, the tool is supposed to download the correct Lean version by itself</p>

<a name="124424767"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124424767" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124424767">Sebastian Ullrich (Mar 30 2018 at 18:51)</a>:</h4>
<p>The current leanpkg code is already quite ham-fisted in a few ways, it's really not fun to program with such a minimal API</p>

<a name="124424784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124424784" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124424784">Mario Carneiro (Mar 30 2018 at 18:51)</a>:</h4>
<p>What has a minimal API here? Lean or leanpkg?</p>

<a name="124424789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124424789" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124424789">Sebastian Ullrich (Mar 30 2018 at 18:51)</a>:</h4>
<p>Lean</p>

<a name="124424838"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124424838" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124424838">Sebastian Ullrich (Mar 30 2018 at 18:52)</a>:</h4>
<p>Like... the most basic string functions</p>

<a name="124424894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124424894" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124424894">Mario Carneiro (Mar 30 2018 at 18:53)</a>:</h4>
<p>There are a lot of list functions, can those be repurposed? Or do they have to be implemented in C</p>

<a name="124424899"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124424899" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124424899">Mario Carneiro (Mar 30 2018 at 18:53)</a>:</h4>
<p>I'd be happy to write what I can in lean, but I lack some necessary primitives</p>

<a name="124425386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124425386" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124425386">Sebastian Ullrich (Mar 30 2018 at 19:05)</a>:</h4>
<p>Thanks, but that still leaves the other two issues... I suppose we could bundle wget for Windows with it if we really wanted to</p>

<a name="124425428"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124425428" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124425428">Andrew Ashworth (Mar 30 2018 at 19:06)</a>:</h4>
<p>do you enjoy working on leanpkg? a quick and dirty solution is to use a cross-platform package manager that already exists</p>

<a name="124425501"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124425501" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124425501">Sebastian Ullrich (Mar 30 2018 at 19:08)</a>:</h4>
<p>I guess I don't exactly... but I believe even the current leanpkg satisfies our specific needs better than a generic package manager ever could</p>

<a name="124429614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124429614" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124429614">Sebastian Ullrich (Mar 30 2018 at 20:59)</a>:</h4>
<p>For another example, we'll probably have to parse the JSON returned from Github's Releases API</p>

<a name="124429810"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124429810" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124429810">Sebastian Ullrich (Mar 30 2018 at 21:04)</a>:</h4>
<p><span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> Thoughts?</p>

<a name="124453211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124453211" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124453211">Gabriel Ebner (Mar 31 2018 at 12:10)</a>:</h4>
<p><code>leanup</code> sounds reasonable to me.  I agree that it should be separately distributed.  It could even provide <code>lean</code> and <code>leanpkg</code> executables that automatically use the correct version depending on the <code>leanpkg.toml</code> (or download them if necessary).  Then we wouldn't even need to change any tooling that already uses <code>lean</code> or <code>leanpkg</code>.</p>

<a name="124453262"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124453262" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124453262">Gabriel Ebner (Mar 31 2018 at 12:13)</a>:</h4>
<p>In the long run, I think it should be written in Lean as well.  With code generation on the horizon, this shouldn't pose a problem for distribution.  And API-wise I guess there is some demand for networking functionality in Lean anyhow.  Parsing JSON is the easiest part, we have parser combinators. <span class="emoji emoji-1f604" title="smile">:smile:</span></p>

<a name="124453308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124453308" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124453308">Gabriel Ebner (Mar 31 2018 at 12:15)</a>:</h4>
<p>For now, I believe that a rust implementation is fine.  It's probably even easier to distribute than a python script.</p>

<a name="124453355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124453355" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124453355">Gabriel Ebner (Mar 31 2018 at 12:17)</a>:</h4>
<p>There should probably be a way to use local git builds via leanup as well.</p>

<a name="124453450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124453450" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124453450">Gabriel Ebner (Mar 31 2018 at 12:20)</a>:</h4>
<p>Since we switched to static linking, the nightlies even work on NixOS.  So no complaints from my sides.  And if we switch back to dynamic linking, I'll just PR what we do in rustup: <a href="https://github.com/NixOS/nixpkgs/blob/599a2238386b6f1f293f888d068122b46e1bde23/pkgs/development/tools/rust/rustup/0001-dynamically-patchelf-binaries.patch" target="_blank" title="https://github.com/NixOS/nixpkgs/blob/599a2238386b6f1f293f888d068122b46e1bde23/pkgs/development/tools/rust/rustup/0001-dynamically-patchelf-binaries.patch">https://github.com/NixOS/nixpkgs/blob/599a2238386b6f1f293f888d068122b46e1bde23/pkgs/development/tools/rust/rustup/0001-dynamically-patchelf-binaries.patch</a></p>

<a name="124457614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124457614" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124457614">Sebastian Ullrich (Mar 31 2018 at 15:18)</a>:</h4>
<blockquote>
<p>In the long run, I think it should be written in Lean as well. </p>
</blockquote>
<p>I agree.</p>
<blockquote>
<p>It's probably even easier to distribute than a python script.</p>
</blockquote>
<p>Exactly, that was my main motivation.</p>
<blockquote>
<p>There should probably be a way to use local git builds via leanup as well. </p>
</blockquote>
<p>Yes, though I'm not yet sure what it should look like.</p>

<a name="124457707"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124457707" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124457707">Sebastian Ullrich (Mar 31 2018 at 15:22)</a>:</h4>
<blockquote>
<p>Then we wouldn't even need to change any tooling that already uses <code>lean</code> or <code>leanpkg</code>. </p>
</blockquote>
<p>Right, though then I'd like to "hijack" <code>leanpkg configure</code> etc to also take care of setting up the correct Lean version.  I'm really not sure if that would be less confusing than telling people to use <code>leanup configure</code> instead of <code>leanpkg configure</code>.</p>

<a name="124457812"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124457812" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124457812">Gabriel Ebner (Mar 31 2018 at 15:27)</a>:</h4>
<blockquote>
<p>I'd like to "hijack" leanpkg configure etc to also take care of setting up the correct Lean version.</p>
</blockquote>
<p>My suggestion was to hijack <em>everything</em>, i.e., even if you call just <code>lean</code>, then <code>leanup</code>automatically determines the correct version in the background, downloads the binaries, and then runs the correct <code>lean</code> binary.</p>

<a name="124457851"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124457851" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124457851">Gabriel Ebner (Mar 31 2018 at 15:28)</a>:</h4>
<p>I think that's the easiest solution to support multiple lean versions in the editors.</p>

<a name="124457954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124457954" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124457954">Sebastian Ullrich (Mar 31 2018 at 15:33)</a>:</h4>
<p>Okay, bad example. What I meant was hijacking and changing the _semantics_ of e.g. <code>leanpkg add/upgrade</code> so that they respect nightly versions</p>

<a name="124458003"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124458003" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124458003">Gabriel Ebner (Mar 31 2018 at 15:35)</a>:</h4>
<p>I think <em>everything</em> should respect the nightly versions.  That is, when you run <code>lean</code>, <code>leanup</code> looks for a <code>leanpkg.toml</code>, checks the <code>version</code> field, and then executes the correct <code>lean</code> executable.  How else would you work with two packages that require different Lean versions?</p>

<a name="124458047"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124458047" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124458047">Gabriel Ebner (Mar 31 2018 at 15:37)</a>:</h4>
<p>Or did you mean that <code>leanpkg upgrade</code> upgrades the version field as well?</p>

<a name="124458342"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124458342" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124458342">Sebastian Ullrich (Mar 31 2018 at 15:49)</a>:</h4>
<p>No, I think there should be a separate command for upgrading the Lean version (just on <code>leanup</code> or should it be injected into <code>leanpkg</code> too??). I was thinking of <code>leanpkg upgrade</code> looking at the dependencies' Lean versions when deciding which commit to upgrade to. But perhaps that isn't really necessary - when <code>leanpkg</code> warns you that the Lean versions are out of sync when building an upgraded package, perhaps you're just supposed to run <code>lean-upgrade</code> afterwards.</p>

<a name="124458442"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124458442" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124458442">Gabriel Ebner (Mar 31 2018 at 15:53)</a>:</h4>
<p>Ah, I see what you're talking about.  This is hard.  I don't think leanpkg warns you at the moment if one of the dependencies' Lean version is wrong.  It's also not clear which nightly version to pick (the one for dependency A, or the one for dependency B, or their maximum??).  If <code>leanpkg</code> however adjusts the <code>version</code> field correctly, then everything would just work with my proposal.</p>

<a name="124458483"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124458483" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124458483">Sebastian Ullrich (Mar 31 2018 at 15:54)</a>:</h4>
<p>I.e. our main goal should be reproducibility when not touching the leanpkg.toml file. But when you want to upgrade either your Lean nightly version or a dependency's version, we probably shouldn't try to be "clever" but just jump to the upstream head of everything.</p>

<a name="124458570"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124458570" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124458570">Sebastian Ullrich (Mar 31 2018 at 15:58)</a>:</h4>
<blockquote>
<p>I don't think leanpkg warns you at the moment if one of the dependencies' Lean version is wrong. </p>
</blockquote>
<p>Right. This would work automatically when we start building dependencies eagerly on <code>configure</code>.</p>

<a name="124508035"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124508035" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124508035">Mario Carneiro (Apr 02 2018 at 01:34)</a>:</h4>
<p><span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span> How can you tell what lean commit a nightly corresponds to? The bot botson commit doesn't say the commit hash anymore (and is now Leo?)</p>

<a name="124518628"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124518628" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124518628">Sebastian Ullrich (Apr 02 2018 at 08:35)</a>:</h4>
<p>Yes, Leo is now a bot <span class="emoji emoji-1f606" title="laughing">:laughing:</span></p>

<a name="124518667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124518667" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124518667">Sebastian Ullrich (Apr 02 2018 at 08:36)</a>:</h4>
<p>The commit hash is next to the release description <a href="https://github.com/leanprover/lean-nightly/releases" target="_blank" title="https://github.com/leanprover/lean-nightly/releases">https://github.com/leanprover/lean-nightly/releases</a></p>

<a name="124518811"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124518811" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124518811">Sebastian Ullrich (Apr 02 2018 at 08:42)</a>:</h4>
<p>Not sure why I removed it from the cmdline output...</p>

<a name="124519318"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124519318" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124519318">Sebastian Ullrich (Apr 02 2018 at 09:00)</a>:</h4>
<p>If anyone's wondering where the Windows nightlies are: Apparently you have to ask the AppVeyor guys personally to enable cron builds...</p>

<a name="124519322"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124519322" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124519322">Kenny Lau (Apr 02 2018 at 09:00)</a>:</h4>
<p>I'm more wondering when will the mathlib have a tick mark</p>

<a name="124530618"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124530618" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124530618">Patrick Massot (Apr 02 2018 at 15:09)</a>:</h4>
<p>Does anyone know a working combination of Lean nightly + mathlib which includes the <code>wlog</code> tactic?</p>

<a name="124530628"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124530628" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124530628">Patrick Massot (Apr 02 2018 at 15:09)</a>:</h4>
<p>linux nighly of course</p>

<a name="124785403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124785403" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124785403">Scott Morrison (Apr 08 2018 at 03:57)</a>:</h4>
<p>so... leanpkg now helpfully says things like: <code> WARNING: Lean version mismatch: installed version is master, but package requires nightly-2018-04-06</code>.</p>

<a name="124785409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124785409" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124785409">Scott Morrison (Apr 08 2018 at 03:57)</a>:</h4>
<p>Is there any automatic help installing the right version of Lean? (Or do I need to learn how to install nightlies, after happily working off master all this time?)</p>

<a name="124785503"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124785503" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124785503">Simon Hudon (Apr 08 2018 at 04:01)</a>:</h4>
<p>Sorry not answering your question but: is the warning about one of your dependencies or about your own package?</p>

<a name="124785504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124785504" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124785504">Scott Morrison (Apr 08 2018 at 04:01)</a>:</h4>
<p>Attempting to learn how to install nightlies...<br>
1) The first google result for "lean nightly" is the rather unhelpful &lt;<a href="https://github.com/leanprover/lean-nightly" target="_blank" title="https://github.com/leanprover/lean-nightly">https://github.com/leanprover/lean-nightly</a>&gt;.<br>
2) I downloaded the latest Lean nightly from &lt;<a href="https://leanprover.github.io/download/" target="_blank" title="https://leanprover.github.io/download/">https://leanprover.github.io/download/</a>&gt;, but there's no way to determine which date it's from, and it still gives the same error.</p>

<a name="124785505"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124785505" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124785505">Scott Morrison (Apr 08 2018 at 04:01)</a>:</h4>
<p><span class="user-mention" data-user-id="110026">@Simon Hudon</span>  --- sorry, should have specified this is trying to compile mathlib.</p>

<a name="124785545"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124785545" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124785545">Scott Morrison (Apr 08 2018 at 04:02)</a>:</h4>
<p>Am I meant to be installing nightlies from somewhere else?</p>

<a name="124785553"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124785553" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124785553">Simon Hudon (Apr 08 2018 at 04:03)</a>:</h4>
<p>Thanks! I can help if you just need help installing nightlies</p>

<a name="124785590"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124785590" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124785590">Scott Morrison (Apr 08 2018 at 04:04)</a>:</h4>
<p>Ah, I found &lt;<a href="https://github.com/leanprover/lean-nightly/releases" target="_blank" title="https://github.com/leanprover/lean-nightly/releases">https://github.com/leanprover/lean-nightly/releases</a>&gt;.</p>

<a name="124785594"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124785594" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124785594">Simon Hudon (Apr 08 2018 at 04:04)</a>:</h4>
<p>Often, I just leech off of Mario's knowledge and look at <code>mathlib</code>'s travis file for that kind of stuff</p>

<a name="124785595"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124785595" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124785595">Scott Morrison (Apr 08 2018 at 04:04)</a>:</h4>
<p>The main README.md for that repository desperately needs to contain a link to the releases page.</p>

<a name="124785656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124785656" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124785656">Scott Morrison (Apr 08 2018 at 04:07)</a>:</h4>
<p>(I've just made a pull request.)</p>

<a name="124785744"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124785744" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124785744">Simon Hudon (Apr 08 2018 at 04:10)</a>:</h4>
<p>To lean-nightly? It hasn't crossed the ocean yet, it seems. I don't see it</p>

<a name="124793413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124793413" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124793413">Kevin Buzzard (Apr 08 2018 at 09:35)</a>:</h4>
<p>I fixed the leanpkg warnings for one of my projects by changing the obvious line in <code>leanpkg.toml</code> to <code>lean_version = "nightly-2018-04-02"</code></p>

<a name="124795679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124795679" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124795679">Scott Morrison (Apr 08 2018 at 11:12)</a>:</h4>
<p>Is anyone using a lean-nightly on OS X? When I try to use lean from a nightly, I just get:</p>
<div class="codehilite"><pre><span></span>dyld: Library not loaded: /usr/local/opt/gmp/lib/libgmp.10.dylib
</pre></div>

<a name="124795682"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124795682" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124795682">Scott Morrison (Apr 08 2018 at 11:12)</a>:</h4>
<p>I'm pretty sure <code>gmp</code> is installed; plenty of other things are using it.</p>

<a name="124795747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124795747" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124795747">Scott Morrison (Apr 08 2018 at 11:15)</a>:</h4>
<p>It seems for me that file is at <code>/opt/local/lib/libgmp.10.dylib</code> instead.</p>

<a name="124795748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124795748" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124795748">Scott Morrison (Apr 08 2018 at 11:15)</a>:</h4>
<p>Is this some homebrew vs macports incompatibility?</p>

<a name="124795999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124795999" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124795999">Scott Morrison (Apr 08 2018 at 11:25)</a>:</h4>
<p>Yup, with <code>gmp</code> provided by homebrew instead of macports, everything works.</p>

<a name="124950344"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124950344" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124950344">Sebastian Ullrich (Apr 11 2018 at 21:00)</a>:</h4>
<p>In case you haven't seen the mathlib commits: <a href="https://github.com/Kha/elan" target="_blank" title="https://github.com/Kha/elan">https://github.com/Kha/elan</a></p>

<a name="124950367"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124950367" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124950367">Patrick Massot (Apr 11 2018 at 21:00)</a>:</h4>
<p>Thank you very much!</p>

<a name="124950381"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124950381" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124950381">Patrick Massot (Apr 11 2018 at 21:01)</a>:</h4>
<p>Is this something we can already try?</p>

<a name="124950459"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124950459" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124950459">Patrick Massot (Apr 11 2018 at 21:02)</a>:</h4>
<p>What does elan mean? Apart from being an anagram of lean?</p>

<a name="124950791"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124950791" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124950791">Sebastian Ullrich (Apr 11 2018 at 21:09)</a>:</h4>
<p>élan :) . Not an acronym... yet</p>

<a name="124950868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124950868" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124950868">Sebastian Ullrich (Apr 11 2018 at 21:11)</a>:</h4>
<p>There may be some bugs and missing features, but I do believe it's usable already. mathlib's Travis config is now using it.</p>

<a name="124950938"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124950938" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124950938">Patrick Massot (Apr 11 2018 at 21:12)</a>:</h4>
<p>Is there any kind of documentation?</p>

<a name="124950945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124950945" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124950945">Patrick Massot (Apr 11 2018 at 21:12)</a>:</h4>
<p>apart from mathlib travis?</p>

<a name="124951075"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124951075" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124951075">Sebastian Ullrich (Apr 11 2018 at 21:15)</a>:</h4>
<p>The individual commands are documented inside the tool, and, as the readme hopefully implies, you shouldn't even need to worry about those if you just want to use the right version of <code>leanpkg</code> for a package. Doc contributions are welcome, you guys seem to be very prolific in that.</p>

<a name="124951417"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124951417" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124951417">Patrick Massot (Apr 11 2018 at 21:23)</a>:</h4>
<p><code>error: invalid channel name 'master' in 'lean-scratchpad/leanpkg.toml'
info: caused by: invalid toolchain name: 'master'</code></p>

<a name="124951429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124951429" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124951429">Patrick Massot (Apr 11 2018 at 21:24)</a>:</h4>
<p>This is what I get when I try <code>leanpkg upgrade</code> after installing elan</p>

<a name="124951521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124951521" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124951521">Sebastian Ullrich (Apr 11 2018 at 21:25)</a>:</h4>
<p>Right, <code>lean_version = "master"</code> used to be a thing... the preferred way is to set a specific nightly there now, but I guess we should still make <code>master</code> default to the <code>nightly</code> channel.</p>

<a name="124951580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124951580" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124951580">Patrick Massot (Apr 11 2018 at 21:26)</a>:</h4>
<p>what would be the syntax to specify a nightly?</p>

<a name="124951588"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124951588" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124951588">Patrick Massot (Apr 11 2018 at 21:26)</a>:</h4>
<p>What if my specification is: whatever nightly works with that given mathlib version?</p>

<a name="124951743"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124951743" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124951743">Sebastian Ullrich (Apr 11 2018 at 21:30)</a>:</h4>
<p>Then you should copy the version from mathlib's config in your <code>_target</code> dir. I have plans to document how to deal with <code>elan</code> and <code>leanpkg upgrade</code>, but I first need to change <code>leanpkg</code> for that.</p>

<a name="124951842"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124951842" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124951842">Sebastian Ullrich (Apr 11 2018 at 21:33)</a>:</h4>
<p>Btw, you can also select toolchains like this: <code>leanpkg +nightly ...</code></p>

<a name="124951850"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124951850" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124951850">Patrick Massot (Apr 11 2018 at 21:33)</a>:</h4>
<p>Ok, let me check my understanding. Currently this helps if I have different projects requiring different versions of Lean. But it does not help me if I have one project and I want to upgrade Lean+mathlib while keeping them in a consistent state?</p>

<a name="124951910"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124951910" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124951910">Patrick Massot (Apr 11 2018 at 21:35)</a>:</h4>
<p>Or does it?</p>

<a name="124951913"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124951913" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124951913">Patrick Massot (Apr 11 2018 at 21:35)</a>:</h4>
<p>I'm confused and I need to sleep</p>

<a name="124951965"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124951965" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124951965">Patrick Massot (Apr 11 2018 at 21:36)</a>:</h4>
<p>Need to teach how to prove existence of <a href="https://www.youtube.com/watch?v=RYH_KXhF1SY" target="_blank" title="https://www.youtube.com/watch?v=RYH_KXhF1SY">https://www.youtube.com/watch?v=RYH_KXhF1SY</a> tomorrow morning</p>
<div class="youtube-video message_inline_image"><a data-id="RYH_KXhF1SY" href="https://www.youtube.com/watch?v=RYH_KXhF1SY" target="_blank" title="https://www.youtube.com/watch?v=RYH_KXhF1SY"><img src="https://i.ytimg.com/vi/RYH_KXhF1SY/default.jpg"></a></div>

<a name="124952037"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124952037" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124952037">Sebastian Ullrich (Apr 11 2018 at 21:38)</a>:</h4>
<p>It doesn't help you with selecting the best nightly version suitable for all your dependencies (which gets complicated with more than one dependency) _yet_. It does help you to then download and install that version after you've changed your leanpkg.toml.</p>

<a name="124952065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124952065" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124952065">Patrick Massot (Apr 11 2018 at 21:39)</a>:</h4>
<p>Yes, it seems it did that</p>

<a name="124952116"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124952116" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124952116">Patrick Massot (Apr 11 2018 at 21:40)</a>:</h4>
<p>Any reson why leanpkg uses <code>upgrade</code> and elan uses <code>update</code>?</p>

<a name="124952123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124952123" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124952123">Patrick Massot (Apr 11 2018 at 21:40)</a>:</h4>
<p>Now I'm bound to hit the wrong one at least half the time</p>

<a name="124952211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124952211" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124952211">Sebastian Ullrich (Apr 11 2018 at 21:43)</a>:</h4>
<p>Heh, I guess you're right. I didn't name either of them and am open to changing one of them.</p>

<a name="124952284"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124952284" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124952284">Patrick Massot (Apr 11 2018 at 21:44)</a>:</h4>
<p>I have a slight preference for upgrade, because it's what apt uses when you actually want some change to installed stuff. But I wouldn't mind having update</p>

<a name="124952922"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124952922" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124952922">Simon Hudon (Apr 11 2018 at 22:00)</a>:</h4>
<p>I'm really excited to see Elan happen!</p>

<a name="124952934"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124952934" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124952934">Simon Hudon (Apr 11 2018 at 22:00)</a>:</h4>
<p>I tried to install it and got the following:</p>
<div class="codehilite"><pre><span></span>info: downloading component &#39;lean&#39;
 18.1 MiB /  18.1 MiB (100 %) 210.8 KiB/s ETA:   0 s
info: installing component &#39;lean&#39;
info: rolling back changes
error: failed to extract package
info: caused by: invalid gzip header
</pre></div>

<a name="124953252"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124953252" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124953252">Sebastian Ullrich (Apr 11 2018 at 22:08)</a>:</h4>
<p>Huh, that's a new one. OS X?</p>

<a name="124953261"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124953261" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124953261">Simon Hudon (Apr 11 2018 at 22:08)</a>:</h4>
<p>Yes! Sorry, I should have said that</p>

<a name="124953304"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124953304" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124953304">Sebastian Ullrich (Apr 11 2018 at 22:09)</a>:</h4>
<p>Oops, I thought we were using <code>.tar.gz</code> for OS X instead of <code>.zip</code> <span class="emoji emoji-1f606" title="laughing">:laughing:</span></p>

<a name="124953379"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124953379" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124953379">Simon Hudon (Apr 11 2018 at 22:10)</a>:</h4>
<p>tsk tsk</p>

<a name="124953406"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124953406" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124953406">Simon Hudon (Apr 11 2018 at 22:11)</a>:</h4>
<p>On a slightly related note: any chance that <code>leanpkg</code> will get some <code>flycheck</code> support in the future?</p>

<a name="124953415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124953415" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124953415">Sebastian Ullrich (Apr 11 2018 at 22:11)</a>:</h4>
<p>What do you mean by that? The <code>leanpkg.toml</code>?</p>

<a name="124953546"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124953546" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124953546">Simon Hudon (Apr 11 2018 at 22:14)</a>:</h4>
<p>I mean when you call <code>leanpkg build</code>, get the errors that you get in the flycheck error list buffer</p>

<a name="124953611"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124953611" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124953611">Sebastian Ullrich (Apr 11 2018 at 22:15)</a>:</h4>
<p>Shouldn't it show the same errors already...? Or do you mean the format...?</p>

<a name="124953693"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124953693" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124953693">Sebastian Ullrich (Apr 11 2018 at 22:17)</a>:</h4>
<p>Okay, I'll have to fix OS X (and Windows) support tomorrow. The crazy thing is, the <code>elan</code> OS X release builds actually use <code>.tar.gz</code>. I took that from a CI template.</p>

<a name="124953770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124953770" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124953770">Simon Hudon (Apr 11 2018 at 22:19)</a>:</h4>
<p>Let me take you through a use case. I'm editting foo.lean which imports foobar.lean, bar.lean, barfoo.lean foo.lean, etc. I upgrade Lean and then mathlib and my project no longer type check so I do <code>M-x lean-leanpkg-build</code> to find the first thing that breaks and follow the series of breakages until I fixed everything. I want to fix stuff in the topological order of imports so that I don't have to fix the same file twice.</p>

<a name="124953772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124953772" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124953772">Simon Hudon (Apr 11 2018 at 22:19)</a>:</h4>
<p>Thanks!</p>

<a name="124996475"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124996475" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124996475">Sebastian Ullrich (Apr 12 2018 at 18:09)</a>:</h4>
<p>I believe I fixed elan, hopefully? <span class="emoji emoji-1f642" title="simple smile">:simple_smile:</span> /cc <span class="user-mention" data-user-id="110026">@Simon Hudon</span> <span class="user-mention" data-user-id="110064">@Kenny Lau</span></p>

<a name="124996524"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124996524" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124996524">Kenny Lau (Apr 12 2018 at 18:10)</a>:</h4>
<p><a href="#narrow/stream/113488-general/topic/mathlib.20nightly.20dependence" title="#narrow/stream/113488-general/topic/mathlib.20nightly.20dependence">link to convo</a></p>

<a name="124996539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124996539" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124996539">Kenny Lau (Apr 12 2018 at 18:10)</a>:</h4>
<div class="codehilite"><pre><span></span>$ curl https://raw.githubusercontent.com/Kha/elan/master/elan-init.sh -sSf | sh
info: downloading installer
sh: line 105: unzip: command not found
chmod: cannot access &#39;/tmp/tmp.DIauNKqwfZ/elan-init.exe&#39;: No such file or directory
elan: command failed: chmod u+x /tmp/tmp.DIauNKqwfZ/elan-init.exe
</pre></div>

<a name="124996610"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124996610" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124996610">Simon Hudon (Apr 12 2018 at 18:12)</a>:</h4>
<p>It now works! Thanks!</p>

<a name="124996618"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124996618" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124996618">Kenny Lau (Apr 12 2018 at 18:12)</a>:</h4>
<p>i guess i have to turn on the linux subsystem in windows, wait</p>

<a name="124996911"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124996911" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124996911">Simon Hudon (Apr 12 2018 at 18:19)</a>:</h4>
<p>I just tried <code>install nightly</code> and got the following:</p>
<div class="codehilite"><pre><span></span>$ elan toolchain install nightly
 51.3 KiB /  51.3 KiB (100 %)  40.5 KiB/s ETA:   0 s
info: downloading component &#39;lean&#39;
 16.8 MiB /  16.8 MiB (100 %) 176.8 KiB/s ETA:   0 s
info: installing component &#39;lean&#39;

  nightly-x86_64-apple-darwin installed - (error reading lean version)
</pre></div>

<a name="124999701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/124999701" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#124999701">Simon Hudon (Apr 12 2018 at 19:21)</a>:</h4>
<p>Lean seems sort of installed but here is what happens when I try to call it:</p>
<div class="codehilite"><pre><span></span>$ lean -v
error: command failed: &#39;lean&#39;
info: caused by: Permission denied (os error 13)
</pre></div>

<a name="125003682"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/125003682" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#125003682">Sebastian Ullrich (Apr 12 2018 at 20:49)</a>:</h4>
<p><span class="user-mention" data-user-id="110026">@Simon Hudon</span> But the initial stable installation worked o.o? What are the permissions on <code>~/.elan/toolchains/nightly-*/bin/lean</code>?</p>

<a name="125004215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/125004215" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#125004215">Simon Hudon (Apr 12 2018 at 21:02)</a>:</h4>
<p>Actually when installing elan, I also get trouble from <code>stable</code>:</p>
<div class="codehilite"><pre><span></span>1) Proceed with installation (default)
2) Customize installation
3) Cancel installation
1

info: downloading component &#39;lean&#39;
 18.1 MiB /  18.1 MiB (100 %) 136.0 KiB/s ETA:   0 s
info: installing component &#39;lean&#39;
info: default toolchain set to &#39;stable&#39;

  stable installed - (error reading lean version)


Elan is installed now. Great!
</pre></div>


<p>But I can call Lean: <code>lean -v</code></p>
<div class="codehilite"><pre><span></span>$ lean -v
Lean (version 3.3.1, commit d36b859c6579, RELEASE)
</pre></div>

<a name="125004376"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/125004376" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#125004376">Simon Hudon (Apr 12 2018 at 21:06)</a>:</h4>
<p>To answer your question, here are the permission on <code>lean</code>:</p>
<div class="codehilite"><pre><span></span>$ ls -la ~/.elan/toolchains/nightly-*/bin/lean
-rw-r--r--  1 simon  staff  12248272 12 Apr 17:04 /Users/simon/.elan/toolchains/nightly-x86_64-apple-darwin/bin/lean
</pre></div>

<a name="125006764"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/125006764" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#125006764">Sebastian Ullrich (Apr 12 2018 at 22:02)</a>:</h4>
<p><span class="user-mention" data-user-id="110026">@Simon Hudon</span> Thanks, this should be fixed in 0.3.2. You can <code>elan self update</code> in a few minutes and reinstall the broken toolchains after removing them, or you can just do <code>chmod u+x ~/.elan/toolchains/*/bin/*</code> yourself of course.</p>

<a name="125006775"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/125006775" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#125006775">Simon Hudon (Apr 12 2018 at 22:03)</a>:</h4>
<p>Thanks!</p>

<a name="125006927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/125006927" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#125006927">Sebastian Ullrich (Apr 12 2018 at 22:06)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> What prompt were you using for that (mingw/cygwin/git bash)? Can't you install unzip there?</p>

<a name="125007026"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/125007026" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#125007026">Sebastian Ullrich (Apr 12 2018 at 22:09)</a>:</h4>
<p>I'm not sure what the best Windows installation method would be. Perhaps it's just "download the latest Windows release, unpack it and run the exe in a cmd prompt"?</p>

<a name="125008079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/125008079" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#125008079">Andrew Ashworth (Apr 12 2018 at 22:38)</a>:</h4>
<p>i think all the options for non-technical users kinda stink on windows, beyond vending a self-extracting zip or exe</p>

<a name="125008355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/125008355" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#125008355">Simon Hudon (Apr 12 2018 at 22:44)</a>:</h4>
<p>Which commit does <code>stable</code> correspond to?</p>

<a name="125014147"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/125014147" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#125014147">Kenny Lau (Apr 13 2018 at 01:55)</a>:</h4>
<p><span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span> my antivirus goes into panic mode when i try to elan</p>

<a name="125022137"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/125022137" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#125022137">Sebastian Ullrich (Apr 13 2018 at 06:51)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> Gah. I don't think I can help with that.</p>

<a name="125022193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/125022193" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#125022193">Sebastian Ullrich (Apr 13 2018 at 06:53)</a>:</h4>
<p><span class="user-mention" data-user-id="110026">@Simon Hudon</span> The latest release at <a href="https://github.com/leanprover/lean/releases" target="_blank" title="https://github.com/leanprover/lean/releases">https://github.com/leanprover/lean/releases</a>. Hopefully it should also be displayed by now?</p>

<a name="125084643"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/125084643" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#125084643">Sebastian Ullrich (Apr 14 2018 at 18:49)</a>:</h4>
<p>Huh, turns out elan can actually be installed by <a href="/user_uploads/3121/aTr--iw7q3zuQPTrImdZX9-x/pasted_image.png" target="_blank" title="pasted_image.png">double-clicking it</a> on Windows</p>
<div class="message_inline_image"><a href="/user_uploads/3121/aTr--iw7q3zuQPTrImdZX9-x/pasted_image.png" target="_blank" title="double-clicking it"><img src="/user_uploads/3121/aTr--iw7q3zuQPTrImdZX9-x/pasted_image.png"></a></div>

<a name="125084646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/125084646" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#125084646">Sebastian Ullrich (Apr 14 2018 at 18:49)</a>:</h4>
<p>So I think we're fine :)</p>

<a name="125084833"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/125084833" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#125084833">Mario Carneiro (Apr 14 2018 at 18:56)</a>:</h4>
<p>How does elan setup differ from previous leanpkg setup layout? I.e. locations of lean and leanpkg and installed repos</p>

<a name="125084932"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/125084932" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#125084932">Sebastian Ullrich (Apr 14 2018 at 19:00)</a>:</h4>
<p>The package and Lean root layout is the same. The only difference is that the binaries in <code>~/.elan/bin</code> are just shims pointing to a spefic Lean root in <code>~/.elan/toolchains</code>.</p>

<a name="125107319"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly%20version%20stapling/near/125107319" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/30952nightlyversionstapling.html#125107319">Sebastian Ullrich (Apr 15 2018 at 10:41)</a>:</h4>
<p>Windows nightlies _finally_ working now <a href="https://github.com/leanprover/lean-nightly/releases/tag/nightly-2018-04-14" target="_blank" title="https://github.com/leanprover/lean-nightly/releases/tag/nightly-2018-04-14">https://github.com/leanprover/lean-nightly/releases/tag/nightly-2018-04-14</a></p>


{% endraw %}
