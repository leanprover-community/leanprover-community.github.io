---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/07729basiclogic.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/07729basiclogic.html">basic logic</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="158114114"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/basic%20logic/near/158114114" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07729basiclogic.html#158114114">Kevin Buzzard (Feb 12 2019 at 12:43)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">finite_or_infinite_peaks</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span>
<span class="o">(</span><span class="bp">∃</span> <span class="n">N</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">i</span><span class="o">,</span> <span class="n">is_peak</span> <span class="n">a</span> <span class="n">i</span> <span class="bp">→</span> <span class="n">i</span> <span class="bp">≤</span> <span class="n">N</span><span class="o">)</span> <span class="bp">∨</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">N</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">i</span><span class="o">,</span> <span class="n">is_peak</span> <span class="n">a</span> <span class="n">i</span> <span class="bp">∧</span> <span class="n">i</span> <span class="bp">&gt;</span> <span class="n">N</span><span class="o">)</span> <span class="o">:=</span> <span class="n">sorry</span>
</pre></div>


<p>(<code>is_peak a i</code> is just some random predicate). This is true by pure logic. Is there a tactic which does this for me? I tried <code>cc</code> and <code>finish</code> and now I'm out of ideas.</p>

<a name="158114194"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/basic%20logic/near/158114194" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07729basiclogic.html#158114194">Johan Commelin (Feb 12 2019 at 12:44)</a>:</h4>
<p><code>tauto</code>?</p>

<a name="158114195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/basic%20logic/near/158114195" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07729basiclogic.html#158114195">Kevin Buzzard (Feb 12 2019 at 12:44)</a>:</h4>
<p>I'm happy to be classical if this is an issue</p>

<a name="158114206"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/basic%20logic/near/158114206" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07729basiclogic.html#158114206">Johan Commelin (Feb 12 2019 at 12:45)</a>:</h4>
<p>Didn't  try it though...</p>

<a name="158114229"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/basic%20logic/near/158114229" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07729basiclogic.html#158114229">Kevin Buzzard (Feb 12 2019 at 12:45)</a>:</h4>
<p>tauto doesn't work for me. I hope I've not made a typo :-) I didn't try to prove it :-)</p>

<a name="158114663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/basic%20logic/near/158114663" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07729basiclogic.html#158114663">Kevin Buzzard (Feb 12 2019 at 12:50)</a>:</h4>
<p>OK, no typo :-)</p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">finite_or_infinite_peaks</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span>
<span class="o">(</span><span class="bp">∃</span> <span class="n">N</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">i</span><span class="o">,</span> <span class="n">is_peak</span> <span class="n">a</span> <span class="n">i</span> <span class="bp">→</span> <span class="n">i</span> <span class="bp">≤</span> <span class="n">N</span><span class="o">)</span> <span class="bp">∨</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">N</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">i</span><span class="o">,</span> <span class="n">is_peak</span> <span class="n">a</span> <span class="n">i</span> <span class="bp">∧</span> <span class="n">i</span> <span class="bp">&gt;</span> <span class="n">N</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">cases</span> <span class="n">classical</span><span class="bp">.</span><span class="n">em</span> <span class="o">(</span><span class="bp">∃</span> <span class="n">N</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">i</span><span class="o">,</span> <span class="n">is_peak</span> <span class="n">a</span> <span class="n">i</span> <span class="bp">→</span> <span class="n">i</span> <span class="bp">≤</span> <span class="n">N</span><span class="o">),</span>
    <span class="n">left</span><span class="o">,</span> <span class="n">assumption</span><span class="o">,</span>
  <span class="n">right</span><span class="o">,</span>
  <span class="n">intro</span> <span class="n">N</span><span class="o">,</span>
  <span class="n">replace</span> <span class="n">h</span> <span class="o">:=</span> <span class="n">forall_not_of_not_exists</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">replace</span> <span class="n">h</span> <span class="o">:=</span> <span class="n">h</span> <span class="n">N</span><span class="o">,</span>
  <span class="n">dsimp</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">not_forall</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">h</span> <span class="k">with</span> <span class="n">x</span> <span class="n">hx</span><span class="o">,</span>
  <span class="n">use</span> <span class="n">x</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">not_imp</span> <span class="n">at</span> <span class="n">hx</span><span class="o">,</span>
  <span class="n">convert</span> <span class="n">hx</span><span class="o">,</span>
  <span class="n">simp</span><span class="o">,</span>
<span class="kn">end</span>
</pre></div>


<p>Help!</p>

<a name="158114700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/basic%20logic/near/158114700" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07729basiclogic.html#158114700">Kevin Buzzard (Feb 12 2019 at 12:51)</a>:</h4>
<p>Just to be clear, the question is how to pwn it, not how to prove it.</p>

<a name="158114763"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/basic%20logic/near/158114763" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07729basiclogic.html#158114763">Patrick Massot (Feb 12 2019 at 12:52)</a>:</h4>
<p>Did you try something like</p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">finite_or_infinite_peaks</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span>
<span class="o">(</span><span class="bp">∃</span> <span class="n">N</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">i</span><span class="o">,</span> <span class="n">is_peak</span> <span class="n">a</span> <span class="n">i</span> <span class="bp">→</span> <span class="n">i</span> <span class="bp">≤</span> <span class="n">N</span><span class="o">)</span> <span class="bp">∨</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">N</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">i</span><span class="o">,</span> <span class="n">is_peak</span> <span class="n">a</span> <span class="n">i</span> <span class="bp">∧</span> <span class="n">i</span> <span class="bp">&gt;</span> <span class="n">N</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">by_cases</span> <span class="n">H</span> <span class="o">:</span> <span class="o">(</span><span class="bp">∃</span> <span class="n">N</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">i</span><span class="o">,</span> <span class="n">is_peak</span> <span class="n">a</span> <span class="n">i</span> <span class="bp">→</span> <span class="n">i</span> <span class="bp">≤</span> <span class="n">N</span><span class="o">),</span>
  <span class="o">{</span> <span class="n">left</span><span class="o">,</span> <span class="n">assumption</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">right</span><span class="o">,</span>
    <span class="n">simpa</span> <span class="o">[</span><span class="n">not_exists</span><span class="o">,</span> <span class="n">not_forall</span><span class="o">,</span> <span class="n">not_le</span><span class="o">,</span> <span class="n">exists_prop</span><span class="o">]</span> <span class="kn">using</span> <span class="n">H</span> <span class="o">}</span>
<span class="kn">end</span>
</pre></div>

<a name="158114800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/basic%20logic/near/158114800" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07729basiclogic.html#158114800">Patrick Massot (Feb 12 2019 at 12:53)</a>:</h4>
<p>I agree there should be a tactic for this. I started to work on it, but have too many things going on...</p>

<a name="158114921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/basic%20logic/near/158114921" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07729basiclogic.html#158114921">Patrick Massot (Feb 12 2019 at 12:55)</a>:</h4>
<p>Better:</p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">finite_or_infinite_peaks</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span>
<span class="o">(</span><span class="bp">∃</span> <span class="n">N</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">i</span><span class="o">,</span> <span class="n">is_peak</span> <span class="n">a</span> <span class="n">i</span> <span class="bp">→</span> <span class="n">i</span> <span class="bp">≤</span> <span class="n">N</span><span class="o">)</span> <span class="bp">∨</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">N</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">i</span><span class="o">,</span> <span class="n">is_peak</span> <span class="n">a</span> <span class="n">i</span> <span class="bp">∧</span> <span class="n">i</span> <span class="bp">&gt;</span> <span class="n">N</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">rw</span> <span class="n">or_iff_not_imp_left</span><span class="o">,</span>
  <span class="n">intro</span> <span class="n">H</span><span class="o">,</span>
  <span class="n">simpa</span> <span class="o">[</span><span class="n">not_exists</span><span class="o">,</span> <span class="n">not_forall</span><span class="o">,</span> <span class="n">not_le</span><span class="o">,</span> <span class="n">exists_prop</span><span class="o">]</span> <span class="kn">using</span> <span class="n">H</span>
<span class="kn">end</span>
</pre></div>

<a name="158115060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/basic%20logic/near/158115060" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07729basiclogic.html#158115060">Patrick Massot (Feb 12 2019 at 12:57)</a>:</h4>
<p>I realized while teaching that students don't like <code>left</code> vs <code>right</code> when proving disjunctions, what they feel to be natural is exactly this "or_iff_not_imp_left" style of proof</p>

<a name="158115146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/basic%20logic/near/158115146" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07729basiclogic.html#158115146">Patrick Massot (Feb 12 2019 at 12:58)</a>:</h4>
<p>I mean normal students, not constructive Kenny</p>

<a name="158115295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/basic%20logic/near/158115295" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07729basiclogic.html#158115295">Mario Carneiro (Feb 12 2019 at 13:01)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">open</span> <span class="n">classical</span>
<span class="n">local</span> <span class="n">attribute</span> <span class="o">[</span><span class="kn">instance</span><span class="o">]</span> <span class="n">prop_decidable</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">(</span><span class="n">is_peak</span> <span class="o">:</span> <span class="o">(</span><span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">R</span><span class="o">)</span> <span class="bp">→</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span>
<span class="kn">lemma</span> <span class="n">finite_or_infinite_peaks</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">∃</span> <span class="n">N</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">i</span><span class="o">,</span> <span class="n">is_peak</span> <span class="n">a</span> <span class="n">i</span> <span class="bp">→</span> <span class="n">i</span> <span class="bp">≤</span> <span class="n">N</span><span class="o">)</span> <span class="bp">∨</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">N</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">i</span><span class="o">,</span> <span class="n">is_peak</span> <span class="n">a</span> <span class="n">i</span> <span class="bp">∧</span> <span class="n">i</span> <span class="bp">&gt;</span> <span class="n">N</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">not_forall</span><span class="o">]</span> <span class="kn">using</span> <span class="n">em</span> <span class="o">(</span><span class="bp">∃</span> <span class="n">N</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">i</span><span class="o">,</span> <span class="n">is_peak</span> <span class="n">a</span> <span class="n">i</span> <span class="bp">→</span> <span class="n">i</span> <span class="bp">≤</span> <span class="n">N</span><span class="o">)</span>
</pre></div>

<a name="158115363"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/basic%20logic/near/158115363" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07729basiclogic.html#158115363">Mario Carneiro (Feb 12 2019 at 13:01)</a>:</h4>
<p>I would usually use <code>by_cases ∃ N, ∀ i, is_peak a i → i ≤ N</code> and simplify the hypothesis in the second branch</p>

<a name="158115367"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/basic%20logic/near/158115367" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07729basiclogic.html#158115367">Patrick Massot (Feb 12 2019 at 13:01)</a>:</h4>
<p>I should have written my solution works with <code>simpa only </code></p>

<a name="158115444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/basic%20logic/near/158115444" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07729basiclogic.html#158115444">Patrick Massot (Feb 12 2019 at 13:02)</a>:</h4>
<p>I still don't know why <code>not_exists</code> is a simp lemma while <code>not_forall</code> isn't</p>

<a name="158115461"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/basic%20logic/near/158115461" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07729basiclogic.html#158115461">Mario Carneiro (Feb 12 2019 at 13:03)</a>:</h4>
<p>I was just asking myself the same question</p>

<a name="158115485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/basic%20logic/near/158115485" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07729basiclogic.html#158115485">Patrick Massot (Feb 12 2019 at 13:03)</a>:</h4>
<p><a href="#narrow/stream/113488-general/topic/not_forall" title="#narrow/stream/113488-general/topic/not_forall">https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/not_forall</a></p>

<a name="158115487"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/basic%20logic/near/158115487" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07729basiclogic.html#158115487">Mario Carneiro (Feb 12 2019 at 13:03)</a>:</h4>
<p>those decidability assumptions are really awkward tho</p>

<a name="158115488"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/basic%20logic/near/158115488" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07729basiclogic.html#158115488">Kenny Lau (Feb 12 2019 at 13:03)</a>:</h4>
<p>because one is constructive and the other isn't?</p>

<a name="158115543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/basic%20logic/near/158115543" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07729basiclogic.html#158115543">Mario Carneiro (Feb 12 2019 at 13:04)</a>:</h4>
<p>they are both constructive kenny</p>

<a name="158115554"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/basic%20logic/near/158115554" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07729basiclogic.html#158115554">Kenny Lau (Feb 12 2019 at 13:04)</a>:</h4>
<p>you know what I mean</p>


{% endraw %}
