---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/60002notationwithunknownsymbols.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html">notation with unknown symbols</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="125496391"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125496391" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125496391">Patrick Massot (Apr 21 2018 at 15:16)</a>:</h4>
<p>Is it possible to have notation using unknown symbols? Say I want a new notation for lambda abstraction (this is not my use case, I try to minimize). I try:</p>
<div class="codehilite"><pre><span></span><span class="kn">notation</span> <span class="bp">`</span><span class="n">mkfun</span><span class="bp">`</span> <span class="n">x</span> <span class="bp">`</span><span class="o">,</span><span class="bp">`</span> <span class="n">f</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">f</span>
<span class="bp">#</span><span class="kn">check</span> <span class="n">mkfun</span> <span class="n">x</span><span class="o">,</span> <span class="o">(</span><span class="n">x</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span>
</pre></div>


<p>But it fails with <code>unknown identifier 'x'</code></p>

<a name="125496442"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125496442" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125496442">Gabriel Ebner (Apr 21 2018 at 15:18)</a>:</h4>
<p>You might want to check out how the notation for ∃ is defined: <a href="https://github.com/leanprover/lean/blob/f59c2f0ef59fdc1833b6ead6adca721123bd7932/library/init/logic.lean#L532-L533" target="_blank" title="https://github.com/leanprover/lean/blob/f59c2f0ef59fdc1833b6ead6adca721123bd7932/library/init/logic.lean#L532-L533">https://github.com/leanprover/lean/blob/f59c2f0ef59fdc1833b6ead6adca721123bd7932/library/init/logic.lean#L532-L533</a></p>

<a name="125496451"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125496451" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125496451">Patrick Massot (Apr 21 2018 at 15:19)</a>:</h4>
<p>Thanks, it looks promising</p>

<a name="125496452"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125496452" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125496452">Simon Hudon (Apr 21 2018 at 15:19)</a>:</h4>
<p>It works with the <code>binder</code> / <code>binders</code> keywords and <code>scoped</code></p>

<a name="125496498"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125496498" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125496498">Patrick Massot (Apr 21 2018 at 15:20)</a>:</h4>
<p>any chance this <code>r:(</code> thing is documented somewhere?</p>

<a name="125496503"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125496503" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125496503">Patrick Massot (Apr 21 2018 at 15:20)</a>:</h4>
<p>oh, <code>binders</code> is also a special word here?</p>

<a name="125496504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125496504" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125496504">Simon Hudon (Apr 21 2018 at 15:20)</a>:</h4>
<p>Kevin and I had a long conversation about it on gitter. Let's see if I can find it again</p>

<a name="125496505"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125496505" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125496505">Simon Hudon (Apr 21 2018 at 15:20)</a>:</h4>
<p>yes</p>

<a name="125496617"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125496617" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125496617">Simon Hudon (Apr 21 2018 at 15:24)</a>:</h4>
<p><span class="emoji emoji-261d" title="point up">:point_up:</span> <a href="https://gitter.im/leanprover_public/Lobby?at=5a5691dd83152df26d570d0f" target="_blank" title="https://gitter.im/leanprover_public/Lobby?at=5a5691dd83152df26d570d0f">January 10, 2018 5:21 PM</a></p>

<a name="125496679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125496679" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125496679">Simon Hudon (Apr 21 2018 at 15:27)</a>:</h4>
<p>In short <code>r:(...)</code> gives a name to an expression that can be built in one of two ways:</p>
<ul>
<li><code>scoped</code></li>
<li><code>foldl</code> / <code>foldr</code></li>
</ul>
<p>In <code>r:(scoped p, ...)</code>, <code>p</code> is a bound variable that you can use in <code>...</code>. It will be replaced with a lambda abstraction</p>

<a name="125496781"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125496781" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125496781">Patrick Massot (Apr 21 2018 at 15:30)</a>:</h4>
<p>It sorts of make sense, but not to the point where I could fix my <code>mkfun</code> example</p>

<a name="125496787"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125496787" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125496787">Patrick Massot (Apr 21 2018 at 15:31)</a>:</h4>
<p>oh wait</p>

<a name="125496788"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125496788" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125496788">Patrick Massot (Apr 21 2018 at 15:31)</a>:</h4>
<p>I can actually</p>

<a name="125496790"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125496790" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125496790">Patrick Massot (Apr 21 2018 at 15:31)</a>:</h4>
<p><code>notation `mkfun` binders `,` r:(scoped f, f) := r</code> does work</p>

<a name="125496877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125496877" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125496877">Simon Hudon (Apr 21 2018 at 15:34)</a>:</h4>
<p>So, if I may ask, why are you making fun of lambda abstractions?</p>

<a name="125496885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125496885" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125496885">Patrick Massot (Apr 21 2018 at 15:35)</a>:</h4>
<p>I laughed. Do you also want an answer?</p>

<a name="125496887"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125496887" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125496887">Simon Hudon (Apr 21 2018 at 15:35)</a>:</h4>
<p>Both are appreciated <span class="emoji emoji-1f606" title="laughing">:laughing:</span></p>

<a name="125496922"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125496922" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125496922">Patrick Massot (Apr 21 2018 at 15:36)</a>:</h4>
<p>I'm trying to setup some notations for sums and products</p>

<a name="125496937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125496937" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125496937">Patrick Massot (Apr 21 2018 at 15:37)</a>:</h4>
<p>I would like to be able to write something like <code>def f := λ n, Sum_{0 ≤ i ≤ n} i^2</code></p>

<a name="125496938"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125496938" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125496938">Patrick Massot (Apr 21 2018 at 15:37)</a>:</h4>
<p>I have no problem defining such a function</p>

<a name="125496939"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125496939" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125496939">Patrick Massot (Apr 21 2018 at 15:38)</a>:</h4>
<p>Using <code>list.sum</code> and <code>list.range</code></p>

<a name="125496979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125496979" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125496979">Patrick Massot (Apr 21 2018 at 15:38)</a>:</h4>
<p>I have trouble setting up the notation</p>

<a name="125496981"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125496981" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125496981">Simon Hudon (Apr 21 2018 at 15:38)</a>:</h4>
<p>Cool :) btw, would it be useful to you to have a notation for <code>classical.epsilon</code>: <code>ε x, 1 ≤ x ≤ 3</code>?</p>

<a name="125496982"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125496982" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125496982">Kenny Lau (Apr 21 2018 at 15:38)</a>:</h4>
<p>not sure how easy it would be to implement it</p>

<a name="125496983"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125496983" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125496983">Kenny Lau (Apr 21 2018 at 15:38)</a>:</h4>
<p>I mean, what are you going to produce when there is no such element</p>

<a name="125496991"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125496991" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125496991">Kenny Lau (Apr 21 2018 at 15:39)</a>:</h4>
<p>in classical Hilbert epsilon it is supposed to produce "whatever"</p>

<a name="125497039"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125497039" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125497039">Simon Hudon (Apr 21 2018 at 15:40)</a>:</h4>
<p><code>classical.epsilon</code> already exists. It's only defined on nonempty types. When no such <code>x</code> exists, an arbitrary value is picked</p>

<a name="125497042"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125497042" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125497042">Kenny Lau (Apr 21 2018 at 15:40)</a>:</h4>
<p>but then it is empty</p>

<a name="125497043"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125497043" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125497043">Kenny Lau (Apr 21 2018 at 15:40)</a>:</h4>
<p>what is going to be the type of the output</p>

<a name="125497054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125497054" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125497054">Simon Hudon (Apr 21 2018 at 15:41)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> Do you have a special provision for infinite sets in <code>Sum_{ ... }</code>?</p>

<a name="125497087"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125497087" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125497087">Patrick Massot (Apr 21 2018 at 15:42)</a>:</h4>
<p>I was thinking about finite sums here</p>

<a name="125497102"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125497102" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125497102">Patrick Massot (Apr 21 2018 at 15:43)</a>:</h4>
<p>Really I want to convert </p>
<div class="codehilite"><pre><span></span><span class="kn">open</span> <span class="n">data</span><span class="bp">.</span><span class="n">list</span><span class="bp">.</span><span class="n">basic</span>
<span class="kn">open</span> <span class="n">list</span>
<span class="n">def</span> <span class="n">f</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="n">sum</span> <span class="o">(</span><span class="n">map</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">i</span><span class="o">,</span> <span class="n">i</span><span class="bp">*</span><span class="n">i</span><span class="o">)</span> <span class="o">(</span><span class="n">range</span> <span class="n">n</span><span class="o">))</span>
</pre></div>


<p>to what I wrote earlier</p>

<a name="125497105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125497105" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125497105">Patrick Massot (Apr 21 2018 at 15:43)</a>:</h4>
<p>having a nice notation</p>

<a name="125497143"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125497143" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125497143">Patrick Massot (Apr 21 2018 at 15:44)</a>:</h4>
<p>where the name of the bound variable i is not hard-wired in the notation</p>

<a name="125497161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125497161" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125497161">Simon Hudon (Apr 21 2018 at 15:45)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> here is the type of <code>epsilon</code>:</p>
<div class="codehilite"><pre><span></span><span class="n">noncomputable</span> <span class="n">def</span> <span class="n">epsilon</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="n">Sort</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">h</span> <span class="o">:</span> <span class="n">nonempty</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="n">α</span> <span class="o">:=</span>
</pre></div>

<a name="125497205"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125497205" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125497205">Kenny Lau (Apr 21 2018 at 15:46)</a>:</h4>
<p>oh, I misinterpreted everything</p>

<a name="125497212"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125497212" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125497212">Simon Hudon (Apr 21 2018 at 15:47)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> <br>
How about this as the underlying function:</p>
<div class="codehilite"><pre><span></span><span class="n">sum</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">ℕ</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">α</span><span class="o">)</span> <span class="bp">→</span> <span class="n">α</span> <span class="o">:=</span> <span class="bp">...</span>
</pre></div>


<p>Basically, the notation should be hardwired to fix an upper bound on the range</p>

<a name="125497251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125497251" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125497251">Simon Hudon (Apr 21 2018 at 15:48)</a>:</h4>
<p>but you still get to filter individual terms</p>

<a name="125497312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125497312" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125497312">Patrick Massot (Apr 21 2018 at 15:51)</a>:</h4>
<p>I don't really care about the underlying function. I want my notation with only the formula in term of i, not prefaced with a lambda</p>

<a name="125497355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125497355" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125497355">Simon Hudon (Apr 21 2018 at 15:52)</a>:</h4>
<p>One step at a time, young padawan, I'm getting there</p>

<a name="125497521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125497521" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125497521">Patrick Massot (Apr 21 2018 at 15:59)</a>:</h4>
<p>I'm making progress</p>
<div class="codehilite"><pre><span></span><span class="kn">notation</span> <span class="bp">`</span><span class="n">Sum_</span><span class="o">{</span><span class="bp">`</span> <span class="n">binders</span> <span class="bp">`≤`</span> <span class="n">n</span> <span class="bp">`</span><span class="o">}</span><span class="bp">`</span> <span class="n">r</span><span class="o">:(</span><span class="n">scoped</span> <span class="n">f</span><span class="o">,</span> <span class="n">f</span><span class="o">)</span> <span class="o">:=</span> <span class="n">sum</span> <span class="o">(</span><span class="n">map</span> <span class="n">f</span> <span class="err">$</span> <span class="n">range</span> <span class="n">n</span><span class="o">)</span>
<span class="bp">#</span><span class="kn">eval</span> <span class="n">Sum_</span><span class="o">{</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="bp">≤</span> <span class="mi">4</span><span class="o">}</span> <span class="n">i</span><span class="bp">*</span><span class="n">i</span>
</pre></div>

<a name="125497568"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125497568" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125497568">Simon Hudon (Apr 21 2018 at 16:01)</a>:</h4>
<p>Not bad!</p>

<a name="125497597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125497597" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125497597">Simon Hudon (Apr 21 2018 at 16:02)</a>:</h4>
<p>I was trying:</p>
<div class="codehilite"><pre><span></span><span class="kn">notation</span> <span class="bp">`</span><span class="err">ΣΣ</span> <span class="bp">`</span> <span class="n">binder</span> <span class="bp">`</span> <span class="bp">|</span> <span class="bp">`</span> <span class="n">f</span><span class="o">:(</span><span class="n">scoped</span> <span class="n">x</span><span class="o">,</span> <span class="n">x</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">ub</span><span class="o">:(</span><span class="n">scoped</span> <span class="n">x</span><span class="o">,</span> <span class="n">x</span><span class="o">)</span> <span class="bp">`</span> <span class="bp">≤</span> <span class="bp">`</span> <span class="n">n</span> <span class="bp">`</span><span class="o">,</span> <span class="bp">`</span> <span class="n">t</span><span class="o">:(</span><span class="n">scoped</span> <span class="n">x</span><span class="o">,</span> <span class="n">x</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">sum&#39;</span> <span class="n">n</span> <span class="n">f</span> <span class="n">t</span>

<span class="kn">example</span> <span class="o">:</span> <span class="o">(</span><span class="err">ΣΣ</span> <span class="n">x</span> <span class="bp">|</span> <span class="mi">0</span> <span class="bp">≤</span> <span class="n">x</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">≤</span> <span class="mi">7</span><span class="o">,</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≤</span> <span class="mi">7</span> <span class="o">:=</span> <span class="bp">_</span>
</pre></div>


<p>But I think you're not allowed to use <code>scoped</code> so many times.</p>

<a name="125497617"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125497617" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125497617">Patrick Massot (Apr 21 2018 at 16:02)</a>:</h4>
<p>I can even replace <code>(i : ℕ)</code> by <code>(i)</code> but not by <code>i</code></p>

<a name="125497623"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125497623" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125497623">Simon Hudon (Apr 21 2018 at 16:03)</a>:</h4>
<p>Not <code>i</code>? What error does it give you?</p>

<a name="125497666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125497666" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125497666">Patrick Massot (Apr 21 2018 at 16:04)</a>:</h4>
<p>invalid expression</p>

<a name="125497675"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125497675" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125497675">Simon Hudon (Apr 21 2018 at 16:05)</a>:</h4>
<p>That's intriguing. You may want to try giving precedences to the tokens: <code> ` ≤ `:0</code></p>

<a name="125497718"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125497718" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125497718">Simon Hudon (Apr 21 2018 at 16:06)</a>:</h4>
<p>I'll catch up with you later. There an adorable 2 year old here who needs attention :)</p>

<a name="125497720"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125497720" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125497720">Patrick Massot (Apr 21 2018 at 16:06)</a>:</h4>
<p>Too bad, I was hoping your nephew was also a Lean expert</p>

<a name="125497723"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125497723" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125497723">Patrick Massot (Apr 21 2018 at 16:06)</a>:</h4>
<p>Have fun!</p>

<a name="125497729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125497729" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125497729">Simon Hudon (Apr 21 2018 at 16:07)</a>:</h4>
<p>He's more of an Idris kind of guy</p>

<a name="125497732"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125497732" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125497732">Patrick Massot (Apr 21 2018 at 16:07)</a>:</h4>
<p><span class="emoji emoji-1f604" title="smile">:smile:</span></p>

<a name="125497733"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125497733" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125497733">Simon Hudon (Apr 21 2018 at 16:07)</a>:</h4>
<p>His name is Idris but I assume that speaks to his parents preference of Idris over Agda and Lean</p>

<a name="125497739"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125497739" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125497739">Simon Hudon (Apr 21 2018 at 16:08)</a>:</h4>
<p>And not to the sexiness of Idris Elba <span class="emoji emoji-1f61c" title="stuck out tongue winking eye">:stuck_out_tongue_winking_eye:</span></p>

<a name="125503970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125503970" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125503970">Patrick Massot (Apr 21 2018 at 20:07)</a>:</h4>
<p>Does anyone has a decidable predicate on nat at hand?</p>

<a name="125504018"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125504018" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125504018">Chris Hughes (Apr 21 2018 at 20:09)</a>:</h4>
<p><code>pos</code></p>

<a name="125504019"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125504019" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125504019">Chris Hughes (Apr 21 2018 at 20:09)</a>:</h4>
<p>Any predicate?</p>

<a name="125504060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125504060" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125504060">Chris Hughes (Apr 21 2018 at 20:10)</a>:</h4>
<p><code>(λ n : ℕ, true)</code> :-)</p>

<a name="125504061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125504061" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125504061">Patrick Massot (Apr 21 2018 at 20:10)</a>:</h4>
<p>Maybe somethin like even or odd exist somewhere and is decidable</p>

<a name="125504062"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125504062" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125504062">Patrick Massot (Apr 21 2018 at 20:10)</a>:</h4>
<p>I need a decidable instance in the library</p>

<a name="125504064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125504064" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125504064">Sebastian Ullrich (Apr 21 2018 at 20:10)</a>:</h4>
<p>Fun fact: Idris has an <code>Elab</code> monad. Have you ever tried googling for "idris elab"?</p>

<a name="125504071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125504071" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125504071">Reid Barton (Apr 21 2018 at 20:11)</a>:</h4>
<p>there's <code>prime</code>, in <code>data.nat.prime</code></p>

<a name="125504072"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125504072" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125504072">Chris Hughes (Apr 21 2018 at 20:11)</a>:</h4>
<p>even is decidable, if you define it as <code>n % 2 = 0</code></p>

<a name="125504117"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125504117" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125504117">Chris Hughes (Apr 21 2018 at 20:13)</a>:</h4>
<p><span class="user-mention" data-user-id="110032">@Reid Barton</span> I couldn't manage to use that instance to prove 3 is prime.</p>

<a name="125504118"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125504118" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125504118">Simon Hudon (Apr 21 2018 at 20:13)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> I did some more experiment and I managed to define a syntax for <code>ΣΣ i, i ≥ 3 ∧ i &lt; 21 ∧ even i ▻ i^2</code> which guarantees that <code>i</code> is bounded. How do you like the notation? (I made the formula a bit ugly to demonstrate that the form is pretty flexible)</p>

<a name="125504165"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125504165" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125504165">Patrick Massot (Apr 21 2018 at 20:15)</a>:</h4>
<p><code>#eval if nat.prime 3 then 1 else 0</code> does work here</p>

<a name="125504166"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125504166" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125504166">Patrick Massot (Apr 21 2018 at 20:15)</a>:</h4>
<p>thanks</p>

<a name="125504217"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125504217" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125504217">Chris Hughes (Apr 21 2018 at 20:17)</a>:</h4>
<p><code>example : 1 = if nat.prime 3 then (1 : ℕ) else (0 : ℕ) := rfl</code> doesn't work though unfortunately. It does work for 2 though</p>

<a name="125504502"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125504502" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125504502">Patrick Massot (Apr 21 2018 at 20:28)</a>:</h4>
<p>My current achievements are at <a href="https://github.com/PatrickMassot/lean-scratchpad/blob/master/src/bigop.lean" target="_blank" title="https://github.com/PatrickMassot/lean-scratchpad/blob/master/src/bigop.lean">https://github.com/PatrickMassot/lean-scratchpad/blob/master/src/bigop.lean</a></p>

<a name="125504503"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125504503" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125504503">Patrick Massot (Apr 21 2018 at 20:29)</a>:</h4>
<p>I still has precedence issues</p>

<a name="125504508"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125504508" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125504508">Patrick Massot (Apr 21 2018 at 20:29)</a>:</h4>
<p>But I'm already happy</p>

<a name="125504510"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125504510" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125504510">Patrick Massot (Apr 21 2018 at 20:29)</a>:</h4>
<p>I have quite a lot of ways of computing 5!</p>

<a name="125504556"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125504556" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125504556">Patrick Massot (Apr 21 2018 at 20:30)</a>:</h4>
<p>And I seems I was able to state a lemma about big product for an associative operator and apply it to addition in nat</p>

<a name="125504568"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125504568" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125504568">Patrick Massot (Apr 21 2018 at 20:31)</a>:</h4>
<p>For those who didn't follow previous discussions, I'm going after <a href="http://hal.inria.fr/docs/00/33/11/93/PDF/main.pdf" target="_blank" title="http://hal.inria.fr/docs/00/33/11/93/PDF/main.pdf">http://hal.inria.fr/docs/00/33/11/93/PDF/main.pdf</a></p>

<a name="125504569"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125504569" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125504569">Simon Hudon (Apr 21 2018 at 20:31)</a>:</h4>
<p>Nice!</p>

<a name="125504576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125504576" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125504576">Simon Hudon (Apr 21 2018 at 20:31)</a>:</h4>
<p>If you're interested, I've put my code here:</p>
<p><a href="https://gist.github.com/cipher1024/604d5ec28ceb29e80219ce6e69bb1ea4" target="_blank" title="https://gist.github.com/cipher1024/604d5ec28ceb29e80219ce6e69bb1ea4">https://gist.github.com/cipher1024/604d5ec28ceb29e80219ce6e69bb1ea4</a></p>

<a name="125504617"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125504617" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125504617">Mario Carneiro (Apr 21 2018 at 20:32)</a>:</h4>
<p>Hopefully this will be resolved in lean 4 (<span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span> vm replacements please) but right now you have to make a choice between VM efficient and kernel efficient. <code>decidable_prime_1</code> is kernel efficient and <code>decidable_prime</code> is VM efficient</p>

<a name="125504622"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125504622" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125504622">Mario Carneiro (Apr 21 2018 at 20:32)</a>:</h4>
<p>the default one you get is <code>decidable_prime</code></p>

<a name="125504634"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125504634" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125504634">Patrick Massot (Apr 21 2018 at 20:33)</a>:</h4>
<p><a href="https://github.com/PatrickMassot/lean-scratchpad/blob/master/src/bigop.lean#L67" target="_blank" title="https://github.com/PatrickMassot/lean-scratchpad/blob/master/src/bigop.lean#L67">https://github.com/PatrickMassot/lean-scratchpad/blob/master/src/bigop.lean#L67</a> has no trouble suming primes numbers in <code>range 5</code></p>

<a name="125504637"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125504637" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125504637">Patrick Massot (Apr 21 2018 at 20:33)</a>:</h4>
<p>That's scientific computing!</p>

<a name="125504691"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125504691" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125504691">Sebastian Ullrich (Apr 21 2018 at 20:35)</a>:</h4>
<p>Lean 4 will use a simplifier on code to be compiled, which should also enable VM replacements</p>

<a name="125504928"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125504928" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125504928">Patrick Massot (Apr 21 2018 at 20:42)</a>:</h4>
<p>What is the precedence voodoo I need to get rid of parentheses in  <a href="https://github.com/PatrickMassot/lean-scratchpad/blob/master/src/bigop.lean#L71" target="_blank" title="https://github.com/PatrickMassot/lean-scratchpad/blob/master/src/bigop.lean#L71">https://github.com/PatrickMassot/lean-scratchpad/blob/master/src/bigop.lean#L71</a> ? I mean, everything on LHS of the equality is surrounded in parenthesis, otherwise it doesn't work. How to avoid that?</p>

<a name="125504936"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125504936" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125504936">Mario Carneiro (Apr 21 2018 at 20:43)</a>:</h4>
<p>use a high precedence for left brackets and a low prec for right brackets</p>

<a name="125504985"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125504985" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125504985">Patrick Massot (Apr 21 2018 at 20:44)</a>:</h4>
<p>Which brackets?</p>

<a name="125505203"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125505203" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125505203">Chris Hughes (Apr 21 2018 at 20:52)</a>:</h4>
<p>There are alternatives characters for Pi and Sigma <code>\sum</code> and <code>\prod</code>.</p>

<a name="125505208"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125505208" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125505208">Patrick Massot (Apr 21 2018 at 20:53)</a>:</h4>
<p>I know, but they look weird in my VScode</p>

<a name="125505209"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125505209" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125505209">Patrick Massot (Apr 21 2018 at 20:53)</a>:</h4>
<p>too tall</p>

<a name="125505213"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125505213" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125505213">Patrick Massot (Apr 21 2018 at 20:53)</a>:</h4>
<p>But of course I like the semantic abbreviation</p>

<a name="125505265"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125505265" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125505265">Chris Hughes (Apr 21 2018 at 20:55)</a>:</h4>
<blockquote>
<p>too tall</p>
</blockquote>
<p>That's why they're called big operators.</p>

<a name="125505270"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125505270" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125505270">Mario Carneiro (Apr 21 2018 at 20:55)</a>:</h4>
<p><code>\sum</code> and <code>\Sigma</code> aren't the same</p>

<a name="125505321"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125505321" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125505321">Patrick Massot (Apr 21 2018 at 20:57)</a>:</h4>
<p>What do you mean?</p>

<a name="125505322"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125505322" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125505322">Patrick Massot (Apr 21 2018 at 20:57)</a>:</h4>
<p>Of course one is taller</p>

<a name="125505323"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125505323" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125505323">Patrick Massot (Apr 21 2018 at 20:57)</a>:</h4>
<p>But do you mean something else?</p>

<a name="125505325"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125505325" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125505325">Patrick Massot (Apr 21 2018 at 20:57)</a>:</h4>
<p>And of course we can give a different definition to different symbols</p>

<a name="125506073"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125506073" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125506073">Patrick Massot (Apr 21 2018 at 21:23)</a>:</h4>
<p>Oh, crap! My append lemma is not correct. Associativity is not enough, I really need a monoid.</p>

<a name="125506130"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125506130" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125506130">Patrick Massot (Apr 21 2018 at 21:25)</a>:</h4>
<p>Oh! I just used <code>rsimp</code> that <span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> explained earlier today!</p>

<a name="125506170"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125506170" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125506170">Patrick Massot (Apr 21 2018 at 21:26)</a>:</h4>
<p>No</p>

<a name="125506172"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/notation%20with%20unknown%20symbols/near/125506172" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/60002notationwithunknownsymbols.html#125506172">Patrick Massot (Apr 21 2018 at 21:26)</a>:</h4>
<p>Actually Lean is hanging</p>


{% endraw %}

{% include archive_update.html %}