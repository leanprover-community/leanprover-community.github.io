---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/93018finsetofdivisorsofpnat.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/93018finsetofdivisorsofpnat.html">finset of divisors of pnat</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="165739350"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/finset%20of%20divisors%20of%20pnat/near/165739350" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/93018finsetofdivisorsofpnat.html#165739350">Johan Commelin (May 15 2019 at 18:18)</a>:</h4>
<p>I've got a <code>n : pnat</code> and I want the <code>finset pnat</code> consisting of the divisors of <code>n</code>. I've already made an instance <code>has_dvd pnat</code> (woot!). What is now the cleanest way to get this finset?<br>
Of course... ... <code>{ d | d \| n }</code> will not work... ... ... <span aria-label="expressionless" class="emoji emoji-1f611" role="img" title="expressionless">:expressionless:</span></p>

<a name="165739367"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/finset%20of%20divisors%20of%20pnat/near/165739367" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/93018finsetofdivisorsofpnat.html#165739367">Johan Commelin (May 15 2019 at 18:18)</a>:</h4>
<p>And <code>finset.range</code> lives in <code>finset nat</code>.</p>

<a name="165739524"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/finset%20of%20divisors%20of%20pnat/near/165739524" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/93018finsetofdivisorsofpnat.html#165739524">Chris Hughes (May 15 2019 at 18:20)</a>:</h4>
<p><code>(range (n : nat).succ).filter (\| n)</code> gives the correct finset in nat.</p>

<a name="165739551"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/finset%20of%20divisors%20of%20pnat/near/165739551" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/93018finsetofdivisorsofpnat.html#165739551">Chris Hughes (May 15 2019 at 18:21)</a>:</h4>
<p>I guess you want a version of <code>range</code> for <code>pnat</code>?</p>

<a name="165739661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/finset%20of%20divisors%20of%20pnat/near/165739661" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/93018finsetofdivisorsofpnat.html#165739661">Chris Hughes (May 15 2019 at 18:22)</a>:</h4>
<p>I used this finset in <code>data.nat.totient</code></p>

<a name="165740349"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/finset%20of%20divisors%20of%20pnat/near/165740349" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/93018finsetofdivisorsofpnat.html#165740349">Johan Commelin (May 15 2019 at 18:29)</a>:</h4>
<p>Did you give it a name?</p>

<a name="165740486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/finset%20of%20divisors%20of%20pnat/near/165740486" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/93018finsetofdivisorsofpnat.html#165740486">Johan Commelin (May 15 2019 at 18:31)</a>:</h4>
<p>I really don't like the idea of duplicating all the <code>range</code> and <code>Ico</code>, etc... definitions and all their lemmas for <code>nat</code> and <code>pnat</code> and <code>int</code>... etc...</p>

<a name="165740985"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/finset%20of%20divisors%20of%20pnat/near/165740985" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/93018finsetofdivisorsofpnat.html#165740985">Johan Commelin (May 15 2019 at 18:35)</a>:</h4>
<p>I think I might do</p>
<div class="codehilite"><pre><span></span><span class="n">def</span> <span class="n">pnat</span><span class="bp">.</span><span class="n">divisors</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ+</span><span class="o">)</span> <span class="o">:</span> <span class="n">set</span> <span class="bp">ℕ+</span> <span class="o">:=</span>
<span class="o">{</span><span class="n">d</span> <span class="bp">|</span> <span class="n">d</span> <span class="err">∣</span> <span class="n">n</span><span class="o">}</span>
</pre></div>


<p>and then provide a <code>fintype</code> instance</p>

<a name="165742518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/finset%20of%20divisors%20of%20pnat/near/165742518" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/93018finsetofdivisorsofpnat.html#165742518">Chris Hughes (May 15 2019 at 18:50)</a>:</h4>
<p>It depends what you want to do with it, but you almost certainly want a finset.</p>

<a name="165756240"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/finset%20of%20divisors%20of%20pnat/near/165756240" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/93018finsetofdivisorsofpnat.html#165756240">Scott Morrison (May 15 2019 at 21:27)</a>:</h4>
<p>Perhaps a good project would be to make list.range, list.Ico, and finset.Ico type polymorphic.</p>

<a name="165756367"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/finset%20of%20divisors%20of%20pnat/near/165756367" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/93018finsetofdivisorsofpnat.html#165756367">Scott Morrison (May 15 2019 at 21:28)</a>:</h4>
<p>I'm not sure we yet have an appropriate typeclass describing the behaviour of <code>succ</code> that makes this possible in nat, pnat, int, and friends.</p>

<a name="165756665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/finset%20of%20divisors%20of%20pnat/near/165756665" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/93018finsetofdivisorsofpnat.html#165756665">Chris Hughes (May 15 2019 at 21:32)</a>:</h4>
<p>I guess it's just an ordered type where intervals are always finite. The order on finset has this property as well.</p>

<a name="165772853"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/finset%20of%20divisors%20of%20pnat/near/165772853" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/93018finsetofdivisorsofpnat.html#165772853">Scott Morrison (May 16 2019 at 02:17)</a>:</h4>
<p>Well, you need some mechanism to actually list the elements in order, don't you? Merely asserting there's an order, and intervals are finite, doesn't let you make a <code>list</code>. I was imagining some sort of <code>has_succ</code> typeclass.</p>

<a name="165773017"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/finset%20of%20divisors%20of%20pnat/near/165773017" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/93018finsetofdivisorsofpnat.html#165773017">Mario Carneiro (May 16 2019 at 02:20)</a>:</h4>
<p>It does let you make a <code>finset</code> though</p>

<a name="165781963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/finset%20of%20divisors%20of%20pnat/near/165781963" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/93018finsetofdivisorsofpnat.html#165781963">Johan Commelin (May 16 2019 at 05:51)</a>:</h4>
<p>There was some talk about <code>enumerable</code> on this chat, some time ago.</p>


{% endraw %}
