---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/40322easyinmathsunionquestion.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html">easy-in-maths union question</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="125196178"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196178" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196178">Kevin Buzzard (Apr 17 2018 at 13:07)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">set</span>
<span class="kn">universe</span> <span class="n">u</span>
<span class="kn">example</span> <span class="o">{</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">(</span><span class="n">U</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">set</span> <span class="n">Y</span><span class="o">)</span> <span class="o">:</span>
<span class="o">(</span><span class="err">⋃</span> <span class="o">(</span><span class="n">uu</span> <span class="o">:</span> <span class="o">{</span><span class="n">x</span> <span class="bp">//</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">U</span><span class="o">}),</span> <span class="n">f</span> <span class="n">uu</span><span class="bp">.</span><span class="n">val</span><span class="o">)</span> <span class="bp">=</span> <span class="err">⋃₀</span><span class="o">(</span><span class="n">f</span> <span class="err">&#39;&#39;</span> <span class="n">U</span><span class="o">)</span> <span class="o">:=</span> <span class="n">sorry</span>
</pre></div>


<p>"Two ways of writing a union are the same".</p>

<a name="125196225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196225" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196225">Kevin Buzzard (Apr 17 2018 at 13:08)</a>:</h4>
<p>This is a joy to prove in tactic mode using <code>set.subset.antisymm</code></p>

<a name="125196229"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196229" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196229">Kenny Lau (Apr 17 2018 at 13:08)</a>:</h4>
<p>is "joy" sarcasm?</p>

<a name="125196232"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196232" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196232">Kevin Buzzard (Apr 17 2018 at 13:08)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="k">begin</span>
  <span class="n">apply</span> <span class="n">set</span><span class="bp">.</span><span class="n">subset</span><span class="bp">.</span><span class="n">antisymm</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">intros</span> <span class="n">y</span> <span class="n">Hy</span><span class="o">,</span>
    <span class="n">cases</span> <span class="n">Hy</span> <span class="k">with</span> <span class="n">V</span> <span class="n">HV</span><span class="o">,</span>
    <span class="n">cases</span> <span class="n">HV</span> <span class="k">with</span> <span class="n">HV</span> <span class="n">HyV</span><span class="o">,</span>
    <span class="n">cases</span> <span class="n">HV</span> <span class="k">with</span> <span class="n">uu</span> <span class="n">HuV</span><span class="o">,</span>
    <span class="n">change</span> <span class="n">V</span> <span class="bp">=</span> <span class="n">f</span> <span class="o">(</span><span class="n">uu</span><span class="bp">.</span><span class="n">val</span><span class="o">)</span> <span class="n">at</span> <span class="n">HuV</span><span class="o">,</span>
    <span class="n">existsi</span> <span class="n">V</span><span class="o">,</span>
    <span class="n">existsi</span> <span class="bp">_</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">HyV</span><span class="o">,</span>
    <span class="n">existsi</span> <span class="n">uu</span><span class="bp">.</span><span class="n">val</span><span class="o">,</span>
    <span class="n">exact</span> <span class="bp">⟨</span><span class="n">uu</span><span class="bp">.</span><span class="n">property</span><span class="o">,</span><span class="n">eq</span><span class="bp">.</span><span class="n">symm</span> <span class="n">HuV</span><span class="bp">⟩</span>
  <span class="o">},</span>
  <span class="o">{</span> <span class="n">intros</span> <span class="n">y</span> <span class="n">Hy</span><span class="o">,</span>
    <span class="n">cases</span> <span class="n">Hy</span> <span class="k">with</span> <span class="n">V</span> <span class="n">HV</span><span class="o">,</span>
    <span class="n">cases</span> <span class="n">HV</span> <span class="k">with</span> <span class="n">HV</span> <span class="n">HyV</span><span class="o">,</span>
    <span class="n">cases</span> <span class="n">HV</span> <span class="k">with</span> <span class="n">u</span> <span class="n">HuV</span><span class="o">,</span>
    <span class="n">existsi</span> <span class="n">V</span><span class="o">,</span>
    <span class="n">existsi</span> <span class="bp">_</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">HyV</span><span class="o">,</span>
    <span class="n">existsi</span> <span class="o">(</span><span class="bp">⟨</span><span class="n">u</span><span class="o">,</span><span class="n">HuV</span><span class="bp">.</span><span class="mi">1</span><span class="bp">⟩</span> <span class="o">:</span> <span class="o">{</span><span class="n">x</span> <span class="bp">//</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">U</span><span class="o">}),</span>
    <span class="n">exact</span> <span class="n">eq</span><span class="bp">.</span><span class="n">symm</span> <span class="n">HuV</span><span class="bp">.</span><span class="mi">2</span>
  <span class="o">}</span>
</pre></div>

<a name="125196238"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196238" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196238">Kevin Buzzard (Apr 17 2018 at 13:08)</a>:</h4>
<p>no, not at all</p>

<a name="125196248"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196248" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196248">Kevin Buzzard (Apr 17 2018 at 13:09)</a>:</h4>
<p>I feel like goals like this are ones that I know I can crush</p>

<a name="125196250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196250" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196250">Kevin Buzzard (Apr 17 2018 at 13:09)</a>:</h4>
<p>so it's a bit like grinding in the early Zeldas</p>

<a name="125196251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196251" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196251">Kevin Buzzard (Apr 17 2018 at 13:09)</a>:</h4>
<p>you know you can do it and it's quite fun to do</p>

<a name="125196252"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196252" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196252">Kevin Buzzard (Apr 17 2018 at 13:09)</a>:</h4>
<p>But for something of this form which is trivially true in maths</p>

<a name="125196291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196291" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196291">Kevin Buzzard (Apr 17 2018 at 13:10)</a>:</h4>
<p>my understanding is that one should seek a short "obfuscated" proof</p>

<a name="125196301"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196301" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196301">Kevin Buzzard (Apr 17 2018 at 13:10)</a>:</h4>
<p>i.e. pull a couple of things out the library and you're done</p>

<a name="125196302"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196302" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196302">Kevin Buzzard (Apr 17 2018 at 13:10)</a>:</h4>
<p>so I looked through <code>data.set.lattice</code></p>

<a name="125196303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196303" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196303">Kevin Buzzard (Apr 17 2018 at 13:10)</a>:</h4>
<p>and I found</p>

<a name="125196308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196308" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196308">Kevin Buzzard (Apr 17 2018 at 13:10)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">open</span> <span class="n">set</span>
<span class="bp">#</span><span class="kn">check</span> <span class="bp">@</span><span class="n">sUnion_image</span>
<span class="bp">#</span><span class="kn">check</span> <span class="bp">@</span><span class="n">Union_eq_sUnion_image</span>
<span class="bp">#</span><span class="kn">check</span> <span class="bp">@</span><span class="n">sUnion_eq_Union</span>
<span class="bp">#</span><span class="kn">check</span> <span class="bp">@</span><span class="n">set</span><span class="bp">.</span><span class="n">sUnion_eq_Union&#39;</span>
</pre></div>

<a name="125196317"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196317" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196317">Kevin Buzzard (Apr 17 2018 at 13:11)</a>:</h4>
<p>all of which said "a union equals a union"</p>

<a name="125196318"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196318" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196318">Kevin Buzzard (Apr 17 2018 at 13:11)</a>:</h4>
<p>but I just can't put them all together</p>

<a name="125196322"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196322" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196322">Kevin Buzzard (Apr 17 2018 at 13:11)</a>:</h4>
<p>So I am wondering if this is a hole in the library or if I'm missing a trick</p>

<a name="125196324"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196324" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196324">Kevin Buzzard (Apr 17 2018 at 13:11)</a>:</h4>
<p>I don't know this file very well</p>

<a name="125196365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196365" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196365">Kenny Lau (Apr 17 2018 at 13:12)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">{</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">(</span><span class="n">U</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">set</span> <span class="n">Y</span><span class="o">)</span> <span class="o">:</span>
<span class="o">(</span><span class="err">⋃</span> <span class="o">(</span><span class="n">uu</span> <span class="o">:</span> <span class="o">{</span><span class="n">x</span> <span class="bp">//</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">U</span><span class="o">}),</span> <span class="n">f</span> <span class="n">uu</span><span class="bp">.</span><span class="n">val</span><span class="o">)</span> <span class="bp">=</span> <span class="err">⋃₀</span><span class="o">(</span><span class="n">f</span> <span class="err">&#39;&#39;</span> <span class="n">U</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">set</span><span class="bp">.</span><span class="n">ext</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">z</span><span class="o">,</span> <span class="bp">⟨λ</span> <span class="bp">⟨</span><span class="n">x1</span><span class="o">,</span> <span class="bp">⟨⟨</span><span class="n">x2</span><span class="o">,</span> <span class="n">H1</span><span class="bp">⟩</span><span class="o">,</span> <span class="n">H2</span><span class="bp">⟩</span><span class="o">,</span> <span class="n">H3</span><span class="bp">⟩</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">x1</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">x2</span><span class="o">,</span> <span class="n">H1</span><span class="o">,</span> <span class="n">H2</span><span class="bp">.</span><span class="n">symm</span><span class="bp">⟩</span><span class="o">,</span> <span class="n">H3</span><span class="bp">⟩</span><span class="o">,</span>
<span class="bp">λ</span> <span class="bp">⟨</span><span class="n">x1</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">x2</span><span class="o">,</span> <span class="n">H1</span><span class="o">,</span> <span class="n">H2</span><span class="bp">⟩</span><span class="o">,</span> <span class="n">H3</span><span class="bp">⟩</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">x1</span><span class="o">,</span> <span class="bp">⟨⟨</span><span class="n">x2</span><span class="o">,</span> <span class="n">H1</span><span class="bp">⟩</span><span class="o">,</span> <span class="n">H2</span><span class="bp">.</span><span class="n">symm</span><span class="bp">⟩</span><span class="o">,</span> <span class="n">H3</span><span class="bp">⟩⟩</span>
</pre></div>

<a name="125196369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196369" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196369">Kevin Buzzard (Apr 17 2018 at 13:12)</a>:</h4>
<p>I need to be quick because my daughter just woke up (she is sick and off school)</p>

<a name="125196376"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196376" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196376">Kevin Buzzard (Apr 17 2018 at 13:13)</a>:</h4>
<p>but while I'm here let me mention the independent question that I was talking about <code>existsi _</code> yesterday or so and Mario advised me not to use it, saying it was better to go back and fill it in later.</p>

<a name="125196384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196384" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196384">Kevin Buzzard (Apr 17 2018 at 13:13)</a>:</h4>
<p>However in my proof above, I used it because the thing that exists is another existsi</p>

<a name="125196391"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196391" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196391">Kevin Buzzard (Apr 17 2018 at 13:13)</a>:</h4>
<p>Aah excellent -- that looks much more like the 2-line obfuscated proof which this result deserves.</p>

<a name="125196437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196437" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196437">Kevin Buzzard (Apr 17 2018 at 13:14)</a>:</h4>
<p>Should it be in the library?</p>

<a name="125196438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196438" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196438">Kevin Buzzard (Apr 17 2018 at 13:14)</a>:</h4>
<p>Thanks Kenny.</p>

<a name="125196441"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196441" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196441">Kenny Lau (Apr 17 2018 at 13:14)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">{</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">(</span><span class="n">U</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">set</span> <span class="n">Y</span><span class="o">)</span> <span class="o">:</span>
<span class="o">(</span><span class="err">⋃</span> <span class="o">(</span><span class="n">uu</span> <span class="o">:</span> <span class="o">{</span><span class="n">x</span> <span class="bp">//</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">U</span><span class="o">}),</span> <span class="n">f</span> <span class="n">uu</span><span class="bp">.</span><span class="n">val</span><span class="o">)</span> <span class="bp">=</span> <span class="err">⋃₀</span><span class="o">(</span><span class="n">f</span> <span class="err">&#39;&#39;</span> <span class="n">U</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">finish</span> <span class="o">[</span><span class="n">set</span><span class="bp">.</span><span class="n">set_eq_def</span><span class="o">]</span>
</pre></div>

<a name="125196452"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196452" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196452">Johannes Hölzl (Apr 17 2018 at 13:15)</a>:</h4>
<p>the simplifier also works: <code>by simp [set.set_eq_def]</code></p>

<a name="125196454"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196454" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196454">Kenny Lau (Apr 17 2018 at 13:15)</a>:</h4>
<p>now we just switched camps :P</p>

<a name="125196507"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196507" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196507">Kevin Buzzard (Apr 17 2018 at 13:16)</a>:</h4>
<p>Aah! I tried to use simp a lot too, but my simp-fu is weak.</p>

<a name="125196511"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196511" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196511">Kevin Buzzard (Apr 17 2018 at 13:16)</a>:</h4>
<p>Thanks Johannes. How long did it take you to find that?</p>

<a name="125196522"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196522" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196522">Kevin Buzzard (Apr 17 2018 at 13:17)</a>:</h4>
<p>You see, the long tactic mode proof took me a very short time to write, because at each stage I just did the only thing which could be done.</p>

<a name="125196528"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196528" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196528">Kevin Buzzard (Apr 17 2018 at 13:17)</a>:</h4>
<p>I suspect that Kenny had a similar experience with the term proof.</p>

<a name="125196543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196543" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196543">Kevin Buzzard (Apr 17 2018 at 13:17)</a>:</h4>
<p>But when I tried to find a short proof using library functions, all that happened was that I spent a long time looking through the library and noting down possibly useful functions</p>

<a name="125196584"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196584" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196584">Kevin Buzzard (Apr 17 2018 at 13:18)</a>:</h4>
<p>and then a long time failing to glue them together.</p>

<a name="125196587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196587" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196587">Kevin Buzzard (Apr 17 2018 at 13:18)</a>:</h4>
<p>I want to get to the stage where if it's easy in maths, I can just nail it in Lean</p>

<a name="125196593"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196593" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196593">Kenny Lau (Apr 17 2018 at 13:18)</a>:</h4>
<div class="codehilite"><pre><span></span>example {X Y : Type u} (U : set X) (f : X → set Y) :
(⋃ (uu : {x // x ∈ U}), f uu.val) = ⋃₀(f &#39;&#39; U) :=
set.ext $ by simp
</pre></div>

<a name="125196596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196596" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196596">Kevin Buzzard (Apr 17 2018 at 13:18)</a>:</h4>
<p>right</p>

<a name="125196604"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196604" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196604">Kevin Buzzard (Apr 17 2018 at 13:19)</a>:</h4>
<p>But this stinks because surely my strategy is basically the same</p>

<a name="125196607"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196607" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196607">Kevin Buzzard (Apr 17 2018 at 13:19)</a>:</h4>
<p>except I split the iff into two distinct implications</p>

<a name="125196609"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196609" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196609">Kevin Buzzard (Apr 17 2018 at 13:19)</a>:</h4>
<p>and then somehow simp failed to deal with either of them</p>

<a name="125196658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196658" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196658">Kenny Lau (Apr 17 2018 at 13:20)</a>:</h4>
<p><code>simp</code> simplifies iff's and equalities, lol</p>

<a name="125196659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196659" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196659">Kevin Buzzard (Apr 17 2018 at 13:20)</a>:</h4>
<p>As I said, my simp-fu is weak</p>

<a name="125196664"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196664" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196664">Kevin Buzzard (Apr 17 2018 at 13:20)</a>:</h4>
<p>so that's the trick -- don't break the symmetry.</p>

<a name="125196665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196665" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196665">Kevin Buzzard (Apr 17 2018 at 13:20)</a>:</h4>
<p>Thanks -- that was very instructive!</p>

<a name="125196674"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196674" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196674">Kenny Lau (Apr 17 2018 at 13:21)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">{</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">(</span><span class="n">U</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">set</span> <span class="n">Y</span><span class="o">)</span> <span class="o">:</span>
<span class="o">(</span><span class="err">⋃</span> <span class="o">(</span><span class="n">uu</span> <span class="o">:</span> <span class="o">{</span><span class="n">x</span> <span class="bp">//</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">U</span><span class="o">}),</span> <span class="n">f</span> <span class="n">uu</span><span class="bp">.</span><span class="n">val</span><span class="o">)</span> <span class="bp">=</span> <span class="err">⋃₀</span><span class="o">(</span><span class="n">f</span> <span class="err">&#39;&#39;</span> <span class="n">U</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">set</span><span class="bp">.</span><span class="n">ext</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">z</span><span class="o">,</span> <span class="bp">⟨λ</span> <span class="n">hz</span><span class="o">,</span> <span class="k">by</span> <span class="n">simpa</span> <span class="kn">using</span> <span class="n">hz</span><span class="o">,</span> <span class="bp">λ</span> <span class="n">hz</span><span class="o">,</span> <span class="k">by</span> <span class="n">simpa</span> <span class="kn">using</span> <span class="n">hz</span><span class="bp">⟩</span>
</pre></div>

<a name="125196676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125196676" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125196676">Kenny Lau (Apr 17 2018 at 13:21)</a>:</h4>
<p>splitting into two implications ^</p>

<a name="125204693"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125204693" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125204693">Kevin Buzzard (Apr 17 2018 at 17:00)</a>:</h4>
<p>so to prove <code>X -&gt; Y</code> using simp, you intro h and then <code>simpa using h</code>?</p>

<a name="125204786"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125204786" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125204786">Kenny Lau (Apr 17 2018 at 17:03)</a>:</h4>
<p>right</p>

<a name="125205075"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/easy-in-maths%20union%20question/near/125205075" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/40322easyinmathsunionquestion.html#125205075">Kevin Buzzard (Apr 17 2018 at 17:10)</a>:</h4>
<p>This trick is sufficiently important that it should be mentioned in the simp docs.</p>


{% endraw %}
