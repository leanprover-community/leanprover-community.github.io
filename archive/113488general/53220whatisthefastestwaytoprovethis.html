---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/53220whatisthefastestwaytoprovethis.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html">what is the fastest way to prove this</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="125675713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125675713" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125675713">Kenny Lau (Apr 25 2018 at 15:09)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">p</span> <span class="n">q</span> <span class="n">t</span> <span class="o">:</span> <span class="bp">ℕ+</span><span class="o">,</span>
<span class="n">xp</span> <span class="n">xq</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">,</span>
<span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">hm</span> <span class="o">:</span> <span class="err">↑</span><span class="n">t</span> <span class="bp">=</span> <span class="err">↑</span><span class="n">p</span> <span class="bp">*</span> <span class="n">m</span><span class="o">,</span>
<span class="n">hn</span> <span class="o">:</span> <span class="err">↑</span><span class="n">t</span> <span class="bp">=</span> <span class="err">↑</span><span class="n">q</span> <span class="bp">*</span> <span class="n">n</span><span class="o">,</span>
<span class="n">hpqt</span> <span class="o">:</span> <span class="n">xp</span> <span class="bp">*</span> <span class="err">↑</span><span class="n">m</span> <span class="bp">=</span> <span class="n">xq</span> <span class="bp">*</span> <span class="err">↑</span><span class="n">n</span>
<span class="err">⊢</span> <span class="n">xp</span> <span class="bp">*</span> <span class="err">↑</span><span class="n">q</span> <span class="bp">=</span> <span class="n">xq</span> <span class="bp">*</span> <span class="err">↑</span><span class="n">p</span>
</pre></div>

<a name="125680907"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125680907" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125680907">Chris Hughes (Apr 25 2018 at 17:09)</a>:</h4>
<p>Best I could do. It's not easy to keep it short.</p>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">{</span><span class="n">p</span> <span class="n">q</span> <span class="n">t</span> <span class="o">:</span> <span class="bp">ℕ+</span><span class="o">}</span> <span class="o">{</span><span class="n">xp</span> <span class="n">xq</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">}</span> <span class="o">{</span><span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">}</span> <span class="o">(</span><span class="n">hm</span> <span class="o">:</span> <span class="o">(</span><span class="n">t</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="bp">=</span> <span class="err">↑</span><span class="n">p</span> <span class="bp">*</span> <span class="n">m</span><span class="o">)</span> <span class="o">(</span><span class="n">hn</span> <span class="o">:</span> <span class="o">(</span><span class="n">t</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="bp">=</span> <span class="err">↑</span><span class="n">q</span> <span class="bp">*</span> <span class="n">n</span><span class="o">)</span>
    <span class="o">(</span><span class="n">hpqt</span> <span class="o">:</span> <span class="n">xp</span> <span class="bp">*</span> <span class="n">m</span> <span class="bp">=</span> <span class="n">xq</span> <span class="bp">*</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span> <span class="n">xp</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">=</span> <span class="n">xq</span> <span class="bp">*</span> <span class="n">p</span> <span class="o">:=</span>
<span class="k">have</span> <span class="n">hm0</span> <span class="o">:</span> <span class="o">(</span><span class="n">m</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="bp">≠</span> <span class="mi">0</span> <span class="o">:=</span> <span class="n">int</span><span class="bp">.</span><span class="n">coe_nat_ne_zero</span><span class="bp">.</span><span class="mi">2</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">h</span><span class="o">,</span> <span class="n">lt_irrefl</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">trans_rel_left</span>
    <span class="o">(</span><span class="bp">&lt;</span><span class="o">)</span> <span class="n">t</span><span class="bp">.</span><span class="mi">2</span> <span class="o">(</span><span class="k">by</span> <span class="n">rwa</span> <span class="o">[</span><span class="n">h</span><span class="o">,</span> <span class="n">mul_zero</span><span class="o">]</span> <span class="n">at</span> <span class="n">hm</span><span class="o">))),</span>
<span class="k">have</span> <span class="n">hm&#39;</span> <span class="o">:</span> <span class="o">(</span><span class="n">t</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="bp">=</span> <span class="n">p</span> <span class="bp">*</span> <span class="n">m</span> <span class="o">:=</span> <span class="k">show</span> <span class="o">((</span><span class="n">t</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="bp">=</span> <span class="n">p</span> <span class="bp">*</span> <span class="n">m</span><span class="o">,</span> <span class="k">from</span> <span class="n">hm</span><span class="bp">.</span><span class="n">symm</span> <span class="bp">▸</span> <span class="k">by</span> <span class="n">simp</span><span class="o">,</span>
<span class="k">have</span> <span class="n">hn&#39;</span> <span class="o">:</span> <span class="o">(</span><span class="n">t</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="bp">=</span> <span class="n">q</span> <span class="bp">*</span> <span class="n">n</span> <span class="o">:=</span> <span class="k">show</span> <span class="o">((</span><span class="n">t</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="bp">=</span> <span class="n">q</span> <span class="bp">*</span> <span class="n">n</span><span class="o">,</span> <span class="k">from</span> <span class="n">hn</span><span class="bp">.</span><span class="n">symm</span> <span class="bp">▸</span> <span class="k">by</span> <span class="n">simp</span><span class="o">,</span>
<span class="o">(</span><span class="n">domain</span><span class="bp">.</span><span class="n">mul_right_inj</span> <span class="n">hm0</span><span class="o">)</span><span class="bp">.</span><span class="mi">1</span>
  <span class="o">(</span><span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">mul_assoc</span> <span class="n">xq</span><span class="o">,</span> <span class="err">←</span> <span class="n">hm&#39;</span><span class="o">,</span> <span class="n">hn&#39;</span><span class="o">,</span> <span class="n">mul_left_comm</span><span class="o">,</span> <span class="err">←</span> <span class="n">hpqt</span><span class="o">,</span> <span class="n">mul_left_comm</span><span class="o">,</span> <span class="n">mul_assoc</span><span class="o">])</span>
</pre></div>

<a name="125680964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125680964" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125680964">Kenny Lau (Apr 25 2018 at 17:10)</a>:</h4>
<p>thanks</p>

<a name="125680967"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125680967" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125680967">Chris Hughes (Apr 25 2018 at 17:10)</a>:</h4>
<p>What's the fastest way to prove this?</p>
<div class="codehilite"><pre><span></span><span class="n">even_sum_four_squares</span> <span class="o">{</span><span class="n">n</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">d</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">}</span>
    <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">c</span> <span class="bp">+</span> <span class="n">d</span> <span class="bp">*</span> <span class="n">d</span> <span class="bp">=</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span>
    <span class="bp">∃</span> <span class="n">w</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">,</span> <span class="n">w</span> <span class="bp">*</span> <span class="n">w</span> <span class="bp">+</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">+</span> <span class="n">y</span> <span class="bp">*</span> <span class="n">y</span> <span class="bp">+</span> <span class="n">z</span> <span class="bp">*</span> <span class="n">z</span> <span class="bp">=</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">n</span> <span class="bp">∧</span>
    <span class="n">w</span> <span class="bp">*</span> <span class="n">w</span> <span class="bp">+</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">≡</span> <span class="mi">0</span> <span class="o">[</span><span class="n">ZMOD</span> <span class="mi">2</span><span class="o">]</span> <span class="bp">∧</span> <span class="n">y</span> <span class="bp">*</span> <span class="n">y</span> <span class="bp">+</span> <span class="n">z</span> <span class="bp">*</span> <span class="n">z</span> <span class="bp">≡</span> <span class="mi">0</span> <span class="o">[</span><span class="n">ZMOD</span> <span class="mi">2</span><span class="o">]</span>
</pre></div>

<a name="125680971"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125680971" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125680971">Kenny Lau (Apr 25 2018 at 17:10)</a>:</h4>
<p>aha</p>

<a name="125680977"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125680977" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125680977">Chris Hughes (Apr 25 2018 at 17:10)</a>:</h4>
<p>That was horrible</p>

<a name="125680996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125680996" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125680996">Chris Hughes (Apr 25 2018 at 17:11)</a>:</h4>
<p>I just did a bazillion cases on whether things were odd or even.</p>

<a name="125684665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125684665" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125684665">Kevin Buzzard (Apr 25 2018 at 18:26)</a>:</h4>
<p>A mathematician would say that clearly two of a,b,c have the same parity</p>

<a name="125684677"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125684677" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125684677">Kevin Buzzard (Apr 25 2018 at 18:26)</a>:</h4>
<p>so let w and x be those two</p>

<a name="125684692"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125684692" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125684692">Kevin Buzzard (Apr 25 2018 at 18:27)</a>:</h4>
<p>I would like to prove it in Lean with some kind of WLOG</p>

<a name="125684696"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125684696" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125684696">Kevin Buzzard (Apr 25 2018 at 18:27)</a>:</h4>
<p>"wlog a and b have the same parity"</p>

<a name="125684699"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125684699" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125684699">Kevin Buzzard (Apr 25 2018 at 18:27)</a>:</h4>
<p>because I can switch c with either a or b if necessary</p>

<a name="125684705"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125684705" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125684705">Kevin Buzzard (Apr 25 2018 at 18:27)</a>:</h4>
<p>So here the symmetry is three-fold.</p>

<a name="125684749"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125684749" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125684749">Kevin Buzzard (Apr 25 2018 at 18:28)</a>:</h4>
<p>The question is invariant under any permutation of the set {a,b,c}</p>

<a name="125684753"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125684753" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125684753">Kevin Buzzard (Apr 25 2018 at 18:28)</a>:</h4>
<p>and I know two of those elements must be congruent mod 2</p>

<a name="125684754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125684754" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125684754">Kevin Buzzard (Apr 25 2018 at 18:28)</a>:</h4>
<p>so WLOG they're a and b</p>

<a name="125684855"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125684855" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125684855">Chris Hughes (Apr 25 2018 at 18:30)</a>:</h4>
<p>Very difficult to say nicely in lean</p>

<a name="125684879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125684879" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125684879">Chris Hughes (Apr 25 2018 at 18:31)</a>:</h4>
<p>This was my proof</p>
<div class="codehilite"><pre><span></span><span class="k">have</span> <span class="n">h&#39;</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">c</span> <span class="bp">+</span> <span class="n">d</span> <span class="bp">*</span> <span class="n">d</span> <span class="bp">≡</span> <span class="mi">0</span> <span class="o">[</span><span class="n">ZMOD</span> <span class="mi">2</span><span class="o">]</span> <span class="o">:=</span>
  <span class="n">modeq_zero_iff</span><span class="bp">.</span><span class="mi">2</span> <span class="o">(</span><span class="n">H</span><span class="bp">.</span><span class="n">symm</span> <span class="bp">▸</span> <span class="n">dvd_mul_right</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">),</span>
<span class="n">or</span><span class="bp">.</span><span class="n">cases_on</span> <span class="o">(</span><span class="n">int</span><span class="bp">.</span><span class="n">mod_two_eq_zero_or_one</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">a</span><span class="o">))</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="n">ha</span><span class="o">,</span> <span class="n">or</span><span class="bp">.</span><span class="n">cases_on</span> <span class="o">(</span><span class="n">int</span><span class="bp">.</span><span class="n">mod_two_eq_zero_or_one</span> <span class="o">(</span><span class="n">b</span> <span class="bp">*</span> <span class="n">b</span><span class="o">))</span>
    <span class="o">(</span><span class="bp">λ</span> <span class="n">hb</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">,</span> <span class="n">c</span><span class="o">,</span> <span class="n">d</span><span class="o">,</span> <span class="n">H</span><span class="o">,</span> <span class="n">even_add_even</span> <span class="n">ha</span> <span class="n">hb</span><span class="o">,</span>
      <span class="n">modeq_add_cancel_left</span> <span class="o">(</span><span class="k">show</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">≡</span> <span class="mi">0</span> <span class="o">[</span><span class="n">ZMOD</span> <span class="mi">2</span><span class="o">],</span> <span class="k">from</span> <span class="n">even_add_even</span> <span class="n">ha</span> <span class="n">hb</span><span class="o">)</span>
      <span class="o">(</span><span class="n">int</span><span class="bp">.</span><span class="n">modeq</span><span class="bp">.</span><span class="n">trans</span> <span class="o">(</span><span class="k">by</span> <span class="n">simp</span><span class="o">)</span> <span class="n">h&#39;</span><span class="o">)</span><span class="bp">⟩</span><span class="o">)</span>
    <span class="o">(</span><span class="bp">λ</span> <span class="n">hb</span><span class="o">,</span> <span class="n">or</span><span class="bp">.</span><span class="n">cases_on</span> <span class="o">(</span><span class="n">int</span><span class="bp">.</span><span class="n">mod_two_eq_zero_or_one</span> <span class="o">(</span><span class="n">c</span> <span class="bp">*</span> <span class="n">c</span><span class="o">))</span>
      <span class="o">(</span><span class="bp">λ</span> <span class="n">hc</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">a</span><span class="o">,</span> <span class="n">c</span><span class="o">,</span> <span class="n">b</span><span class="o">,</span> <span class="n">d</span><span class="o">,</span> <span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">H</span><span class="bp">.</span><span class="n">symm</span><span class="o">],</span> <span class="n">even_add_even</span> <span class="n">ha</span> <span class="n">hc</span><span class="o">,</span>
        <span class="n">modeq_add_cancel_left</span> <span class="o">(</span><span class="k">show</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">c</span> <span class="bp">≡</span> <span class="mi">0</span> <span class="o">[</span><span class="n">ZMOD</span> <span class="mi">2</span><span class="o">],</span> <span class="k">from</span> <span class="n">even_add_even</span> <span class="n">ha</span> <span class="n">hc</span><span class="o">)</span>
          <span class="o">(</span><span class="n">int</span><span class="bp">.</span><span class="n">modeq</span><span class="bp">.</span><span class="n">trans</span> <span class="o">(</span><span class="k">by</span> <span class="n">simp</span><span class="o">)</span> <span class="n">h&#39;</span><span class="o">)</span><span class="bp">⟩</span><span class="o">)</span>
      <span class="o">(</span><span class="bp">λ</span> <span class="n">hc</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">a</span><span class="o">,</span> <span class="n">d</span><span class="o">,</span> <span class="n">b</span><span class="o">,</span> <span class="n">c</span><span class="o">,</span> <span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">H</span><span class="bp">.</span><span class="n">symm</span><span class="o">],</span>
        <span class="n">modeq_add_cancel_left</span> <span class="o">(</span><span class="k">show</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">c</span> <span class="bp">≡</span> <span class="mi">0</span> <span class="o">[</span><span class="n">ZMOD</span> <span class="mi">2</span><span class="o">],</span> <span class="k">from</span> <span class="n">odd_add_odd</span> <span class="n">hb</span> <span class="n">hc</span><span class="o">)</span>
          <span class="o">(</span><span class="n">int</span><span class="bp">.</span><span class="n">modeq</span><span class="bp">.</span><span class="n">trans</span> <span class="o">(</span><span class="k">by</span> <span class="n">simp</span><span class="o">)</span> <span class="n">h&#39;</span><span class="o">),</span>
        <span class="n">odd_add_odd</span> <span class="n">hb</span> <span class="n">hc</span><span class="bp">⟩</span><span class="o">)))</span>
  <span class="o">(</span><span class="bp">λ</span> <span class="n">ha</span><span class="o">,</span> <span class="n">or</span><span class="bp">.</span><span class="n">cases_on</span> <span class="o">(</span><span class="n">int</span><span class="bp">.</span><span class="n">mod_two_eq_zero_or_one</span> <span class="o">(</span><span class="n">b</span> <span class="bp">*</span> <span class="n">b</span><span class="o">))</span>
    <span class="o">(</span><span class="bp">λ</span> <span class="n">hb</span><span class="o">,</span> <span class="n">or</span><span class="bp">.</span><span class="n">cases_on</span> <span class="o">(</span><span class="n">int</span><span class="bp">.</span><span class="n">mod_two_eq_zero_or_one</span> <span class="o">(</span><span class="n">c</span> <span class="bp">*</span> <span class="n">c</span><span class="o">))</span>
      <span class="o">(</span><span class="bp">λ</span> <span class="n">hc</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">b</span><span class="o">,</span> <span class="n">c</span><span class="o">,</span> <span class="n">a</span><span class="o">,</span> <span class="n">d</span><span class="o">,</span> <span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">H</span><span class="bp">.</span><span class="n">symm</span><span class="o">],</span> <span class="n">even_add_even</span> <span class="n">hb</span> <span class="n">hc</span><span class="o">,</span>
        <span class="n">modeq_add_cancel_left</span> <span class="o">(</span><span class="k">show</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">c</span> <span class="bp">≡</span> <span class="mi">0</span> <span class="o">[</span><span class="n">ZMOD</span> <span class="mi">2</span><span class="o">],</span> <span class="k">from</span> <span class="n">even_add_even</span> <span class="n">hb</span> <span class="n">hc</span><span class="o">)</span>
          <span class="o">(</span><span class="n">int</span><span class="bp">.</span><span class="n">modeq</span><span class="bp">.</span><span class="n">trans</span> <span class="o">(</span><span class="k">by</span> <span class="n">simp</span><span class="o">)</span> <span class="n">h&#39;</span><span class="o">)</span><span class="bp">⟩</span><span class="o">)</span>
      <span class="o">(</span><span class="bp">λ</span> <span class="n">hc</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">a</span><span class="o">,</span> <span class="n">c</span><span class="o">,</span> <span class="n">b</span><span class="o">,</span> <span class="n">d</span><span class="o">,</span> <span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">H</span><span class="bp">.</span><span class="n">symm</span><span class="o">],</span> <span class="n">odd_add_odd</span> <span class="n">ha</span> <span class="n">hc</span><span class="o">,</span>
        <span class="n">modeq_add_cancel_left</span> <span class="o">(</span><span class="k">show</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">c</span> <span class="bp">≡</span> <span class="mi">0</span> <span class="o">[</span><span class="n">ZMOD</span> <span class="mi">2</span><span class="o">],</span> <span class="k">from</span> <span class="n">odd_add_odd</span> <span class="n">ha</span> <span class="n">hc</span><span class="o">)</span>
          <span class="o">(</span><span class="n">int</span><span class="bp">.</span><span class="n">modeq</span><span class="bp">.</span><span class="n">trans</span> <span class="o">(</span><span class="k">by</span> <span class="n">simp</span><span class="o">)</span> <span class="n">h&#39;</span><span class="o">)</span><span class="bp">⟩</span><span class="o">))</span>
    <span class="o">(</span><span class="bp">λ</span> <span class="n">hb</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">,</span> <span class="n">c</span><span class="o">,</span> <span class="n">d</span><span class="o">,</span> <span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">H</span><span class="bp">.</span><span class="n">symm</span><span class="o">],</span> <span class="n">odd_add_odd</span> <span class="n">ha</span> <span class="n">hb</span><span class="o">,</span>
      <span class="n">modeq_add_cancel_left</span> <span class="o">(</span><span class="k">show</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">≡</span> <span class="mi">0</span> <span class="o">[</span><span class="n">ZMOD</span> <span class="mi">2</span><span class="o">],</span> <span class="k">from</span> <span class="n">odd_add_odd</span> <span class="n">ha</span> <span class="n">hb</span><span class="o">)</span>
          <span class="o">(</span><span class="n">int</span><span class="bp">.</span><span class="n">modeq</span><span class="bp">.</span><span class="n">trans</span> <span class="o">(</span><span class="k">by</span> <span class="n">simp</span><span class="o">)</span> <span class="n">h&#39;</span><span class="o">)</span><span class="bp">⟩</span><span class="o">))</span>
</pre></div>

<a name="125684938"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125684938" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125684938">Kevin Buzzard (Apr 25 2018 at 18:32)</a>:</h4>
<p>It looks a bit like a sonnet</p>

<a name="125685035"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125685035" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125685035">Kevin Buzzard (Apr 25 2018 at 18:34)</a>:</h4>
<p>My WLOG observation was that, just as we have a 2-variable WLOG which says that if the question is invariant under switching the two variables and we know that some predicate must be satisfied by some arrangement of the variables (e.g. x &lt;= y), then we may assume that the predicate is satisfied by the default arrangement,</p>

<a name="125685084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125685084" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125685084">Kevin Buzzard (Apr 25 2018 at 18:35)</a>:</h4>
<p>there is a 3-variable generalisation which says that if the question is invariant under all permutations of three variables and you can find some predicate which is true for some arrangement (e.g. "two of these three variables get sent to the same element under a map to a type with two elements") then WLOG it's true for the default arrangement</p>

<a name="125685158"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125685158" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125685158">Kevin Buzzard (Apr 25 2018 at 18:36)</a>:</h4>
<p>I am very interested in making Lean do things which mathematicians find trivial, painlessly, so I quite like thinking about things such as this.</p>

<a name="125685188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125685188" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125685188">Kevin Buzzard (Apr 25 2018 at 18:37)</a>:</h4>
<p>I regard issues such as the one you brought up as a barrier to getting mathematicians to adopt automated proof checking as part of their routine</p>

<a name="125685241"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125685241" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125685241">Kevin Buzzard (Apr 25 2018 at 18:38)</a>:</h4>
<p>If you find yourself needing this kind of WLOG again I'd be interested to hear.</p>

<a name="125685282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125685282" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125685282">Kevin Buzzard (Apr 25 2018 at 18:38)</a>:</h4>
<p>I'd happily spend some time over the summer trying to learn how to write tactics such as this. In this case it feel like it's a generalisation of Simon's WLOG</p>

<a name="125685390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125685390" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125685390">Kevin Buzzard (Apr 25 2018 at 18:40)</a>:</h4>
<p>If you had it then the proof would be Wlog3 a %2 = b % 2, by tactic.ring (showing that permuting the variables doesn't change the assumption)</p>

<a name="125685395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125685395" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125685395">Kevin Buzzard (Apr 25 2018 at 18:40)</a>:</h4>
<p>and then let w be a, x be b etc</p>

<a name="125685490"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125685490" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125685490">Johan Commelin (Apr 25 2018 at 18:42)</a>:</h4>
<p>So now we need <span class="user-mention" data-user-id="110026">@Simon Hudon</span> to write an n-variable WLOG tactic... (-;</p>

<a name="125685677"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125685677" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125685677">Kevin Buzzard (Apr 25 2018 at 18:47)</a>:</h4>
<p>I think that the 2-variable WLOG is a powerful tool which genuinely does come up in practice</p>

<a name="125685686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125685686" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125685686">Kevin Buzzard (Apr 25 2018 at 18:47)</a>:</h4>
<p>I am less convinced that the 3-variable WLOG shows up so much</p>

<a name="125685689"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125685689" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125685689">Kevin Buzzard (Apr 25 2018 at 18:47)</a>:</h4>
<p>however it sounds like a good exercise for the beginner</p>

<a name="125685692"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125685692" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125685692">Kevin Buzzard (Apr 25 2018 at 18:47)</a>:</h4>
<p>or possibly an incredibly difficult one</p>

<a name="125685739"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125685739" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125685739">Kevin Buzzard (Apr 25 2018 at 18:48)</a>:</h4>
<p>I think the n-variable one should definitely be left to Hudon ;-)</p>

<a name="125685774"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125685774" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125685774">Simon Hudon (Apr 25 2018 at 18:49)</a>:</h4>
<p>Interesting! In my previous prover, I had n-variable permutations in wlog but after talking to Assia, I started thinking that it was not the most useful generalization</p>

<a name="125685793"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125685793" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125685793">Simon Hudon (Apr 25 2018 at 18:49)</a>:</h4>
<p>n-pairs of swaps seemed more interesting</p>

<a name="125685855"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125685855" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125685855">Simon Hudon (Apr 25 2018 at 18:50)</a>:</h4>
<p>If you come up with another example where 3+ variable permutation is useful, I'll implement it</p>

<a name="125686172"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125686172" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125686172">Kevin Buzzard (Apr 25 2018 at 18:55)</a>:</h4>
<p>I agree that one should find out what users actually need in practice before leaping into multi-variable WLOG. I can't believe I just said that phrase.</p>

<a name="125686237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125686237" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125686237">Kevin Buzzard (Apr 25 2018 at 18:56)</a>:</h4>
<p>The reason I suggested 3-variable WLOG is that at some point I suspect that it will do my Lean understanding some good if I were to actually write a tactic, and Chris and I will be spending the summer working on Lean together (with 13 other people)</p>

<a name="125686426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125686426" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125686426">Simon Hudon (Apr 25 2018 at 19:00)</a>:</h4>
<p>Are you becoming a ... pragmatist?  <em>gasp</em></p>

<a name="125686446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125686446" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125686446">Kevin Buzzard (Apr 25 2018 at 19:00)</a>:</h4>
<p>no, I just want to learn</p>

<a name="125686447"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20the%20fastest%20way%20to%20prove%20this/near/125686447" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53220whatisthefastestwaytoprovethis.html#125686447">Simon Hudon (Apr 25 2018 at 19:00)</a>:</h4>
<p>But seriously, it is certainly a fun exercise. Let me know if you have questions</p>


{% endraw %}

{% include archive_update.html %}