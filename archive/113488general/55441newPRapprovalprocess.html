---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/55441newPRapprovalprocess.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/55441newPRapprovalprocess.html">new PR approval process</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="193566384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/new%20PR%20approval%20process/near/193566384" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/55441newPRapprovalprocess.html#193566384">Rob Lewis (Apr 10 2020 at 13:01)</a>:</h4>
<p>Today we've said goodbye to an old friend and welcomed a new one to the community. mergify[bot] has moved on to explore new opportunities. Stepping up in its place, helping the maintainers merge your pull requests: please welcome bors[bot]! Ignore its robotic exterior. bors[bot] is very gentle and caring on the inside.</p>
<p>What this means to you: instead of seeing your PRs approved and tagged with a green label, you'll see the maintainers commenting <code>bors r+</code>. bors is more clever about queue management than mergify was. So instead of approved PRs landing on master one after the other, 1-3 hours apart, you'll notice them landing in batches. The overall wait time should be much lower. <del>Soon</del> The green labels will show up automatically.</p>
<p>leanprover-community-bot and mergify[bot] never got along very well, but mergify[bot] was too timid to stand up for itself. bors[bot] is more assertive. So you'll see leanprover-community-bot making some pull requests instead of pushing directly to master.</p>
<p>We owe a huge round of applause to <span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> and <span class="user-mention" data-user-id="123965">@Bryan Gin-ge Chen</span> for setting this up! It's a huge improvement.</p>

<a name="193566718"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/new%20PR%20approval%20process/near/193566718" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/55441newPRapprovalprocess.html#193566718">Rob Lewis (Apr 10 2020 at 13:04)</a>:</h4>
<p>Bryan wrote a fantastic explanation of the setup, which is in the docs folder here: <a href="https://github.com/leanprover-community/mathlib/blob/master/docs/contribute/bors.md" title="https://github.com/leanprover-community/mathlib/blob/master/docs/contribute/bors.md">https://github.com/leanprover-community/mathlib/blob/master/docs/contribute/bors.md</a></p>

<a name="193566884"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/new%20PR%20approval%20process/near/193566884" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/55441newPRapprovalprocess.html#193566884">Rob Lewis (Apr 10 2020 at 13:06)</a>:</h4>
<p>One point that's relevant for contributors. If a mantainer comments <code>bors d+</code> (or <code>bors delegate+</code>) on your PR, it means that you can tell bors to start merging your PR whenever you're ready. You communicate this by commenting <code>bors r+</code> yourself.</p>

<a name="193569322"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/new%20PR%20approval%20process/near/193569322" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/55441newPRapprovalprocess.html#193569322">Reid Barton (Apr 10 2020 at 13:37)</a>:</h4>
<blockquote>
<p>Commit messages are taken from the first post of the PR. This is much nicer than mergify / Github's default which just combines all commit subject lines into one. We have set things up so that the text after "TO CONTRIBUTORS" is automatically ignored. Note that contributions from other users will have to be added explicitly to the first post with "Co-authored-by:" trailers; they aren't automatically added like how mergify and Github previously did.</p>
</blockquote>
<p><span aria-label="heart" class="emoji emoji-2764" role="img" title="heart">:heart:</span> <span aria-label="heart" class="emoji emoji-2764" role="img" title="heart">:heart:</span> <span aria-label="heart" class="emoji emoji-2764" role="img" title="heart">:heart:</span> It's already so much better.<br>
When creating a PR, does Github automatically build the first post of the PR from the commit message(s) in the branch plus the contributor template?</p>

<a name="193570009"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/new%20PR%20approval%20process/near/193570009" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/55441newPRapprovalprocess.html#193570009">Patrick Massot (Apr 10 2020 at 13:44)</a>:</h4>
<p>I think so.</p>

<a name="193578716"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/new%20PR%20approval%20process/near/193578716" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/55441newPRapprovalprocess.html#193578716">Bryan Gin-ge Chen (Apr 10 2020 at 15:06)</a>:</h4>
<p>One more important change worth announcing here: Previously with mergify, it was OK to add commits to a PR with the "ready-to-merge" label. Now, if you add commits to a PR after it's been approved with <code>bors r+</code> then the approval will be canceled and someone will have to re-approve it.</p>

<a name="193585537"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/new%20PR%20approval%20process/near/193585537" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/55441newPRapprovalprocess.html#193585537">Kevin Buzzard (Apr 10 2020 at 16:03)</a>:</h4>
<p>To be honest that sounds like a step in the right direction!</p>


{% endraw %}

{% include archive_update.html %}