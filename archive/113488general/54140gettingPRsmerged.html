---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/54140gettingPRsmerged.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/54140gettingPRsmerged.html">getting PRs merged</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="152025635"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/getting%20PRs%20merged/near/152025635" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/54140gettingPRsmerged.html#152025635">Johan Commelin (Dec 17 2018 at 13:12)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> <span class="user-mention" data-user-id="110294">@Johannes Hölzl</span> Is there anything we can do so that a bunch of PRs get merged before the Christmas break? Merging these PRs would mean that we can spend our Christmas holidays on interesting maths stuff, instead of boring parties with food and fire crackers...</p>

<a name="152030063"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/getting%20PRs%20merged/near/152030063" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/54140gettingPRsmerged.html#152030063">Johan Commelin (Dec 17 2018 at 14:17)</a>:</h4>
<p>Yuchai! We're down to 29!</p>

<a name="152030287"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/getting%20PRs%20merged/near/152030287" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/54140gettingPRsmerged.html#152030287">Kenny Lau (Dec 17 2018 at 14:20)</a>:</h4>
<p>:o</p>

<a name="152030337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/getting%20PRs%20merged/near/152030337" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/54140gettingPRsmerged.html#152030337">Mario Carneiro (Dec 17 2018 at 14:21)</a>:</h4>
<p>...and now mathlib is broken</p>

<a name="152030342"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/getting%20PRs%20merged/near/152030342" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/54140gettingPRsmerged.html#152030342">Kenny Lau (Dec 17 2018 at 14:21)</a>:</h4>
<p>:o</p>

<a name="152030494"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/getting%20PRs%20merged/near/152030494" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/54140gettingPRsmerged.html#152030494">Mario Carneiro (Dec 17 2018 at 14:23)</a>:</h4>
<p>oh, I think it was the <code>squeeze_simp</code> PR</p>

<a name="152030509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/getting%20PRs%20merged/near/152030509" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/54140gettingPRsmerged.html#152030509">Mario Carneiro (Dec 17 2018 at 14:23)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> did you actually check that your import works?</p>

<a name="152030593"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/getting%20PRs%20merged/near/152030593" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/54140gettingPRsmerged.html#152030593">Johan Commelin (Dec 17 2018 at 14:24)</a>:</h4>
<p>Hmm, it looked like it, but I didn't do a full compile.</p>

<a name="152030604"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/getting%20PRs%20merged/near/152030604" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/54140gettingPRsmerged.html#152030604">Johan Commelin (Dec 17 2018 at 14:24)</a>:</h4>
<p>Can you revert that commit?</p>

<a name="152030611"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/getting%20PRs%20merged/near/152030611" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/54140gettingPRsmerged.html#152030611">Johan Commelin (Dec 17 2018 at 14:24)</a>:</h4>
<p>Then I will do a more careful check.</p>

<a name="152030618"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/getting%20PRs%20merged/near/152030618" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/54140gettingPRsmerged.html#152030618">Johan Commelin (Dec 17 2018 at 14:24)</a>:</h4>
<p>Sorry for the mess.</p>

<a name="152030659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/getting%20PRs%20merged/near/152030659" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/54140gettingPRsmerged.html#152030659">Chris Hughes (Dec 17 2018 at 14:25)</a>:</h4>
<p>I think it's a cyclic import</p>

<a name="152030670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/getting%20PRs%20merged/near/152030670" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/54140gettingPRsmerged.html#152030670">Chris Hughes (Dec 17 2018 at 14:25)</a>:</h4>
<p>Maybe two PRs added imports somewhere</p>

<a name="152030803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/getting%20PRs%20merged/near/152030803" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/54140gettingPRsmerged.html#152030803">Mario Carneiro (Dec 17 2018 at 14:27)</a>:</h4>
<p><code>tactic.squeeze</code> imports <code>meta.rb_map</code> which imports <code>data.option</code> which imports <code>tactic.interactive</code></p>

<a name="152030821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/getting%20PRs%20merged/near/152030821" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/54140gettingPRsmerged.html#152030821">Kenny Lau (Dec 17 2018 at 14:27)</a>:</h4>
<p>where's the cycle?</p>

<a name="152030930"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/getting%20PRs%20merged/near/152030930" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/54140gettingPRsmerged.html#152030930">Chris Hughes (Dec 17 2018 at 14:28)</a>:</h4>
<p><code>tactic.interactive</code> imports <code>tactic.squeeze</code></p>

<a name="152030940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/getting%20PRs%20merged/near/152030940" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/54140gettingPRsmerged.html#152030940">Kenny Lau (Dec 17 2018 at 14:28)</a>:</h4>
<p>why would it...</p>

<a name="152031077"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/getting%20PRs%20merged/near/152031077" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/54140gettingPRsmerged.html#152031077">Johan Commelin (Dec 17 2018 at 14:30)</a>:</h4>
<p>Because then it makes it a lot easier for mere mortals to squeeze their simps. Would save you a lot of work.</p>

<a name="152032030"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/getting%20PRs%20merged/near/152032030" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/54140gettingPRsmerged.html#152032030">Johan Commelin (Dec 17 2018 at 14:42)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> Do you want me to PR a reverting commit?</p>

<a name="152032040"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/getting%20PRs%20merged/near/152032040" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/54140gettingPRsmerged.html#152032040">Mario Carneiro (Dec 17 2018 at 14:42)</a>:</h4>
<p>no, I'm working on it</p>

<a name="152032050"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/getting%20PRs%20merged/near/152032050" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/54140gettingPRsmerged.html#152032050">Kenny Lau (Dec 17 2018 at 14:42)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="110049">@Mario Carneiro</span></p>

<a name="152032234"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/getting%20PRs%20merged/near/152032234" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/54140gettingPRsmerged.html#152032234">Johan Commelin (Dec 17 2018 at 14:45)</a>:</h4>
<p>I can make <code>data.option</code> work without <code>tactic.interactive</code>, it just used two <code>simpa</code>s</p>

<a name="152032244"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/getting%20PRs%20merged/near/152032244" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/54140gettingPRsmerged.html#152032244">Johan Commelin (Dec 17 2018 at 14:45)</a>:</h4>
<p>But there is another cycle.</p>

<a name="152032277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/getting%20PRs%20merged/near/152032277" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/54140gettingPRsmerged.html#152032277">Johan Commelin (Dec 17 2018 at 14:45)</a>:</h4>
<p><code>category.traversable.instances</code> imports <code>-- import data.list.basic data.set.lattice</code></p>

<a name="152032305"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/getting%20PRs%20merged/near/152032305" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/54140gettingPRsmerged.html#152032305">Johan Commelin (Dec 17 2018 at 14:46)</a>:</h4>
<p>It needs those for</p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">mem_traverse</span> <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">α&#39;</span> <span class="bp">→</span> <span class="n">set</span> <span class="n">β&#39;</span><span class="o">}</span> <span class="o">:</span>
  <span class="bp">∀</span><span class="o">(</span><span class="n">l</span> <span class="o">:</span> <span class="n">list</span> <span class="n">α&#39;</span><span class="o">)</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">list</span> <span class="n">β&#39;</span><span class="o">),</span> <span class="n">n</span> <span class="err">∈</span> <span class="n">traverse</span> <span class="n">f</span> <span class="n">l</span> <span class="bp">↔</span> <span class="n">forall₂</span> <span class="o">(</span><span class="bp">λ</span><span class="n">b</span> <span class="n">a</span><span class="o">,</span> <span class="n">b</span> <span class="err">∈</span> <span class="n">f</span> <span class="n">a</span><span class="o">)</span> <span class="n">n</span> <span class="n">l</span>
<span class="bp">|</span> <span class="o">[]</span>      <span class="o">[]</span>      <span class="o">:=</span> <span class="k">by</span> <span class="n">simp</span>
<span class="bp">|</span> <span class="o">(</span><span class="n">a</span><span class="bp">::</span><span class="n">as</span><span class="o">)</span> <span class="o">[]</span>      <span class="o">:=</span> <span class="k">by</span> <span class="n">simp</span><span class="bp">;</span> <span class="n">exact</span> <span class="k">assume</span> <span class="n">h</span><span class="o">,</span> <span class="k">match</span> <span class="n">h</span> <span class="k">with</span> <span class="kn">end</span>
<span class="bp">|</span> <span class="o">[]</span>      <span class="o">(</span><span class="n">b</span><span class="bp">::</span><span class="n">bs</span><span class="o">)</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">simp</span>
<span class="bp">|</span> <span class="o">(</span><span class="n">a</span><span class="bp">::</span><span class="n">as</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span><span class="bp">::</span><span class="n">bs</span><span class="o">)</span> <span class="o">:=</span>
  <span class="n">suffices</span> <span class="o">(</span><span class="n">b</span> <span class="bp">::</span> <span class="n">bs</span> <span class="o">:</span> <span class="n">list</span> <span class="n">β&#39;</span><span class="o">)</span> <span class="err">∈</span> <span class="n">traverse</span> <span class="n">f</span> <span class="o">(</span><span class="n">a</span> <span class="bp">::</span> <span class="n">as</span><span class="o">)</span> <span class="bp">↔</span> <span class="n">b</span> <span class="err">∈</span> <span class="n">f</span> <span class="n">a</span> <span class="bp">∧</span> <span class="n">bs</span> <span class="err">∈</span> <span class="n">traverse</span> <span class="n">f</span> <span class="n">as</span><span class="o">,</span>
    <span class="k">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">mem_traverse</span> <span class="n">as</span> <span class="n">bs</span><span class="o">],</span>
  <span class="n">iff</span><span class="bp">.</span><span class="n">intro</span>
    <span class="o">(</span><span class="k">assume</span> <span class="bp">⟨_</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">b</span><span class="o">,</span> <span class="n">hb</span><span class="o">,</span> <span class="n">rfl</span><span class="bp">⟩</span><span class="o">,</span> <span class="bp">_</span><span class="o">,</span> <span class="n">hl</span><span class="o">,</span> <span class="n">rfl</span><span class="bp">⟩</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">hb</span><span class="o">,</span> <span class="n">hl</span><span class="bp">⟩</span><span class="o">)</span>
    <span class="o">(</span><span class="k">assume</span> <span class="bp">⟨</span><span class="n">hb</span><span class="o">,</span> <span class="n">hl</span><span class="bp">⟩</span><span class="o">,</span> <span class="bp">⟨_</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">b</span><span class="o">,</span> <span class="n">hb</span><span class="o">,</span> <span class="n">rfl</span><span class="bp">⟩</span><span class="o">,</span> <span class="bp">_</span><span class="o">,</span> <span class="n">hl</span><span class="o">,</span> <span class="n">rfl</span><span class="bp">⟩</span><span class="o">)</span>
</pre></div>

<a name="152032361"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/getting%20PRs%20merged/near/152032361" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/54140gettingPRsmerged.html#152032361">Johan Commelin (Dec 17 2018 at 14:46)</a>:</h4>
<p>If we kick that to another file, it seems that the world would be happy again.</p>

<a name="152032457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/getting%20PRs%20merged/near/152032457" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/54140gettingPRsmerged.html#152032457">Johan Commelin (Dec 17 2018 at 14:48)</a>:</h4>
<p>Once again, I apologize for breaking stuff. I'll take this as a lesson that I shouldn't lightly PR things that are low in the dependency chain...</p>

<a name="152032612"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/getting%20PRs%20merged/near/152032612" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/54140gettingPRsmerged.html#152032612">Johan Commelin (Dec 17 2018 at 14:49)</a>:</h4>
<p>Aahrg... it's even worse. <code>tactic.squeeze</code> depends on <code>simpa</code> (of course <span class="emoji emoji-1f926" title="face palm">:face_palm:</span>).</p>

<a name="152044631"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/getting%20PRs%20merged/near/152044631" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/54140gettingPRsmerged.html#152044631">Johan Commelin (Dec 17 2018 at 17:27)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> Thanks for all the merges! And thanks for fixing what I broke. <span class="emoji emoji-1f64f" title="thank you">:thank_you:</span> <span class="emoji emoji-1f44d" title="thumbs up">:thumbs_up:</span> <span class="emoji emoji-1f389" title="tada">:tada:</span></p>


{% endraw %}
