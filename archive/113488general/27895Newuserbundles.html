---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/27895Newuserbundles.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html">New user bundles</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="188383309"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188383309" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188383309">Patrick Massot (Feb 17 2020 at 14:44)</a>:</h4>
<p>I had a first go at automating the build of a bundled autonomous Lean+VScode+mathlib+tutorial (only for Linux at the moment). People interested in this topic can download <a href="https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef" target="_blank" title="https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef">https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef</a> to a Linux box equipped with a recent python together with python packages certifi, urllib3, GitPython, PyGithub (you already have them if you can run <code>update-mathlib</code>). Then run this script. It should build a new folder <code>dist</code> containing an executable file <code>trylean</code> which should launch VScodium running Lean+mathlib on our tutorial file without touching anything outside of <code>/tmp</code>. For those who missed earlier parts of the discussion and wonder what is VScodium, please see <a href="https://github.com/VSCodium/vscodium#why" target="_blank" title="https://github.com/VSCodium/vscodium#why">https://github.com/VSCodium/vscodium#why</a>.</p>

<a name="188383864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188383864" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188383864">Rob Lewis (Feb 17 2020 at 14:51)</a>:</h4>
<p>This requires Python &gt;= 3.6 I think:</p>
<div class="codehilite"><pre><span></span>rob@rob-HP-ProDesk-600-G3-MT:~/lean/temp$ python3 mk_bundle.py
  File &quot;mk_bundle.py&quot;, line 39
    log.info(f&#39;Searching for {name}&#39;)
                                   ^
SyntaxError: invalid syntax
rob@rob-HP-ProDesk-600-G3-MT:~/lean/temp$ python3 --version
Python 3.5.2
</pre></div>

<a name="188384178"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188384178" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188384178">Patrick Massot (Feb 17 2020 at 14:54)</a>:</h4>
<p>I'm using python 3.8.1</p>

<a name="188384247"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188384247" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188384247">Patrick Massot (Feb 17 2020 at 14:55)</a>:</h4>
<p>This is not a script for general users, it's meant to be run by GitHub action.</p>

<a name="188384714"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188384714" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188384714">Rob Lewis (Feb 17 2020 at 15:00)</a>:</h4>
<p>Ah. If it were user facing, I'd suggest making it compatible with older Python. But for CI it doesn't matter.</p>

<a name="188385179"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188385179" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188385179">Patrick Massot (Feb 17 2020 at 15:06)</a>:</h4>
<p>Sure. But here the goal is to have GitHub producing those bundles, zipping them and put them somewhere beginners can download them. Then the user facing instruction would be:</p>
<ul>
<li>if you want to try Lean, download this, unzip, run <code>trylean</code>. </li>
<li>if you want to become a more serious Lean user, follow <a href="https://github.com/leanprover-community/mathlib#installation" target="_blank" title="https://github.com/leanprover-community/mathlib#installation">https://github.com/leanprover-community/mathlib#installation</a></li>
</ul>

<a name="188387361"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188387361" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188387361">Patrick Massot (Feb 17 2020 at 15:34)</a>:</h4>
<p>Rob, did you manage to run that script in the end?</p>

<a name="188387454"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188387454" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188387454">Rob Lewis (Feb 17 2020 at 15:35)</a>:</h4>
<p>No, doing other things and I didn't look up how to update Python. Will try in a bit.</p>

<a name="188440685"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188440685" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188440685">Rob Lewis (Feb 18 2020 at 10:50)</a>:</h4>
<p>After some fussing around with Python versions, this worked great.</p>

<a name="188441272"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188441272" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188441272">Patrick Massot (Feb 18 2020 at 11:01)</a>:</h4>
<p>Of course it misses the final zipping action, but this is trivial to add. Do you think we should make variations for Windows and MacOS and ask GitHub actions to run this script after deploy_nightly and push the three resulting zip files somewhere?</p>

<a name="188441302"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188441302" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188441302">Patrick Massot (Feb 18 2020 at 11:01)</a>:</h4>
<p>Of course this would also need removing the <code>--pre-release</code> flag I pointed out yesterday.</p>

<a name="188443864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188443864" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188443864">Rob Lewis (Feb 18 2020 at 11:47)</a>:</h4>
<p>Yeah, that can be done. We can publish them as mathlib releases.</p>

<a name="188443930"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188443930" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188443930">Patrick Massot (Feb 18 2020 at 11:48)</a>:</h4>
<p>I wouldn't mind if someone who already worked to understand GitHub actions could take over this task.</p>

<a name="188444080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188444080" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188444080">Rob Lewis (Feb 18 2020 at 11:51)</a>:</h4>
<p>If you provide the script that generates the zip files, we can get it into Actions.</p>

<a name="188444155"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188444155" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188444155">Patrick Massot (Feb 18 2020 at 11:52)</a>:</h4>
<p>I can do that easily for the Linux version. I'm not sure I can create a zip file that Windows will like from Linux.</p>

<a name="188444401"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188444401" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188444401">Rob Lewis (Feb 18 2020 at 11:57)</a>:</h4>
<p>Why not? Is there more to it than changing this line? <a href="https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef#file-mk_bundle-py-L78" target="_blank" title="https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef#file-mk_bundle-py-L78">https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef#file-mk_bundle-py-L78</a></p>

<a name="188445640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188445640" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188445640">Patrick Massot (Feb 18 2020 at 12:18)</a>:</h4>
<p>There a couple more lines to change, it must download the correct binaries of Lean and VScodium.</p>

<a name="188445650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188445650" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188445650">Patrick Massot (Feb 18 2020 at 12:18)</a>:</h4>
<p>But I'll try.</p>

<a name="188567852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188567852" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188567852">Patrick Massot (Feb 19 2020 at 17:55)</a>:</h4>
<p>Ok, I just spend some more time on this newbie bundles thing. I tried the optimistic idea to generate all three platform archive from my linux box. The updated script is at <a href="https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef" target="_blank" title="https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef">https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef</a>. I need people to test the archives from <a href="https://www.imo.universite-paris-saclay.fr/~pmassot/try.html" target="_blank" title="https://www.imo.universite-paris-saclay.fr/~pmassot/try.html">https://www.imo.universite-paris-saclay.fr/~pmassot/try.html</a>. As usual Windows users must be careful to Unblock the zip file before extraction (or extract with 7-zip or some other non-paranoid tool). I'm pretty sure the <code>trylean</code> launcher won't work on MacOS, I need someone who understand macs here (VScode comes as a <code>.app</code> folder, I don't know how to launch that from bash).</p>

<a name="188567973"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188567973" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188567973">Patrick Massot (Feb 19 2020 at 17:56)</a>:</h4>
<p>Remember the goal is each archive contains a <code>trylean</code> folder containing everything, and users launch <code>trylean</code> (or <code>trylean.bat</code> on Windows) and start playing immediately.</p>

<a name="188572094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188572094" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188572094">Sebastien Gouezel (Feb 19 2020 at 18:43)</a>:</h4>
<p>Two issues on windows:</p>
<ul>
<li><code>trylean.bat</code> should refer to <code>vscodium</code> and not <code>codium</code>.</li>
<li>I was hit by <a href="https://github.com/VSCodium/vscodium/issues/331" target="_blank" title="https://github.com/VSCodium/vscodium/issues/331">https://github.com/VSCodium/vscodium/issues/331</a>. Hopefully this should be fixed in a few days, but for now this makes it unusable.</li>
</ul>

<a name="188582075"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188582075" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188582075">Patrick Massot (Feb 19 2020 at 20:33)</a>:</h4>
<p>Thanks Sébastien! We are really unlucky with Windows paranoia. We'll have to wait a bit (or stick to a VScodium version that works for a while).</p>

<a name="188582080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188582080" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188582080">Patrick Massot (Feb 19 2020 at 20:33)</a>:</h4>
<p>Can anyone try on a Mac?</p>

<a name="188586173"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188586173" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188586173">Patrick Massot (Feb 19 2020 at 21:14)</a>:</h4>
<p><span class="user-mention" data-user-id="127136">@Alex J. Best</span> could you try on your Mac?</p>

<a name="188586256"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188586256" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188586256">Patrick Massot (Feb 19 2020 at 21:14)</a>:</h4>
<p>I know it almost surely won't work because of that <code>*.app</code> thing, but this should be fixable simply by fixing the <code>trylean</code> bash script.</p>

<a name="188587991"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188587991" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188587991">Alex J. Best (Feb 19 2020 at 21:33)</a>:</h4>
<p>I downloaded unzipped and ran <code>./trylean</code> from terminal and got <code>./trylean: line 4: ./vscodium/codium: No such file or directory</code></p>

<a name="188588005"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188588005" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188588005">Alex J. Best (Feb 19 2020 at 21:33)</a>:</h4>
<p>let me know if i was supposed to do something else!</p>

<a name="188588023"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188588023" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188588023">Patrick Massot (Feb 19 2020 at 21:33)</a>:</h4>
<p>Yes, that's expected. The question for MacOS users is: what should I write there?</p>

<a name="188588087"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188588087" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188588087">Alex J. Best (Feb 19 2020 at 21:34)</a>:</h4>
<p>There is a folder <code>codium_portable-data</code></p>

<a name="188588105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188588105" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188588105">Patrick Massot (Feb 19 2020 at 21:34)</a>:</h4>
<p>I know that, from the file explorer, you can click on the folder VSCode.app and it's somehow executed.</p>

<a name="188588931"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188588931" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188588931">Alex J. Best (Feb 19 2020 at 21:45)</a>:</h4>
<p>I did some digging but no progress really, it seems that <code> ./vscodium/VSCodium.app/Contents/MacOS/Electron</code> should be the executable file, but it doesn't open in terminal as permission denied, setting <code>chmod u+x</code> on it makes it run with error message</p>
<div class="codehilite"><pre><span></span>dyld: Library not loaded: @rpath/Electron Framework.framework/Electron Framework
  Referenced from: /Users/alex/Downloads/trylean/./vscodium/VSCodium.app/Contents/MacOS/Electron
  Reason: no suitable image found.  Did find:
    /Users/alex/Downloads/trylean/vscodium/VSCodium.app/Contents/MacOS/../Frameworks/Electron Framework.framework/Electron Framework: file too short
    /Users/alex/Downloads/trylean/vscodium/VSCodium.app/Contents/MacOS/../Frameworks/Electron Framework.framework/Electron Framework: stat() failed with errno=1
Abort trap: 6
</pre></div>


<p>I tried to change trylean to that path also but no avail.</p>
<p>Running from finder I get <code>The application can't be opened</code> and after chmod  <code>The application is damaged</code></p>

<a name="188590143"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188590143" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188590143">Patrick Massot (Feb 19 2020 at 21:58)</a>:</h4>
<p>Blind shot following <a href="https://www.wikihow.com/Open-Applications-Using-Terminal-on-Mac" target="_blank" title="https://www.wikihow.com/Open-Applications-Using-Terminal-on-Mac">https://www.wikihow.com/Open-Applications-Using-Terminal-on-Mac</a>: could you try from the terminal <code>open src -a VSCodium</code> or other variations?</p>

<a name="188591081"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188591081" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188591081">Alex J. Best (Feb 19 2020 at 22:09)</a>:</h4>
<p><code>LSOpenURLsWithRole() failed with error -10810 for the file /Users/alex/Downloads/trylean/vscodium/VSCodium.app.</code></p>

<a name="188591568"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188591568" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188591568">Patrick Massot (Feb 19 2020 at 22:14)</a>:</h4>
<p>Could you try using the full path the the app folder?</p>

<a name="188591770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188591770" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188591770">Alex J. Best (Feb 19 2020 at 22:17)</a>:</h4>
<p>Same result</p>

<a name="188591819"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188591819" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188591819">Patrick Massot (Feb 19 2020 at 22:18)</a>:</h4>
<p>This OS is so crazy...</p>

<a name="188591855"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188591855" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188591855">Patrick Massot (Feb 19 2020 at 22:18)</a>:</h4>
<p>We'll need to wait for some MacOS expert I'm afraid.</p>

<a name="188591924"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188591924" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188591924">Patrick Massot (Feb 19 2020 at 22:19)</a>:</h4>
<p><span class="user-mention" data-user-id="110026">@Simon Hudon</span> don't you have a Mac somewhere?</p>

<a name="188592102"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188592102" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188592102">Simon Hudon (Feb 19 2020 at 22:21)</a>:</h4>
<p>I do have a Mac, I don't know if I qualify as a Mac expert though :P</p>

<a name="188592123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188592123" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188592123">Simon Hudon (Feb 19 2020 at 22:21)</a>:</h4>
<p>I haven't followed this conversation. What is needed?</p>

<a name="188592264"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188592264" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188592264">Patrick Massot (Feb 19 2020 at 22:23)</a>:</h4>
<p>Download <a href="https://www.imo.universite-paris-saclay.fr/~pmassot/trylean_darwin.zip" target="_blank" title="https://www.imo.universite-paris-saclay.fr/~pmassot/trylean_darwin.zip">https://www.imo.universite-paris-saclay.fr/~pmassot/trylean_darwin.zip</a>, unzip. Fix the <code>trylean</code> bash script so that it actually lauches the VSCodium.app sitting next to it (preferably pointing it to the src folder also sitting next to it).</p>

<a name="188592360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188592360" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188592360">Patrick Massot (Feb 19 2020 at 22:24)</a>:</h4>
<p>Note that <code>trylean</code> doesn't have to be a bash script if you know how to turn it into something Mac users could click on (since this seems to be the only supported interaction mode on this OS).</p>

<a name="188592843"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188592843" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188592843">Simon Hudon (Feb 19 2020 at 22:30)</a>:</h4>
<p>Bash sounds fine. I'm having a look</p>

<a name="188593114"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188593114" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188593114">Simon Hudon (Feb 19 2020 at 22:33)</a>:</h4>
<p>How did you get <code>VSCodium</code>? It doesn't seem to run on my computer</p>

<a name="188593204"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188593204" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188593204">Patrick Massot (Feb 19 2020 at 22:34)</a>:</h4>
<p><a href="https://github.com/VSCodium/vscodium/releases/tag/1.42.1" target="_blank" title="https://github.com/VSCodium/vscodium/releases/tag/1.42.1">https://github.com/VSCodium/vscodium/releases/tag/1.42.1</a></p>

<a name="188593234"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188593234" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188593234">Patrick Massot (Feb 19 2020 at 22:34)</a>:</h4>
<p>Maybe I picked the wrong file in this long list</p>

<a name="188593313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188593313" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188593313">Patrick Massot (Feb 19 2020 at 22:35)</a>:</h4>
<p>I guess I picked <a href="https://github.com/VSCodium/vscodium/releases/download/1.42.1/VSCodium-darwin-1.42.1.zip" target="_blank" title="https://github.com/VSCodium/vscodium/releases/download/1.42.1/VSCodium-darwin-1.42.1.zip">https://github.com/VSCodium/vscodium/releases/download/1.42.1/VSCodium-darwin-1.42.1.zip</a></p>

<a name="188593425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188593425" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188593425">Patrick Massot (Feb 19 2020 at 22:36)</a>:</h4>
<p>What happens if you get that zip and try to run its content?</p>

<a name="188593489"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188593489" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188593489">Simon Hudon (Feb 19 2020 at 22:37)</a>:</h4>
<p>Then it works</p>

<a name="188593493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188593493" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188593493">Simon Hudon (Feb 19 2020 at 22:37)</a>:</h4>
<p>That's weird</p>

<a name="188593560"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188593560" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188593560">Simon Hudon (Feb 19 2020 at 22:38)</a>:</h4>
<p>Here's what I put in the bash file:</p>
<div class="codehilite"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="nv">DIR</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span> <span class="nb">cd</span> <span class="s2">&quot;</span><span class="k">$(</span> dirname <span class="s2">&quot;</span><span class="si">${</span><span class="nv">BASH_SOURCE</span><span class="p">[0]</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">)</span><span class="s2">&quot;</span> &gt;/dev/null <span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span> <span class="o">&amp;&amp;</span> <span class="nb">pwd</span> <span class="k">)</span><span class="s2">&quot;</span>
<span class="nb">cd</span> <span class="nv">$DIR</span>
open ./vscodium/VSCodium.app <span class="nv">$DIR</span>/src
</pre></div>


<p>(note the last line)</p>

<a name="188593585"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188593585" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188593585">Simon Hudon (Feb 19 2020 at 22:38)</a>:</h4>
<p>Does it come with the Lean plugin? (great bundling by the way)</p>

<a name="188593602"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188593602" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188593602">Patrick Massot (Feb 19 2020 at 22:39)</a>:</h4>
<p>Yes, the Lean plugin is there.</p>

<a name="188593608"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188593608" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188593608">Patrick Massot (Feb 19 2020 at 22:39)</a>:</h4>
<p>Does this bash script work?</p>

<a name="188593666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188593666" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188593666">Patrick Massot (Feb 19 2020 at 22:40)</a>:</h4>
<p>Or does it work only after you redownload VScodium from the GitHub page?</p>

<a name="188593838"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188593838" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188593838">Simon Hudon (Feb 19 2020 at 22:41)</a>:</h4>
<p>Sorry, use this line instead of the last:</p>
<div class="codehilite"><pre><span></span>open ./vscodium/VSCodium.app --args <span class="nv">$DIR</span>/src
</pre></div>

<a name="188593887"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188593887" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188593887">Simon Hudon (Feb 19 2020 at 22:42)</a>:</h4>
<p>It only works after I redownload VScodium</p>

<a name="188593926"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188593926" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188593926">Patrick Massot (Feb 19 2020 at 22:42)</a>:</h4>
<p>This is so weird. This bundle is created by <a href="https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef" target="_blank" title="https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef">https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef</a></p>

<a name="188593942"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188593942" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188593942">Simon Hudon (Feb 19 2020 at 22:43)</a>:</h4>
<p>Opening the directory with VS code doesn't show me any highlighting but I'm asked if I want to install the Lean mode</p>

<a name="188593979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188593979" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188593979">Patrick Massot (Feb 19 2020 at 22:43)</a>:</h4>
<p>If you reinstalled Codium then you probably lost the extension</p>

<a name="188594010"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188594010" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188594010">Simon Hudon (Feb 19 2020 at 22:43)</a>:</h4>
<p>I see</p>

<a name="188594070"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188594070" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188594070">Bryan Gin-ge Chen (Feb 19 2020 at 22:44)</a>:</h4>
<p>Like Simon, I wasn't able to get the VSCodium app included in <code>trylean_darwin.zip</code> to work. However, it did work after I replaced it with one downloaded from the Github list that you gave. I did, however, run into this issue (<a href="https://vscodium.com/" target="_blank" title="https://vscodium.com/">mentioned on the VSCodium website</a>):</p>
<blockquote>
<p>Note for Mac OS X Mojave users: if you see “App can’t be opened because Apple cannot check it for malicious software” when opening VSCodium the first time, you can right-click the application and choose Open. This should only be required the first time opening on Mojave.</p>
</blockquote>
<p>Next I noticed that the extension wasn't detected. I realized that <code>codium_portable-data</code> directory was misnamed. After I renamed it to <code>codium-portable-data</code>, the extension was detected.</p>
<p>When I tried opening the <code>src/</code> directory,  I found I had to fix the permissions of the lean binary to get the extension to run. Then I had to wait a bit for the olean files to recompile. However, the timestamps in the mathlib directory all look OK to me:</p>
<div class="codehilite"><pre><span></span>$ ls -al
total 9504
drwxr-xr-x@ 67 user  staff    2144 Feb 19 17:33 .
drwxr-xr-x@ 22 user  staff     704 Feb 19 00:13 ..
-rw-r--r--@  1 user  staff   10096 Feb 19 00:13 archimedean.lean
-rw-r--r--@  1 user  staff   81288 Feb 19 00:28 archimedean.olean
-rw-r--r--@  1 user  staff   27278 Feb 19 00:13 associated.lean
-rw-r--r--@  1 user  staff  191932 Feb 19 00:28 associated.olean
-rw-r--r--@  1 user  staff   39866 Feb 19 00:13 big_operators.lean
-rw-r--r--@  1 user  staff  322104 Feb 19 00:31 big_operators.olean
...
</pre></div>

<a name="188594076"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188594076" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188594076">Patrick Massot (Feb 19 2020 at 22:44)</a>:</h4>
<p>Or maybe it ends up in the wrong location.</p>

<a name="188594143"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188594143" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188594143">Patrick Massot (Feb 19 2020 at 22:45)</a>:</h4>
<p>or with the wrong name... sorry about that</p>

<a name="188594222"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188594222" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188594222">Simon Hudon (Feb 19 2020 at 22:46)</a>:</h4>
<p>That is a subtle difference. I had to stare at it for a while</p>

<a name="188594388"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188594388" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188594388">Patrick Massot (Feb 19 2020 at 22:48)</a>:</h4>
<p>I'd be curious to see whether the mysterious problem disappear if you build the bundle on a Mac. Could you try <a href="https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef" target="_blank" title="https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef">https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef</a> on your computer? (you need python at least 3.6 and the python packages that are used by update-mathlib anyway)</p>

<a name="188594402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188594402" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188594402">Patrick Massot (Feb 19 2020 at 22:48)</a>:</h4>
<p>Note that I updated the gist to fix the typo.</p>

<a name="188594430"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188594430" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188594430">Patrick Massot (Feb 19 2020 at 22:49)</a>:</h4>
<p>The hope is one day that script will become part of our CI.</p>

<a name="188594535"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188594535" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188594535">Bryan Gin-ge Chen (Feb 19 2020 at 22:50)</a>:</h4>
<p>Hmm, it looks like some timestamps in core lean might be off, possibly due to a timezone issue:</p>
<div class="codehilite"><pre><span></span>$ ls -al
total 728
drwxrwxr-x@ 17 user  staff     544 Feb 19 17:33 .
drwxrwxr-x@  8 user  staff     256 Feb 19 17:27 ..
-rw-rw-r--@  1 user  staff    6705 Feb 19  2020 bitvec.lean
-rw-rw-r--@  1 user  staff   41762 Feb 19  2020 bitvec.olean
drwxrwxr-x@  4 user  staff     128 Feb 19 17:33 buffer
-rw-rw-r--@  1 user  staff    4607 Feb 19  2020 buffer.lean
-rw-rw-r--@  1 user  staff   33214 Feb 19  2020 buffer.olean
-rw-rw-r--@  1 user  staff    2838 Feb 19  2020 dlist.lean
...
</pre></div>


<p>I think the fact that the year is showing up instead of the time indicates that the date is in the future.</p>
<p>Maybe we should add some lines to the script that touch all the lean and olean files just in case.</p>

<a name="188594593"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188594593" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188594593">Simon Hudon (Feb 19 2020 at 22:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110031">Patrick Massot</span> <a href="#narrow/stream/113488-general/topic/New.20user.20bundles/near/188594388" title="#narrow/stream/113488-general/topic/New.20user.20bundles/near/188594388">said</a>:</p>
<blockquote>
<p>I'd be curious to see whether the mysterious problem disappear if you build the bundle on a Mac. Could you try <a href="https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef" target="_blank" title="https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef">https://gist.github.com/PatrickMassot/567833153f106379b87a20e9d3a712ef</a> on your computer? (you need python at least 3.6 and the python packages that are used by update-mathlib anyway)</p>
</blockquote>
<p>What's the name of the package on <code>pip</code>?</p>

<a name="188594691"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188594691" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188594691">Patrick Massot (Feb 19 2020 at 22:52)</a>:</h4>
<p>mathlibtools</p>

<a name="188594718"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188594718" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188594718">Patrick Massot (Feb 19 2020 at 22:53)</a>:</h4>
<p>Bryan, do you also see this issue if you get Lean directly from the community release page?</p>

<a name="188594744"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188594744" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188594744">Patrick Massot (Feb 19 2020 at 22:53)</a>:</h4>
<p>I mean <a href="https://github.com/leanprover-community/lean/releases" target="_blank" title="https://github.com/leanprover-community/lean/releases">https://github.com/leanprover-community/lean/releases</a></p>

<a name="188594793"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188594793" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188594793">Patrick Massot (Feb 19 2020 at 22:54)</a>:</h4>
<p>if you get <a href="https://github.com/leanprover-community/lean/releases/download/v3.5.1/lean-3.5.1-darwin.zip" target="_blank" title="https://github.com/leanprover-community/lean/releases/download/v3.5.1/lean-3.5.1-darwin.zip">https://github.com/leanprover-community/lean/releases/download/v3.5.1/lean-3.5.1-darwin.zip</a> and unzip, does it have the funny timestamps?</p>

<a name="188594802"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188594802" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188594802">Patrick Massot (Feb 19 2020 at 22:54)</a>:</h4>
<p>Probably not, since your funny timestamps are from today</p>

<a name="188594804"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188594804" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188594804">Rob Lewis (Feb 19 2020 at 22:54)</a>:</h4>
<p>We really have to get rid of this timestamp checking.</p>

<a name="188594819"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188594819" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188594819">Patrick Massot (Feb 19 2020 at 22:54)</a>:</h4>
<p>We still need a way to know when to recompile</p>

<a name="188594837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188594837" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188594837">Rob Lewis (Feb 19 2020 at 22:55)</a>:</h4>
<p>File hashes should be enough to figure that out.</p>

<a name="188594847"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188594847" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188594847">Patrick Massot (Feb 19 2020 at 22:55)</a>:</h4>
<p>Isn't it much slower?</p>

<a name="188594911"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188594911" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188594911">Patrick Massot (Feb 19 2020 at 22:56)</a>:</h4>
<p>I need to sleep, but I'd be really grateful if Mac users could make progress on this bundle idea. If the MacOS bundle needs to be build from a Mac then I guess we can still ask GitHub actions to do that.</p>

<a name="188594918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188594918" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188594918">Rob Lewis (Feb 19 2020 at 22:56)</a>:</h4>
<p>It's not slower than constantly wondering why mathlib doesn't build, remembering the touch olean script, doing all this crazy debugging.</p>

<a name="188594967"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188594967" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188594967">Patrick Massot (Feb 19 2020 at 22:57)</a>:</h4>
<p>Yeah, I really need to sleep, I start seeing non-sense emails (like an email saying "our university got money to fund 25-50 PhD in AI during the next 3 years, could you propose a topic?").</p>

<a name="188594980"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188594980" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188594980">Patrick Massot (Feb 19 2020 at 22:57)</a>:</h4>
<p>People are really crazy about AI.</p>

<a name="188595097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188595097" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188595097">Bryan Gin-ge Chen (Feb 19 2020 at 22:59)</a>:</h4>
<blockquote>
<p>Bryan, do you also see this issue if you get Lean directly from the community release page?</p>
</blockquote>
<p>Just tested it out and I don't see the issue with the downloaded lean. Your <code>mk_bundle.py</code> is still running...</p>

<a name="188595785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188595785" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188595785">Bryan Gin-ge Chen (Feb 19 2020 at 23:08)</a>:</h4>
<p>The VSCodium.app in the output from my run of <code>mk_bundle.py</code> doesn't work either. Maybe the process of downloading and extracting from a script has screwed up the permissions?</p>

<a name="188595880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188595880" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188595880">Patrick Massot (Feb 19 2020 at 23:10)</a>:</h4>
<p>It's worth checking if you can</p>

<a name="188595953"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188595953" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188595953">Bryan Gin-ge Chen (Feb 19 2020 at 23:11)</a>:</h4>
<p>I have to run for now but I suspect we're running into some security "feature" of macOS.</p>

<a name="188596022"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188596022" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188596022">Patrick Massot (Feb 19 2020 at 23:12)</a>:</h4>
<p>Indeed that sounds very plausible.</p>

<a name="188596026"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188596026" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188596026">Patrick Massot (Feb 19 2020 at 23:12)</a>:</h4>
<p>Thank you very much for investigating.</p>

<a name="188742688"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188742688" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188742688">Sebastien Gouezel (Feb 21 2020 at 15:35)</a>:</h4>
<p>The security bug has been solved on windows, so I have tried again. Issues:</p>
<ul>
<li><code>trylean.bat</code> should refer to <code>vscodium</code>, not <code>codium</code></li>
<li>it tries to recompile everything, so I guess the timestamps are not good (note that I unzipped it respecting the timestamps)</li>
</ul>

<a name="188742912"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188742912" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188742912">Patrick Massot (Feb 21 2020 at 15:37)</a>:</h4>
<p>Do you see bad timestamps?</p>

<a name="188742927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188742927" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188742927">Patrick Massot (Feb 21 2020 at 15:37)</a>:</h4>
<p>Or do you only suspect they exist?</p>

<a name="188743643"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188743643" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188743643">Sebastien Gouezel (Feb 21 2020 at 15:44)</a>:</h4>
<p>In fact I don't understand what is going on. The timestamps on the files look good, and if I start <code>lean --make src</code> at the root of the mathlib directory (after having set a suitable <code>path</code> file), it doesn't recompile anything. But still if I launch <code>trylean</code> and open <code>firstproofs.lean</code> the orange bar remains there forever and CPU usage jumps...</p>

<a name="188743720"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188743720" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188743720">Patrick Massot (Feb 21 2020 at 15:45)</a>:</h4>
<p>Are you sure the <code>lean --make src</code> that works uses Lean from the bundle and not your regular Lean?</p>

<a name="188743751"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188743751" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188743751">Sebastien Gouezel (Feb 21 2020 at 15:45)</a>:</h4>
<p>I am sure it uses my regular Lean, I just wanted to check it if would be happy.</p>

<a name="188743826"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188743826" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188743826">Patrick Massot (Feb 21 2020 at 15:46)</a>:</h4>
<p>What happens if you use lean from the bundle?</p>

<a name="188743855"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188743855" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188743855">Patrick Massot (Feb 21 2020 at 15:46)</a>:</h4>
<p>it's in <code>lean\bin\lean.exe</code></p>

<a name="188743860"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188743860" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188743860">Sebastien Gouezel (Feb 21 2020 at 15:46)</a>:</h4>
<p>I also tried to open the <code>src</code> directory of <code>trylean</code> with my regular vscode (configured with my regular lean), and the orange bar disappeared right away.</p>

<a name="188743983"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188743983" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188743983">Sebastien Gouezel (Feb 21 2020 at 15:47)</a>:</h4>
<p>Indeed,  <code>..\lean\bin\lean.exe --make src</code> tries to recompile everything.</p>

<a name="188744129"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188744129" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188744129">Patrick Massot (Feb 21 2020 at 15:49)</a>:</h4>
<p>Can you compare <code>lean --version</code> with <code>..\lean\bin\lean.exe --version</code>?</p>

<a name="188744146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188744146" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188744146">Sebastien Gouezel (Feb 21 2020 at 15:49)</a>:</h4>
<p>They are the same lean version <code>Lean (version 3.5.1, commit d3a94649bdb4, Release)</code></p>

<a name="188744186"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188744186" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188744186">Patrick Massot (Feb 21 2020 at 15:49)</a>:</h4>
<p>Does the crazy one also try to recompile core lib?</p>

<a name="188744206"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188744206" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188744206">Patrick Massot (Feb 21 2020 at 15:49)</a>:</h4>
<p>or only mathlib?</p>

<a name="188744229"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188744229" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188744229">Sebastien Gouezel (Feb 21 2020 at 15:49)</a>:</h4>
<p>Only mathlib</p>

<a name="188744331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188744331" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188744331">Patrick Massot (Feb 21 2020 at 15:50)</a>:</h4>
<p>Could you compare timestamps for the (bundled) core lib and mathlib?</p>

<a name="188744580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188744580" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188744580">Sebastien Gouezel (Feb 21 2020 at 15:52)</a>:</h4>
<p>The bundled <code>lean.exe</code> is dated <code>19/02/2020 18:31</code>, so later than the <code>.lean</code> and <code>.olean</code> files of the library. I don't know if this might matter.</p>

<a name="188744734"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188744734" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188744734">Patrick Massot (Feb 21 2020 at 15:54)</a>:</h4>
<p>Can you change that lean.exe time stamp?</p>

<a name="188744778"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188744778" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188744778">Patrick Massot (Feb 21 2020 at 15:54)</a>:</h4>
<p>Also, as I wrote above, how do timestamps for the bundled core lib and mathlib compare?</p>

<a name="188744875"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188744875" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188744875">Sebastien Gouezel (Feb 21 2020 at 15:55)</a>:</h4>
<p>The bundled core lib timestamps are posterior to mathlib's. I guess this explains the issue.</p>

<a name="188745312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188745312" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188745312">Patrick Massot (Feb 21 2020 at 15:59)</a>:</h4>
<p>Ok, it may be due to the bundles being produced incrementally while I was developing  the bundling script. I'll try to regenerate those.</p>

<a name="188746140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188746140" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188746140">Patrick Massot (Feb 21 2020 at 16:07)</a>:</h4>
<p>This is really weird. After running my script, mathlib olean are dated from their actual creation date while core lib get the current timestamp.</p>

<a name="188747467"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188747467" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188747467">Bryan Gin-ge Chen (Feb 21 2020 at 16:21)</a>:</h4>
<p>Random guess: maybe the <code>replace</code> in the lines like: <code>next(DIST_LIN.glob('lean-*')).replace(DIST_LIN/'lean')</code> are changing the timestamps?</p>

<a name="188747899"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188747899" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188747899">Patrick Massot (Feb 21 2020 at 16:25)</a>:</h4>
<p>Yes, something like this is happening. Instead of guessing I'll try to reset all timestamps before the final zipping</p>

<a name="188753977"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188753977" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188753977">Patrick Massot (Feb 21 2020 at 17:25)</a>:</h4>
<p><span class="user-mention" data-user-id="110050">@Sebastien Gouezel</span> (or other windows users) could you retry from scratch (archive at <a href="https://www.imo.universite-paris-saclay.fr/~pmassot/try.html" target="_blank" title="https://www.imo.universite-paris-saclay.fr/~pmassot/try.html">https://www.imo.universite-paris-saclay.fr/~pmassot/try.html</a>)</p>

<a name="188756849"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188756849" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188756849">Sebastien Gouezel (Feb 21 2020 at 17:54)</a>:</h4>
<p>Works perfectly for me.</p>

<a name="188759296"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188759296" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188759296">Patrick Massot (Feb 21 2020 at 18:16)</a>:</h4>
<p>Great! Now all the pressure is on MacOS users who still need to debug what happens on their side.</p>

<a name="188759492"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188759492" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188759492">Bryan Gin-ge Chen (Feb 21 2020 at 18:19)</a>:</h4>
<p>My suggestion after failing to find any useful info on the gatekeeper is simply to ask macOS users to download VSCodium themselves and put it in the correct directory.</p>

<a name="188759639"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188759639" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188759639">Patrick Massot (Feb 21 2020 at 18:20)</a>:</h4>
<p>This is really sad.</p>

<a name="188759653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188759653" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188759653">Patrick Massot (Feb 21 2020 at 18:20)</a>:</h4>
<p>And it wouldn't work because the Lean extension and VScode are intertwined.</p>

<a name="188759703"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188759703" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188759703">Bryan Gin-ge Chen (Feb 21 2020 at 18:21)</a>:</h4>
<p>I agree that it's sad. However, it worked for me when I was testing the earlier version of your bundle. You can still include the <code>codium-portable-whatever</code> directory that contains the extension.</p>

<a name="188759780"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188759780" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188759780">Yufan Lou (Feb 21 2020 at 18:22)</a>:</h4>
<p>macOS user here, anything need testing?</p>

<a name="188759968"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188759968" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188759968">Patrick Massot (Feb 21 2020 at 18:24)</a>:</h4>
<p>The game is to go to <a href="https://www.imo.universite-paris-saclay.fr/~pmassot/try.html" target="_blank" title="https://www.imo.universite-paris-saclay.fr/~pmassot/try.html">https://www.imo.universite-paris-saclay.fr/~pmassot/try.html</a>, download the macos thing, unzip, figure out why MacOS refuses to launch <code>trylean</code> (or VScodium).</p>

<a name="188761462"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188761462" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188761462">Bryan Gin-ge Chen (Feb 21 2020 at 18:40)</a>:</h4>
<p>My current theory is that <a href="https://en.wikipedia.org/wiki/Gatekeeper_(macOS)" target="_blank" title="https://en.wikipedia.org/wiki/Gatekeeper_(macOS)">"Gatekeeper"</a> refuses to allow <code>.app</code>s downloaded by scripts on other machines to run. </p>
<p>I just tested the latest version of the bundle, and the following sad workaround steps worked:</p>
<ul>
<li>download VSCodium yourself from <a href="https://github.com/VSCodium/vscodium/releases" target="_blank" title="https://github.com/VSCodium/vscodium/releases">here</a> (I used the <code>VSCodium-darwin-*.zip</code> link but presumably the <code>.dmg</code> will work as well). Unzip and move <code>VSCodium.app</code> into the <code>vscodium</code> directory, replacing the one that was included.</li>
<li>change the permission of <code>src/lean/bin/lean</code> to executable</li>
<li>right-click VSCodium and click "Open" from the menu. A pop-up about not being able to check for malicious whatever will appear, but VSCodium will open.</li>
<li>drag the <code>src/</code> directory onto VSCodium (or open directory on <code>src/</code> from within VSCodium)</li>
<li>click on <code>first_proofs.lean</code> in VSCodium.</li>
</ul>

<a name="188763375"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188763375" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188763375">Yufan Lou (Feb 21 2020 at 19:01)</a>:</h4>
<p>wow this is the first time that the right-click trick doesn't work on a <code>.app</code></p>

<a name="188764282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188764282" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188764282">Patrick Massot (Feb 21 2020 at 19:10)</a>:</h4>
<p>Thanks Bryan. This is not much simpler than doing a full install so I guess we'll drop the bundle idea for MacOS.</p>

<a name="188764382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188764382" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188764382">Patrick Massot (Feb 21 2020 at 19:12)</a>:</h4>
<p>For instance there is no longer any technical or legal point in using VScodium instead of VScode with the above procedure (of course there is still the moral argument).</p>

<a name="188877928"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188877928" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188877928">Patrick Massot (Feb 23 2020 at 18:04)</a>:</h4>
<p>Bryan, do you understand what is different between the zip file you get from the VScodium release page and the one I created?</p>

<a name="188877931"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188877931" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188877931">Patrick Massot (Feb 23 2020 at 18:04)</a>:</h4>
<p>I don't understand how MacOS sees a difference</p>

<a name="188878120"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188878120" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188878120">Bryan Gin-ge Chen (Feb 23 2020 at 18:10)</a>:</h4>
<p>No, not really. One thing I noticed is that the executable bits on the <code>lean</code> binaries weren't set after unzipping. Perhaps the same thing happens to the binary files in the <code>.app</code> file and this screws up some hash checking.</p>

<a name="188883204"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188883204" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188883204">Patrick Massot (Feb 23 2020 at 20:29)</a>:</h4>
<p>Did you try tweaking the executable bits?</p>

<a name="188883941"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188883941" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188883941">Bryan Gin-ge Chen (Feb 23 2020 at 20:51)</a>:</h4>
<p>I did, but I can't be sure that I got them all and I didn't try doing an exhaustive comparison with the downloaded <code>.app</code>.</p>

<a name="188884607"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188884607" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188884607">Patrick Massot (Feb 23 2020 at 21:10)</a>:</h4>
<p>Do you have any idea how to do such a comparison?</p>

<a name="188884631"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188884631" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188884631">Bryan Gin-ge Chen (Feb 23 2020 at 21:11)</a>:</h4>
<p>Could you look into whether there's a way to fix the executable bits getting changed in the zip / unzip process first? Maybe using .tar.gz instead of ZIP will be more reliable.</p>

<a name="188884736"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188884736" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188884736">Patrick Massot (Feb 23 2020 at 21:14)</a>:</h4>
<p>Does MacOS handles tar.gz by default?</p>

<a name="188884738"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188884738" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188884738">Bryan Gin-ge Chen (Feb 23 2020 at 21:14)</a>:</h4>
<p>yes</p>

<a name="188884818"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188884818" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188884818">Patrick Massot (Feb 23 2020 at 21:17)</a>:</h4>
<p>I won't be able to try now because I'm out of GitHub API quota</p>

<a name="188946503"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188946503" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188946503">Patrick Massot (Feb 24 2020 at 17:22)</a>:</h4>
<p>Bryan, (or other Mac users), could you try again using <a href="https://www.imo.universite-paris-saclay.fr/~pmassot/trylean_darwin.tar.gz" target="_blank" title="https://www.imo.universite-paris-saclay.fr/~pmassot/trylean_darwin.tar.gz">https://www.imo.universite-paris-saclay.fr/~pmassot/trylean_darwin.tar.gz</a>?</p>

<a name="188946534"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188946534" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188946534">Patrick Massot (Feb 24 2020 at 17:23)</a>:</h4>
<p>Indeed the zip format is very bad for permissions.</p>

<a name="188947612"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188947612" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188947612">Alex J. Best (Feb 24 2020 at 17:36)</a>:</h4>
<p>Ok so opening VScodium.app via double click now works!</p>

<a name="188947677"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188947677" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188947677">Alex J. Best (Feb 24 2020 at 17:36)</a>:</h4>
<p>But trylean does not <span aria-label="confused" class="emoji emoji-1f615" role="img" title="confused">:confused:</span></p>

<a name="188948449"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188948449" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188948449">Patrick Massot (Feb 24 2020 at 17:43)</a>:</h4>
<p>Do you know how to launch VScodium.app from the command line?</p>

<a name="188948771"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188948771" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188948771">Bryan Gin-ge Chen (Feb 24 2020 at 17:47)</a>:</h4>
<p>Making VS Code launchable from the command line <a href="https://code.visualstudio.com/docs/setup/mac#_launching-from-the-command-line" target="_blank" title="https://code.visualstudio.com/docs/setup/mac#_launching-from-the-command-line">requires an extra step on macOS</a>; presumably the same thing is true for VScodium.</p>

<a name="188948782"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188948782" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188948782">Bryan Gin-ge Chen (Feb 24 2020 at 17:47)</a>:</h4>
<p>(I'll try to test the bundle on my end later today.)</p>

<a name="188949305"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188949305" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188949305">Alex J. Best (Feb 24 2020 at 17:54)</a>:</h4>
<p>Lol the problem with trylean was a space in the filename, as I have tested multiple versions of this which extract as <code>trylean 2</code>etc</p>

<a name="188949359"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188949359" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188949359">Alex J. Best (Feb 24 2020 at 17:54)</a>:</h4>
<p>Next issue, the lean extension is not picked up.</p>

<a name="188974507"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188974507" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188974507">Bryan Gin-ge Chen (Feb 24 2020 at 22:46)</a>:</h4>
<p>I just tested the new bundle, and it didn't open when I double clicked (“VSCodium.app” can’t be opened because Apple cannot check it for malicious software.). I had to right-click VSCodium.app and select "Open" to open it. (I am using macOS 10.14.6 so this is expected, according to the note on <a href="https://vscodium.com/" target="_blank" title="https://vscodium.com/">https://vscodium.com/</a>). After VSCodium opened, it didn't find the extension. This is apparently related to the quarantine, see <a href="https://code.visualstudio.com/docs/editor/portable#_macos" target="_blank" title="https://code.visualstudio.com/docs/editor/portable#_macos">the VS Code page on portable mode and macoS</a>. I next removed the quarantine attribute by hand by running <code>xattr -dr com.apple.quarantine VSCodium.app/</code> and then launched VSCodium. However, the extension still didn't load.</p>
<p>In a final attempt, I tried extracting the bundle again in a new directory, and then I ran the <code>xattr</code> command in the console before opening the app with right click. This time, success! I was able to open VSCodium.app by double clicking, and the extension loaded (and worked perfectly) after I opened the <code>src/</code> directory.</p>

<a name="188974680"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188974680" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188974680">Patrick Massot (Feb 24 2020 at 22:49)</a>:</h4>
<p>Thank you very much Bryan!</p>

<a name="188974698"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188974698" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188974698">Patrick Massot (Feb 24 2020 at 22:49)</a>:</h4>
<p>I guess this is almost something we could tell users to do.</p>

<a name="188974792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/New%20user%20bundles/near/188974792" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/27895Newuserbundles.html#188974792">Patrick Massot (Feb 24 2020 at 22:50)</a>:</h4>
<p>I guess we can't do much more without building a proper installer (which would defeat the purpose of those packages that are guaranteed to install nothing outside of a designated folder and depend on nothing).</p>


{% endraw %}

{% include archive_update.html %}