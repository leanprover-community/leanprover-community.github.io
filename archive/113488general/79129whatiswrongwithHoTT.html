---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/79129whatiswrongwithHoTT.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html">what is wrong with HoTT</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="135265404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135265404" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135265404">Johan Commelin (Oct 05 2018 at 16:34)</a>:</h4>
<p>Let me start by saying that I really don't want to start a flamewar. I am just very uneducated.<br>
My question is simply this:<br>
Is there a documented reason why mathlib chose "classical DTT" instead of HoTT + univalence?<br>
Has there been some experience that shows that HoTT makes daily life for the working formalising mathematician harder rather than easier?</p>
<p>Motivation: in the <a href="#narrow/stream/113488-general/subject/tutorial" title="#narrow/stream/113488-general/subject/tutorial">https://leanprover.zulipchat.com/#narrow/stream/113488-general/subject/tutorial</a> thread there is a discussion going on about transport of structure. And this is not the first time this has happened. If I understand univalence correctly, one would just be able to apply univalence to the <code>equiv</code>, which turns it into an <code>identity</code>. By induction on <code>identity</code>, one would be reduced to proving a claim that is <code>rfl</code>. Maybe I'm drastically oversimplifying. Maybe I misunderstand univalence. But this truly sounds like what mathematicians do "between the lines".<br>
Please educate me.</p>

<a name="135272847"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135272847" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135272847">Andrew Ashworth (Oct 05 2018 at 18:45)</a>:</h4>
<p>I'm also curious about HoTT. So I think from the thread people were discussing </p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">card_eq_of_equiv</span> <span class="o">{</span><span class="n">s</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">α</span><span class="o">}</span> <span class="o">{</span><span class="n">t</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">β</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">s</span><span class="bp">.</span><span class="n">to_set</span> <span class="err">≃</span> <span class="n">t</span><span class="bp">.</span><span class="n">to_set</span><span class="o">)</span> <span class="o">:</span><span class="n">s</span><span class="bp">.</span><span class="n">card</span> <span class="bp">=</span> <span class="n">t</span><span class="bp">.</span><span class="n">card</span> <span class="o">:=</span>  <span class="n">sorry</span>
</pre></div>


<p>AFAIK the univalence axiom is <code>(X=Y)→(X≃Y)</code>. How do you apply it in this case? Wouldn't you need <code>(X≃Y)→(X=Y)</code>?</p>

<a name="135273023"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135273023" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135273023">Reid Barton (Oct 05 2018 at 18:48)</a>:</h4>
<p>The function <code>(X=Y)→(X≃Y)</code> comes for free. Univalence says that it is an equivalence.</p>

<a name="135273073"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135273073" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135273073">Chris Hughes (Oct 05 2018 at 18:49)</a>:</h4>
<p><code>(X=Y)→(X≃Y)</code> doesn't look like it needs any extra axioms. I think univalence is <code>(X≃Y)→(X=Y)</code>. I'm curious about how it works with isomorphisms of structures, If I have two isomorphic rings <code>R</code> and <code>S</code>, do I know <code>(1 : R) == (1 : S)</code>. Equality of the types doesn't seem like a very strong axiom.</p>

<a name="135273180"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135273180" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135273180">Chris Hughes (Oct 05 2018 at 18:50)</a>:</h4>
<p>In fact <code>(1 : R) == (1 : S)</code> seems like it could lead to some easy contradictions, but do I know anything a bit like that?</p>

<a name="135273490"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135273490" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135273490">Kevin Buzzard (Oct 05 2018 at 18:54)</a>:</h4>
<p>If you're using the correct equiv (ring isomorphisms) you know that the function maps one to the other of course</p>

<a name="135273525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135273525" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135273525">Chris Hughes (Oct 05 2018 at 18:54)</a>:</h4>
<p>What does univalence actually say?</p>

<a name="135273589"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135273589" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135273589">Kevin Buzzard (Oct 05 2018 at 18:56)</a>:</h4>
<p>No idea, I'd love to know more about HOTT. Can it do perfectoid spaces?</p>

<a name="135274063"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135274063" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135274063">Bryan Gin-ge Chen (Oct 05 2018 at 19:01)</a>:</h4>
<p>There's <a href="https://video.ias.edu/VoevodskyMemConf-2018/0912-BenediktAhrens" target="_blank" title="https://video.ias.edu/VoevodskyMemConf-2018/0912-BenediktAhrens">this recent talk</a> from the Voevodsky memorial conference by Benedikt Ahrens titled "Univalent foundations and the equivalence principle". I haven't watched it yet though.</p>

<a name="135274190"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135274190" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135274190">Andrew Ashworth (Oct 05 2018 at 19:03)</a>:</h4>
<p>How does univalence save you work? You'd still have to prove the isomorphism you chose to encode in <code>equiv</code> preserves structure</p>

<a name="135274206"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135274206" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135274206">Chris Hughes (Oct 05 2018 at 19:03)</a>:</h4>
<p>I tried googling it, and it seems like it doesn't assume proof irrelevance. It's stated as something like <code>(A = B) ≃ (A ≃ B)</code>, where <code>≃</code> means the same thing as it does in Lean.</p>

<a name="135274570"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135274570" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135274570">Reid Barton (Oct 05 2018 at 19:08)</a>:</h4>
<p>IIRC "book HoTT" has no built-in Prop/Type distinction, so no proof irrelevance in that sense</p>

<a name="135274615"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135274615" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135274615">Reid Barton (Oct 05 2018 at 19:09)</a>:</h4>
<p>If you see Prop in a book HoTT context, it means basically the same as what we call a subsingleton</p>

<a name="135276936"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135276936" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135276936">Johan Commelin (Oct 05 2018 at 19:44)</a>:</h4>
<blockquote>
<p>There's <a href="https://video.ias.edu/VoevodskyMemConf-2018/0912-BenediktAhrens" target="_blank" title="https://video.ias.edu/VoevodskyMemConf-2018/0912-BenediktAhrens">this recent talk</a> from the Voevodsky memorial conference by Benedikt Ahrens titled "Univalent foundations and the equivalence principle". I haven't watched it yet though.</p>
</blockquote>
<p>Thanks for this link. I think from 49.30 onwards it might be pretty relevant to this thread.</p>

<a name="135277436"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135277436" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135277436">Johan Commelin (Oct 05 2018 at 19:53)</a>:</h4>
<blockquote>
<p>How does univalence save you work? You'd still have to prove the isomorphism you chose to encode in <code>equiv</code> preserves structure</p>
</blockquote>
<p>Right. But in the case of Bryan's problem, there is not structure. So we win.</p>

<a name="135277511"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135277511" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135277511">Johan Commelin (Oct 05 2018 at 19:55)</a>:</h4>
<p>In the case of Chris's example, he is talking about <code>(1 : R)</code>, so you need an <code>equiv</code> (or path, in HoTT-speak) that preserves <code>has_one</code>.</p>

<a name="135277680"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135277680" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135277680">Johan Commelin (Oct 05 2018 at 19:57)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> Can you shed some light on these questions?</p>
<blockquote>
<p>Is there a documented reason why mathlib chose "classical DTT" instead of HoTT + univalence?<br>
Has there been some experience that shows that HoTT makes daily life for the working formalising mathematician harder rather than easier?</p>
</blockquote>

<a name="135278023"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135278023" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135278023">Chris Hughes (Oct 05 2018 at 20:03)</a>:</h4>
<p>I guess implementing it in Lean involve creating a non proof irrelevant version of <code>eq</code> and implementing it using that?</p>

<a name="135278873"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135278873" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135278873">Kevin Buzzard (Oct 05 2018 at 20:17)</a>:</h4>
<p>Is that exactly the <code>equiv</code>?</p>

<a name="135278940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135278940" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135278940">Kevin Buzzard (Oct 05 2018 at 20:18)</a>:</h4>
<p>Oh you mean there are parts of the <code>eq</code> API which need to be ported to <code>equiv</code>?</p>

<a name="135279051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135279051" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135279051">Reid Barton (Oct 05 2018 at 20:20)</a>:</h4>
<p>You need the recursor, because the point is to be able to show things like "if R is artinian and S is isomorphic to R, then S is artinian" by applying univalence and then doing cases on the equality you get out so that you can assume S is R</p>

<a name="135279110"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135279110" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135279110">Chris Hughes (Oct 05 2018 at 20:20)</a>:</h4>
<p>I've thought about it some more, and I think what it would actually look like is <code>eq,rec_on</code> with equiv instead of <code>eq</code></p>

<a name="135279218"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135279218" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135279218">Kevin Buzzard (Oct 05 2018 at 20:22)</a>:</h4>
<p><code>eq.rec_on : Π {α : Sort u_3} {a : α} {C : α → Sort u_2} {a_1 : α}, a = a_1 → C a → C a_1</code></p>

<a name="135279257"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135279257" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135279257">Kevin Buzzard (Oct 05 2018 at 20:23)</a>:</h4>
<p>So the idea would be that there would be some typeclass <code>[plays_well_with_equiv C]</code>?</p>

<a name="135279266"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135279266" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135279266">Reid Barton (Oct 05 2018 at 20:23)</a>:</h4>
<p>But I don't think you can really go about it this way, unless you can rule out "being equal to R" as a property which you can apply the recursor to.</p>

<a name="135279294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135279294" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135279294">Reid Barton (Oct 05 2018 at 20:23)</a>:</h4>
<p>Because then you could just conclude that <code>S = R</code>.</p>

<a name="135279335"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135279335" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135279335">Kevin Buzzard (Oct 05 2018 at 20:24)</a>:</h4>
<p>that rule doesn't get tagged with my cool typeclass though</p>

<a name="135279374"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135279374" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135279374">Reid Barton (Oct 05 2018 at 20:24)</a>:</h4>
<p>Right, so <code>plays_well_with_equiv</code> seems to be viable and I think it's what people were calling "transportable" earlier</p>

<a name="135279473"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135279473" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135279473">Chris Hughes (Oct 05 2018 at 20:26)</a>:</h4>
<p>Another way might be <code>equiv A B -&gt; for all C : Sort u -&gt; Sort v, C A = C B</code></p>

<a name="135279500"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135279500" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135279500">Kevin Buzzard (Oct 05 2018 at 20:26)</a>:</h4>
<p>plus the typeclass on C</p>

<a name="135279522"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135279522" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135279522">Kevin Buzzard (Oct 05 2018 at 20:27)</a>:</h4>
<p>Oh wait -- you want <code>C A = C B</code>? Not just an equiv?</p>

<a name="135279663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135279663" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135279663">Andrew Ashworth (Oct 05 2018 at 20:29)</a>:</h4>
<p>ah, this paper points out a big problem with hott <code>https://hal.inria.fr/hal-01559073v2/document</code>. Just like with <code>acc</code>, you get stuck terms when you use axiomatic univalence</p>

<a name="135279726"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135279726" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135279726">Kevin Buzzard (Oct 05 2018 at 20:30)</a>:</h4>
<p>But does that stop me from defining a perfectoid space?</p>

<a name="135279755"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135279755" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135279755">Patrick Massot (Oct 05 2018 at 20:31)</a>:</h4>
<p>Why are we having this discussion again? I thought HoTT is irremediably tied to constructive mathematics.</p>

<a name="135279782"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135279782" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135279782">Andrew Ashworth (Oct 05 2018 at 20:31)</a>:</h4>
<p>if restriction maps, id, and def reduction made you tear your hair out, trying to deal with univalence will do so similarly</p>

<a name="135281859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135281859" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135281859">Mario Carneiro (Oct 05 2018 at 21:08)</a>:</h4>
<blockquote>
<p>Motivation: in the <a href="#narrow/stream/113488-general/subject/tutorial" title="#narrow/stream/113488-general/subject/tutorial">https://leanprover.zulipchat.com/#narrow/stream/113488-general/subject/tutorial</a> thread there is a discussion going on about transport of structure. And this is not the first time this has happened. If I understand univalence correctly, one would just be able to apply univalence to the equiv, which turns it into an identity. By induction on identity, one would be reduced to proving a claim that is rfl.</p>
</blockquote>
<p>I had a discussion with <span class="user-mention" data-user-id="110865">@Jeremy Avigad</span> on this very issue today. What you have said is not wrong; you can use univalence to prove these kinds of theorems almost trivially, because it's basically the content of that axiom. But there are some huge asterisks that come with this assertion, which make it almost disingenuous to trot out as an advantage of HoTT, because even if in an alternate universe mathlib was based on HoTT we would still have a considerable amount of difficulty with transfer of structure proofs in exactly the form we want them to be, the problem would just be with different parts of the proof</p>

<a name="135282014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135282014" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135282014">Mario Carneiro (Oct 05 2018 at 21:10)</a>:</h4>
<blockquote>
<p>(X=Y)→(X≃Y) doesn't look like it needs any extra axioms. I think univalence is (X≃Y)→(X=Y). I'm curious about how it works with isomorphisms of structures, If I have two isomorphic rings R and S, do I know (1 : R) == (1 : S). Equality of the types doesn't seem like a very strong axiom.</p>
</blockquote>
<p>HoTT is kind of magic when it comes to this. One of the things which is the most impressive about how HoTT works is how it always seems to get exactly the right kind of equivalence between objects. Two types are equal iff they are (constructively) bijective, two bundled groups are equal iff they are isomorphic as groups, two bundled rings are equal iff they are isomorphic as rings.</p>

<a name="135282053"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135282053" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135282053">Mario Carneiro (Oct 05 2018 at 21:11)</a>:</h4>
<p>In HoTT, <code>==</code> is actually a "bad" notion of equality. Instead they have a "pathover" <code>a =[h] b</code> where <code>h : A = B</code>, which is basically equivalent to <code>cast a h = b</code></p>

<a name="135282377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135282377" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135282377">Mario Carneiro (Oct 05 2018 at 21:17)</a>:</h4>
<p>The key is that equality of sigma types <code>\Sigma x : A, B x = \Sigma x : A', B' x</code> is the same as the pair of an equality <code>h : A = A'</code> and a pathover <code>B x =[h] B' x</code>. For a simple example, consider equality of pointed types (i.e. a type with a zero element and no axioms). This can be defined as <code>\Sigma A : Type, A</code>, and so an equality of sigma types <code>(A, a)</code> and <code>(A', a')</code> is an equality <code>h : A = A'</code> with a pathover <code>a =[h] a'</code>. If you unpack this, it means <code>h</code> is a bijective function from <code>A</code> to <code>A'</code> such that <code>h</code> maps <code>a</code> to <code>a'</code>. In other words, it is a pointed equivalence, which is what we wanted</p>

<a name="135282432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135282432" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135282432">Mario Carneiro (Oct 05 2018 at 21:18)</a>:</h4>
<p>If you do this with groups, the pathover thing exactly asserts that the map between types preserves the 0, inv, + which is a group isomorphism</p>

<a name="135282548"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135282548" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135282548">Mario Carneiro (Oct 05 2018 at 21:21)</a>:</h4>
<blockquote>
<p>How does univalence save you work? You'd still have to prove the isomorphism you chose to encode in equiv preserves structure</p>
</blockquote>
<p>In HoTT, the equiv is just a plain equiv, i.e. a function <code>f</code> with an inverse <code>g</code> and two <em>paths</em> <code>f o g = id</code>, <code>g o f = id</code>. That is, it looks just like the usual definition of equiv, but the new interpretation gives it magic powers to be a group isomorphism when talking about groups, etc.</p>

<a name="135282629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135282629" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135282629">Mario Carneiro (Oct 05 2018 at 21:22)</a>:</h4>
<blockquote>
<p>I tried googling it, and it seems like it doesn't assume proof irrelevance. It's stated as something like (A = B) ≃ (A ≃ B), where ≃ means the same thing as it does in Lean.</p>
</blockquote>
<p>Technically, it's not just any equiv, it asserts that the natural map <code>A = B -&gt; A ≃ B</code> is an equivalence</p>

<a name="135282634"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135282634" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135282634">Mario Carneiro (Oct 05 2018 at 21:22)</a>:</h4>
<p>HoTT is inconsistent with proof irrelevance</p>

<a name="135282647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135282647" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135282647">Mario Carneiro (Oct 05 2018 at 21:22)</a>:</h4>
<p>because if equalities of groups are group isos, we can't possibly assert there is only one</p>

<a name="135282738"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135282738" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135282738">Mario Carneiro (Oct 05 2018 at 21:25)</a>:</h4>
<blockquote>
<p>I guess implementing it in Lean involve creating a non proof irrelevant version of eq and implementing it using that?</p>
</blockquote>
<p>Yes, but it's not that simple. Just the fact that propositional equality exists in the system is enough to prove that Type eq and Prop eq are equivalent, and hence the fact that Prop eq is proof irrelevant collapses Type eq. In the hott3 library they go to great lengths to mark everything using Prop eq as "bad" and unusable in HoTT stuff to avoid contradictions</p>

<a name="135282803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135282803" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135282803">Mario Carneiro (Oct 05 2018 at 21:26)</a>:</h4>
<blockquote>
<p>I've thought about it some more, and I think what it would actually look like is eq,rec_on with equiv instead of eq</p>
</blockquote>
<p>Yes, this is an equivalent way to state univalence. Something with the same recursor as eq is provably equivalent to eq, and vice versa</p>

<a name="135282952"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135282952" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135282952">Mario Carneiro (Oct 05 2018 at 21:29)</a>:</h4>
<blockquote>
<p>Another way might be equiv A B -&gt; for all C : Sort u -&gt; Sort v, C A = C B</p>
<p>Oh wait -- you want C A = C B? Not just an equiv?</p>
</blockquote>
<p>These are equivalent. Even if you only had <code>A ≃ B -&gt; for all C : Sort u -&gt; Sort v, C A ≃ C B</code> you could just apply it to <code>C = \lam x, A = x</code> to deduce <code>(A = A) ≃ (A = B)</code>, and since the first is inhabited you just apply the function to prove <code>A = B</code>. So this is also univalence</p>

<a name="135283041"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135283041" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135283041">Mario Carneiro (Oct 05 2018 at 21:30)</a>:</h4>
<blockquote>
<p>ah, this paper points out a big problem with hott <a href="https://hal.inria.fr/hal-01559073v2/document" target="_blank" title="https://hal.inria.fr/hal-01559073v2/document">https://hal.inria.fr/hal-01559073v2/document</a> . Just like with acc, you get stuck terms when you use axiomatic univalence</p>
</blockquote>
<p>This is why cubical type theory was invented. It provides a way to compute with univalence</p>

<a name="135283559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135283559" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135283559">Scott Morrison (Oct 05 2018 at 21:40)</a>:</h4>
<p>"provides a way to compute with univalence" maybe should be "hopefully provides a way to compute with univalence, except that currently some of the things we think should compute instead blow up our computers".</p>

<a name="135283577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135283577" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135283577">Scott Morrison (Oct 05 2018 at 21:40)</a>:</h4>
<p>(If I understood the cubical type theorists at Dagstuhl talking about Brunerie's number correctly.)</p>

<a name="135283614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135283614" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135283614">Chris Hughes (Oct 05 2018 at 21:41)</a>:</h4>
<p>I watched the talk and the main thing I don't understand is why and when Id is not a subsingleton. If i define it in a similar in Lean, as Type, so without proof irrelevance, but it's still a subsingleton. </p>
<div class="codehilite"><pre><span></span><span class="kn">inductive</span> <span class="n">Id</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Type</span>
<span class="bp">|</span> <span class="n">refl</span> <span class="o">:</span> <span class="n">Id</span> <span class="n">x</span>

<span class="kn">instance</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">subsingleton</span> <span class="o">(</span><span class="n">Id</span> <span class="n">x</span> <span class="n">y</span><span class="o">)</span> <span class="o">:=</span>
<span class="bp">⟨λ</span> <span class="n">i</span> <span class="n">j</span><span class="o">,</span> <span class="k">begin</span> <span class="n">cases</span> <span class="n">i</span><span class="o">,</span> <span class="n">cases</span> <span class="n">j</span><span class="o">,</span> <span class="n">refl</span> <span class="kn">end</span><span class="bp">⟩</span>

<span class="kn">example</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">i</span> <span class="n">j</span> <span class="o">:</span> <span class="n">Id</span> <span class="n">x</span> <span class="n">y</span><span class="o">)</span> <span class="o">:</span> <span class="n">Id</span> <span class="n">i</span> <span class="n">j</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">cases</span> <span class="n">i</span><span class="bp">;</span> <span class="n">cases</span> <span class="n">j</span><span class="bp">;</span> <span class="n">exact</span> <span class="n">Id</span><span class="bp">.</span><span class="n">refl</span> <span class="bp">_</span>
</pre></div>


<p>The recursors/ eliminators/ computation rules mentioned in the talk <a href="https://www.youtube.com/watch?v=okx4Uklvwco" target="_blank" title="https://www.youtube.com/watch?v=okx4Uklvwco">https://www.youtube.com/watch?v=okx4Uklvwco</a> are the same as they are in Lean, so why do they not imply Id is a subsingleton? Obviously there are types where it is a subsingleton, which he calls "Sets", what would make a type a Set?</p>
<div class="youtube-video message_inline_image"><a data-id="okx4Uklvwco" href="https://www.youtube.com/watch?v=okx4Uklvwco" target="_blank" title="https://www.youtube.com/watch?v=okx4Uklvwco"><img src="https://i.ytimg.com/vi/okx4Uklvwco/default.jpg"></a></div>

<a name="135287498"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135287498" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135287498">Reid Barton (Oct 05 2018 at 23:03)</a>:</h4>
<p>Something subtle is happening in your examples. Check out what the equation compiler actually generated.</p>

<a name="135287763"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135287763" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135287763">Reid Barton (Oct 05 2018 at 23:08)</a>:</h4>
<p>If you try to implement these by hand, you can do the case analysis on <code>i</code> but then you'll get stuck on <code>j</code>.</p>

<a name="135288559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135288559" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135288559">Mario Carneiro (Oct 05 2018 at 23:28)</a>:</h4>
<p>Reid is right. <code>cases</code> and the equation compiler use a HoTT-unsound proof method that introduces Prop eq to eliminate from inductive predicates. In the end the resulting proof uses the assumption that a proof of <code>a = a</code> is definitionally refl, which is provably false in HoTT</p>

<a name="135296892"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135296892" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135296892">Johan Commelin (Oct 06 2018 at 03:50)</a>:</h4>
<blockquote>
<p>Why are we having this discussion again? I thought HoTT is irremediably tied to constructive mathematics.</p>
</blockquote>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span>  The last sentence of §7 in <a href="https://arxiv.org/pdf/1711.01477.pdf" target="_blank" title="https://arxiv.org/pdf/1711.01477.pdf">https://arxiv.org/pdf/1711.01477.pdf</a> (by Dan Grayson) says: <em>"The Law of Excluded Middle and the Axiom of Choice are also validated by this interpretation, so classical mathematics is supported soundly by the univalent foundations."</em><br>
So I wonder if you (we?) have been tricked by a version of the myth that all formalised math needs to be constructive.<br>
Or is Dan Grayson pulling a trick on us?</p>

<a name="135296941"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135296941" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135296941">Mario Carneiro (Oct 06 2018 at 03:52)</a>:</h4>
<p>The excluded middle and the axiom of choice are indeed consistent with HoTT</p>

<a name="135296942"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135296942" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135296942">Mario Carneiro (Oct 06 2018 at 03:52)</a>:</h4>
<p><code>choice</code> is not</p>

<a name="135296989"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135296989" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135296989">Mario Carneiro (Oct 06 2018 at 03:54)</a>:</h4>
<p>"The axiom of choice" here means <code>classical.axiom_of_choice</code>, that is, the one that ends in an existential</p>

<a name="135297036"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297036" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297036">Mario Carneiro (Oct 06 2018 at 03:56)</a>:</h4>
<p>But actually that's kind of a lie, because in HoTT you have an explicit "propositional truncation" operator that has the same role as putting things in Prop in lean</p>

<a name="135297037"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297037" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297037">Mario Carneiro (Oct 06 2018 at 03:56)</a>:</h4>
<p>there is no proof irrelevant universe in HoTT, like I said that's not consistent</p>

<a name="135297095"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297095" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297095">Mario Carneiro (Oct 06 2018 at 03:59)</a>:</h4>
<p>I think it would be instructional to actually look at Dan Grayson's work in UniMath and judge for yourself whether the style of mathematics being done there works for you. They also are aiming for the formalization of conventional mathematics, although HoTT-isms are a frequent distraction (e.g. "ooh, I wonder if transfinite induction still holds over n-types")</p>

<a name="135297098"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297098" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297098">Mario Carneiro (Oct 06 2018 at 03:59)</a>:</h4>
<p>just as constructive math is an occasional distraction here</p>

<a name="135297193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297193" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297193">Scott Olson (Oct 06 2018 at 04:02)</a>:</h4>
<p>To respond to the original question, it's my understanding that Lean/mathlib is using more traditional type theory rather than HoTT basically "by default". Research is on-going wrt formalizing mathematics with HoTT and making univalence compute via things like cubical types but it's still a bit avant-garde</p>

<a name="135297211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297211" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297211">Mario Carneiro (Oct 06 2018 at 04:03)</a>:</h4>
<p>I think that's fair. I would even possibly go so far as to say that we tried it and it "didn't work" in the sense that the issues thrown up are not minor annoyances but major research projects</p>

<a name="135297257"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297257" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297257">Johan Commelin (Oct 06 2018 at 04:04)</a>:</h4>
<blockquote>
<p>there is no proof irrelevant universe in HoTT, like I said that's not consistent</p>
</blockquote>
<p>But if you have a <code>P : Prop</code> and <code>x y : P</code>, then you would know that <code>Id p q</code> is contractible. Which seems to me just as good as proof irrelevance. In practice, I think you can even teach the computer to use this fact, without bothering you with it.</p>

<a name="135297258"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297258" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297258">Mario Carneiro (Oct 06 2018 at 04:04)</a>:</h4>
<p>I don't think HoTT is really suitable as a practical foundation for all of math, except in the logical sense</p>

<a name="135297261"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297261" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297261">Mario Carneiro (Oct 06 2018 at 04:04)</a>:</h4>
<blockquote>
<p>But if you have a P : Prop and x y : P, then you would know that Id p q is contractible.</p>
</blockquote>
<p>This is not true</p>

<a name="135297271"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297271" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297271">Mario Carneiro (Oct 06 2018 at 04:05)</a>:</h4>
<p>this is the same as chris's proof attempt, and it's not provable</p>

<a name="135297273"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297273" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297273">Johan Commelin (Oct 06 2018 at 04:05)</a>:</h4>
<blockquote>
<p>I think that's fair. I would even possibly go so far as to say that we tried it and it "didn't work" in the sense that the issues thrown up are not minor annoyances but major research projects</p>
</blockquote>
<p>This is exactly what I would like to know about. Are those problems even there if you don't care about computability?</p>

<a name="135297276"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297276" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297276">Mario Carneiro (Oct 06 2018 at 04:05)</a>:</h4>
<p>It's provably false with HITs, or even just with type equalities using univalence</p>

<a name="135297328"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297328" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297328">Johan Commelin (Oct 06 2018 at 04:06)</a>:</h4>
<blockquote>
<blockquote>
<p>But if you have a P : Prop and x y : P, then you would know that Id p q is contractible.</p>
</blockquote>
<p>This is not true</p>
</blockquote>
<p>I thought it was the definition of being a <code>Prop</code> in HoTT.</p>

<a name="135297331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297331" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297331">Mario Carneiro (Oct 06 2018 at 04:06)</a>:</h4>
<p>For example, S^1 is a higher inductive type defined by <code>base : S^1</code> and <code>loop : base = base</code>. Since this is a "free" construction, this <code>base</code> is not <code>refl base</code></p>

<a name="135297341"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297341" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297341">Mario Carneiro (Oct 06 2018 at 04:07)</a>:</h4>
<p>Oh, I missed that you said it was a prop</p>

<a name="135297344"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297344" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297344">Johan Commelin (Oct 06 2018 at 04:07)</a>:</h4>
<p>Sure, that makes all the difference.</p>

<a name="135297347"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297347" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297347">Mario Carneiro (Oct 06 2018 at 04:07)</a>:</h4>
<p>That's not how it works in HoTT. Instead you would say <code>P : Type</code> and <code>is_prop P</code></p>

<a name="135297348"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297348" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297348">Scott Olson (Oct 06 2018 at 04:07)</a>:</h4>
<p>props are <em>defined as</em> types whose path space is contractible</p>

<a name="135297353"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297353" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297353">Mario Carneiro (Oct 06 2018 at 04:07)</a>:</h4>
<p>and <code>is_prop</code> is basically <code>subsingleton</code></p>

<a name="135297400"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297400" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297400">Mario Carneiro (Oct 06 2018 at 04:08)</a>:</h4>
<p>because there is no "universe of props"</p>

<a name="135297402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297402" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297402">Johan Commelin (Oct 06 2018 at 04:08)</a>:</h4>
<p>Anyway, does this mean that proof irrelevance is there in the cases that we actually care about? (The other things just aren't <em>proofs</em>. They are higher order.)</p>

<a name="135297418"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297418" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297418">Mario Carneiro (Oct 06 2018 at 04:09)</a>:</h4>
<p>No. Being a proposition is a property which may or may not hold, and it holds a lot less than you would expect</p>

<a name="135297419"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297419" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297419">Johan Commelin (Oct 06 2018 at 04:09)</a>:</h4>
<p><code>def Prop := subtype is_prop</code> wouldn't cut it, I guess.</p>

<a name="135297469"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297469" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297469">Mario Carneiro (Oct 06 2018 at 04:10)</a>:</h4>
<p>There is <code>trunc</code> though (indeed I borrowed the terminology from HoTT), which will make a subsingleton from any type</p>

<a name="135297473"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297473" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297473">Johan Commelin (Oct 06 2018 at 04:10)</a>:</h4>
<blockquote>
<p>No. Being a proposition is a property which may or may not hold, and <strong>it holds a lot less than you would expect</strong></p>
</blockquote>
<p>(Emphasis mine). This is important information! Has this been documented somewhere?</p>

<a name="135297478"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297478" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297478">Mario Carneiro (Oct 06 2018 at 04:10)</a>:</h4>
<p>and things like exists and or are defined by truncating after taking the sum/sigma</p>

<a name="135297535"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297535" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297535">Mario Carneiro (Oct 06 2018 at 04:12)</a>:</h4>
<p>But I think that equalities not being subsingletons will get in your way a lot more than you think</p>

<a name="135297547"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297547" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297547">Mario Carneiro (Oct 06 2018 at 04:12)</a>:</h4>
<p>Here is a question: How do you define a group in HoTT?</p>

<a name="135297558"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297558" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297558">Johan Commelin (Oct 06 2018 at 04:12)</a>:</h4>
<p>I mean... what I'm getting from this thread is that there are "problems" with HoTT in practice. And I already had this vague feeling. But otoh, univalence seems a mathematician's dream. So I would like to understand those "problems" in more detail. And I'm asking whether someone wrote some docs saying: here's some problems for the <em>working mathematician</em> (someone who doesn't care about constructivity and computability, a priori).<br>
Does something like this exist?</p>

<a name="135297574"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297574" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297574">Johan Commelin (Oct 06 2018 at 04:13)</a>:</h4>
<blockquote>
<p>Here is a question: How do you define a group in HoTT?</p>
</blockquote>
<p>Benedikt did this for monoids in that talk.</p>

<a name="135297579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297579" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297579">Johan Commelin (Oct 06 2018 at 04:13)</a>:</h4>
<p>So it is <code>(M : Set, mul : M × M → M, e : M, 3 proofs)</code></p>

<a name="135297623"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297623" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297623">Johan Commelin (Oct 06 2018 at 04:14)</a>:</h4>
<p>And I'm using his notation.</p>

<a name="135297629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297629" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297629">Johan Commelin (Oct 06 2018 at 04:14)</a>:</h4>
<p>But <code>Set</code> should probably be <code>Type</code> + <code>is_set M</code></p>

<a name="135297630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297630" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297630">Mario Carneiro (Oct 06 2018 at 04:14)</a>:</h4>
<p>I am alluding to the <code>Set</code> part</p>

<a name="135297644"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297644" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297644">Mario Carneiro (Oct 06 2018 at 04:14)</a>:</h4>
<p>I guarantee you that will be a sticking point for getting mathematicians involved</p>

<a name="135297645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297645" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297645">Johan Commelin (Oct 06 2018 at 04:14)</a>:</h4>
<p>Ok, what's wrong with it?</p>

<a name="135297654"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297654" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297654">Mario Carneiro (Oct 06 2018 at 04:15)</a>:</h4>
<p>It is a restriction that people don't want to have to think about</p>

<a name="135297662"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297662" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297662">Mario Carneiro (Oct 06 2018 at 04:16)</a>:</h4>
<p>There is an obvious definition of a group where you say <code>Type</code> instead, and it's not correct, and it will take you a while to realize this</p>

<a name="135297706"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297706" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297706">Johan Commelin (Oct 06 2018 at 04:16)</a>:</h4>
<p>Hmmm... can't notation help us there?<br>
I claim that every mathematician understands in a few minutes that higher monoids don't have proof irrelevance for their associativity etc... (in fact there are even multiple generalisations)</p>

<a name="135297709"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297709" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297709">Scott Olson (Oct 06 2018 at 04:16)</a>:</h4>
<p>Is that much more to ask than understanding <code>Prop</code> vs. <code>Type</code> and universe levels?</p>

<a name="135297718"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297718" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297718">Mario Carneiro (Oct 06 2018 at 04:17)</a>:</h4>
<p>I think it is, mathematicians have <em>no concept whatsoever</em> about the higher structure of equality</p>

<a name="135297720"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297720" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297720">Johan Commelin (Oct 06 2018 at 04:17)</a>:</h4>
<blockquote>
<p>There is an obvious definition of a group where you say <code>Type</code> instead, and it's not correct, and it will take you a while to realize this</p>
</blockquote>
<p>It takes a while. But if you point out the analogy with actual homotopy theory, I think people get it fairly quickly.</p>

<a name="135297726"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297726" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297726">Mario Carneiro (Oct 06 2018 at 04:17)</a>:</h4>
<p>and now you've got people thinking about homotopy theory to do groups</p>

<a name="135297727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297727" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297727">Johan Commelin (Oct 06 2018 at 04:17)</a>:</h4>
<blockquote>
<p>I think it is, mathematicians have <em>no concept whatsoever</em> about the higher structure of equality</p>
</blockquote>
<p>This is blatantly false for mathematicians coming from algebraic topology.</p>

<a name="135297732"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297732" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297732">Mario Carneiro (Oct 06 2018 at 04:17)</a>:</h4>
<p>I see I've targeted the wrong audience :)</p>

<a name="135297741"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297741" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297741">Johan Commelin (Oct 06 2018 at 04:17)</a>:</h4>
<p>Np, I think I'm getting your points.</p>

<a name="135297789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297789" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297789">Johan Commelin (Oct 06 2018 at 04:18)</a>:</h4>
<p>So I repeat: Can't notation take care of this?</p>

<a name="135297795"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297795" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297795">Mario Carneiro (Oct 06 2018 at 04:18)</a>:</h4>
<p>The point is that HoTT makes you think about homotopy stuff whether you want to or not</p>

<a name="135297796"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297796" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297796">Johan Commelin (Oct 06 2018 at 04:18)</a>:</h4>
<p>Can't we have easy access to "<code>Set</code>"</p>

<a name="135297800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297800" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297800">Mario Carneiro (Oct 06 2018 at 04:18)</a>:</h4>
<p>Maybe? It will still come up in proofs</p>

<a name="135297810"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297810" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297810">Mario Carneiro (Oct 06 2018 at 04:18)</a>:</h4>
<p>maybe you can automate that...</p>

<a name="135297826"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297826" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297826">Johan Commelin (Oct 06 2018 at 04:19)</a>:</h4>
<p>If it comes up in proofs after the definition, then this is probably for a good reason. Unless the computer should have been able to figure out <code>is_Set</code> or <code>is_Prop</code> on its own.</p>

<a name="135297832"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297832" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297832">Mario Carneiro (Oct 06 2018 at 04:19)</a>:</h4>
<p>but no one has really seriously attempted to "just do math" in HoTT AFAICT, except possibly UniMath. Everyone gets distracted by the abstract homotopy stuff</p>

<a name="135297880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297880" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297880">Johan Commelin (Oct 06 2018 at 04:20)</a>:</h4>
<p>Right. I think I wouldn't get distracted. Neither would <span class="user-mention" data-user-id="110087">@Scott Morrison</span>, <span class="user-mention" data-user-id="110031">@Patrick Massot</span> or <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span>. We just want to take a far and high leap into normal classical research math.</p>

<a name="135297881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297881" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297881">Mario Carneiro (Oct 06 2018 at 04:20)</a>:</h4>
<p>Quotient modules in UniMath: <a href="https://github.com/UniMath/UniMath/blob/master/UniMath/Algebra/Modules/Quotient.v" target="_blank" title="https://github.com/UniMath/UniMath/blob/master/UniMath/Algebra/Modules/Quotient.v">https://github.com/UniMath/UniMath/blob/master/UniMath/Algebra/Modules/Quotient.v</a></p>

<a name="135297894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297894" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297894">Johan Commelin (Oct 06 2018 at 04:21)</a>:</h4>
<p>Do these rings and modules live in "Set", or are they higher order?</p>

<a name="135297898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297898" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297898">Mario Carneiro (Oct 06 2018 at 04:21)</a>:</h4>
<p>looking at it, I don't see anything really out of place for regular math in Coq</p>

<a name="135297951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135297951" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135297951">Mario Carneiro (Oct 06 2018 at 04:23)</a>:</h4>
<p>their setup for modules looks much less nice than lean's: <a href="https://github.com/UniMath/UniMath/blob/master/UniMath/Algebra/Modules/Core.v" target="_blank" title="https://github.com/UniMath/UniMath/blob/master/UniMath/Algebra/Modules/Core.v">https://github.com/UniMath/UniMath/blob/master/UniMath/Algebra/Modules/Core.v</a></p>

<a name="135298019"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298019" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298019">Mario Carneiro (Oct 06 2018 at 04:25)</a>:</h4>
<p>Ooh, a hott-ism:</p>
<div class="codehilite"><pre><span></span>(** The type of linear functions M -&gt; N is a set. *)
Lemma isasetlinearfun {R : ring} (M N : module R) : isaset (linearfun M N).
Proof.
  intros. apply (isasetsubset (@pr1linearfun R M N)).
  - change (isofhlevel 2 (M -&gt; N)).
    apply impred.
    exact (fun x =&gt; setproperty N).
  - refine (isinclpr1 _ _).
    intro.
    apply isapropislinear.
Defined.
</pre></div>

<a name="135298022"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298022" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298022">Johan Commelin (Oct 06 2018 at 04:25)</a>:</h4>
<p>They lack the pretty notation. But maybe that's because they don't distinguish between <code>has_mul</code> and <code>has_add</code>? Otherwise it looks pretty normal?</p>

<a name="135298024"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298024" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298024">Johan Commelin (Oct 06 2018 at 04:25)</a>:</h4>
<p>Ooh, let me see what you found.</p>

<a name="135298069"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298069" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298069">Scott Olson (Oct 06 2018 at 04:26)</a>:</h4>
<p>I think it makes sense that HoTT represents too big a shift in thinking about equality to be a drop-in replacement. I've gotten the impression that they hope it will help us do a lot of (non-homotopy...) math in a better way, but if it's a new way of doing math it couldn't be for the working mathematician until the working mathematician starts doing math differently</p>

<a name="135298073"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298073" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298073">Johan Commelin (Oct 06 2018 at 04:26)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> Maybe that could have been proven <code>by obviously</code>...</p>

<a name="135298139"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298139" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298139">Scott Olson (Oct 06 2018 at 04:28)</a>:</h4>
<p>But it seems like that's still mainly hopes and works in progress. I'm curious to what extent they could eventually move away from homotopy terminology to make it more approachable to the mainstream</p>

<a name="135298144"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298144" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298144">Johan Commelin (Oct 06 2018 at 04:28)</a>:</h4>
<p><code>@[derive is_Set] def linearfun ...</code> and automation derives it for you. I don't see anything blocking this...</p>

<a name="135298148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298148" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298148">Mario Carneiro (Oct 06 2018 at 04:28)</a>:</h4>
<p>I think even dependent type theory is a hard sell what with the casts and hard types and such... HoTT adds even more irrelevant junk from the mathematicians POV</p>

<a name="135298209"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298209" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298209">Johan Commelin (Oct 06 2018 at 04:30)</a>:</h4>
<p>Right, I think no mathematician would want HoTT without univalence. But univalence is very enticing. And it might be worth the hurdles.</p>

<a name="135298210"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298210" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298210">Mario Carneiro (Oct 06 2018 at 04:30)</a>:</h4>
<p>But speaking of automation, we started on this discussion because we wanted to do transport of structure and anything HoTT can do using univalence we can do with a tactic</p>

<a name="135298215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298215" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298215">Johan Commelin (Oct 06 2018 at 04:30)</a>:</h4>
<blockquote>
<p>But speaking of automation, we started on this discussion because we wanted to do transport of structure and anything HoTT can do using univalence we can do with a tactic</p>
</blockquote>
<p>Seriously? That sounds cool!</p>

<a name="135298222"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298222" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298222">Johan Commelin (Oct 06 2018 at 04:31)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> <span class="emoji emoji-2b06" title="up">:up:</span> voila!</p>

<a name="135298226"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298226" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298226">Johan Commelin (Oct 06 2018 at 04:31)</a>:</h4>
<p>We only need to get that tactic and you'll never hear us talking about HoTT or univalence again.</p>

<a name="135298227"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298227" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298227">Mario Carneiro (Oct 06 2018 at 04:31)</a>:</h4>
<p>It's not like it's an unsolved problem... that paper that was linked earlier seems to explain it in detail</p>

<a name="135298229"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298229" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298229">Mario Carneiro (Oct 06 2018 at 04:31)</a>:</h4>
<p><a href="https://hal.inria.fr/hal-01559073v2/document" target="_blank" title="https://hal.inria.fr/hal-01559073v2/document">https://hal.inria.fr/hal-01559073v2/document</a></p>

<a name="135298277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298277" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298277">Mario Carneiro (Oct 06 2018 at 04:33)</a>:</h4>
<p>But I also wanted to cure you of the idea that HoTT would magically solve these problems</p>

<a name="135298280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298280" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298280">Mario Carneiro (Oct 06 2018 at 04:33)</a>:</h4>
<p>You still have to prove that all your notions respect equality, it's just expressed differently</p>

<a name="135298320"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298320" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298320">Mario Carneiro (Oct 06 2018 at 04:34)</a>:</h4>
<p>you need to prove how transport computes on a bunch of things, and this is where the work is</p>

<a name="135298321"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298321" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298321">Mario Carneiro (Oct 06 2018 at 04:34)</a>:</h4>
<p>I think we should try again with <code>transfer</code> and see what goes wrong</p>

<a name="135298334"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298334" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298334">Johan Commelin (Oct 06 2018 at 04:35)</a>:</h4>
<p>Still, I hope that such a tactic would significantly decrease the length and mental overhead of Bryan's proof that equivalent sets have equivalent partitions.</p>

<a name="135298374"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298374" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298374">Johan Commelin (Oct 06 2018 at 04:36)</a>:</h4>
<p>Right, but currently <code>transfer</code> seems a <em>framework</em> that doesn't have any tactics to guide mere mortal mathematicians through it.</p>

<a name="135298375"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298375" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298375">Mario Carneiro (Oct 06 2018 at 04:36)</a>:</h4>
<p>You need to prove that equivs respect filter and powerset... it's not that difficult</p>

<a name="135298381"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298381" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298381">Johan Commelin (Oct 06 2018 at 04:36)</a>:</h4>
<p>I've tried a couple of times, but got stuck all the time.</p>

<a name="135298386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298386" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298386">Mario Carneiro (Oct 06 2018 at 04:36)</a>:</h4>
<p>The key is to prove those relators for lots of interesting notions</p>

<a name="135298388"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298388" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298388">Mario Carneiro (Oct 06 2018 at 04:36)</a>:</h4>
<p><code>transfer</code> is useless without them</p>

<a name="135298390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298390" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298390">Johan Commelin (Oct 06 2018 at 04:36)</a>:</h4>
<p>Right. We need a (general) tactic that would generate those two goals (in this specific case)</p>

<a name="135298393"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298393" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298393">Mario Carneiro (Oct 06 2018 at 04:37)</a>:</h4>
<p>no, you need to <em>prove</em> them</p>

<a name="135298401"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298401" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298401">Mario Carneiro (Oct 06 2018 at 04:37)</a>:</h4>
<p>they are not trivial claims</p>

<a name="135298402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298402" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298402">Mario Carneiro (Oct 06 2018 at 04:37)</a>:</h4>
<p>but <code>transfer</code> will glue them together into larger proofs</p>

<a name="135298403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298403" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298403">Johan Commelin (Oct 06 2018 at 04:37)</a>:</h4>
<p>No, I mean it takes the main goal. I invoke <code>univalence</code>. And it splits into the two goals you mentioned. Then I prove those.</p>

<a name="135298404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298404" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298404">Johan Commelin (Oct 06 2018 at 04:37)</a>:</h4>
<p>So we're talking about the same thing.</p>

<a name="135298444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298444" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298444">Mario Carneiro (Oct 06 2018 at 04:38)</a>:</h4>
<p>Ideally the lemmas about <code>powerset</code> and <code>filter</code> will already be in the library</p>

<a name="135298445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298445" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298445">Johan Commelin (Oct 06 2018 at 04:38)</a>:</h4>
<p>Currently there is no tactic called <code>transfer</code>, right?</p>

<a name="135298446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298446" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298446">Mario Carneiro (Oct 06 2018 at 04:38)</a>:</h4>
<p>there is</p>

<a name="135298447"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298447" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298447">Johan Commelin (Oct 06 2018 at 04:38)</a>:</h4>
<blockquote>
<p>Ideally the lemmas about <code>powerset</code> and <code>filter</code> will already be in the library</p>
</blockquote>
<p>Sure... at some point they will be.</p>

<a name="135298448"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298448" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298448">Mario Carneiro (Oct 06 2018 at 04:38)</a>:</h4>
<p>it's in core</p>

<a name="135298456"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298456" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298456">Johan Commelin (Oct 06 2018 at 04:39)</a>:</h4>
<p>And if VScode has a mode "Turn current goal into lemma" I think we would generate those facts even faster. (Instead of hiding them as subproofs.)</p>

<a name="135298457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298457" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298457">Mario Carneiro (Oct 06 2018 at 04:39)</a>:</h4>
<p>they aren't hard theorems, but no one has tried to prove them, or more likely they are already there but without the peculiar notation</p>

<a name="135298499"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298499" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298499">Scott Olson (Oct 06 2018 at 04:40)</a>:</h4>
<blockquote>
<p>You still have to prove that all your notions respect equality, it's just expressed differently<br>
you need to prove how transport computes on a bunch of things, and this is where the work is</p>
</blockquote>
<p>this was my impression when looking into cubical type theory. for example, there univalence itself seems small and easy to prove, because the details are bound up in the more fundamental ideas of transport-respecting equality in the type theory</p>

<a name="135298507"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298507" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298507">Johan Commelin (Oct 06 2018 at 04:41)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> What exactly would "equiv respects powerset" look like in Lean, to make it usable for <code>transfer</code>?</p>

<a name="135298553"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298553" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298553">Scott Olson (Oct 06 2018 at 04:42)</a>:</h4>
<p>you also get things like how equalities between pairs are actually equal to pairs of equalities between the two fields (with proof-relevant equalities), which maps to how transporting pairs requires transporting each of the fields</p>

<a name="135298623"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298623" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298623">Mario Carneiro (Oct 06 2018 at 04:45)</a>:</h4>
<p>right, you have to recurse through that stuff to prove your theorem about transport of <code>partition</code>, so in the end it's not much different from the recursion that <code>transfer</code> will do</p>

<a name="135298635"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298635" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298635">Mario Carneiro (Oct 06 2018 at 04:46)</a>:</h4>
<p>or more precisely, you know immediately that the partitions of A and B are isomorphic, but what that isomorphism does is not obvious</p>

<a name="135298664"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135298664" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135298664">Johan Commelin (Oct 06 2018 at 04:46)</a>:</h4>
<p>I see</p>

<a name="135299309"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135299309" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135299309">Johan Commelin (Oct 06 2018 at 05:12)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> I know you are really busy. But I would love that after the module refactoring is done this issue would land somewhere near the top of your todo list. Turning <code>transfer</code> into something that we smoothly use on a daily basis would be a huge win.</p>

<a name="135309614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135309614" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135309614">Kevin Buzzard (Oct 06 2018 at 11:46)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> here is a practical question. Once I said "oh we need <code>ring</code>". I probably said it about three times. And then one day I woke up and found that all of a sudden we had <code>ring</code>. My <em>impression</em> (correct me if I'm wrong) was that once you got down to it, it was just a cool project that maybe took you a weekend of coding because you understood exactly what needed to be done and then you just sat down and did it.</p>
<p>Well, now we "need" (in the same sense) the fact that if A and B are <code>equiv</code> topological rings then <code>Spa A</code> and <code>Spa A</code> are equiv topological spaces equipped with presheaves of topological rings, and to a mathematician the proof is <code>rw h</code> where <code>h</code> is the equiv. I fully understand that in Lean life is not so easy. But is this a tactic which will randomly just appear one day in mathlib like <code>ring</code> did or is this a far more serious research project? If it is I am wondering whether it is worth making it an issue for mathlib, so we know where we are and what needs doing. It would not surprise me if mathematicians have got big ideas about what this tactic is supposed to be doing, and I have no real feeling for whether Lean is capable of doing what we actually want, or whether Lean 4 changes things. </p>
<p>I have this mathlib issue which is not really an "issue" -- "let's define the adeles!". I am about to close it and put it instead on the "list of stuff which we should formalise at some stage". But my troubles with <code>module</code> are an issue I think, and non-existence of <code>transfer</code> is another issue. Is this a sensible usage of the "issue" functionality of github?</p>

<a name="135315441"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135315441" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135315441">Johan Commelin (Oct 06 2018 at 15:14)</a>:</h4>
<p><span class="user-mention" data-user-id="111080">@Floris van Doorn</span> <span class="user-mention" data-user-id="110193">@Cyril Cohen</span> I heartily invite you to read through this thread and share some of your insights and expertise with us.</p>

<a name="135330245"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135330245" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135330245">David Michael Roberts (Oct 06 2018 at 23:48)</a>:</h4>
<blockquote>
<p>What does univalence actually say?</p>
</blockquote>
<p>perhaps I'm too late, but there's this explanation with Agda code <a href="http://www.cs.bham.ac.uk/~mhe/agda-new/UnivalenceFromScratch.html" target="_blank" title="http://www.cs.bham.ac.uk/~mhe/agda-new/UnivalenceFromScratch.html">http://www.cs.bham.ac.uk/~mhe/agda-new/UnivalenceFromScratch.html</a> (see also the arXiv version <a href="https://arxiv.org/abs/1803.02294" target="_blank" title="https://arxiv.org/abs/1803.02294">https://arxiv.org/abs/1803.02294</a>)</p>

<a name="135330253"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135330253" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135330253">David Michael Roberts (Oct 06 2018 at 23:49)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span>  yes, there are programs that have been extracted, but they are so slow and memory-hungry they cannot be run to completion, even to calculate Brunerie's number (which is known to be 2 even in HoTT, on paper)</p>

<a name="135358192"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135358192" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135358192">Floris van Doorn (Oct 07 2018 at 16:33)</a>:</h4>
<p>Thanks for the ping, Johan. <br>
I think Mario has said most things already, but let me reiterate some points.</p>
<p>In HoTT you can develop ordinary mathematics. It will be mostly the same as formalizing things in mathlib. If you stay in the fragment of sets in HoTT, things will look very familiar. Here with "set" I mean a type <code>A</code> where for all <code>a b : A</code> the type <code>a = b</code> is a subsingleton (what we would call a propositon). </p>
<p><strong>Disadvantages</strong><br>
There will be some disadvantages/inconviences when doing set-level mathematics in HoTT:</p>
<ul>
<li>You won't have definitional proof irrelevance. Even if you are working with sets, if you have two equalities <code>h1 h2 : a = b</code>, <code>h1</code> and <code>h2</code> will not be definitionally equal.</li>
<li>You will have to prove that the objects you're dealing with are a set or proposition. For example: it is a lemma that <code>n ≤ m</code> is a proposition for natural numbers <code>n</code> and <code>m</code>. This is definitely automatable in 99% of the cases. </li>
<li><code>classical.choice</code> is inconsistent. The law of excluded middle and the axiom of choice are consistent with HoTT (and HoTT is no more tied to constructive mathematics than ordinary type theory is), as long as you restrict LEM to propositions (subsingletons) and the axiom of choice to sets. The restriction of <code>classical.choice</code> to a <code>subsingleton</code> type is consistent (and actually provable) in HoTT.</li>
<li>Instead of a single universe of propositions, there is a subuniverse of propositions (defined as <code>Prop := subtype is_prop</code> as Johan suggested above) inside every universe. This means that if you talk about a proposition, you have to decide in which universe that proposition lives. This hasn't come up as a problem in the HoTT library yet, but could lead to the insertion of some <code>ulift</code>s.</li>
</ul>
<p>I think the main reason why mathlib doesn't use HoTT is that we don't want to explain HoTT to all users of mathlib. Type theory is already weird enough for mathematicians, I think explaining the higher groupoid structure of equality would be too much. I think for experts, formalizing mathematics in HoTT won't be any harder than doing it in mathlib, but there will be a steeper learning curve. For example, if you have an element <code>⟨a, H⟩ : subtype P</code>, and you apply a lemma which expects the term <code>⟨a, H'⟩</code> (same element, different proof of <code>P a</code>), you will get a type error. It's easy to fix this, but very confusing for an average user (<code>⟨a, H⟩ = ⟨a, H'⟩</code> is provable by <code>subtype_eq rfl</code>).</p>
<p><strong>Univalence</strong><br>
As mentioned before, univalence roughly states that if you have an equivalence between two types, then they are equal. More formally, it states that the function <code>(A = B) → (A ≃ B)</code> (which is easily defined by - for example - <code>eq.rec</code>) is itself an equivalence. One pedantic remark here is that stating that a function <code>f : A → B</code> is an equivalence (<code>is_equiv f</code>) is defined slightly different in HoTT than in mathlib. One important property we need is that <code>is_equiv f</code> is a subsingleton, and the type <code>Σ(g : B → A), g ∘ f = id × f ∘ g = id</code> is not. There are many definitions which do satisfy this property, the simplest is by saying that <code>f</code> has a left-inverse <em>and</em> <code>f</code> has a right-inverse, so <code>(Σ(g : B → A), g ∘ f = id) × (Σ(h : B → A), f ∘ h = id)</code>. To be clear: there is a bi-implication between these two different definitions, but only the second one is a subsingleton, while the first one is not.</p>
<p>While univalence is only a statement about types, we can then prove it for all kinds of other structures: the type of equalities <code>(G = H)</code> between groups correspond to the type of group isomorphism between <code>G</code> and <code>H</code>. Equalities <code>(C = D)</code> between categories correspond to isomorphism of categories (and if <code>C</code> and <code>D</code> are so-called <em>univalent</em> categories, then it also corresponds to equivalence of categories), etc.</p>
<p>Univalence allows you to transport definitions and theorems between isomorphic structures. The catch is that if univalence is an axiom, these transported definitions will not be definitionally equal to what you want/expect (in cubical type theory it is, see below). As long as you are working with set-level objects, this will not be a problem. You can easily prove that the transported definition is equal to what you expect (and this is definitely automatable with a tactic). When transporting theorems, this will not be a problem, since we don't care about how we've proven these theorems.<br>
Let's look at two examples. In both cases I have a group <code>G</code>, a subgroup <code>H</code> of <code>G</code> and have proven that the property <code>PH : P H</code> holds. Now suppose <code>ϕ</code> is a group isomorphism from <code>G</code> to <code>G'</code></p>
<ul>
<li>It is easy to now find a subgroup <code>H'</code> of <code>G'</code> such that <code>P H'</code> holds. Just transport <code>⟨H, PH⟩</code> along the equality <code>G = G'</code> obtained from the group isomorphism. It is a lemma that <code>H'</code> is the image of <code>H</code> under <code>ϕ</code>.</li>
<li>Suppose we already have defined a subgroup <code>H'</code> of <code>G'</code>. To show that <code>P H'</code> holds, we can show that <code>H'</code> is the image of <code>H</code> under <code>ϕ</code>. We can then use univalence to get <code>P H'</code>. This will require some reasoning steps, but I'm sure that this can be automated using a tactic.</li>
</ul>
<p><strong>Cubical Type Theory</strong><br>
In cubical type theory univalence does compute. The disadvantage is that the type theory is a lot more complicated and under active research. For example, for many variants of cubical type theory meta-theoretic properties like canonicity and decidable type-checking are still open. Reducing a couple instances of univalence will be fast and efficient. In this way it's nothing like computing Brunerie's number. Computing Brunerie's number is slow in the same way that kernel reduction in Lean is slow: you wouldn't want to compute <code>2^100</code> using kernel computation, but reducing a couple of beta-redexes with the kernel is fine. </p>
<p>I hope this answers some questions.</p>

<a name="135358972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135358972" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135358972">Johan Commelin (Oct 07 2018 at 17:00)</a>:</h4>
<p><span class="user-mention" data-user-id="111080">@Floris van Doorn</span> Thanks a lot for this extensive reply!</p>

<a name="135365207"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/135365207" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#135365207">Kevin Buzzard (Oct 07 2018 at 20:47)</a>:</h4>
<p>Many thanks Floris! Your comments are very clarifying for me.</p>

<a name="136865419"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/136865419" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#136865419">Chris Hughes (Oct 31 2018 at 16:53)</a>:</h4>
<p>One thing about this I haven't managed to work out is how you can end up with two different proofs of equality that are provably not equal. Are there any simple examples?</p>

<a name="136866828"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/136866828" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#136866828">Floris van Doorn (Oct 31 2018 at 17:13)</a>:</h4>
<p>There are two ways:<br>
(1) Using the univalence axioms, equality between types <code>A</code> and <code>B</code> correspond to (more precisely: are equivalent to) equivalences between <code>A</code> and <code>B</code>. So for example, for every bijection between <code>nat</code> and <code>int</code> you get an equality between <code>nat</code> and <code>int</code>, and these are provably unequal the corresponding bijections are unequal.</p>
<p>(2) In HoTT, you can extend the language with <em>Higher Inductive Types</em>. These are like inductive types, where your constructors can be either new elements of the type you're constructing, but also new paths (equalities) between the elements. <br>
For example, you can have an interval <code>I</code> with three constructors:</p>
<ul>
<li><code>zero : I</code></li>
<li><code>one : I</code></li>
<li><code>segment : zero = one</code></li>
</ul>
<p>This is a trivial example, where we get a type with two points, and a path from <code>zero</code> to <code>one</code>. A more interesting example is the <code>circle</code> with two constructors:</p>
<ul>
<li><code>base : circle</code></li>
<li><code>loop : base = base</code></li>
</ul>
<p>Using the univalence axiom you can <em>prove</em> that <code>loop</code> is not equal to <code>refl base</code>. Moreover, you can prover that the type <code>base = base</code> is equivalent to the type <code>int</code>. (the map <code>int -&gt; base = base</code> sends <code>n</code> to <code>loop ^ n</code>.)</p>
<p>Another higher inductive type you know is <code>quotient</code> in Lean 3. For <code>quotient A</code> you have two constructors:</p>
<ul>
<li>A point constructor <code>quotient.mk : A -&gt; quotient A</code></li>
<li>A path constructor <code>quotient.sound : \forall (a b : A), a ~ b -&gt; mk a = mk b</code></li>
</ul>
<p>If you want to define this quotient in HoTT you want to add an additional constructor with type<code>\forall (a b : quotient A) (p q : a = b), p = q</code>. This enforces that the resulting type is in fact a "set": a type where any two proofs of the same equality are in fact equal.</p>

<a name="136867092"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/136867092" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#136867092">Floris van Doorn (Oct 31 2018 at 17:17)</a>:</h4>
<p>For all higher inductive types you get an induction principle/recursion principle like <code>foo.rec</code> in Lean. It roughly states that to define a function out of a higher inductive type, you have to say to what elements you have to send the point constructors, and show that the map respects the path constructors. For <code>quotient</code>, this corresponds exactly to <code>quotient.lift</code> and <code>quotient.rec</code>. And for the circle, you have to use this principle to show that <code>loop != refl base</code>.</p>

<a name="136868896"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/136868896" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#136868896">Johan Commelin (Oct 31 2018 at 17:45)</a>:</h4>
<p><span class="user-mention" data-user-id="110044">@Chris Hughes</span> The example about <code>circle</code> is very good. In general topology (or homotopy theory) gives good intuition for HoTT. (What's in a name?)<br>
Have you seen fundamental groups in topology yet? Then you will have seen homotopies (continuously deforming a path into another path). And of course we want to call two paths in a topological space "equal" if they are homotopic. Any two homotopies between two paths <code>p_1</code> and <code>p_2</code> will be proofs that <code>p_1 = p_2</code>, but of course those homotopies don't have to be equal.<br>
In ordinary maths we are using setoids and quotients for all of this. (So instead of homotopies, I could have talked about equality in quotient groups instead...) The difference in homotopy theory is that we don't actually want to take the quotient. We want to remember the homotopies. And we also want to remember homotopies between homotopies. HoTT allows us to do this synthetically in the type theory. It is thus suited very well for higher-categorical reasoning in mathematics (and for synthetic homotopy theory).</p>

<a name="136870378"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/what%20is%20wrong%20with%20HoTT/near/136870378" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79129whatiswrongwithHoTT.html#136870378">Chris Hughes (Oct 31 2018 at 18:12)</a>:</h4>
<p>I have googled the definition of fundamental group, but I don't know much more than that about them. I understand it well enough to understand most of the analogies given when reading about HoTT, but I had no idea why they were relevant to Type theory until now. I think I'll have to read up on higher inductive types. Thanks <span class="user-mention" data-user-id="111080">@Floris van Doorn</span></p>


{% endraw %}
