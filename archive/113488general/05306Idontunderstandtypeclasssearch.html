---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/05306Idontunderstandtypeclasssearch.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html">I don't understand type class search.</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="189617444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189617444" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189617444">Gabriel Ebner (Mar 03 2020 at 17:59)</a>:</h4>
<p>I have to admit that I don't understand the type class search in Lean 3.  (If there is a description somewhere, please point me to it.)  In particular, given an instance like <a href="https://leanprover-community.github.io/mathlib_docs/topology/algebra/ring.html#topological_ring.to_topological_add_group" target="_blank" title="https://leanprover-community.github.io/mathlib_docs/topology/algebra/ring.html#topological_ring.to_topological_add_group"><code>topological_ring.to_topological_add_group</code></a>, will Lean enumerate all possible instances of <code>[ring α]</code>?</p>
<div class="codehilite"><pre><span></span><span class="bp">@</span><span class="o">[</span><span class="kn">instance</span><span class="o">,</span> <span class="n">priority</span> <span class="mi">100</span><span class="o">]</span>
<span class="kn">protected</span> <span class="n">def</span> <span class="n">topological_ring</span><span class="bp">.</span><span class="n">to_topological_add_group</span> <span class="o">:</span>
<span class="bp">∀</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="bp">_</span><span class="n">inst_1</span> <span class="o">:</span> <span class="n">topological_space</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="bp">_</span><span class="n">inst_2</span> <span class="o">:</span> <span class="n">ring</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">t</span> <span class="o">:</span> <span class="n">topological_ring</span> <span class="n">α</span><span class="o">],</span>
  <span class="n">topological_add_group</span> <span class="n">α</span> <span class="o">:=</span>
</pre></div>

<a name="189617475"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189617475" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189617475">Gabriel Ebner (Mar 03 2020 at 17:59)</a>:</h4>
<p>Context: I'm just looking at a type-class trace where Lean produces such wonderful instances of <code>ring ℝ</code>:</p>
<div class="codehilite"><pre><span></span><span class="bp">@</span><span class="n">domain</span><span class="bp">.</span><span class="n">to_ring</span> <span class="n">ℝ</span>
     <span class="o">(</span><span class="bp">@</span><span class="n">integral_domain</span><span class="bp">.</span><span class="n">to_domain</span> <span class="n">ℝ</span>
        <span class="o">(</span><span class="bp">@</span><span class="n">linear_ordered_comm_ring</span><span class="bp">.</span><span class="n">to_integral_domain</span> <span class="n">ℝ</span>
           <span class="o">(</span><span class="bp">@</span><span class="n">decidable_linear_ordered_comm_ring</span><span class="bp">.</span><span class="n">to_linear_ordered_comm_ring</span> <span class="n">ℝ</span>
              <span class="o">(</span><span class="bp">@</span><span class="n">discrete_linear_ordered_field</span><span class="bp">.</span><span class="n">to_decidable_linear_ordered_comm_ring</span> <span class="n">ℝ</span>
                 <span class="n">real</span><span class="bp">.</span><span class="n">discrete_linear_ordered_field</span><span class="o">))))</span>
</pre></div>

<a name="189617555"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189617555" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189617555">Reid Barton (Mar 03 2020 at 18:00)</a>:</h4>
<p>Yes this is really how it works</p>

<a name="189617756"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189617756" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189617756">Gabriel Ebner (Mar 03 2020 at 18:02)</a>:</h4>
<p>Is there some standard workaround?  Should it be <code>{ring ℝ}</code> instead of <code>[ring ℝ]</code>?</p>

<a name="189617932"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189617932" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189617932">Reid Barton (Mar 03 2020 at 18:05)</a>:</h4>
<p>On the basis that it will be determined as the parameter of the <code>topological_ring</code> instance? Maybe?</p>

<a name="189617998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189617998" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189617998">Kevin Buzzard (Mar 03 2020 at 18:05)</a>:</h4>
<p><code>attribute [instance, priority 1000] real.ring</code> ?</p>

<a name="189618234"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189618234" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189618234">Gabriel Ebner (Mar 03 2020 at 18:08)</a>:</h4>
<p><code>real.ring</code> is already an instance with the default priority 1000.</p>

<a name="189618259"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189618259" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189618259">Kevin Buzzard (Mar 03 2020 at 18:08)</a>:</h4>
<p>2000?</p>

<a name="189618352"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189618352" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189618352">Gabriel Ebner (Mar 03 2020 at 18:09)</a>:</h4>
<p>The problem is not that Lean doesn't find the <code>real.ring</code> instances.  In fact, that's the one it tries first.  The problem is that Lean then tries <em>all</em> other ring instances, of which there are unfortunately very many.</p>

<a name="189618443"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189618443" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189618443">Kevin Buzzard (Mar 03 2020 at 18:10)</a>:</h4>
<p><span aria-label="four leaf clover" class="emoji emoji-1f340" role="img" title="four leaf clover">:four_leaf_clover:</span> ?</p>

<a name="189618453"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189618453" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189618453">Sebastian Ullrich (Mar 03 2020 at 18:10)</a>:</h4>
<p>It shouldn't do that unless a later failure makes it backtrack</p>

<a name="189618656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189618656" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189618656">Gabriel Ebner (Mar 03 2020 at 18:12)</a>:</h4>
<p>Yes, of course it does backtrack.  This problem occurs when showing that the reals are a topological additive group.  We already know that the reals are a uniform additive group, but we haven't yet shown that they are a uniform ring.  Now there is an instance that every topological ring is a topological additive group, which Lean tries first, and then it gets stuck enumerating all ring structures on the reals (none of which is known to be a topological ring yet...).</p>

<a name="189618722"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189618722" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189618722">Reid Barton (Mar 03 2020 at 18:13)</a>:</h4>
<p>These "wrong way" instances are still insane to me</p>

<a name="189618799"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189618799" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189618799">Kevin Buzzard (Mar 03 2020 at 18:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110043">Gabriel Ebner</span> <a href="#narrow/stream/113488-general/topic/I.20don't.20understand.20type.20class.20search.2E/near/189618352" title="#narrow/stream/113488-general/topic/I.20don't.20understand.20type.20class.20search.2E/near/189618352">said</a>:</p>
<blockquote>
<p>The problem is not that Lean doesn't find the <code>real.ring</code> instances.  In fact, that's the one it tries first.  The problem is that Lean then tries <em>all</em> other ring instances, of which there are unfortunately very many.</p>
</blockquote>
<p>The other example you gave is defeq to <code>real.ring</code> of course -- but the system isn't smart enough to spot this? I thought the rule was supposed to be that you were only supposed to be able to find one instance anyway.</p>

<a name="189619389"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189619389" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189619389">Gabriel Ebner (Mar 03 2020 at 18:20)</a>:</h4>
<blockquote>
<p>On the basis that it will be determined as the parameter of the topological_ring instance? Maybe?</p>
</blockquote>
<p>Exactly, these should be filled in via unification and not via type class search.  Looking back through the PRs, <span class="user-mention" data-user-id="110044">@Chris Hughes</span> has already fixed a lot of such instances: <a href="https://github.com/leanprover-community/mathlib/pull/1525" target="_blank" title="https://github.com/leanprover-community/mathlib/pull/1525">https://github.com/leanprover-community/mathlib/pull/1525</a>   We should probably write a linter for this.</p>

<a name="189619547"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189619547" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189619547">Johan Commelin (Mar 03 2020 at 18:22)</a>:</h4>
<p>Can the linter also output a <code>sed</code> script that will fix the source code for us?</p>

<a name="189619784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189619784" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189619784">Gabriel Ebner (Mar 03 2020 at 18:24)</a>:</h4>
<p>I don't think it's easy to create a sed script.  Maybe I'm bad at lean, but this abomination is the only thing I could get working: <a href="https://github.com/leanprover-community/mathlib/pull/2064/commits/88a084fbdc6deeff9cb498ea454ee5735ccc89c2" target="_blank" title="https://github.com/leanprover-community/mathlib/pull/2064/commits/88a084fbdc6deeff9cb498ea454ee5735ccc89c2">https://github.com/leanprover-community/mathlib/pull/2064/commits/88a084fbdc6deeff9cb498ea454ee5735ccc89c2</a></p>

<a name="189620885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189620885" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189620885">Kevin Buzzard (Mar 03 2020 at 18:36)</a>:</h4>
<p>Is the point that this compiles much faster?</p>

<a name="189621539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189621539" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189621539">Gabriel Ebner (Mar 03 2020 at 18:43)</a>:</h4>
<p>In this case the type-class search did not terminate within a few minutes.  I guess it should terminate eventually, since we only have a finite number of ring instances for the reals.</p>

<a name="189624512"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189624512" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189624512">Floris van Doorn (Mar 03 2020 at 19:17)</a>:</h4>
<p>This occurs a lot in the library, see also issue <a href="https://github.com/leanprover-community/mathlib/issues/1561" target="_blank" title="https://github.com/leanprover-community/mathlib/issues/1561">#1561</a>. I think we should indeed try to make all of these use curly braces. There might potentially be downsides to this, but probably very few. <br>
This problem also occurs with automatically generated instances, like <code>module.to_semimodule</code>. Ideally the elaboration procedure would solve the type-class problems in the reverse order in cases like these.</p>

<a name="189631801"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189631801" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189631801">Mario Carneiro (Mar 03 2020 at 20:38)</a>:</h4>
<p>I think this would be helped a bit if <code>topological_ring</code> extended <code>ring</code> and <code>topological_space</code></p>

<a name="189631842"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189631842" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189631842">Mario Carneiro (Mar 03 2020 at 20:39)</a>:</h4>
<p>That way it would not have to search every ring structure for every topological ring structure, it could do that in one go</p>

<a name="189631844"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189631844" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189631844">Johan Commelin (Mar 03 2020 at 20:39)</a>:</h4>
<p>But that comes with its own set of complications, right?</p>

<a name="189631871"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189631871" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189631871">Mario Carneiro (Mar 03 2020 at 20:39)</a>:</h4>
<p>That's the standard approach we've been using for the typeclass hierarchy everywhere else</p>

<a name="189631885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189631885" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189631885">Johan Commelin (Mar 03 2020 at 20:39)</a>:</h4>
<p>See e.g., the recent commit that <code>mv_polynomial</code> over an integral domain is an integral domain.</p>

<a name="189631905"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189631905" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189631905">Mario Carneiro (Mar 03 2020 at 20:40)</a>:</h4>
<p>that sounds fine to me...?</p>

<a name="189631956"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189631956" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189631956">Johan Commelin (Mar 03 2020 at 20:40)</a>:</h4>
<p>It is already a <code>comm_ring</code>, and now you need to inductively build an instance of <code>integral_domain</code>, but the data should be defeq to the existing <code>comm_ring</code> instance.</p>

<a name="189631982"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189631982" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189631982">Johan Commelin (Mar 03 2020 at 20:40)</a>:</h4>
<p>So you have to jump through a bunch of hoops, instead of focusing on the core of the mathematical argument.</p>

<a name="189632004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189632004" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189632004">Mario Carneiro (Mar 03 2020 at 20:41)</a>:</h4>
<p>Isn't this just the constructor?</p>

<a name="189632011"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189632011" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189632011">Mario Carneiro (Mar 03 2020 at 20:41)</a>:</h4>
<p>of <code>integral_domain</code></p>

<a name="189632031"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189632031" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189632031">Mario Carneiro (Mar 03 2020 at 20:41)</a>:</h4>
<p>you use <code>..foo.comm_ring</code> and you get all the defeqs</p>

<a name="189632117"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189632117" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189632117">Johan Commelin (Mar 03 2020 at 20:42)</a>:</h4>
<p>The code became really slow in certain parts.</p>

<a name="189632127"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189632127" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189632127">Johan Commelin (Mar 03 2020 at 20:42)</a>:</h4>
<p>If you can golf it and speed it up, I would love to learn how.</p>

<a name="189632173"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189632173" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189632173">Johan Commelin (Mar 03 2020 at 20:43)</a>:</h4>
<p>My gut feeling says that lots of mixing becomes easier if we have a strict separation between data and properties in our type classes.</p>

<a name="189632231"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189632231" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189632231">Johan Commelin (Mar 03 2020 at 20:43)</a>:</h4>
<p>Otoh, it makes tc search more painful, which is why you suggested bundling upstairs. Also, my suggestion boosts the verbosity of code. (Which I don't like myself either...)</p>

<a name="189633108"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189633108" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189633108">Mario Carneiro (Mar 03 2020 at 20:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/113488-general/topic/I.20don't.20understand.20type.20class.20search.2E/near/189632173" title="#narrow/stream/113488-general/topic/I.20don't.20understand.20type.20class.20search.2E/near/189632173">said</a>:</p>
<blockquote>
<p>My gut feeling says that lots of mixing becomes easier if we have a strict separation between data and properties in our type classes.</p>
</blockquote>
<p>This is not like <code>topological_space</code> vs <code>t2_space</code> we're talking about here; a <code>topological_ring</code> is data (a topology, a ring, and some coherence, just like all our other algebraic classes)</p>

<a name="189633191"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189633191" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189633191">Mario Carneiro (Mar 03 2020 at 20:55)</a>:</h4>
<p>I still want to stick to the rule "one type = one typeclass" to the maximum extent possible</p>

<a name="189633301"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189633301" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189633301">Mario Carneiro (Mar 03 2020 at 20:57)</a>:</h4>
<p>Your argument would also extend to the case of <code>ring</code> = <code>add_group</code> + <code>monoid</code> + properties</p>

<a name="189637402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189637402" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189637402">Sebastien Gouezel (Mar 03 2020 at 21:36)</a>:</h4>
<p>I think the idea up to now has been: one big chain of typeclasses for topology (with <code>topological_space</code>, <code>uniform_space</code>, <code>metric_space</code>, <code>normed_space</code>), one big chain of typeclasses for algebra (with <code>monoid</code>, <code>group</code>, <code>ring</code>, <code>integral_domain</code>, <code>field</code>). If you start mixing the two, you will need something like 4 x 5 typeclasses (and in fact much more since I have omitted a big part of the hierarchy), so to keep things reasonable you will not extend things but rather add the properties you need as new typeclasses. In this way, if you have defined a topological ring and you want to talk about a normed integral domain, you don't need to define a new typeclass, only to say <code>[normed_space alpha] [integral_domain alpha] [topological_ring alpha]</code>.</p>

<a name="189639794"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189639794" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189639794">Yury G. Kudryashov (Mar 03 2020 at 22:06)</a>:</h4>
<p>I think <span class="user-mention" data-user-id="112680">@Johan Commelin</span> was talking about something like "make all algebraic classes take <code>has_add</code>, <code>has_zero</code> and other data as arguments. Am I right?</p>

<a name="189639951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189639951" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189639951">Yury G. Kudryashov (Mar 03 2020 at 22:08)</a>:</h4>
<p>Then every type will have only one instance of <code>has_add</code>, and <code>monoid</code> etc live in <code>Prop</code></p>

<a name="189639984"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189639984" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189639984">Yury G. Kudryashov (Mar 03 2020 at 22:08)</a>:</h4>
<p>I don't know if this will be easier or harder for lean</p>

<a name="189641067"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189641067" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189641067">Sebastien Gouezel (Mar 03 2020 at 22:23)</a>:</h4>
<p>Note that we have things like <code>[nondiscrete_normed_field alpha]</code>, so we are not very coherent. I agree that for things that we use often it is good to have a dedicated typeclass.</p>

<a name="189650716"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189650716" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189650716">Mario Carneiro (Mar 04 2020 at 00:49)</a>:</h4>
<p>But you need 4 x 5 typeclasses anyway, because for each pair in those examples the coherence conditions are different. A topological group has continuous subtraction, a uniform ring has locally uniformly continuous multiplication, and so on. We can still fill the matrix by need so that it doesn't get out of hand, but for the structures that matter I think there should actually be one single class <code>topological_group</code> bundling all operations and coherence (and similarly for the other elements of that matrix)</p>

<a name="189650924"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189650924" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189650924">Mario Carneiro (Mar 04 2020 at 00:52)</a>:</h4>
<p>If you just need the conjunction of properties, i.e. a topological space that is a ring but without coherence (why?), you don't need any added typeclasses, you can just use <code>[topological_space A] [ring A]</code>. (This usually doesn't work because of diamonds but here they don't share any operations so it's fine.)</p>

<a name="189663210"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189663210" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189663210">Johan Commelin (Mar 04 2020 at 05:54)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> No, the example that <span class="user-mention" data-user-id="110050">@Sebastien Gouezel</span> gave is a good one: a topological integral domain is a topological ring that is also an integral domain. In my hypothetical setup that would mean:</p>
<div class="codehilite"><pre><span></span><span class="o">[</span><span class="n">ring_data</span> <span class="n">R</span><span class="o">]</span> <span class="c1">-- this gives you `has_zero`, `has_one`, `has_add`, `has_neg` and `has_mul`</span>
<span class="o">[</span><span class="n">topological_space</span> <span class="n">R</span><span class="o">]</span>
<span class="o">[</span><span class="n">topological_ring</span> <span class="n">R</span><span class="o">]</span> <span class="c1">-- this gives you the compatibility properties: mul, add, and neg are continuous</span>
<span class="o">[</span><span class="n">integral_domain</span> <span class="n">R</span><span class="o">]</span> <span class="c1">-- this tells you that mul is commutative, and there are no zero divisors</span>
</pre></div>

<a name="189663233"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189663233" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189663233">Johan Commelin (Mar 04 2020 at 05:55)</a>:</h4>
<p>There would only be a few "mixing" classes, like <code>topological_group</code>, <code>topological_ring</code> etc... but only very few.</p>

<a name="189663235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189663235" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189663235">Mario Carneiro (Mar 04 2020 at 05:55)</a>:</h4>
<p>Well let's at least have those be classes then</p>

<a name="189663279"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189663279" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189663279">Mario Carneiro (Mar 04 2020 at 05:56)</a>:</h4>
<p>It still seems preferable from a readability POV to have <code>topological_integral_domain</code></p>

<a name="189665032"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189665032" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189665032">Johan Commelin (Mar 04 2020 at 06:36)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> One downside is that we can not write instances like</p>
<div class="codehilite"><pre><span></span><span class="kn">instance</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">topological_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">integral_domain</span> <span class="n">R</span><span class="o">]</span> <span class="o">:</span> <span class="n">topological_integral_domain</span> <span class="n">R</span> <span class="o">:=</span> <span class="n">sorry</span>
</pre></div>


<p>because we have no way of expressing that the ring data from the two instances in the assumptions are the same.</p>

<a name="189665041"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189665041" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189665041">Johan Commelin (Mar 04 2020 at 06:36)</a>:</h4>
<p>Which means that we can use the type class system to "prove" obvious things for us.</p>

<a name="189665042"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189665042" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189665042">Johan Commelin (Mar 04 2020 at 06:37)</a>:</h4>
<p>On the other hand, if we separate data and props, then we can do this.</p>

<a name="189665051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189665051" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189665051">Mario Carneiro (Mar 04 2020 at 06:37)</a>:</h4>
<p>We already have that problem elsewhere in the hierarchy. The solution is to just create instances of <code>topological_integral_domain</code> whenever you have the first two</p>

<a name="189665102"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189665102" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189665102">Johan Commelin (Mar 04 2020 at 06:38)</a>:</h4>
<p>So... just because we have the problem elsewhere, you advocate to also have it here?</p>

<a name="189665209"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189665209" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189665209">Johan Commelin (Mar 04 2020 at 06:41)</a>:</h4>
<p>I would rather have some way to tell lean: hey, if I write <code>[comm_ring R]</code> you should understand that I really am abbreviating <code>[ring_data R] [is_comm_ring R]</code>.</p>

<a name="189665229"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189665229" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189665229">Johan Commelin (Mar 04 2020 at 06:41)</a>:</h4>
<p>That would still give you the readable code, but also the flexibility of separating data and props</p>

<a name="189670541"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189670541" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189670541">Sebastian Ullrich (Mar 04 2020 at 08:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="111080">Floris van Doorn</span> <a href="#narrow/stream/113488-general/topic/I.20don't.20understand.20type.20class.20search.2E/near/189624512" title="#narrow/stream/113488-general/topic/I.20don't.20understand.20type.20class.20search.2E/near/189624512">said</a>:</p>
<blockquote>
<p>Ideally the elaboration procedure would solve the type-class problems in the reverse order in cases like these.</p>
</blockquote>
<p>It does so by default in Lean 4.</p>

<a name="189673769"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189673769" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189673769">Gabriel Ebner (Mar 04 2020 at 09:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="111080">Floris van Doorn</span> <a href="#narrow/stream/113488-general/topic/I.20don't.20understand.20type.20class.20search.2E/near/189624512" title="#narrow/stream/113488-general/topic/I.20don't.20understand.20type.20class.20search.2E/near/189624512">said</a>:</p>
<blockquote>
<p>Ideally the elaboration procedure would solve the type-class problems in the reverse order in cases like these.</p>
</blockquote>
<p>I don't understand how processing the arguments in reverse orders solves the underlying problem.  In the original example, won't the type class instance search then not just enumerate all instances of <code>topological_ring</code> (instead of <code>ring</code>).</p>
<div class="codehilite"><pre><span></span><span class="kn">instance</span> <span class="n">topological_ring</span><span class="bp">.</span><span class="n">to_topological_add_group</span> <span class="o">:</span>
<span class="bp">∀</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="bp">_</span><span class="n">inst_1</span> <span class="o">:</span> <span class="n">topological_space</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="bp">_</span><span class="n">inst_2</span> <span class="o">:</span> <span class="n">ring</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">t</span> <span class="o">:</span> <span class="n">topological_ring</span> <span class="n">α</span><span class="o">],</span>
  <span class="n">topological_add_group</span> <span class="n">α</span>
</pre></div>


<p>Oh, I see,  it will still enumerate all of them, but in this special case it can then always find instances for <code>topological_space</code> and <code>ring</code> as well.  Hence it won't enumerate all <code>ring</code> instances.  However if there was a <code>[separable_space α]</code> at the beginning (and the current space happens not to be separable), then switching the order doesn't solve anything and we still end up enumerating all <code>topological_ring </code> and <code>ring</code> and <code>topological_space</code> instances.  That is, the following instance would still cause cubic runtime in type class instance search:</p>
<div class="codehilite"><pre><span></span><span class="kn">instance</span> <span class="n">topological_ring</span><span class="bp">.</span><span class="n">to_topological_add_group&#39;</span> <span class="o">:</span>
<span class="bp">∀</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="bp">_</span><span class="n">inst_1</span> <span class="o">:</span> <span class="n">topological_space</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">separable_space</span> <span class="n">α</span><span class="o">]</span>  <span class="o">[</span><span class="bp">_</span><span class="n">inst_2</span> <span class="o">:</span> <span class="n">ring</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">t</span> <span class="o">:</span> <span class="n">topological_ring</span> <span class="n">α</span><span class="o">],</span>
  <span class="n">topological_add_group</span> <span class="n">α</span>
</pre></div>

<a name="189673869"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189673869" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189673869">Sebastian Ullrich (Mar 04 2020 at 09:26)</a>:</h4>
<p>Sure, it doesn't solve everything. It's just the better default whenever there are dependencies.</p>

<a name="189674036"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189674036" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189674036">Gabriel Ebner (Mar 04 2020 at 09:29)</a>:</h4>
<p>Well, fair enough. At least it's an improvement.</p>

<a name="189680756"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189680756" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189680756">Kevin Buzzard (Mar 04 2020 at 11:11)</a>:</h4>
<p>This algebra typeclass system might go on "forever" -- we have Huber rings which are topological rings + ..., and then perfectoid rings which are Huber rings + ... . This is what actual mathematics looks like, and it would be good if we could do actual mathematics in Lean 4. I'm optimistic that we can but I do find all this stuff scary.</p>

<a name="189694060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/I%20don%27t%20understand%20type%20class%20search./near/189694060" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/05306Idontunderstandtypeclasssearch.html#189694060">Gabriel Ebner (Mar 04 2020 at 14:14)</a>:</h4>
<p><span class="user-mention" data-user-id="110596">@Rob Lewis</span> has already told me he is not too happy about this approach but I don't see any better way in Lean 3:<br>
<a href="https://github.com/leanprover-community/lean/pull/135" target="_blank" title="https://github.com/leanprover-community/lean/pull/135">https://github.com/leanprover-community/lean/pull/135</a></p>


{% endraw %}

{% include archive_update.html %}