---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/36954singletonunique.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html">singleton / unique</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="156348116"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156348116" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156348116">Johan Commelin (Jan 18 2019 at 07:42)</a>:</h4>
<p>It has been remarked before that we need a class that is <code>nonempty</code> + <code>subsingleton</code>. I guess the canonical name would be <code>singleton</code>. How would people want to define it?</p>
<div class="codehilite"><pre><span></span><span class="n">class</span> <span class="n">singleton</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">elem</span> <span class="o">:</span> <span class="n">X</span><span class="o">)</span>
<span class="o">(</span><span class="n">uniq</span> <span class="o">:</span> <span class="err">\</span><span class="k">Pi</span> <span class="o">(</span><span class="n">x</span><span class="o">,</span><span class="n">y</span> <span class="o">:</span> <span class="n">X</span><span class="o">),</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span><span class="o">)</span>
</pre></div>

<a name="156348829"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156348829" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156348829">Nicholas Scheel (Jan 18 2019 at 08:03)</a>:</h4>
<p>why not just take nonempty and subsingleton as assumptions together?</p>

<a name="156349297"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156349297" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156349297">Johan Commelin (Jan 18 2019 at 08:17)</a>:</h4>
<p>I guess there are two options: either we make an inductive <code>Prop</code>, or we make a thing that lives in <code>Type*</code> but has an easy projector to the element.</p>

<a name="156349300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156349300" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156349300">Johan Commelin (Jan 18 2019 at 08:17)</a>:</h4>
<p>I'm not sure what is best.</p>

<a name="156349909"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156349909" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156349909">Johan Commelin (Jan 18 2019 at 08:34)</a>:</h4>
<p><span class="user-mention" data-user-id="110294">@Johannes Hölzl</span> There is probably common wisdom on this in the wider community. What would you suggest?</p>

<a name="156349975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156349975" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156349975">Johannes Hölzl (Jan 18 2019 at 08:36)</a>:</h4>
<p>Hm, this is a case which is not often used. But I would guess the <code>Type*</code> variant could be more helpful.</p>

<a name="156349979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156349979" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156349979">Johan Commelin (Jan 18 2019 at 08:36)</a>:</h4>
<p>It is not? Ooh, that surprises me.</p>

<a name="156349989"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156349989" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156349989">Johannes Hölzl (Jan 18 2019 at 08:37)</a>:</h4>
<p>Up to now we didn't need it in mathlib...</p>

<a name="156350044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156350044" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156350044">Johan Commelin (Jan 18 2019 at 08:38)</a>:</h4>
<p>Where would you put it?</p>

<a name="156350048"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156350048" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156350048">Johan Commelin (Jan 18 2019 at 08:38)</a>:</h4>
<p>Somewhere in <code>data/</code>?</p>

<a name="156350123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156350123" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156350123">Johannes Hölzl (Jan 18 2019 at 08:41)</a>:</h4>
<p>Maybe even in <code>logic/basic.lean</code>? Plus the <code>unit</code> instance.</p>

<a name="156350136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156350136" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156350136">Johan Commelin (Jan 18 2019 at 08:41)</a>:</h4>
<p>Is it ok to extend <code>inhabited</code>?</p>

<a name="156350138"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156350138" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156350138">Johan Commelin (Jan 18 2019 at 08:41)</a>:</h4>
<p>Or is that wrong for semantic reasons?</p>

<a name="156350189"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156350189" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156350189">Johan Commelin (Jan 18 2019 at 08:42)</a>:</h4>
<p>I still don't know the semantics of all those types like <code>inhabited</code>, <code>default</code>, etc...</p>

<a name="156350275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156350275" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156350275">Johannes Hölzl (Jan 18 2019 at 08:45)</a>:</h4>
<p>Yes, extend <code>inhabited</code> and derive <code>subsingleton</code></p>

<a name="156351117"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156351117" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156351117">Johan Commelin (Jan 18 2019 at 09:05)</a>:</h4>
<p>Ooop <span class="emoji emoji-1f648" title="see no evil">:see_no_evil:</span> the name <code>singleton</code> is of course already taken by singleton sets...</p>

<a name="156351184"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156351184" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156351184">Johan Commelin (Jan 18 2019 at 09:06)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> Do you have a good suggestion for a name?</p>

<a name="156351186"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156351186" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156351186">Kenny Lau (Jan 18 2019 at 09:06)</a>:</h4>
<p>nope</p>

<a name="156351566"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156351566" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156351566">Johan Commelin (Jan 18 2019 at 09:16)</a>:</h4>
<p>Aahrg, <code>punit.inhabited</code> is only for <code>Type</code>, not <code>Type u</code>.</p>

<a name="156351834"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156351834" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156351834">Johan Commelin (Jan 18 2019 at 09:23)</a>:</h4>
<p>I guess the name <code>contractible</code> is to HoTT, right?</p>

<a name="156351888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156351888" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156351888">Reid Barton (Jan 18 2019 at 09:24)</a>:</h4>
<p>Maybe <code>unique</code>?</p>

<a name="156351908"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156351908" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156351908">Johan Commelin (Jan 18 2019 at 09:24)</a>:</h4>
<p>Yes, that might work. But I'dd like to also emphasise the existence.</p>

<a name="156351921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156351921" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156351921">Johan Commelin (Jan 18 2019 at 09:25)</a>:</h4>
<p>People might think that <code>unique</code> is a variant on <code>subsingleton</code>.</p>

<a name="156352558"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156352558" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156352558">Johan Commelin (Jan 18 2019 at 09:39)</a>:</h4>
<p><a href="https://github.com/leanprover/mathlib/issues/605" target="_blank" title="https://github.com/leanprover/mathlib/issues/605">#605</a> <span class="user-mention" data-user-id="110294">@Johannes Hölzl</span></p>

<a name="156352717"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156352717" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156352717">Mario Carneiro (Jan 18 2019 at 09:42)</a>:</h4>
<p>what's wrong with just <code>inhabited</code> + <code>subsingleton</code> or <code>nonempty</code> + <code>subsingleton</code>?</p>

<a name="156352733"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156352733" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156352733">Johan Commelin (Jan 18 2019 at 09:43)</a>:</h4>
<p>That it's longer to write?</p>

<a name="156352740"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156352740" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156352740">Mario Carneiro (Jan 18 2019 at 09:43)</a>:</h4>
<p>not good enough, definitions are worth more than that</p>

<a name="156352747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156352747" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156352747">Johan Commelin (Jan 18 2019 at 09:44)</a>:</h4>
<p>When I'm pulling a limit cone through and adjoint functor I want to spend as little time with these stupid classes...</p>

<a name="156352802"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156352802" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156352802">Mario Carneiro (Jan 18 2019 at 09:44)</a>:</h4>
<p>aha, okay sure I've seen this. Are you perhaps saying this about a subtype?</p>

<a name="156352805"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156352805" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156352805">Johan Commelin (Jan 18 2019 at 09:44)</a>:</h4>
<p>No...</p>

<a name="156352807"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156352807" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156352807">Johan Commelin (Jan 18 2019 at 09:44)</a>:</h4>
<p>Why do you think that?</p>

<a name="156352821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156352821" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156352821">Mario Carneiro (Jan 18 2019 at 09:45)</a>:</h4>
<p>That's the way it usually goes with universal properties</p>

<a name="156352831"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156352831" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156352831">Mario Carneiro (Jan 18 2019 at 09:45)</a>:</h4>
<p>there exists a unique map satisfying such and such property</p>

<a name="156352835"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156352835" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156352835">Johan Commelin (Jan 18 2019 at 09:45)</a>:</h4>
<p>Ok, maybe. I haven't thought of it like that. But there are no subtypes in sight with what I'm doing right now.</p>

<a name="156352839"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156352839" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156352839">Johan Commelin (Jan 18 2019 at 09:45)</a>:</h4>
<p>Aah, but that's all packaged into <code>cone_morphism</code></p>

<a name="156352901"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156352901" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156352901">Johan Commelin (Jan 18 2019 at 09:46)</a>:</h4>
<p>I want to say that <code>c</code> is a limit cone if <code>\Pi t, unique (cone_morphism c t)</code></p>

<a name="156352910"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156352910" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156352910">Mario Carneiro (Jan 18 2019 at 09:46)</a>:</h4>
<p>why not say that in two conditions?</p>

<a name="156352916"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156352916" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156352916">Mario Carneiro (Jan 18 2019 at 09:47)</a>:</h4>
<p>you have a morphism and a proof of uniqueness</p>

<a name="156352918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156352918" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156352918">Johan Commelin (Jan 18 2019 at 09:47)</a>:</h4>
<p>And then adjunctions give me <code>equiv</code>s, and <code>equiv.unique_of_equiv</code> will let me easily manipulate it.</p>

<a name="156352929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156352929" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156352929">Johan Commelin (Jan 18 2019 at 09:47)</a>:</h4>
<p>It's too unbundled.</p>

<a name="156352935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156352935" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156352935">Johan Commelin (Jan 18 2019 at 09:47)</a>:</h4>
<p>I agree that that is also useful. And it is what we have right now in the library.</p>

<a name="156352937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156352937" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156352937">Johan Commelin (Jan 18 2019 at 09:48)</a>:</h4>
<p>It's good when you are applying these things in concrete cases.</p>

<a name="156352990"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156352990" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156352990">Johan Commelin (Jan 18 2019 at 09:48)</a>:</h4>
<p>But for abstract category theory, I think it becomes a lot easier to manipulate these things when they are bundled.</p>

<a name="156353025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156353025" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156353025">Mario Carneiro (Jan 18 2019 at 09:49)</a>:</h4>
<p>I take it you don't want to use this like a typeclass then?</p>

<a name="156353084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156353084" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156353084">Johan Commelin (Jan 18 2019 at 09:50)</a>:</h4>
<p>Uuuh, I don't know?</p>

<a name="156353100"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156353100" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156353100">Mario Carneiro (Jan 18 2019 at 09:50)</a>:</h4>
<p>what does <code>equiv.unique_of_equiv</code> say?</p>

<a name="156353116"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156353116" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156353116">Johan Commelin (Jan 18 2019 at 09:51)</a>:</h4>
<p>If <code>X \equiv Y</code> and you know <code>unique Y</code> then you get <code>unique X</code>.</p>

<a name="156353117"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156353117" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156353117">Johan Commelin (Jan 18 2019 at 09:51)</a>:</h4>
<p>But you knew that.</p>

<a name="156353119"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156353119" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156353119">Johan Commelin (Jan 18 2019 at 09:51)</a>:</h4>
<p>You want code.</p>

<a name="156353124"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156353124" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156353124">Mario Carneiro (Jan 18 2019 at 09:51)</a>:</h4>
<p>and that's all you intend to do with <code>unique</code>, besides using the projections directly?</p>

<a name="156353126"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156353126" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156353126">Johan Commelin (Jan 18 2019 at 09:51)</a>:</h4>
<p><a href="https://github.com/leanprover/mathlib/pull/605/files#diff-a714d761eac2ec5a2e4b0ed4592f9c46R474" target="_blank" title="https://github.com/leanprover/mathlib/pull/605/files#diff-a714d761eac2ec5a2e4b0ed4592f9c46R474">https://github.com/leanprover/mathlib/pull/605/files#diff-a714d761eac2ec5a2e4b0ed4592f9c46R474</a></p>

<a name="156353185"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156353185" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156353185">Johan Commelin (Jan 18 2019 at 09:52)</a>:</h4>
<p>Eehm, yes, for the time being.</p>

<a name="156353191"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156353191" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156353191">Mario Carneiro (Jan 18 2019 at 09:52)</a>:</h4>
<p>By the way, you can define <code>unique</code> in a simpler way, with only one quantifier</p>

<a name="156353197"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156353197" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156353197">Mario Carneiro (Jan 18 2019 at 09:52)</a>:</h4>
<p>there is <code>x : A</code> and <code>\forall y, x = y</code></p>

<a name="156353208"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156353208" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156353208">Johan Commelin (Jan 18 2019 at 09:53)</a>:</h4>
<p>Yes, I've derived those versions. But I wanted to be as symmetric as possible.</p>

<a name="156353214"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156353214" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156353214">Johan Commelin (Jan 18 2019 at 09:53)</a>:</h4>
<p>Or is that not useful?</p>

<a name="156353269"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156353269" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156353269">Mario Carneiro (Jan 18 2019 at 09:54)</a>:</h4>
<p>For the structure you want the axiom to be easy to prove. Probably when one picks a default it will be easy to work with</p>

<a name="156353286"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156353286" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156353286">Mario Carneiro (Jan 18 2019 at 09:54)</a>:</h4>
<p>like how one shows a zero ring is <code>unique</code>, you show every element is 0, and hence every element is equal</p>

<a name="156353291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156353291" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156353291">Mario Carneiro (Jan 18 2019 at 09:54)</a>:</h4>
<p>saves you a step</p>

<a name="156353310"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156353310" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156353310">Johan Commelin (Jan 18 2019 at 09:55)</a>:</h4>
<p>Ok, fine. I'll rewrite that.</p>

<a name="156353313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156353313" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156353313">Mario Carneiro (Jan 18 2019 at 09:55)</a>:</h4>
<p>besides, the two quantifier version is available as <code>subsingleton.eq</code></p>

<a name="156353468"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156353468" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156353468">Johan Commelin (Jan 18 2019 at 09:59)</a>:</h4>
<p>Ok, sure.</p>

<a name="156353487"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156353487" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156353487">Mario Carneiro (Jan 18 2019 at 09:59)</a>:</h4>
<p>I don't have any better suggestions for the name than <code>unique</code></p>

<a name="156353504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156353504" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156353504">Mario Carneiro (Jan 18 2019 at 10:00)</a>:</h4>
<p>but I think it might be usable as a regular type</p>

<a name="156353638"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156353638" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156353638">Johan Commelin (Jan 18 2019 at 10:02)</a>:</h4>
<p>Ok, so <code>structure</code> instead of <code>class</code>?</p>

<a name="156353676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156353676" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156353676">Mario Carneiro (Jan 18 2019 at 10:03)</a>:</h4>
<p>maybe a <code>class</code> on some days? If you use <code>attribute [class] unique</code> after the definition you can use it as a class when you feel like it but the projections won't have inst implicit</p>

<a name="156353700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156353700" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156353700">Johan Commelin (Jan 18 2019 at 10:03)</a>:</h4>
<p>Aah, maybe that helps.</p>

<a name="156353753"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156353753" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156353753">Johan Commelin (Jan 18 2019 at 10:04)</a>:</h4>
<p>I guess I should make some simp-lemmas. And then hopefully <code>tidy</code> can work with this nicely.</p>

<a name="156353770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156353770" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156353770">Mario Carneiro (Jan 18 2019 at 10:04)</a>:</h4>
<p>Here are some interesting facts: <code>subsingleton (unique A)</code>, and <code>unique (unique A) &lt;-&gt; unique A</code>, <code>unique A -&gt; unique B</code> if <code>f : A -&gt; B</code> is a surjection (not required to be a bijection)</p>

<a name="156353798"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156353798" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156353798">Johan Commelin (Jan 18 2019 at 10:05)</a>:</h4>
<p>Yep... would you like all of those?</p>

<a name="156353802"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156353802" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156353802">Mario Carneiro (Jan 18 2019 at 10:05)</a>:</h4>
<p>if you are going to define a thing you should prove all the basic theorems</p>

<a name="156353873"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156353873" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156353873">Johan Commelin (Jan 18 2019 at 10:06)</a>:</h4>
<p>Where should those go?</p>

<a name="156353875"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156353875" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156353875">Johan Commelin (Jan 18 2019 at 10:06)</a>:</h4>
<p><code>logic/basic</code>?</p>

<a name="156353945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156353945" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156353945">Mario Carneiro (Jan 18 2019 at 10:08)</a>:</h4>
<p>how about <code>logic/unique</code> unless there is a reason to merge it</p>

<a name="156353950"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156353950" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156353950">Mario Carneiro (Jan 18 2019 at 10:08)</a>:</h4>
<p>I don't think there are currently any new definitions in <code>logic/basic</code></p>

<a name="156353964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156353964" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156353964">Mario Carneiro (Jan 18 2019 at 10:09)</a>:</h4>
<p>but <code>logic/basic</code> probably needs a refactor, it's a bit of a grab bag</p>

<a name="156353971"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156353971" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156353971">Mario Carneiro (Jan 18 2019 at 10:09)</a>:</h4>
<p>it literally has a <code>miscellaneous</code> section, that's never a good sign</p>

<a name="156354031"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156354031" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156354031">Johan Commelin (Jan 18 2019 at 10:10)</a>:</h4>
<p>Ok, I can start <code>logic/unique</code></p>

<a name="156354050"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156354050" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156354050">Johan Commelin (Jan 18 2019 at 10:11)</a>:</h4>
<p>If I do the <code>attribute [class]</code> thing, and I assume <code>[unique X]</code> then it still doesn't infer <code>inhabited X</code>. So I have to state those inferences by hand?</p>

<a name="156354355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156354355" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156354355">Johan Commelin (Jan 18 2019 at 10:17)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> Should I include simp-lemmas like this?</p>
<div class="codehilite"><pre><span></span><span class="kn">instance</span> <span class="o">:</span> <span class="n">inhabited</span> <span class="n">α</span> <span class="o">:=</span> <span class="n">to_inhabited</span> <span class="err">‹</span><span class="n">unique</span> <span class="n">α</span><span class="err">›</span>

<span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">lemma</span> <span class="n">eq_default</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">default</span> <span class="n">α</span> <span class="o">:=</span> <span class="n">uniq</span> <span class="bp">_</span> <span class="n">a</span>
</pre></div>

<a name="156354405"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156354405" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156354405">Mario Carneiro (Jan 18 2019 at 10:18)</a>:</h4>
<p>you have to mark <code>unique.to_inhabited</code> as <code>instance</code></p>

<a name="156354416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156354416" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156354416">Mario Carneiro (Jan 18 2019 at 10:18)</a>:</h4>
<p><code>eq_default</code> won't work</p>

<a name="156354429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156354429" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156354429">Mario Carneiro (Jan 18 2019 at 10:19)</a>:</h4>
<p>neither will <code>default_eq</code></p>

<a name="156354443"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156354443" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156354443">Johan Commelin (Jan 18 2019 at 10:19)</a>:</h4>
<p>Why not?</p>

<a name="156354515"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156354515" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156354515">Johan Commelin (Jan 18 2019 at 10:20)</a>:</h4>
<p>It would be cool if <code>simp</code> would just simplify every element to the default.</p>

<a name="156354520"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156354520" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156354520">Mario Carneiro (Jan 18 2019 at 10:20)</a>:</h4>
<p>simp lemmas with a variable on the left trigger on anything</p>

<a name="156354529"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156354529" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156354529">Mario Carneiro (Jan 18 2019 at 10:20)</a>:</h4>
<p>at least that's what lean says; I don't see why that's a problem but it's explicitly rejected by <code>simp</code></p>

<a name="156354548"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156354548" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156354548">Johan Commelin (Jan 18 2019 at 10:20)</a>:</h4>
<p>Aah, and simp doesn't know yet if the <code>unique X</code> instance will be found or not.</p>

<a name="156354584"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156354584" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156354584">Mario Carneiro (Jan 18 2019 at 10:21)</a>:</h4>
<p>well, it could just try to apply it on every term... you know I think this is a bad idea</p>

<a name="156354647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156354647" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156354647">Johan Commelin (Jan 18 2019 at 10:22)</a>:</h4>
<blockquote>
<p>you have to mark <code>unique.to_inhabited</code> as <code>instance</code></p>
</blockquote>
<p>Like so: <code>attribute [instance] unique.to_inhabited</code>?</p>

<a name="156354650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156354650" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156354650">Mario Carneiro (Jan 18 2019 at 10:22)</a>:</h4>
<p>yes</p>

<a name="156354671"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156354671" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156354671">Johan Commelin (Jan 18 2019 at 10:22)</a>:</h4>
<p>But then</p>
<div class="codehilite"><pre><span></span><span class="kn">variables</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="n">Sort</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">unique</span> <span class="n">α</span><span class="o">]</span>

<span class="kn">instance</span> <span class="o">:</span> <span class="n">inhabited</span> <span class="n">α</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">apply_instance</span>
</pre></div>


<p>still fails.</p>

<a name="156355179"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156355179" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156355179">Mario Carneiro (Jan 18 2019 at 10:30)</a>:</h4>
<p>oh, I guess that's because the <code>unique</code> is explicit in <code>unique.to_inhabited</code>. So you will have to make an instance like you did</p>

<a name="156356937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156356937" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156356937">Johan Commelin (Jan 18 2019 at 11:00)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> Should the following be done with instances or not?</p>
<div class="codehilite"><pre><span></span><span class="n">def</span> <span class="n">of_surjective</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">)</span> <span class="o">(</span><span class="n">hf</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">inhabited</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">inhabited</span> <span class="n">β</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">default</span> <span class="o">:=</span> <span class="n">f</span> <span class="n">h</span><span class="bp">.</span><span class="n">default</span> <span class="o">}</span>
</pre></div>

<a name="156357666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156357666" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156357666">Johannes Hölzl (Jan 18 2019 at 11:16)</a>:</h4>
<p><code>hf</code> is not required...</p>

<a name="156357745"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156357745" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156357745">Johan Commelin (Jan 18 2019 at 11:18)</a>:</h4>
<p>Lol... I've been thinking too much about <code>unique</code> <span class="emoji emoji-1f600" title="grinning">:grinning:</span></p>

<a name="156357779"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156357779" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156357779">Johan Commelin (Jan 18 2019 at 11:19)</a>:</h4>
<p><span class="user-mention" data-user-id="110294">@Johannes Hölzl</span> <span class="user-mention" data-user-id="110049">@Mario Carneiro</span> I pushed an update to <a href="https://github.com/leanprover/mathlib/issues/605" target="_blank" title="https://github.com/leanprover/mathlib/issues/605">#605</a></p>

<a name="156358134"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/singleton%20/%20unique/near/156358134" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36954singletonunique.html#156358134">Johan Commelin (Jan 18 2019 at 11:26)</a>:</h4>
<p>Woops, forgot to <code>git add</code> the new file.</p>


{% endraw %}
