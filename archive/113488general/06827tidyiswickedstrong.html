---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/06827tidyiswickedstrong.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/06827tidyiswickedstrong.html">tidy is wicked strong</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="130822631"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tidy%20is%20wicked%20strong/near/130822631" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06827tidyiswickedstrong.html#130822631">Johan Commelin (Aug 03 2018 at 07:07)</a>:</h4>
<p>Kudos to Scott!</p>
<div class="codehilite"><pre><span></span><span class="kn">instance</span> <span class="n">LeftMod__has_ZeroObject</span> <span class="o">:</span> <span class="bp">@</span><span class="n">universal</span><span class="bp">.</span><span class="n">has_ZeroObject</span> <span class="o">(</span><span class="n">R</span><span class="bp">-</span><span class="n">Mod</span><span class="o">)</span> <span class="n">LeftMod_</span><span class="bp">.</span><span class="n">foo</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">zero_object</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">zero_object</span> <span class="o">:=</span> <span class="n">zero_module</span> <span class="n">R</span><span class="o">,</span>
  <span class="n">is_initial</span>  <span class="o">:=</span> <span class="bp">⟨λ</span> <span class="n">M</span> <span class="o">:</span> <span class="n">R</span><span class="bp">-</span><span class="n">Mod</span><span class="o">,</span> <span class="bp">⟨λ</span> <span class="bp">_</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">is_linear_map</span><span class="bp">.</span><span class="n">map_zero</span><span class="bp">⟩</span><span class="o">,</span>
  <span class="k">begin</span>
    <span class="n">intros</span> <span class="n">M</span> <span class="n">f</span> <span class="n">g</span><span class="o">,</span>
    <span class="n">tidy</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">[</span><span class="err">←</span> <span class="n">zero_is_star</span><span class="o">,</span> <span class="n">is_linear_map</span><span class="bp">.</span><span class="n">zero</span> <span class="n">f_property</span><span class="o">,</span> <span class="n">is_linear_map</span><span class="bp">.</span><span class="n">zero</span> <span class="n">g_property</span><span class="o">]</span>
  <span class="kn">end</span> <span class="bp">⟩</span><span class="o">,</span>
  <span class="n">is_terminal</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">tidy</span>
<span class="o">}</span> <span class="o">}</span>
</pre></div>

<a name="130822638"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tidy%20is%20wicked%20strong/near/130822638" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06827tidyiswickedstrong.html#130822638">Johan Commelin (Aug 03 2018 at 07:07)</a>:</h4>
<p>I just told Lean the definition of the zero-module. And it figured out on its own that it is the terminal object in the category of left modules!<br>
Mind you: I wrote only 1 <code>rfl</code>-lemma to help it:</p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">zero_is_star</span> <span class="o">:</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="o">(</span><span class="n">zero_module</span> <span class="n">R</span><span class="o">))</span> <span class="bp">=</span> <span class="n">star</span> <span class="o">:=</span> <span class="n">rfl</span>
</pre></div>

<a name="130822683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tidy%20is%20wicked%20strong/near/130822683" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06827tidyiswickedstrong.html#130822683">Johan Commelin (Aug 03 2018 at 07:08)</a>:</h4>
<p>It needs a bit of hand-holding for the initial object, but I guess this is only because <code>is_linear_map</code> is not a class.</p>

<a name="130822696"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tidy%20is%20wicked%20strong/near/130822696" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06827tidyiswickedstrong.html#130822696">Johan Commelin (Aug 03 2018 at 07:09)</a>:</h4>
<p>Long live <span class="user-mention" data-user-id="110087">@Scott Morrison</span>! Blacksmith of hammer tactics!</p>

<a name="130824101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tidy%20is%20wicked%20strong/near/130824101" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06827tidyiswickedstrong.html#130824101">Johan Commelin (Aug 03 2018 at 07:52)</a>:</h4>
<p>Ooh, and <code>obviously</code> also does the job.</p>

<a name="130824817"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tidy%20is%20wicked%20strong/near/130824817" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06827tidyiswickedstrong.html#130824817">Kevin Buzzard (Aug 03 2018 at 08:13)</a>:</h4>
<p>It's slowly dawning on me that my initial impression ("<code>tidy</code> is something Scott wrote to help with his category theory stuff, and it does category theory stuff") is completely wrong, and that <code>tidy</code> and <code>obviously</code> are really all-purpose tools which will help us all. But they are not even part of a PR, right? Is there some kind of plan to get them PR'ed somehow, and what are the obstructions to getting them into mathlib?</p>

<a name="130824972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tidy%20is%20wicked%20strong/near/130824972" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06827tidyiswickedstrong.html#130824972">Scott Morrison (Aug 03 2018 at 08:17)</a>:</h4>
<p>Hi Kevin, <code>tidy</code> doesn't do all that much, but I agree it's helpful. Really we need to carefully read &lt;<a href="https://arxiv.org/abs/1309.4501" target="_blank" title="https://arxiv.org/abs/1309.4501">https://arxiv.org/abs/1309.4501</a>&gt; and translate it all into Lean, and then we'll really have the start of a hammer that mathematicians appreciate.</p>

<a name="130825014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tidy%20is%20wicked%20strong/near/130825014" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06827tidyiswickedstrong.html#130825014">Scott Morrison (Aug 03 2018 at 08:18)</a>:</h4>
<p><code>tidy</code> is relatively easy to PR to mathlib, and hopefully I will have time soon to start doing this</p>

<a name="130825017"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tidy%20is%20wicked%20strong/near/130825017" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06827tidyiswickedstrong.html#130825017">Scott Morrison (Aug 03 2018 at 08:18)</a>:</h4>
<p>many of the gross aspects of it have become cleaner in the last month</p>

<a name="130825043"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tidy%20is%20wicked%20strong/near/130825043" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06827tidyiswickedstrong.html#130825043">Scott Morrison (Aug 03 2018 at 08:18)</a>:</h4>
<p><code>obviously</code> is just <code>tidy</code> equipped with an extra tactic, called <code>rewrite_search</code>, which uses edit-distance based heuristics to search for chains of rewrites to prove equational results.</p>

<a name="130825061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tidy%20is%20wicked%20strong/near/130825061" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06827tidyiswickedstrong.html#130825061">Scott Morrison (Aug 03 2018 at 08:19)</a>:</h4>
<p>it is harder to PR, both because the implementation is really awful, and a student is actively working on cleverer (i.e. using machine learning in the heuristics) versions, so it's a moving target</p>

<a name="130825112"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tidy%20is%20wicked%20strong/near/130825112" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06827tidyiswickedstrong.html#130825112">Scott Morrison (Aug 03 2018 at 08:20)</a>:</h4>
<p>(actually, secretly I'm hoping that he will rewrite <code>rewrite_search</code> from scratch for me, when he realises how awful it is)</p>

<a name="130825305"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tidy%20is%20wicked%20strong/near/130825305" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06827tidyiswickedstrong.html#130825305">Minchao Wu (Aug 03 2018 at 08:24)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span>  who is the student? I'm also interested in applying machine learning to heuristics</p>

<a name="130825314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tidy%20is%20wicked%20strong/near/130825314" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06827tidyiswickedstrong.html#130825314">Kenny Lau (Aug 03 2018 at 08:24)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> did one of your students mention machine learning?</p>

<a name="130825391"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tidy%20is%20wicked%20strong/near/130825391" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06827tidyiswickedstrong.html#130825391">Johan Commelin (Aug 03 2018 at 08:27)</a>:</h4>
<p>It seems that Mohan Ganesalingam completely left the field.</p>

<a name="130825447"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tidy%20is%20wicked%20strong/near/130825447" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06827tidyiswickedstrong.html#130825447">Scott Morrison (Aug 03 2018 at 08:28)</a>:</h4>
<p><span class="user-mention" data-user-id="110187">@Minchao Wu</span> , it's Keeley Hoek, who is sometimes around here. (Also, as we're all in the same building, we should really meet up --- my apologies that I screwed up our last attempt to do so.)</p>

<a name="130825465"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tidy%20is%20wicked%20strong/near/130825465" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06827tidyiswickedstrong.html#130825465">Scott Morrison (Aug 03 2018 at 08:29)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span>, have you ever read that Ganesalingam-Gowers paper? If not, you really should. :-)</p>

<a name="130825523"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tidy%20is%20wicked%20strong/near/130825523" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06827tidyiswickedstrong.html#130825523">Minchao Wu (Aug 03 2018 at 08:30)</a>:</h4>
<p>No worries :) Is the student also from the math department?</p>

<a name="130825616"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tidy%20is%20wicked%20strong/near/130825616" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06827tidyiswickedstrong.html#130825616">Johan Commelin (Aug 03 2018 at 08:32)</a>:</h4>
<p>It's really a pity that the "future work" never materialised. I think Gowers also changed subject...</p>

<a name="130825624"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tidy%20is%20wicked%20strong/near/130825624" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06827tidyiswickedstrong.html#130825624">Scott Morrison (Aug 03 2018 at 08:33)</a>:</h4>
<p>Well... Gowers was only ever a visitor... :-)</p>

<a name="130825634"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tidy%20is%20wicked%20strong/near/130825634" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06827tidyiswickedstrong.html#130825634">Minchao Wu (Aug 03 2018 at 08:33)</a>:</h4>
<p>If he's coming next week we can just schedule a group meeting maybe</p>

<a name="130825682"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tidy%20is%20wicked%20strong/near/130825682" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06827tidyiswickedstrong.html#130825682">Scott Morrison (Aug 03 2018 at 08:34)</a>:</h4>
<p>It is such a pity that they did their work in their own private interactive theorem prover, so it's not usable by the rest of us.</p>

<a name="130825683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tidy%20is%20wicked%20strong/near/130825683" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06827tidyiswickedstrong.html#130825683">Scott Morrison (Aug 03 2018 at 08:34)</a>:</h4>
<p>(Typical mathematicians! :-)</p>

<a name="130832892"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tidy%20is%20wicked%20strong/near/130832892" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06827tidyiswickedstrong.html#130832892">Rob Lewis (Aug 03 2018 at 11:14)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> Are you/your student familiar with the work on TacticToe? <a href="http://cl-informatik.uibk.ac.at/users/cek/docs/17/tgckju-lpar17.pdf" target="_blank" title="http://cl-informatik.uibk.ac.at/users/cek/docs/17/tgckju-lpar17.pdf">http://cl-informatik.uibk.ac.at/users/cek/docs/17/tgckju-lpar17.pdf</a> They've been relatively successful with ML-guided tactic proofs in HOL4. One of the more impressive results at AITP this year, in my opinion.</p>

<a name="130832996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/tidy%20is%20wicked%20strong/near/130832996" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06827tidyiswickedstrong.html#130832996">Scott Morrison (Aug 03 2018 at 11:16)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="110596">@Rob Lewis</span> for the reference. This is very different than what we're trying.</p>


{% endraw %}
