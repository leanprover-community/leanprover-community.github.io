---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/91079strangesinmygoal.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/91079strangesinmygoal.html">strange [ ]'s in my goal</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="163834894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/strange%20%5B%20%5D%27s%20in%20my%20goal/near/163834894" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/91079strangesinmygoal.html#163834894">Kevin Buzzard (Apr 21 2019 at 04:49)</a>:</h4>
<div class="codehilite"><pre><span></span>1 goal
A : Huber_pair,
v : Spv ↥A,
hv : v ∈ Spa A
⊢ [comm_ring.zero (ring_completion.comm_ring (valuation_field (out (⟨v, hv⟩.val))))] =
    [domain.zero division_ring.to_domain]
</pre></div>


<p>Where did those square brackets come from? They're there whether or not I have notation on.</p>

<a name="163834948"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/strange%20%5B%20%5D%27s%20in%20my%20goal/near/163834948" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/91079strangesinmygoal.html#163834948">Mario Carneiro (Apr 21 2019 at 04:50)</a>:</h4>
<p>That's the projection macro, you probably unfolded something you shouldn't have</p>

<a name="163835021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/strange%20%5B%20%5D%27s%20in%20my%20goal/near/163835021" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/91079strangesinmygoal.html#163835021">Kevin Buzzard (Apr 21 2019 at 04:52)</a>:</h4>
<p>Yeah, I was trying to get to the bottom of things.</p>

<a name="163835022"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/strange%20%5B%20%5D%27s%20in%20my%20goal/near/163835022" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/91079strangesinmygoal.html#163835022">Kevin Buzzard (Apr 21 2019 at 04:52)</a>:</h4>
<p>I was using <code>delta</code> :-)</p>

<a name="163835036"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/strange%20%5B%20%5D%27s%20in%20my%20goal/near/163835036" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/91079strangesinmygoal.html#163835036">Keeley Hoek (Apr 21 2019 at 04:53)</a>:</h4>
<p>Is that something <code>unfold_projs</code> can fix</p>

<a name="163835209"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/strange%20%5B%20%5D%27s%20in%20my%20goal/near/163835209" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/91079strangesinmygoal.html#163835209">Kevin Buzzard (Apr 21 2019 at 04:59)</a>:</h4>
<p>I decided to take a different route. I'll go back and take a look.</p>

<a name="163835280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/strange%20%5B%20%5D%27s%20in%20my%20goal/near/163835280" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/91079strangesinmygoal.html#163835280">Kevin Buzzard (Apr 21 2019 at 05:01)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">unfold_projs</span> <span class="n">failed</span> <span class="n">to</span> <span class="n">simplify</span>
<span class="n">state</span><span class="o">:</span>
<span class="n">A</span> <span class="o">:</span> <span class="n">Huber_pair</span><span class="o">,</span>
<span class="n">v</span> <span class="o">:</span> <span class="n">Spv</span> <span class="err">↥</span><span class="n">A</span><span class="o">,</span>
<span class="n">h1</span> <span class="o">:</span> <span class="n">is_continuous</span> <span class="n">v</span><span class="o">,</span>
<span class="n">h2</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">r</span> <span class="o">:</span> <span class="err">↥</span><span class="n">A</span><span class="o">),</span> <span class="n">r</span> <span class="err">∈</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="n">Huber_pair</span><span class="o">),</span> <span class="n">A</span><span class="bp">.</span><span class="n">Rplus</span><span class="o">)</span> <span class="n">A</span> <span class="bp">→</span> <span class="err">⇑</span><span class="n">v</span> <span class="n">r</span> <span class="bp">≤</span> <span class="mi">1</span>
<span class="err">⊢</span> <span class="o">[</span><span class="n">comm_ring</span><span class="bp">.</span><span class="n">zero</span> <span class="o">(</span><span class="n">ring_completion</span><span class="bp">.</span><span class="n">comm_ring</span> <span class="o">(</span><span class="n">valuation_field</span> <span class="o">(</span><span class="n">out</span> <span class="n">v</span><span class="o">)))]</span> <span class="bp">=</span>
    <span class="o">[</span><span class="n">discrete_field</span><span class="bp">.</span><span class="n">zero</span> <span class="o">(</span><span class="n">completable_top_field</span><span class="bp">.</span><span class="n">discrete_field</span> <span class="o">(</span><span class="n">valuation_field</span> <span class="o">(</span><span class="n">out</span> <span class="n">v</span><span class="o">)))]</span>
</pre></div>

<a name="163835283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/strange%20%5B%20%5D%27s%20in%20my%20goal/near/163835283" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/91079strangesinmygoal.html#163835283">Kevin Buzzard (Apr 21 2019 at 05:01)</a>:</h4>
<p>They are a dead end for me.</p>

<a name="163835287"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/strange%20%5B%20%5D%27s%20in%20my%20goal/near/163835287" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/91079strangesinmygoal.html#163835287">Keeley Hoek (Apr 21 2019 at 05:01)</a>:</h4>
<p>ok :'(</p>

<a name="163835334"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/strange%20%5B%20%5D%27s%20in%20my%20goal/near/163835334" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/91079strangesinmygoal.html#163835334">Kevin Buzzard (Apr 21 2019 at 05:02)</a>:</h4>
<p>Is it likely that, if what I'm trying to prove is provable (possibly noncomputably), then there will be a proof which avoids those weird square brackets? Do I ever have to deal with them as an end user?</p>

<a name="163835430"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/strange%20%5B%20%5D%27s%20in%20my%20goal/near/163835430" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/91079strangesinmygoal.html#163835430">Mario Carneiro (Apr 21 2019 at 05:05)</a>:</h4>
<p>It is possible to unfold them to a <code>comm_ring.rec</code> application, but it's a sign that you are unfolding things that you shouldn't</p>

<a name="163835436"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/strange%20%5B%20%5D%27s%20in%20my%20goal/near/163835436" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/91079strangesinmygoal.html#163835436">Mario Carneiro (Apr 21 2019 at 05:05)</a>:</h4>
<p>you should not ever have to see them as an end user</p>

<a name="163835506"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/strange%20%5B%20%5D%27s%20in%20my%20goal/near/163835506" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/91079strangesinmygoal.html#163835506">Mario Carneiro (Apr 21 2019 at 05:06)</a>:</h4>
<p>I assume <code>rfl</code> doesn't work?</p>

<a name="163835521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/strange%20%5B%20%5D%27s%20in%20my%20goal/near/163835521" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/91079strangesinmygoal.html#163835521">Mario Carneiro (Apr 21 2019 at 05:07)</a>:</h4>
<p>you can always use <code>change</code> to say what the zero is</p>

<a name="163835544"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/strange%20%5B%20%5D%27s%20in%20my%20goal/near/163835544" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/91079strangesinmygoal.html#163835544">Kevin Buzzard (Apr 21 2019 at 05:07)</a>:</h4>
<blockquote>
<p>I assume rfl doesn't work?</p>
</blockquote>
<p>That's right -- that's what I'm trying to debug.</p>

<a name="163835553"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/strange%20%5B%20%5D%27s%20in%20my%20goal/near/163835553" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/91079strangesinmygoal.html#163835553">Kevin Buzzard (Apr 21 2019 at 05:07)</a>:</h4>
<p>The zero is some gigantic term when I unfold it.</p>


{% endraw %}

{% include archive_update.html %}