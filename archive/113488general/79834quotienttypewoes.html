---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/79834quotienttypewoes.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html">quotient type woes</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="126772251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126772251" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126772251">Kevin Buzzard (May 18 2018 at 22:20)</a>:</h4>
<p>I find myself finally having to engage with the quotient type.</p>

<a name="126772325"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126772325" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126772325">Kevin Buzzard (May 18 2018 at 22:22)</a>:</h4>
<p>I am in the middle of a definition of "add" for a quotient type and I find myself with a proof that contains a line <code>(sorry)</code></p>

<a name="126772330"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126772330" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126772330">Kevin Buzzard (May 18 2018 at 22:22)</a>:</h4>
<p>and if I replace that line with <code>(begin sorry end)</code></p>

<a name="126772333"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126772333" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126772333">Kevin Buzzard (May 18 2018 at 22:22)</a>:</h4>
<p>then suddenly the proof stops type checking.</p>

<a name="126772335"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126772335" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126772335">Kevin Buzzard (May 18 2018 at 22:22)</a>:</h4>
<p>How can that happen?</p>

<a name="126772337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126772337" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126772337">Kenny Lau (May 18 2018 at 22:22)</a>:</h4>
<p>because you want <code>begin admit end</code></p>

<a name="126772360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126772360" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126772360">Kevin Buzzard (May 18 2018 at 22:23)</a>:</h4>
<p><code>sorry</code> works now!</p>

<a name="126772392"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126772392" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126772392">Kevin Buzzard (May 18 2018 at 22:24)</a>:</h4>
<p>it's a recent change</p>

<a name="126772399"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126772399" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126772399">Kevin Buzzard (May 18 2018 at 22:24)</a>:</h4>
<p>Same problem with admit</p>

<a name="126772545"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126772545" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126772545">Kevin Buzzard (May 18 2018 at 22:28)</a>:</h4>
<p><a href="https://github.com/kbuzzard/lean-stacks-project/blob/master/src/tag007N.lean" target="_blank" title="https://github.com/kbuzzard/lean-stacks-project/blob/master/src/tag007N.lean">https://github.com/kbuzzard/lean-stacks-project/blob/master/src/tag007N.lean</a></p>

<a name="126772551"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126772551" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126772551">Kevin Buzzard (May 18 2018 at 22:28)</a>:</h4>
<p>In our project <span class="user-mention" data-user-id="110064">@Kenny Lau</span></p>

<a name="126772559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126772559" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126772559">Kevin Buzzard (May 18 2018 at 22:28)</a>:</h4>
<p>How many exams left by the way?</p>

<a name="126772563"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126772563" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126772563">Kenny Lau (May 18 2018 at 22:29)</a>:</h4>
<p>3</p>

<a name="126772574"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126772574" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126772574">Kevin Buzzard (May 18 2018 at 22:29)</a>:</h4>
<p>Mon Wed Fri next week?</p>

<a name="126772580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126772580" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126772580">Kenny Lau (May 18 2018 at 22:29)</a>:</h4>
<p>tue wed fri</p>

<a name="126772586"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126772586" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126772586">Kevin Buzzard (May 18 2018 at 22:29)</a>:</h4>
<p>And Chris the same</p>

<a name="126772594"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126772594" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126772594">Kenny Lau (May 18 2018 at 22:29)</a>:</h4>
<p>right</p>

<a name="126772595"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126772595" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126772595">Kevin Buzzard (May 18 2018 at 22:29)</a>:</h4>
<p>I can't wait until Friday, I have to learn quotient types!</p>

<a name="126772600"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126772600" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126772600">Kenny Lau (May 18 2018 at 22:30)</a>:</h4>
<p>well...</p>

<a name="126772642"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126772642" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126772642">Kevin Buzzard (May 18 2018 at 22:30)</a>:</h4>
<p>It's about time I learnt them.</p>

<a name="126772647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126772647" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126772647">Kevin Buzzard (May 18 2018 at 22:30)</a>:</h4>
<p>After all, I am supposed to have taught them to 267 students this year</p>

<a name="126774059"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126774059" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126774059">Kevin Buzzard (May 18 2018 at 23:06)</a>:</h4>
<p>If you replace <code>(sorry)</code> with <code>({sorry})</code> you get a different error :-)</p>

<a name="126774063"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126774063" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126774063">Kevin Buzzard (May 18 2018 at 23:06)</a>:</h4>
<div class="codehilite"><pre><span></span>type mismatch at application
  quotient.lift ?m_4 {sorry}
term
  {sorry}
has type
  ?m_1 : Type ?
but is expected to have type
  ∀ (a b : ?m_1), a ≈ b → ?m_4 a = ?m_4 b : Prop
Additional information:
/home/buzzard/lean-projects/lean-stacks-project/src/tag007N.lean:21:21: context: &#39;eliminator&#39; elaboration is not used for &#39;quotient.lift&#39; because resulting type is not of the expected form

state:
X : Type u,
_inst_1 : topological_space X,
B : set (set X),
HB : topological_space.is_topological_basis B,
FPRB : presheaf_of_rings_on_basis HB,
x : X,
Hstandard : ∀ (U V : set X), U ∈ B → V ∈ B → U ∩ V ∈ B
⊢ aux (FPRB.to_presheaf_of_types_on_basis) x → stalk FPRB x → stalk FPRB x
</pre></div>

<a name="126774081"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126774081" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126774081">Kevin Buzzard (May 18 2018 at 23:07)</a>:</h4>
<p><code> 'eliminator' elaboration is not used for 'quotient.lift' because resulting type is not of the expected form</code></p>

<a name="126774084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126774084" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126774084">Kevin Buzzard (May 18 2018 at 23:07)</a>:</h4>
<p>I'd never seen that one until today and now I've seen it a lot :-/</p>

<a name="126774092"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126774092" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126774092">Kevin Buzzard (May 18 2018 at 23:08)</a>:</h4>
<p>It must change the order things are elaborated?</p>

<a name="126774134"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126774134" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126774134">Kevin Buzzard (May 18 2018 at 23:08)</a>:</h4>
<p>There is more than one sorry in this definition</p>

<a name="126774294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126774294" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126774294">Kevin Buzzard (May 18 2018 at 23:13)</a>:</h4>
<p>(deleted)</p>

<a name="126774344"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126774344" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126774344">Kevin Buzzard (May 18 2018 at 23:14)</a>:</h4>
<p>(deleted)</p>

<a name="126774400"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126774400" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126774400">Kevin Buzzard (May 18 2018 at 23:16)</a>:</h4>
<p>So <code>by sorry</code> is also an error (the same error)</p>

<a name="126777870"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126777870" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126777870">Mario Carneiro (May 19 2018 at 01:17)</a>:</h4>
<p>I think this is a "dependent sorry" issue, similar to one that came up earlier with sorry in structure fields. If you write <code>quotient.lift _ sorry</code>, then the sorry has a metavariable type and this is not allowed (gives an error at the sorry application). Whereas if you write <code>quotient.lift sorry sorry</code> then the metavariable is replaced with <code>sorry</code> which is an actual term, so it should work. (You can still get these kinds of errors if you put too many sorries around because this can cause implicit variables that are normally solved by unification fail to be resolved because of <code>sorry</code>'s unhelpful type.)</p>

<a name="126778029"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126778029" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126778029">Mario Carneiro (May 19 2018 at 01:23)</a>:</h4>
<p>And <code>quotient.lift (by admit) sorry</code> causes the same error since the tactic causes a delay in elaboration of the first sorry, so it tries to make sense of <code>quotient.lift _ sorry</code> first before getting to the tactic, and this is what causes the error.</p>

<a name="126796711"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126796711" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126796711">Kevin Buzzard (May 19 2018 at 13:53)</a>:</h4>
<p><code>init_quotient: initialize quotient type computational rules</code></p>

<a name="126796712"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126796712" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126796712">Kevin Buzzard (May 19 2018 at 13:53)</a>:</h4>
<p>Just found that with <code>#help commands</code></p>

<a name="126796713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126796713" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126796713">Kevin Buzzard (May 19 2018 at 13:53)</a>:</h4>
<p>What does that do?</p>

<a name="126796714"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126796714" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126796714">Kenny Lau (May 19 2018 at 13:54)</a>:</h4>
<p>that gives you the <code>quot.lift</code> axioms etc</p>

<a name="126796753"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126796753" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126796753">Kenny Lau (May 19 2018 at 13:54)</a>:</h4>
<p>it appears in core</p>

<a name="126796756"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126796756" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126796756">Kevin Buzzard (May 19 2018 at 13:54)</a>:</h4>
<p>documentation for that command is better than for coinductive:</p>

<a name="126796757"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126796757" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126796757">Kevin Buzzard (May 19 2018 at 13:54)</a>:</h4>
<p><code>coinductive: description</code></p>

<a name="126796764"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126796764" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126796764">Kevin Buzzard (May 19 2018 at 13:55)</a>:</h4>
<p>Oh I see -- so I don't really need to run <code>init_quotient</code> myself?</p>

<a name="126796765"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126796765" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126796765">Kenny Lau (May 19 2018 at 13:55)</a>:</h4>
<p>no, you don't</p>

<a name="126796809"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126796809" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126796809">Kevin Buzzard (May 19 2018 at 13:57)</a>:</h4>
<p>Anyway, my next quotient type woe is that if I have an object defined as a quotient type and I want to put, say, a group structure on it, then my definition of the multiplication should presumably be done in term mode and should avoid idioms such as <code>\lam \&lt;U,BU,Hx,s\&gt;</code></p>

<a name="126796815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126796815" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126796815">Kevin Buzzard (May 19 2018 at 13:57)</a>:</h4>
<p>which makes the code look horrible.</p>

<a name="126796857"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126796857" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126796857">Kevin Buzzard (May 19 2018 at 13:58)</a>:</h4>
<p>Is there any way around this? I tried writing a definition of a ring structure on a stalk of a sheaf of rings and the moment I started using <code>\lam \&lt;U,BU,...\&gt;</code> I ran into what I think are standard issues of things not being refl because they are <code>something._match1.something</code> or something</p>

<a name="126796963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126796963" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126796963">Mario Carneiro (May 19 2018 at 14:02)</a>:</h4>
<p>use projections instead of a lambda match</p>

<a name="126797167"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126797167" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126797167">Kevin Buzzard (May 19 2018 at 14:11)</a>:</h4>
<p>Right, so <code>\lam X</code> and then <code>X.U</code>, <code>X.BU</code> etc.</p>

<a name="126797210"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/quotient%20type%20woes/near/126797210" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/79834quotienttypewoes.html#126797210">Kevin Buzzard (May 19 2018 at 14:13)</a>:</h4>
<p>I am a bit surprised that Lean won't do something this simple internally. Presumably what's going on is that the matching machinery is sophisticated and does not guarantee unravelling to something simple even if ultimately I am doing nothing more than a simple match on the components of a structure.</p>


{% endraw %}

{% include archive_update.html %}