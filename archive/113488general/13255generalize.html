---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/13255generalize.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html">generalize</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="125297691"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125297691" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125297691">Kenny Lau (Apr 19 2018 at 09:43)</a>:</h4>
<p>Could someone build a tactic that allows us to generalize at hypotheses?</p>

<a name="125329985"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125329985" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125329985">Simon Hudon (Apr 19 2018 at 22:51)</a>:</h4>
<p>Can you give an example?</p>

<a name="125342330"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125342330" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125342330">Kenny Lau (Apr 20 2018 at 05:52)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">(</span><span class="n">m</span> <span class="n">n</span> <span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">m</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">p</span><span class="o">)</span> <span class="o">:</span> <span class="n">m</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">q</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">generalize</span> <span class="n">h</span> <span class="o">:</span> <span class="n">m</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">x</span> <span class="n">at</span> <span class="n">h</span> <span class="err">⊢</span><span class="o">,</span>
  <span class="n">guard_hyp</span> <span class="n">h</span> <span class="o">:=</span> <span class="n">m</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
  <span class="n">guard_hyp</span> <span class="n">H</span> <span class="o">:=</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">p</span><span class="o">,</span>
  <span class="n">guard_target</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">q</span><span class="o">,</span>
  <span class="n">admit</span>
<span class="kn">end</span>
</pre></div>

<a name="125342331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125342331" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125342331">Kenny Lau (Apr 20 2018 at 05:52)</a>:</h4>
<p><span class="user-mention" data-user-id="110026">@Simon Hudon</span></p>

<a name="125445414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125445414" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125445414">Simon Hudon (Apr 20 2018 at 11:33)</a>:</h4>
<p>I see. So it reverts your hypotheses for you. That should be doable. I'll look into it. Any idea what it should be called?</p>

<a name="125445638"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125445638" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125445638">Kenny Lau (Apr 20 2018 at 11:40)</a>:</h4>
<p>I think one can extend generalize?</p>

<a name="125445648"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125445648" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125445648">Kenny Lau (Apr 20 2018 at 11:41)</a>:</h4>
<p>i.e. still call it generalize, since it builds upon the current generalize (so there won’t be beackwards compatibility problem)</p>

<a name="125445755"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125445755" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125445755">Simon Hudon (Apr 20 2018 at 11:44)</a>:</h4>
<p><code>generalize</code> is defined in the core library and they usually don't take pull requests there. We may have to give it a different name and put it in <code>mathlib</code></p>

<a name="125447182"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125447182" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125447182">Kenny Lau (Apr 20 2018 at 12:32)</a>:</h4>
<p>I’m not sure what I would call it. What do you think?</p>

<a name="125447233"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125447233" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125447233">Simon Hudon (Apr 20 2018 at 12:34)</a>:</h4>
<p><code>generalized_generalize</code></p>

<a name="125447264"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125447264" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125447264">Johan Commelin (Apr 20 2018 at 12:35)</a>:</h4>
<p>Can't you have tactic modifying tactics? Then you could just write <code>generalize simp</code> or <code>generalize wlog</code> and of course also <code>generalize generalize</code>.<br>
Life would be so much <code>simp</code>ler.</p>

<a name="125447272"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125447272" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125447272">Simon Hudon (Apr 20 2018 at 12:35)</a>:</h4>
<p>Or <code>ageneralize</code>. <code>a</code> for assumption. We can also call it <code>generalizea</code> (not to be confused with the Canadian <code>generalize</code>, eh?)</p>

<a name="125447334"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125447334" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125447334">Simon Hudon (Apr 20 2018 at 12:37)</a>:</h4>
<p>some tactics have <code>generalizing</code> clauses like <code>induction xs generalizing h</code></p>

<a name="125447851"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125447851" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125447851">Simon Hudon (Apr 20 2018 at 12:50)</a>:</h4>
<p>(kudos for the hockey stick, <span class="user-mention" data-user-id="110045">@Sean Leather</span> <span class="emoji emoji-1f923" title="rolling on the floor laughing">:rolling_on_the_floor_laughing:</span> )</p>

<a name="125447949"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125447949" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125447949">Sean Leather (Apr 20 2018 at 12:53)</a>:</h4>
<p>Bienvenue, eh!</p>

<a name="125450421"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125450421" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125450421">Kenny Lau (Apr 20 2018 at 14:04)</a>:</h4>
<p>I have a truly marvelous idea</p>

<a name="125450422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125450422" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125450422">Kenny Lau (Apr 20 2018 at 14:04)</a>:</h4>
<p>I have a truly marvelous idea</p>

<a name="125450423"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125450423" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125450423">Kenny Lau (Apr 20 2018 at 14:04)</a>:</h4>
<p>we can call it <code>generalise</code></p>

<a name="125450448"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125450448" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125450448">Simon Hudon (Apr 20 2018 at 14:05)</a>:</h4>
<p>You are truly evil, <span class="user-mention" data-user-id="110064">@Kenny Lau</span></p>

<a name="125452634"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125452634" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125452634">Patrick Massot (Apr 20 2018 at 15:03)</a>:</h4>
<blockquote>
<p>You are truly evil, <span class="user-mention" data-user-id="110064">@Kenny Lau</span></p>
</blockquote>
<p>Don't forget we learned this morning that Kenny is nothing but Kevin's evil part.</p>

<a name="125452831"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125452831" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125452831">Simon Hudon (Apr 20 2018 at 15:07)</a>:</h4>
<p>I wasn't there for that. It all adds up ... his constructivism should really have been a dead give away</p>

<a name="125452840"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125452840" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125452840">Simon Hudon (Apr 20 2018 at 15:07)</a>:</h4>
<p>Btw <span class="user-mention" data-user-id="110064">@Kenny Lau</span> I just made a pull request with your requested feature:</p>
<p><a href="https://github.com/leanprover/mathlib/pull/110" target="_blank" title="https://github.com/leanprover/mathlib/pull/110">https://github.com/leanprover/mathlib/pull/110</a></p>
<p>Let me know if you like it!</p>

<a name="125453447"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125453447" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125453447">Kenny Lau (Apr 20 2018 at 15:23)</a>:</h4>
<p><span class="user-mention" data-user-id="110026">@Simon Hudon</span> does it work with more than one local hypothesis?</p>

<a name="125453452"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125453452" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125453452">Simon Hudon (Apr 20 2018 at 15:23)</a>:</h4>
<p>Yes it does</p>

<a name="125453456"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125453456" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125453456">Kenny Lau (Apr 20 2018 at 15:23)</a>:</h4>
<p>I like it, thanks</p>

<a name="125453463"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125453463" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125453463">Kenny Lau (Apr 20 2018 at 15:23)</a>:</h4>
<p>let's test if it works with induction</p>

<a name="125453469"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125453469" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125453469">Kenny Lau (Apr 20 2018 at 15:23)</a>:</h4>
<p>could you test if you can generalize a list and then do induction?</p>

<a name="125453519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125453519" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125453519">Simon Hudon (Apr 20 2018 at 15:24)</a>:</h4>
<p>Can you show me what you have in mind?</p>

<a name="125453523"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125453523" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125453523">Kenny Lau (Apr 20 2018 at 15:24)</a>:</h4>
<p>yes, wait a minute</p>

<a name="125453683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125453683" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125453683">Kenny Lau (Apr 20 2018 at 15:28)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="n">Sort</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">L₁</span> <span class="n">L₂</span> <span class="n">L₃</span> <span class="o">:</span> <span class="n">list</span> <span class="n">α</span><span class="o">)</span>
  <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">L₁</span> <span class="bp">++</span> <span class="n">L₂</span> <span class="bp">=</span> <span class="n">L₃</span><span class="o">)</span> <span class="o">:</span> <span class="n">L₁</span> <span class="bp">++</span> <span class="n">L₂</span> <span class="bp">=</span> <span class="n">L₂</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">generalize_a</span> <span class="n">h</span> <span class="o">:</span> <span class="n">L₁</span> <span class="bp">++</span> <span class="n">L₂</span> <span class="bp">=</span> <span class="n">L</span> <span class="n">at</span> <span class="n">H</span><span class="o">,</span>
  <span class="n">induction</span> <span class="n">L</span> <span class="k">with</span> <span class="n">hd</span> <span class="n">tl</span> <span class="n">ih</span><span class="o">,</span>
  <span class="n">case</span> <span class="n">list</span><span class="bp">.</span><span class="n">nil</span>
  <span class="o">{</span> <span class="n">guard_hyp</span> <span class="n">H</span> <span class="o">:=</span> <span class="n">list</span><span class="bp">.</span><span class="n">nil</span> <span class="bp">=</span> <span class="n">L₃</span> <span class="o">},</span>
  <span class="n">case</span> <span class="n">list</span><span class="bp">.</span><span class="n">cons</span>
  <span class="o">{</span> <span class="n">guard_hyp</span> <span class="n">H</span> <span class="o">:=</span> <span class="n">hd</span> <span class="bp">::</span> <span class="n">tl</span> <span class="bp">=</span> <span class="n">L₃</span> <span class="o">},</span>
  <span class="n">admit</span>
<span class="kn">end</span>
</pre></div>

<a name="125453686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125453686" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125453686">Kenny Lau (Apr 20 2018 at 15:28)</a>:</h4>
<p><span class="user-mention" data-user-id="110026">@Simon Hudon</span> there you go</p>

<a name="125453952"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125453952" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125453952">Simon Hudon (Apr 20 2018 at 15:35)</a>:</h4>
<p>I had to change it to: </p>
<div class="codehilite"><pre><span></span>example (α : Sort*) (L₁ L₂ L₃ : list α)
  (H : L₁ ++ L₂ = L₃) : L₁ ++ L₂ = L₂ :=
begin
  generalize_a h : L₁ ++ L₂ = L at H,
  induction L with hd tl ih,
  case list.nil
  { tactic.cleanup,
    change list.nil = L₃ at H,
    admit },
  case list.cons
  { change hd :: tl = L₃ at H,
    admit },
end
</pre></div>


<p>but it worked</p>

<a name="125453958"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125453958" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125453958">Kenny Lau (Apr 20 2018 at 15:35)</a>:</h4>
<p>why?</p>

<a name="125453963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125453963" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125453963">Kenny Lau (Apr 20 2018 at 15:35)</a>:</h4>
<p>but thanks</p>

<a name="125454026"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125454026" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125454026">Simon Hudon (Apr 20 2018 at 15:36)</a>:</h4>
<p><code>guard_hyp</code> and <code>guard_target</code> are fairly intolerant. If your expressions contain meta variables and that they don't match, it will fail. At least, I believe that's the reason</p>

<a name="125454027"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125454027" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125454027">Kenny Lau (Apr 20 2018 at 15:36)</a>:</h4>
<p>I see</p>

<a name="125454034"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/generalize/near/125454034" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/13255generalize.html#125454034">Simon Hudon (Apr 20 2018 at 15:36)</a>:</h4>
<p>And you're welcome :)</p>


{% endraw %}

{% include archive_update.html %}