---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/44183heqquestion.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html">heq question</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="126840954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126840954" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126840954">Kevin Buzzard (May 20 2018 at 18:53)</a>:</h4>
<p>I wanted to get affine scheme = scheme finished today, but I have run into a problem whereby restricting to an open subset is not quite the same as restricting to the same not-defeq version of trhe open subset</p>

<a name="126840994"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126840994" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126840994">Kevin Buzzard (May 20 2018 at 18:54)</a>:</h4>
<p>Here's a fairly minimised question</p>

<a name="126840999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126840999" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126840999">Kevin Buzzard (May 20 2018 at 18:54)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">set</span>
<span class="kn">section</span> <span class="n">oh_heq</span>
<span class="kn">parameters</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">(</span><span class="n">U</span> <span class="n">V</span> <span class="n">W</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">)</span>

<span class="kn">lemma</span> <span class="n">HU1</span> <span class="o">:</span> <span class="n">U</span> <span class="err">∩</span> <span class="n">V</span> <span class="err">∩</span> <span class="n">W</span> <span class="err">⊆</span> <span class="n">U</span> <span class="o">:=</span> <span class="n">set</span><span class="bp">.</span><span class="n">subset</span><span class="bp">.</span><span class="n">trans</span> <span class="o">(</span><span class="n">set</span><span class="bp">.</span><span class="n">inter_subset_left</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)</span> <span class="o">(</span><span class="n">set</span><span class="bp">.</span><span class="n">inter_subset_left</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)</span>
<span class="kn">lemma</span> <span class="n">HV1</span> <span class="o">:</span> <span class="n">U</span> <span class="err">∩</span> <span class="n">V</span> <span class="err">∩</span> <span class="n">W</span> <span class="err">⊆</span> <span class="n">V</span> <span class="o">:=</span> <span class="n">set</span><span class="bp">.</span><span class="n">subset</span><span class="bp">.</span><span class="n">trans</span> <span class="o">(</span><span class="n">set</span><span class="bp">.</span><span class="n">inter_subset_left</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)</span> <span class="o">(</span><span class="n">set</span><span class="bp">.</span><span class="n">inter_subset_right</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)</span>
<span class="kn">lemma</span> <span class="n">HW1</span> <span class="o">:</span> <span class="n">U</span> <span class="err">∩</span> <span class="n">V</span> <span class="err">∩</span> <span class="n">W</span> <span class="err">⊆</span> <span class="n">W</span> <span class="o">:=</span> <span class="n">set</span><span class="bp">.</span><span class="n">inter_subset_right</span> <span class="bp">_</span> <span class="bp">_</span>
<span class="kn">lemma</span> <span class="n">HU2</span> <span class="o">:</span> <span class="n">U</span> <span class="err">∩</span> <span class="o">(</span><span class="n">V</span> <span class="err">∩</span> <span class="n">W</span><span class="o">)</span> <span class="err">⊆</span> <span class="n">U</span> <span class="o">:=</span> <span class="n">set</span><span class="bp">.</span><span class="n">inter_subset_left</span> <span class="bp">_</span> <span class="bp">_</span>
<span class="kn">lemma</span> <span class="n">HV2</span> <span class="o">:</span> <span class="n">U</span> <span class="err">∩</span> <span class="o">(</span><span class="n">V</span> <span class="err">∩</span> <span class="n">W</span><span class="o">)</span> <span class="err">⊆</span> <span class="n">V</span> <span class="o">:=</span> <span class="n">set</span><span class="bp">.</span><span class="n">subset</span><span class="bp">.</span><span class="n">trans</span> <span class="o">(</span><span class="n">set</span><span class="bp">.</span><span class="n">inter_subset_right</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)</span> <span class="o">(</span><span class="n">set</span><span class="bp">.</span><span class="n">inter_subset_left</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)</span>
<span class="kn">lemma</span> <span class="n">HW2</span> <span class="o">:</span> <span class="n">U</span> <span class="err">∩</span> <span class="o">(</span><span class="n">V</span> <span class="err">∩</span> <span class="n">W</span><span class="o">)</span> <span class="err">⊆</span> <span class="n">W</span> <span class="o">:=</span> <span class="n">set</span><span class="bp">.</span><span class="n">subset</span><span class="bp">.</span><span class="n">trans</span> <span class="o">(</span><span class="n">set</span><span class="bp">.</span><span class="n">inter_subset_right</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)</span> <span class="o">(</span><span class="n">set</span><span class="bp">.</span><span class="n">inter_subset_right</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">[</span><span class="bp">∀</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span> <span class="n">group</span> <span class="o">(</span><span class="n">F</span> <span class="n">Z</span><span class="o">)]</span>
<span class="o">(</span><span class="n">Fres</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span> <span class="n">X</span> <span class="err">⊆</span> <span class="n">Y</span> <span class="bp">→</span> <span class="n">F</span> <span class="n">Y</span> <span class="bp">→</span> <span class="n">F</span> <span class="n">X</span><span class="o">)</span>
<span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">F</span> <span class="n">U</span><span class="o">)</span> <span class="o">(</span><span class="n">j</span> <span class="o">:</span> <span class="n">F</span> <span class="n">V</span><span class="o">)</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="n">F</span> <span class="n">W</span><span class="o">)</span> <span class="o">:</span>
<span class="n">Fres</span> <span class="o">(</span><span class="n">U</span> <span class="err">∩</span> <span class="n">V</span> <span class="err">∩</span> <span class="n">W</span><span class="o">)</span> <span class="n">U</span> <span class="n">HU1</span> <span class="n">i</span> <span class="bp">*</span> <span class="n">Fres</span> <span class="o">(</span><span class="n">U</span> <span class="err">∩</span> <span class="n">V</span> <span class="err">∩</span> <span class="n">W</span><span class="o">)</span> <span class="n">V</span> <span class="n">HV1</span> <span class="n">j</span> <span class="bp">*</span> <span class="n">Fres</span> <span class="o">(</span><span class="n">U</span> <span class="err">∩</span> <span class="n">V</span> <span class="err">∩</span> <span class="n">W</span><span class="o">)</span> <span class="n">W</span> <span class="n">HW1</span> <span class="n">k</span>
<span class="bp">==</span> <span class="n">Fres</span> <span class="o">(</span><span class="n">U</span> <span class="err">∩</span> <span class="o">(</span><span class="n">V</span> <span class="err">∩</span> <span class="n">W</span><span class="o">))</span> <span class="n">U</span> <span class="n">HU2</span> <span class="n">i</span> <span class="bp">*</span> <span class="n">Fres</span> <span class="o">(</span><span class="n">U</span> <span class="err">∩</span> <span class="o">(</span><span class="n">V</span> <span class="err">∩</span> <span class="n">W</span><span class="o">))</span> <span class="n">V</span> <span class="n">HV2</span> <span class="n">j</span> <span class="bp">*</span> <span class="n">Fres</span> <span class="o">(</span><span class="n">U</span> <span class="err">∩</span> <span class="o">(</span><span class="n">V</span> <span class="err">∩</span> <span class="n">W</span><span class="o">))</span> <span class="n">W</span> <span class="n">HW2</span> <span class="n">k</span>
<span class="o">:=</span> <span class="n">sorry</span>

<span class="kn">end</span> <span class="n">oh_heq</span>
</pre></div>

<a name="126841002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841002" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841002">Kevin Buzzard (May 20 2018 at 18:54)</a>:</h4>
<p>Is that example true?</p>

<a name="126841010"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841010" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841010">Kevin Buzzard (May 20 2018 at 18:55)</a>:</h4>
<p>What's going on is that I am constructing an element of F(U cap V cap W)</p>

<a name="126841012"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841012" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841012">Kevin Buzzard (May 20 2018 at 18:55)</a>:</h4>
<p>and I'm constructing "the same" element of F(U cap (V cap W))</p>

<a name="126841014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841014" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841014">Kevin Buzzard (May 20 2018 at 18:55)</a>:</h4>
<p>and I want them to be equal</p>

<a name="126841015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841015" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841015">Kevin Buzzard (May 20 2018 at 18:55)</a>:</h4>
<p>or hequal</p>

<a name="126841061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841061" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841061">Kevin Buzzard (May 20 2018 at 18:56)</a>:</h4>
<p>I feel like I ran into this sort of problem once before</p>

<a name="126841062"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841062" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841062">Kevin Buzzard (May 20 2018 at 18:56)</a>:</h4>
<p>and I tried some of the suggestions there</p>

<a name="126841064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841064" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841064">Kevin Buzzard (May 20 2018 at 18:56)</a>:</h4>
<p>(before minimising)</p>

<a name="126841070"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841070" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841070">Kevin Buzzard (May 20 2018 at 18:56)</a>:</h4>
<p><code>congr</code> turns the goal into 29 goals, not all of which are true</p>

<a name="126841079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841079" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841079">Kevin Buzzard (May 20 2018 at 18:57)</a>:</h4>
<p><a href="#narrow/stream/113488-general/topic/dependent.20congr_arg.3F" title="#narrow/stream/113488-general/topic/dependent.20congr_arg.3F">https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/dependent.20congr_arg.3F</a></p>

<a name="126841081"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841081" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841081">Kevin Buzzard (May 20 2018 at 18:57)</a>:</h4>
<p>was the old thread</p>

<a name="126841123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841123" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841123">Kevin Buzzard (May 20 2018 at 18:58)</a>:</h4>
<p>simp fails to simplify</p>

<a name="126841131"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841131" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841131">Kevin Buzzard (May 20 2018 at 18:58)</a>:</h4>
<p>cc fails</p>

<a name="126841142"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841142" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841142">Kevin Buzzard (May 20 2018 at 18:59)</a>:</h4>
<p>hmm maybe I should tell simp that the two intersections are equal</p>

<a name="126841143"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841143" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841143">Kevin Buzzard (May 20 2018 at 18:59)</a>:</h4>
<div class="codehilite"><pre><span></span> <span class="k">begin</span>
<span class="k">have</span> <span class="n">Hinter</span> <span class="o">:</span> <span class="n">U</span> <span class="err">∩</span> <span class="n">V</span> <span class="err">∩</span> <span class="n">W</span> <span class="bp">=</span> <span class="n">U</span> <span class="err">∩</span> <span class="o">(</span><span class="n">V</span> <span class="err">∩</span> <span class="n">W</span><span class="o">)</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">cc</span><span class="o">,</span>
<span class="n">simp</span> <span class="o">[</span><span class="n">Hinter</span><span class="o">],</span>
<span class="kn">end</span>
</pre></div>

<a name="126841144"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841144" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841144">Kevin Buzzard (May 20 2018 at 18:59)</a>:</h4>
<p>fails to simplify</p>

<a name="126841196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841196" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841196">Kevin Buzzard (May 20 2018 at 19:00)</a>:</h4>
<p>Is what I have written provable?</p>

<a name="126841200"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841200" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841200">Kevin Buzzard (May 20 2018 at 19:00)</a>:</h4>
<p>I don't understand how to use <code>subst</code></p>

<a name="126841296"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841296" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841296">Kevin Buzzard (May 20 2018 at 19:04)</a>:</h4>
<p>Is there some crazy diamond thing going on?</p>

<a name="126841297"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841297" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841297">Kevin Buzzard (May 20 2018 at 19:04)</a>:</h4>
<p>Is the issue that I have put a ring structure on F (U cap V cap W)</p>

<a name="126841298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841298" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841298">Kevin Buzzard (May 20 2018 at 19:04)</a>:</h4>
<p>and a ring structure on F(U cap (V cap W))</p>

<a name="126841300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841300" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841300">Kevin Buzzard (May 20 2018 at 19:04)</a>:</h4>
<p>sorry -- a group structure</p>

<a name="126841301"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841301" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841301">Kevin Buzzard (May 20 2018 at 19:04)</a>:</h4>
<p>[in real life I have rings]</p>

<a name="126841303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841303" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841303">Kevin Buzzard (May 20 2018 at 19:05)</a>:</h4>
<p>and a proof that U cap V cap W = U cap (V cap W)</p>

<a name="126841310"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841310" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841310">Kevin Buzzard (May 20 2018 at 19:05)</a>:</h4>
<p>but now there's the question as to whether the group structures get identified?</p>

<a name="126841311"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841311" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841311">Kevin Buzzard (May 20 2018 at 19:05)</a>:</h4>
<p>aargh</p>

<a name="126841312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841312" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841312">Kevin Buzzard (May 20 2018 at 19:05)</a>:</h4>
<p>Am I in real trouble here??</p>

<a name="126841406"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841406" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841406">Kevin Buzzard (May 20 2018 at 19:08)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="k">begin</span>
<span class="k">have</span> <span class="n">Hinter</span> <span class="o">:</span> <span class="n">U</span> <span class="err">∩</span> <span class="n">V</span> <span class="err">∩</span> <span class="n">W</span> <span class="bp">=</span> <span class="n">U</span> <span class="err">∩</span> <span class="o">(</span><span class="n">V</span> <span class="err">∩</span> <span class="n">W</span><span class="o">)</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">cc</span><span class="o">,</span>
<span class="n">refine</span> <span class="n">eq</span><span class="bp">.</span><span class="n">drec_on</span> <span class="n">Hinter</span> <span class="bp">_</span><span class="o">,</span>
<span class="n">congr</span><span class="o">,</span>
<span class="c1">-- now three goals:</span>
<span class="c1">-- ⊢ Fres (U ∩ V ∩ W) U HU1 i = Fres (U ∩ V ∩ W) U HU2 i</span>
<span class="c1">-- ⊢ Fres (U ∩ V ∩ W) V HV1 j = Fres (U ∩ V ∩ W) V HV2 j</span>
<span class="c1">-- ⊢ Fres (U ∩ V ∩ W) W HW1 k = Fres (U ∩ V ∩ W) W HW2 k</span>
<span class="n">sorry</span><span class="o">,</span><span class="n">sorry</span><span class="o">,</span><span class="n">sorry</span>
<span class="kn">end</span>
</pre></div>

<a name="126841408"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841408" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841408">Kevin Buzzard (May 20 2018 at 19:08)</a>:</h4>
<p>Possible progress</p>

<a name="126841482"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841482" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841482">Chris Hughes (May 20 2018 at 19:11)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">set</span>
<span class="kn">section</span> <span class="n">oh_heq</span>
<span class="kn">parameters</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">(</span><span class="n">U</span> <span class="n">V</span> <span class="n">W</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">)</span>

<span class="kn">lemma</span> <span class="n">HU1</span> <span class="o">:</span> <span class="n">U</span> <span class="err">∩</span> <span class="n">V</span> <span class="err">∩</span> <span class="n">W</span> <span class="err">⊆</span> <span class="n">U</span> <span class="o">:=</span> <span class="n">set</span><span class="bp">.</span><span class="n">subset</span><span class="bp">.</span><span class="n">trans</span> <span class="o">(</span><span class="n">set</span><span class="bp">.</span><span class="n">inter_subset_left</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)</span> <span class="o">(</span><span class="n">set</span><span class="bp">.</span><span class="n">inter_subset_left</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)</span>
<span class="kn">lemma</span> <span class="n">HV1</span> <span class="o">:</span> <span class="n">U</span> <span class="err">∩</span> <span class="n">V</span> <span class="err">∩</span> <span class="n">W</span> <span class="err">⊆</span> <span class="n">V</span> <span class="o">:=</span> <span class="n">set</span><span class="bp">.</span><span class="n">subset</span><span class="bp">.</span><span class="n">trans</span> <span class="o">(</span><span class="n">set</span><span class="bp">.</span><span class="n">inter_subset_left</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)</span> <span class="o">(</span><span class="n">set</span><span class="bp">.</span><span class="n">inter_subset_right</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)</span>
<span class="kn">lemma</span> <span class="n">HW1</span> <span class="o">:</span> <span class="n">U</span> <span class="err">∩</span> <span class="n">V</span> <span class="err">∩</span> <span class="n">W</span> <span class="err">⊆</span> <span class="n">W</span> <span class="o">:=</span> <span class="n">set</span><span class="bp">.</span><span class="n">inter_subset_right</span> <span class="bp">_</span> <span class="bp">_</span>
<span class="kn">lemma</span> <span class="n">HU2</span> <span class="o">:</span> <span class="n">U</span> <span class="err">∩</span> <span class="o">(</span><span class="n">V</span> <span class="err">∩</span> <span class="n">W</span><span class="o">)</span> <span class="err">⊆</span> <span class="n">U</span> <span class="o">:=</span> <span class="n">set</span><span class="bp">.</span><span class="n">inter_subset_left</span> <span class="bp">_</span> <span class="bp">_</span>
<span class="kn">lemma</span> <span class="n">HV2</span> <span class="o">:</span> <span class="n">U</span> <span class="err">∩</span> <span class="o">(</span><span class="n">V</span> <span class="err">∩</span> <span class="n">W</span><span class="o">)</span> <span class="err">⊆</span> <span class="n">V</span> <span class="o">:=</span> <span class="n">set</span><span class="bp">.</span><span class="n">subset</span><span class="bp">.</span><span class="n">trans</span> <span class="o">(</span><span class="n">set</span><span class="bp">.</span><span class="n">inter_subset_right</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)</span> <span class="o">(</span><span class="n">set</span><span class="bp">.</span><span class="n">inter_subset_left</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)</span>
<span class="kn">lemma</span> <span class="n">HW2</span> <span class="o">:</span> <span class="n">U</span> <span class="err">∩</span> <span class="o">(</span><span class="n">V</span> <span class="err">∩</span> <span class="n">W</span><span class="o">)</span> <span class="err">⊆</span> <span class="n">W</span> <span class="o">:=</span> <span class="n">set</span><span class="bp">.</span><span class="n">subset</span><span class="bp">.</span><span class="n">trans</span> <span class="o">(</span><span class="n">set</span><span class="bp">.</span><span class="n">inter_subset_right</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)</span> <span class="o">(</span><span class="n">set</span><span class="bp">.</span><span class="n">inter_subset_right</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)</span>

<span class="kn">set_option</span> <span class="n">trace</span><span class="bp">.</span><span class="n">app_builder</span> <span class="n">true</span>

<span class="kn">lemma</span> <span class="n">T</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">[</span><span class="bp">∀</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span> <span class="n">group</span> <span class="o">(</span><span class="n">F</span> <span class="n">Z</span><span class="o">)]</span>
<span class="o">(</span><span class="n">Fres</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span> <span class="n">X</span> <span class="err">⊆</span> <span class="n">Y</span> <span class="bp">→</span> <span class="n">F</span> <span class="n">Y</span> <span class="bp">→</span> <span class="n">F</span> <span class="n">X</span><span class="o">)</span>
<span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">F</span> <span class="n">U</span><span class="o">)</span> <span class="o">(</span><span class="n">j</span> <span class="o">:</span> <span class="n">F</span> <span class="n">V</span><span class="o">)</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="n">F</span> <span class="n">W</span><span class="o">)</span> <span class="o">(</span><span class="n">s</span> <span class="n">t</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">)</span>
<span class="o">(</span><span class="n">hst</span> <span class="o">:</span> <span class="n">s</span> <span class="bp">=</span> <span class="n">t</span><span class="o">)</span>
<span class="o">(</span><span class="n">hsU</span> <span class="o">:</span> <span class="n">s</span> <span class="err">⊆</span> <span class="n">U</span><span class="o">)</span> <span class="o">(</span><span class="n">hsV</span> <span class="o">:</span> <span class="n">s</span> <span class="err">⊆</span> <span class="n">V</span><span class="o">)</span> <span class="o">(</span><span class="n">hsW</span> <span class="o">:</span> <span class="n">s</span> <span class="err">⊆</span> <span class="n">W</span><span class="o">)</span>
<span class="o">(</span><span class="n">htU</span> <span class="o">:</span> <span class="n">t</span> <span class="err">⊆</span> <span class="n">U</span><span class="o">)</span> <span class="o">(</span><span class="n">htV</span> <span class="o">:</span> <span class="n">t</span> <span class="err">⊆</span> <span class="n">V</span><span class="o">)</span> <span class="o">(</span><span class="n">htW</span> <span class="o">:</span> <span class="n">t</span> <span class="err">⊆</span> <span class="n">W</span><span class="o">)</span> <span class="o">:</span>
<span class="n">Fres</span> <span class="n">s</span> <span class="n">U</span> <span class="n">hsU</span> <span class="n">i</span> <span class="bp">*</span> <span class="n">Fres</span> <span class="n">s</span> <span class="n">V</span> <span class="n">hsV</span> <span class="n">j</span> <span class="bp">*</span> <span class="n">Fres</span> <span class="n">s</span> <span class="n">W</span> <span class="n">hsW</span> <span class="n">k</span>
<span class="bp">==</span> <span class="n">Fres</span> <span class="n">t</span> <span class="n">U</span> <span class="n">htU</span> <span class="n">i</span> <span class="bp">*</span> <span class="n">Fres</span> <span class="n">t</span> <span class="n">V</span> <span class="n">htV</span> <span class="n">j</span> <span class="bp">*</span> <span class="n">Fres</span> <span class="n">t</span> <span class="n">W</span> <span class="n">htW</span> <span class="n">k</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">subst</span> <span class="n">hst</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">[</span><span class="bp">∀</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span> <span class="n">group</span> <span class="o">(</span><span class="n">F</span> <span class="n">Z</span><span class="o">)]</span>
<span class="o">(</span><span class="n">Fres</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span> <span class="n">X</span> <span class="err">⊆</span> <span class="n">Y</span> <span class="bp">→</span> <span class="n">F</span> <span class="n">Y</span> <span class="bp">→</span> <span class="n">F</span> <span class="n">X</span><span class="o">)</span>
<span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">F</span> <span class="n">U</span><span class="o">)</span> <span class="o">(</span><span class="n">j</span> <span class="o">:</span> <span class="n">F</span> <span class="n">V</span><span class="o">)</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="n">F</span> <span class="n">W</span><span class="o">)</span> <span class="o">:</span>
<span class="n">Fres</span> <span class="o">(</span><span class="n">U</span> <span class="err">∩</span> <span class="n">V</span> <span class="err">∩</span> <span class="n">W</span><span class="o">)</span> <span class="n">U</span> <span class="n">HU1</span> <span class="n">i</span> <span class="bp">*</span> <span class="n">Fres</span> <span class="o">(</span><span class="n">U</span> <span class="err">∩</span> <span class="n">V</span> <span class="err">∩</span> <span class="n">W</span><span class="o">)</span> <span class="n">V</span> <span class="n">HV1</span> <span class="n">j</span> <span class="bp">*</span> <span class="n">Fres</span> <span class="o">(</span><span class="n">U</span> <span class="err">∩</span> <span class="n">V</span> <span class="err">∩</span> <span class="n">W</span><span class="o">)</span> <span class="n">W</span> <span class="n">HW1</span> <span class="n">k</span>
<span class="bp">==</span> <span class="n">Fres</span> <span class="o">(</span><span class="n">U</span> <span class="err">∩</span> <span class="o">(</span><span class="n">V</span> <span class="err">∩</span> <span class="n">W</span><span class="o">))</span> <span class="n">U</span> <span class="n">HU2</span> <span class="n">i</span> <span class="bp">*</span> <span class="n">Fres</span> <span class="o">(</span><span class="n">U</span> <span class="err">∩</span> <span class="o">(</span><span class="n">V</span> <span class="err">∩</span> <span class="n">W</span><span class="o">))</span> <span class="n">V</span> <span class="n">HV2</span> <span class="n">j</span> <span class="bp">*</span> <span class="n">Fres</span> <span class="o">(</span><span class="n">U</span> <span class="err">∩</span> <span class="o">(</span><span class="n">V</span> <span class="err">∩</span> <span class="n">W</span><span class="o">))</span> <span class="n">W</span> <span class="n">HW2</span> <span class="n">k</span> <span class="o">:=</span>
<span class="n">T</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="o">(</span><span class="n">set</span><span class="bp">.</span><span class="n">inter_assoc</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)</span> <span class="n">HU1</span> <span class="n">HV1</span> <span class="n">HW1</span> <span class="n">HU2</span> <span class="n">HV2</span> <span class="n">HW2</span>
</pre></div>


<p>Trouble is <code>subst</code> doesn't work very well when the expression is more complicated than <code>s = t</code></p>

<a name="126841531"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841531" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841531">Kevin Buzzard (May 20 2018 at 19:12)</a>:</h4>
<p>aah we're back with subst</p>

<a name="126841533"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841533" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841533">Kevin Buzzard (May 20 2018 at 19:12)</a>:</h4>
<p>I wrote <code>subst [random_thing]</code> and I get an error I don't understand</p>

<a name="126841539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841539" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841539">Kevin Buzzard (May 20 2018 at 19:13)</a>:</h4>
<p>so I gave up on subst very early</p>

<a name="126841540"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841540" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841540">Kevin Buzzard (May 20 2018 at 19:13)</a>:</h4>
<p>you're suggesting I persevere</p>

<a name="126841542"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841542" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841542">Kevin Buzzard (May 20 2018 at 19:13)</a>:</h4>
<p>My actual use case has rings and it's addition not multiplication</p>

<a name="126841543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841543" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841543">Kevin Buzzard (May 20 2018 at 19:13)</a>:</h4>
<p>but it's very close to this</p>

<a name="126841544"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841544" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841544">Chris Hughes (May 20 2018 at 19:13)</a>:</h4>
<p>I used to use <code>eq.drec_on</code> with an explicit motive for things like this. That's really messy.</p>

<a name="126841547"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841547" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841547">Kevin Buzzard (May 20 2018 at 19:13)</a>:</h4>
<p>As you saw I tried eq.drec_on and made some progress</p>

<a name="126841561"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841561" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841561">Kevin Buzzard (May 20 2018 at 19:14)</a>:</h4>
<p>I perhaps need to learn how to use subst</p>

<a name="126841592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841592" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841592">Kevin Buzzard (May 20 2018 at 19:15)</a>:</h4>
<p>You saw I proved <code>Hinter : U ∩ V ∩ W = U ∩ (V ∩ W)</code></p>

<a name="126841596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841596" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841596">Kevin Buzzard (May 20 2018 at 19:15)</a>:</h4>
<p>but <code>subst Hinter</code>, which somehow feels like what I want to do, gives me <code>subst tactic failed, hypothesis 'Hinter' is not of the form (x = t) or (t = x)</code></p>

<a name="126841597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841597" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841597">Kevin Buzzard (May 20 2018 at 19:15)</a>:</h4>
<p>That error message is really unhelpful</p>

<a name="126841598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841598" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841598">Kevin Buzzard (May 20 2018 at 19:15)</a>:</h4>
<p>Does anyone know what it actually means?</p>

<a name="126841599"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841599" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841599">Kevin Buzzard (May 20 2018 at 19:16)</a>:</h4>
<p>Hinter looks like both of those forms to me :-)</p>

<a name="126841656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841656" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841656">Kevin Buzzard (May 20 2018 at 19:17)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="k">begin</span>
<span class="k">have</span> <span class="n">Hinter</span> <span class="o">:</span> <span class="n">U</span> <span class="err">∩</span> <span class="n">V</span> <span class="err">∩</span> <span class="n">W</span> <span class="bp">=</span> <span class="n">U</span> <span class="err">∩</span> <span class="o">(</span><span class="n">V</span> <span class="err">∩</span> <span class="n">W</span><span class="o">)</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">cc</span><span class="o">,</span>
<span class="n">subst</span> <span class="n">Hinter</span><span class="o">,</span> <span class="c1">-- subst tactic failed, hypothesis &#39;Hinter&#39; is not of the form (x = t) or (t = x)</span>
<span class="n">sorry</span>
<span class="kn">end</span>
</pre></div>

<a name="126841659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841659" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841659">Kevin Buzzard (May 20 2018 at 19:18)</a>:</h4>
<p>How is that different to what you're doing?</p>

<a name="126841716"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841716" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841716">Chris Hughes (May 20 2018 at 19:19)</a>:</h4>
<p>I think it's basically that it has to be a really simple expression. <code>x = t</code> is fine, but anything like <code> f x = t</code> is not. I might be wrong about that.</p>

<a name="126841717"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841717" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841717">Kevin Buzzard (May 20 2018 at 19:19)</a>:</h4>
<p>You are telling me that subst won't work unless it literally is (one letter) = (one letter)?</p>

<a name="126841719"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841719" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841719">Kevin Buzzard (May 20 2018 at 19:19)</a>:</h4>
<p>Well at the end of the day you apparently proved it and I definitely didn't</p>

<a name="126841721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841721" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841721">Chris Hughes (May 20 2018 at 19:19)</a>:</h4>
<p>I think so.</p>

<a name="126841722"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841722" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841722">Kevin Buzzard (May 20 2018 at 19:19)</a>:</h4>
<p><code>set_option trace.app_builder true</code></p>

<a name="126841724"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841724" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841724">Kevin Buzzard (May 20 2018 at 19:19)</a>:</h4>
<p>What was that all about?</p>

<a name="126841775"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841775" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841775">Chris Hughes (May 20 2018 at 19:20)</a>:</h4>
<p>In this code your goal shouldn't typecheck</p>
<div class="codehilite"><pre><span></span><span class="k">begin</span>
<span class="k">have</span> <span class="n">Hinter</span> <span class="o">:</span> <span class="n">U</span> <span class="err">∩</span> <span class="n">V</span> <span class="err">∩</span> <span class="n">W</span> <span class="bp">=</span> <span class="n">U</span> <span class="err">∩</span> <span class="o">(</span><span class="n">V</span> <span class="err">∩</span> <span class="n">W</span><span class="o">)</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">cc</span><span class="o">,</span>
<span class="n">refine</span> <span class="n">eq</span><span class="bp">.</span><span class="n">drec_on</span> <span class="n">Hinter</span> <span class="bp">_</span><span class="o">,</span>
<span class="n">congr</span><span class="o">,</span>
<span class="c1">-- now three goals:</span>
<span class="c1">-- ⊢ Fres (U ∩ V ∩ W) U HU1 i = Fres (U ∩ V ∩ W) U HU2 i</span>
<span class="c1">-- ⊢ Fres (U ∩ V ∩ W) V HV1 j = Fres (U ∩ V ∩ W) V HV2 j</span>
<span class="c1">-- ⊢ Fres (U ∩ V ∩ W) W HW1 k = Fres (U ∩ V ∩ W) W HW2 k</span>
<span class="n">sorry</span><span class="o">,</span><span class="n">sorry</span><span class="o">,</span><span class="n">sorry</span>
<span class="kn">end</span>
</pre></div>

<a name="126841776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841776" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841776">Chris Hughes (May 20 2018 at 19:20)</a>:</h4>
<p>but it does.</p>

<a name="126841792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841792" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841792">Chris Hughes (May 20 2018 at 19:21)</a>:</h4>
<blockquote>
<p><code>set_option trace.app_builder true</code></p>
</blockquote>
<p>That was because something didn't work and the error message suggested I do that.</p>

<a name="126841794"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841794" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841794">Kevin Buzzard (May 20 2018 at 19:21)</a>:</h4>
<p>yeah that was a bit scary with the =</p>

<a name="126841797"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841797" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841797">Kevin Buzzard (May 20 2018 at 19:21)</a>:</h4>
<p>but if X = Y then F X = F Y</p>

<a name="126841855"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841855" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841855">Kevin Buzzard (May 20 2018 at 19:23)</a>:</h4>
<p>Thanks Chris</p>

<a name="126841858"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841858" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841858">Kevin Buzzard (May 20 2018 at 19:23)</a>:</h4>
<p>Indeed your proof works</p>

<a name="126841898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126841898" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126841898">Kevin Buzzard (May 20 2018 at 19:24)</a>:</h4>
<p>I am currently mulling over having to translate it into the real life situation</p>

<a name="126842102"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126842102" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126842102">Chris Hughes (May 20 2018 at 19:33)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">[</span><span class="bp">∀</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span> <span class="n">group</span> <span class="o">(</span><span class="n">F</span> <span class="n">Z</span><span class="o">)]</span>
<span class="o">(</span><span class="n">Fres</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span> <span class="n">X</span> <span class="err">⊆</span> <span class="n">Y</span> <span class="bp">→</span> <span class="n">F</span> <span class="n">Y</span> <span class="bp">→</span> <span class="n">F</span> <span class="n">X</span><span class="o">)</span>
<span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">F</span> <span class="n">U</span><span class="o">)</span> <span class="o">(</span><span class="n">j</span> <span class="o">:</span> <span class="n">F</span> <span class="n">V</span><span class="o">)</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="n">F</span> <span class="n">W</span><span class="o">)</span> <span class="o">:</span>
<span class="n">Fres</span> <span class="o">(</span><span class="n">U</span> <span class="err">∩</span> <span class="n">V</span> <span class="err">∩</span> <span class="n">W</span><span class="o">)</span> <span class="n">U</span> <span class="n">HU1</span> <span class="n">i</span> <span class="bp">*</span> <span class="n">Fres</span> <span class="o">(</span><span class="n">U</span> <span class="err">∩</span> <span class="n">V</span> <span class="err">∩</span> <span class="n">W</span><span class="o">)</span> <span class="n">V</span> <span class="n">HV1</span> <span class="n">j</span> <span class="bp">*</span> <span class="n">Fres</span> <span class="o">(</span><span class="n">U</span> <span class="err">∩</span> <span class="n">V</span> <span class="err">∩</span> <span class="n">W</span><span class="o">)</span> <span class="n">W</span> <span class="n">HW1</span> <span class="n">k</span>
<span class="bp">==</span> <span class="n">Fres</span> <span class="o">(</span><span class="n">U</span> <span class="err">∩</span> <span class="o">(</span><span class="n">V</span> <span class="err">∩</span> <span class="n">W</span><span class="o">))</span> <span class="n">U</span> <span class="n">HU2</span> <span class="n">i</span> <span class="bp">*</span> <span class="n">Fres</span> <span class="o">(</span><span class="n">U</span> <span class="err">∩</span> <span class="o">(</span><span class="n">V</span> <span class="err">∩</span> <span class="n">W</span><span class="o">))</span> <span class="n">V</span> <span class="n">HV2</span> <span class="n">j</span> <span class="bp">*</span> <span class="n">Fres</span> <span class="o">(</span><span class="n">U</span> <span class="err">∩</span> <span class="o">(</span><span class="n">V</span> <span class="err">∩</span> <span class="n">W</span><span class="o">))</span> <span class="n">W</span> <span class="n">HW2</span> <span class="n">k</span> <span class="o">:=</span>
<span class="k">have</span> <span class="n">Hinter</span> <span class="o">:</span> <span class="n">U</span> <span class="err">∩</span> <span class="n">V</span> <span class="err">∩</span> <span class="n">W</span> <span class="bp">=</span> <span class="n">U</span> <span class="err">∩</span> <span class="o">(</span><span class="n">V</span> <span class="err">∩</span> <span class="n">W</span><span class="o">)</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">cc</span><span class="o">,</span>
<span class="bp">@</span><span class="n">eq</span><span class="bp">.</span><span class="n">drec_on</span> <span class="bp">_</span> <span class="o">(</span><span class="n">U</span> <span class="err">∩</span> <span class="n">V</span> <span class="err">∩</span> <span class="n">W</span><span class="o">)</span>
<span class="o">(</span><span class="bp">λ</span> <span class="n">s</span> <span class="n">h</span><span class="o">,</span> <span class="n">Fres</span> <span class="o">(</span><span class="n">U</span> <span class="err">∩</span> <span class="n">V</span> <span class="err">∩</span> <span class="n">W</span><span class="o">)</span> <span class="n">U</span> <span class="n">HU1</span> <span class="n">i</span> <span class="bp">*</span> <span class="n">Fres</span> <span class="o">(</span><span class="n">U</span> <span class="err">∩</span> <span class="n">V</span> <span class="err">∩</span> <span class="n">W</span><span class="o">)</span> <span class="n">V</span> <span class="n">HV1</span> <span class="n">j</span> <span class="bp">*</span> <span class="n">Fres</span> <span class="o">(</span><span class="n">U</span> <span class="err">∩</span> <span class="n">V</span> <span class="err">∩</span> <span class="n">W</span><span class="o">)</span> <span class="n">W</span> <span class="n">HW1</span> <span class="n">k</span>
<span class="bp">==</span> <span class="n">Fres</span> <span class="n">s</span> <span class="n">U</span> <span class="o">(</span><span class="n">h</span> <span class="bp">▸</span> <span class="n">HU1</span><span class="o">)</span> <span class="n">i</span> <span class="bp">*</span> <span class="n">Fres</span> <span class="n">s</span> <span class="n">V</span> <span class="o">(</span><span class="n">h</span> <span class="bp">▸</span> <span class="n">HV1</span><span class="o">)</span> <span class="n">j</span> <span class="bp">*</span> <span class="n">Fres</span> <span class="n">s</span> <span class="n">W</span> <span class="o">(</span><span class="n">h</span> <span class="bp">▸</span> <span class="n">HW1</span><span class="o">)</span> <span class="n">k</span><span class="o">)</span> <span class="bp">_</span> <span class="n">Hinter</span> <span class="o">(</span><span class="n">heq</span><span class="bp">.</span><span class="n">refl</span> <span class="bp">_</span><span class="o">)</span>
</pre></div>

<a name="126842149"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126842149" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126842149">Chris Hughes (May 20 2018 at 19:35)</a>:</h4>
<p>Probably the best solution is to get <code>subst</code> to work properly. Might be a good after exams project.</p>

<a name="126843676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126843676" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126843676">Kevin Buzzard (May 20 2018 at 20:37)</a>:</h4>
<p>Thanks a lot for this Chris! I'll see if this method works in my actual file</p>

<a name="126846183"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126846183" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126846183">Mario Carneiro (May 20 2018 at 22:13)</a>:</h4>
<p>This works, but I'm not very happy with the result</p>
<div class="codehilite"><pre><span></span>theorem proof_irrel_heq {p q : Prop} (e : p = q) (hp : p) (hq : q) : hp == hq :=
by subst q; congr

example (F : set α → Type) [∀ Z : set α, group (F Z)]
(Fres : ∀ X Y : set α, X ⊆ Y → F Y → F X)
(i : F U) (j : F V) (k : F W) :
Fres (U ∩ V ∩ W) U HU1 i * Fres (U ∩ V ∩ W) V HV1 j * Fres (U ∩ V ∩ W) W HW1 k
== Fres (U ∩ (V ∩ W)) U HU2 i * Fres (U ∩ (V ∩ W)) V HV2 j * Fres (U ∩ (V ∩ W)) W HW2 k
:=
by have := set.inter_assoc U V W;
   congr; try{assumption};
   { apply proof_irrel_heq, congr, assumption }
</pre></div>

<a name="126846280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126846280" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126846280">Mario Carneiro (May 20 2018 at 22:17)</a>:</h4>
<p>Didn't I tell you partial functions give you headaches?</p>

<a name="126846474"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126846474" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126846474">Mario Carneiro (May 20 2018 at 22:25)</a>:</h4>
<p>Why do you have a <code>heq</code> goal in the first place?</p>

<a name="126846718"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126846718" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126846718">Kenny Lau (May 20 2018 at 22:34)</a>:</h4>
<p>because of bad interface</p>

<a name="126846779"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126846779" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126846779">Mario Carneiro (May 20 2018 at 22:37)</a>:</h4>
<p>oh, there's a bug in <code>congr</code></p>

<a name="126846874"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126846874" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126846874">Mario Carneiro (May 20 2018 at 22:40)</a>:</h4>
<div class="codehilite"><pre><span></span>meta def congr&#39; : parse small_nat? → tactic unit
| none         := focus1 (assumption &lt;|&gt; (congr_core &gt;&gt;
  all_goals (reflexivity &lt;|&gt; try (congr&#39; none))))
| (some 0)     := failed
| (some (n+1)) := focus1 (assumption &lt;|&gt; (congr_core &gt;&gt;
  all_goals (reflexivity &lt;|&gt; try (congr&#39; (some n)))))
</pre></div>


<p>now the following proof works:</p>
<div class="codehilite"><pre><span></span>by have := set.inter_assoc U V W;
   congr&#39;; apply proof_irrel_heq; congr&#39;
</pre></div>

<a name="126846883"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126846883" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126846883">Kenny Lau (May 20 2018 at 22:41)</a>:</h4>
<p>say what</p>

<a name="126846933"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126846933" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126846933">Mario Carneiro (May 20 2018 at 22:43)</a>:</h4>
<p>The congr tactic itself should read:</p>
<div class="codehilite"><pre><span></span>meta def congr : tactic unit :=
do focus1 (assumption &lt;|&gt; (congr_core &gt;&gt; all_goals (reflexivity &lt;|&gt; try congr)))
</pre></div>


<p>instead of </p>
<div class="codehilite"><pre><span></span>meta def congr : tactic unit :=
do focus1 (try assumption &gt;&gt; congr_core &gt;&gt; all_goals (try reflexivity &gt;&gt; try congr))
</pre></div>

<a name="126846934"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126846934" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126846934">Mario Carneiro (May 20 2018 at 22:43)</a>:</h4>
<p>but I don't know if we are still doing bugfixes in 3.4.1</p>

<a name="126846936"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126846936" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126846936">Mario Carneiro (May 20 2018 at 22:43)</a>:</h4>
<p>so I made my own <code>congr</code> instead</p>

<a name="126846990"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126846990" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126846990">Mario Carneiro (May 20 2018 at 22:45)</a>:</h4>
<p>Not sure why those proof irrel goals appear though, they should also be taken care of by <code>congr</code></p>

<a name="126860293"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860293" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860293">Kevin Buzzard (May 21 2018 at 07:08)</a>:</h4>
<blockquote>
<p>Why do you have a <code>heq</code> goal in the first place?</p>
</blockquote>
<p>I thought of a way around it, in this case.</p>

<a name="126860302"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860302" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860302">Kevin Buzzard (May 21 2018 at 07:09)</a>:</h4>
<p>The reason was that I wanted to prove two structures were equal, but one depended on (U cap V cap W) and one on (U cap (V cap W)), because of the way the structures were made (I was trying to prove addition on a quotient type was associative).</p>

<a name="126860350"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860350" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860350">Kevin Buzzard (May 21 2018 at 07:10)</a>:</h4>
<p><code>congr</code> would go insane when presented with the problem (the first time I tried it, it turned my goal into 176 goals, no typo)</p>

<a name="126860351"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860351" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860351">Kevin Buzzard (May 21 2018 at 07:10)</a>:</h4>
<p>Kenny suggested a mk_inj solution and that led to the heqs</p>

<a name="126860352"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860352" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860352">Kevin Buzzard (May 21 2018 at 07:10)</a>:</h4>
<p>I remember Chris moaning about heqs before</p>

<a name="126860358"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860358" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860358">Kevin Buzzard (May 21 2018 at 07:11)</a>:</h4>
<p>But last night, 10 minutes after I switched my laptop off and started doing the dishes</p>

<a name="126860360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860360" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860360">Kevin Buzzard (May 21 2018 at 07:11)</a>:</h4>
<p>I realised I could probably work around it on this occasion, by doing something a mathematican would never understand</p>

<a name="126860361"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860361" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860361">Kevin Buzzard (May 21 2018 at 07:11)</a>:</h4>
<p>I should restrict my section on U cap (V cap W) to a section on U cap V cap W :-)</p>

<a name="126860401"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860401" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860401">Kevin Buzzard (May 21 2018 at 07:12)</a>:</h4>
<p>This only changes it up to equivalence, which is OK for me</p>

<a name="126860409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860409" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860409">Kevin Buzzard (May 21 2018 at 07:13)</a>:</h4>
<p>[terminology: a sheaf is, amongst other things, a map F : (open sets in a top space) -&gt; (rings) together with restriction maps F(U) -&gt; F(V) whenever V is a subset of U]</p>

<a name="126860447"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860447" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860447">Kevin Buzzard (May 21 2018 at 07:14)</a>:</h4>
<p>The concept of restricting to a subset which is non-definitionally-equal to the set you started with is alien to mathematics but it's exactly the crazy idea which will get me out of this hell</p>

<a name="126860467"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860467" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860467">Kevin Buzzard (May 21 2018 at 07:14)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> Is Chris right when he suggests that subst could do with some work? His solution seemed to be "subst hst, where h : s = t, and then apply when s and t are more complicated"</p>

<a name="126860471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860471" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860471">Kevin Buzzard (May 21 2018 at 07:15)</a>:</h4>
<p>as opposed to "subst [the thing we actually want to subst]"</p>

<a name="126860477"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860477" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860477">Kevin Buzzard (May 21 2018 at 07:15)</a>:</h4>
<p>I could imagine that Chris might want to learn something about tactics over the summer. He has two months of being paid to work for me and can do anything</p>

<a name="126860478"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860478" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860478">Kevin Buzzard (May 21 2018 at 07:15)</a>:</h4>
<p>as long as his boss OK's it</p>

<a name="126860530"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860530" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860530">Mario Carneiro (May 21 2018 at 07:17)</a>:</h4>
<p>I was thinking of suggesting that myself. I assume you have some composition axioms, so it might be easiest to work with the restriction from (U/\V)/\W to U/\V/\W</p>

<a name="126860540"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860540" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860540">Mario Carneiro (May 21 2018 at 07:17)</a>:</h4>
<p>It's not as crazy as it sounds; it's basically using (part of) the fact that (U/\V)/\W and U/\V/\W are "isomorphic but not equal" in the DTT sense</p>

<a name="126860581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860581" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860581">Mario Carneiro (May 21 2018 at 07:18)</a>:</h4>
<p>it helps to think like in category theory here</p>

<a name="126860586"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860586" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860586">Mario Carneiro (May 21 2018 at 07:18)</a>:</h4>
<p><code>subst</code> is a very basic tactic. It does one thing, and does it well</p>

<a name="126860647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860647" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860647">Mario Carneiro (May 21 2018 at 07:21)</a>:</h4>
<p>you give it a hypothesis of the form <code>term = x</code> or <code>x = term</code>, and it will eliminate <code>x</code> in favor of <code>term</code> everywhere. This is rather restrictive, but the upside is that it <em>never</em> gets tripped up in dependencies like <code>rw</code> and <code>simp</code> can, because it is implemented purely using <code>eq.drec</code> and the variable restriction ensures that the motive is always type correct</p>

<a name="126860650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860650" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860650">Kevin Buzzard (May 21 2018 at 07:21)</a>:</h4>
<p>Oh -- <code>x = t</code> means <code>x = term</code>? ;-)</p>

<a name="126860680"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860680" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860680">Mario Carneiro (May 21 2018 at 07:22)</a>:</h4>
<p>(you can also say <code>subst x</code> instead of <code>subst h</code> when you have <code>h : x = term</code> in the context)</p>

<a name="126860694"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860694" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860694">Kevin Buzzard (May 21 2018 at 07:22)</a>:</h4>
<p>isomorphic but not equal is something I know well in the context where the underlying sets are different, but I am only just coming to terms with generalising the idea to situations where the DTTist thinks they're isomorphic and the ZFCist is blinded by this because they think they're equal :-)</p>

<a name="126860699"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860699" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860699">Kevin Buzzard (May 21 2018 at 07:23)</a>:</h4>
<p>Unrelated -- I see you wrote (U cap V) cap W v U cap V cap W</p>

<a name="126860701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860701" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860701">Kevin Buzzard (May 21 2018 at 07:23)</a>:</h4>
<p>I claim that you mean U cap (V cap W) vs U cap V cap W</p>

<a name="126860702"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860702" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860702">Kevin Buzzard (May 21 2018 at 07:23)</a>:</h4>
<p>and actually this is minorly annoying</p>

<a name="126860703"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860703" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860703">Kevin Buzzard (May 21 2018 at 07:23)</a>:</h4>
<p>because my proofs that x is in U cap V cap W</p>

<a name="126860705"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860705" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860705">Kevin Buzzard (May 21 2018 at 07:23)</a>:</h4>
<p>all look like &lt;&lt;HU,HV&gt;,HW&gt;</p>

<a name="126860744"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860744" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860744">Mario Carneiro (May 21 2018 at 07:24)</a>:</h4>
<p>ah, cap is left assoc?</p>

<a name="126860745"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860745" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860745">Kevin Buzzard (May 21 2018 at 07:24)</a>:</h4>
<p>Is this an oversight</p>

<a name="126860746"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860746" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860746">Kevin Buzzard (May 21 2018 at 07:24)</a>:</h4>
<p>I assume it is</p>

<a name="126860747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860747" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860747">Kevin Buzzard (May 21 2018 at 07:24)</a>:</h4>
<p>and I already noticed that this was annoying</p>

<a name="126860749"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860749" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860749">Kevin Buzzard (May 21 2018 at 07:24)</a>:</h4>
<p>but I wasn't confident enough to know whether there are other reasons for this</p>

<a name="126860750"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860750" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860750">Mario Carneiro (May 21 2018 at 07:24)</a>:</h4>
<p>I don't have any strong opinions on whether union and intersection are left or right assoc</p>

<a name="126860751"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860751" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860751">Kevin Buzzard (May 21 2018 at 07:24)</a>:</h4>
<p>all I knew is that my proofs were two characters longer than I wanted them to be</p>

<a name="126860758"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860758" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860758">Kevin Buzzard (May 21 2018 at 07:25)</a>:</h4>
<p>you would do if you had to keep writing &lt;&lt;HU,HV&gt;,HW&gt;</p>

<a name="126860763"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860763" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860763">Kevin Buzzard (May 21 2018 at 07:25)</a>:</h4>
<p>heh</p>

<a name="126860765"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860765" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860765">Kevin Buzzard (May 21 2018 at 07:25)</a>:</h4>
<p>maybe I should restrict to U cap (V cap W)</p>

<a name="126860766"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860766" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860766">Mario Carneiro (May 21 2018 at 07:25)</a>:</h4>
<p>also lost two chars there</p>

<a name="126860768"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860768" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860768">Kevin Buzzard (May 21 2018 at 07:25)</a>:</h4>
<p>yeah but I only have to do that once</p>

<a name="126860810"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860810" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860810">Kevin Buzzard (May 21 2018 at 07:26)</a>:</h4>
<p>Something else I noticed</p>

<a name="126860811"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860811" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860811">Kevin Buzzard (May 21 2018 at 07:26)</a>:</h4>
<p>was that existsi is kind of dumb</p>

<a name="126860812"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860812" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860812">Mario Carneiro (May 21 2018 at 07:26)</a>:</h4>
<p>I never use it tbh</p>

<a name="126860813"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860813" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860813">Kevin Buzzard (May 21 2018 at 07:26)</a>:</h4>
<p>existsi (&lt;&lt;HU,HV&gt;,HW&gt;)</p>

<a name="126860814"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860814" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860814">Mario Carneiro (May 21 2018 at 07:26)</a>:</h4>
<p>lol no</p>

<a name="126860816"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860816" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860816">Kevin Buzzard (May 21 2018 at 07:26)</a>:</h4>
<p>"That doesn't make sense"</p>

<a name="126860820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860820" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860820">Kevin Buzzard (May 21 2018 at 07:26)</a>:</h4>
<p>"You have to tell me the type"</p>

<a name="126860822"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860822" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860822">Kevin Buzzard (May 21 2018 at 07:26)</a>:</h4>
<p>"because I don't know the type"</p>

<a name="126860828"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860828" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860828">Kevin Buzzard (May 21 2018 at 07:27)</a>:</h4>
<p>"even though the goal is "there exists a proof that x is in U cap V cap W"</p>

<a name="126860829"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860829" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860829">Kevin Buzzard (May 21 2018 at 07:27)</a>:</h4>
<p>"</p>

<a name="126860830"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860830" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860830">Mario Carneiro (May 21 2018 at 07:27)</a>:</h4>
<p>just use refine instead</p>

<a name="126860833"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860833" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860833">Kevin Buzzard (May 21 2018 at 07:27)</a>:</h4>
<p>What are your views on "existsi _,tactic.swap"</p>

<a name="126860834"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860834" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860834">Kevin Buzzard (May 21 2018 at 07:27)</a>:</h4>
<p>I think you once told me to avoid it</p>

<a name="126860835"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860835" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860835">Kevin Buzzard (May 21 2018 at 07:27)</a>:</h4>
<p>but it does exactly what I want sometimes</p>

<a name="126860878"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860878" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860878">Kevin Buzzard (May 21 2018 at 07:28)</a>:</h4>
<p>"let's just remove the bloody exists symbol and make it a goal"</p>

<a name="126860880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860880" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860880">Mario Carneiro (May 21 2018 at 07:28)</a>:</h4>
<p>For exploratory tactic writing it's fine I guess</p>

<a name="126860881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860881" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860881">Kevin Buzzard (May 21 2018 at 07:28)</a>:</h4>
<p>what about definitive scheme writing?</p>

<a name="126860884"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860884" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860884">Kevin Buzzard (May 21 2018 at 07:29)</a>:</h4>
<p>:-)</p>

<a name="126860890"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860890" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860890">Kevin Buzzard (May 21 2018 at 07:29)</a>:</h4>
<p>I guess it's all exploratory as far as I am concerned</p>

<a name="126860892"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860892" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860892">Kevin Buzzard (May 21 2018 at 07:29)</a>:</h4>
<p>OK back to work</p>

<a name="126860893"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126860893" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126860893">Kevin Buzzard (May 21 2018 at 07:29)</a>:</h4>
<p>Thanks for the comments as ever</p>

<a name="126861159"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126861159" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126861159">Kevin Buzzard (May 21 2018 at 07:38)</a>:</h4>
<p>rofl</p>

<a name="126861161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126861161" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126861161">Kevin Buzzard (May 21 2018 at 07:38)</a>:</h4>
<p>I proved associativity</p>

<a name="126861163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126861163" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126861163">Kevin Buzzard (May 21 2018 at 07:38)</a>:</h4>
<p>end of proof looks like this</p>

<a name="126861164"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126861164" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126861164">Kevin Buzzard (May 21 2018 at 07:38)</a>:</h4>
<div class="codehilite"><pre><span></span>  <span class="n">existsi</span> <span class="o">(</span><span class="n">Ua</span> <span class="err">∩</span> <span class="n">Ub</span> <span class="err">∩</span> <span class="n">Uc</span><span class="o">),</span> <span class="c1">-- brainwave</span>
  <span class="n">existsi</span> <span class="o">(</span><span class="bp">⟨⟨</span><span class="n">Hxa</span><span class="o">,</span><span class="n">Hxb</span><span class="bp">⟩</span><span class="o">,</span><span class="n">Hxc</span><span class="bp">⟩</span> <span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">Ua</span> <span class="err">∩</span> <span class="n">Ub</span> <span class="err">∩</span> <span class="n">Uc</span><span class="o">),</span>
  <span class="n">existsi</span> <span class="o">(</span><span class="n">Hstandard</span> <span class="bp">_</span> <span class="bp">_</span> <span class="o">(</span><span class="n">Hstandard</span> <span class="bp">_</span> <span class="bp">_</span> <span class="n">BUa</span> <span class="n">BUb</span><span class="o">)</span> <span class="n">BUc</span><span class="o">),</span>
  <span class="n">existsi</span> <span class="o">(</span><span class="n">set</span><span class="bp">.</span><span class="n">subset</span><span class="bp">.</span><span class="n">refl</span> <span class="o">(</span><span class="n">Ua</span> <span class="err">∩</span> <span class="n">Ub</span> <span class="err">∩</span> <span class="n">Uc</span><span class="o">)),</span>
  <span class="n">existsi</span> <span class="o">((</span><span class="n">set</span><span class="bp">.</span><span class="n">inter_assoc</span> <span class="n">Ua</span> <span class="n">Ub</span> <span class="n">Uc</span> <span class="bp">▸</span> <span class="n">set</span><span class="bp">.</span><span class="n">subset</span><span class="bp">.</span><span class="n">refl</span> <span class="bp">_</span><span class="o">)</span> <span class="o">:</span> <span class="n">Ua</span> <span class="err">∩</span> <span class="n">Ub</span> <span class="err">∩</span> <span class="n">Uc</span> <span class="err">⊆</span> <span class="n">Ua</span> <span class="err">∩</span> <span class="o">(</span><span class="n">Ub</span> <span class="err">∩</span> <span class="n">Uc</span><span class="o">)),</span>
  <span class="n">rw</span> <span class="o">(</span><span class="n">presheaf_of_rings_on_basis</span><span class="bp">.</span><span class="n">res_is_ring_morphism</span> <span class="n">FPRB</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)</span><span class="bp">.</span><span class="n">map_add</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">(</span><span class="n">presheaf_of_rings_on_basis</span><span class="bp">.</span><span class="n">res_is_ring_morphism</span> <span class="n">FPRB</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)</span><span class="bp">.</span><span class="n">map_add</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">(</span><span class="n">presheaf_of_rings_on_basis</span><span class="bp">.</span><span class="n">res_is_ring_morphism</span> <span class="n">FPRB</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)</span><span class="bp">.</span><span class="n">map_add</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">(</span><span class="n">presheaf_of_rings_on_basis</span><span class="bp">.</span><span class="n">res_is_ring_morphism</span> <span class="n">FPRB</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)</span><span class="bp">.</span><span class="n">map_add</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">(</span><span class="n">presheaf_of_rings_on_basis</span><span class="bp">.</span><span class="n">res_is_ring_morphism</span> <span class="n">FPRB</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)</span><span class="bp">.</span><span class="n">map_add</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">(</span><span class="n">presheaf_of_rings_on_basis</span><span class="bp">.</span><span class="n">res_is_ring_morphism</span> <span class="n">FPRB</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)</span><span class="bp">.</span><span class="n">map_add</span><span class="o">,</span>
  <span class="n">rw</span> <span class="err">←</span><span class="n">presheaf_of_types_on_basis</span><span class="bp">.</span><span class="n">Hcomp&#39;</span><span class="o">,</span>
  <span class="n">rw</span> <span class="err">←</span><span class="n">presheaf_of_types_on_basis</span><span class="bp">.</span><span class="n">Hcomp&#39;</span><span class="o">,</span>
  <span class="n">rw</span> <span class="err">←</span><span class="n">presheaf_of_types_on_basis</span><span class="bp">.</span><span class="n">Hcomp&#39;</span><span class="o">,</span>
  <span class="n">rw</span> <span class="err">←</span><span class="n">presheaf_of_types_on_basis</span><span class="bp">.</span><span class="n">Hcomp&#39;</span><span class="o">,</span>
  <span class="n">rw</span> <span class="err">←</span><span class="n">presheaf_of_types_on_basis</span><span class="bp">.</span><span class="n">Hcomp&#39;</span><span class="o">,</span>
  <span class="n">rw</span> <span class="err">←</span><span class="n">presheaf_of_types_on_basis</span><span class="bp">.</span><span class="n">Hcomp&#39;</span><span class="o">,</span>
  <span class="n">rw</span> <span class="err">←</span><span class="n">presheaf_of_types_on_basis</span><span class="bp">.</span><span class="n">Hcomp&#39;</span><span class="o">,</span>
  <span class="n">rw</span> <span class="err">←</span><span class="n">presheaf_of_types_on_basis</span><span class="bp">.</span><span class="n">Hcomp&#39;</span><span class="o">,</span>
  <span class="n">rw</span> <span class="err">←</span><span class="n">presheaf_of_types_on_basis</span><span class="bp">.</span><span class="n">Hcomp&#39;</span><span class="o">,</span>
  <span class="n">rw</span> <span class="err">←</span><span class="o">(</span><span class="n">presheaf_of_rings_on_basis</span><span class="bp">.</span><span class="n">res_is_ring_morphism</span> <span class="n">FPRB</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)</span><span class="bp">.</span><span class="n">map_add</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">(</span><span class="n">presheaf_of_rings_on_basis</span><span class="bp">.</span><span class="n">res_is_ring_morphism</span> <span class="n">FPRB</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">)</span><span class="bp">.</span><span class="n">map_add</span><span class="o">,</span>
  <span class="n">rw</span> <span class="err">←</span><span class="n">presheaf_of_types_on_basis</span><span class="bp">.</span><span class="n">Hcomp&#39;</span><span class="o">,</span>
  <span class="n">rw</span> <span class="err">←</span><span class="n">presheaf_of_types_on_basis</span><span class="bp">.</span><span class="n">Hcomp&#39;</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">add_assoc</span><span class="o">,</span>
</pre></div>

<a name="126861165"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126861165" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126861165">Kevin Buzzard (May 21 2018 at 07:38)</a>:</h4>
<p>restrict to isomorphic set</p>

<a name="126861171"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126861171" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126861171">Kevin Buzzard (May 21 2018 at 07:39)</a>:</h4>
<p>prove some trivialities</p>

<a name="126861173"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126861173" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126861173">Kevin Buzzard (May 21 2018 at 07:39)</a>:</h4>
<p>a bit of rewriting</p>

<a name="126861174"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126861174" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126861174">Kevin Buzzard (May 21 2018 at 07:39)</a>:</h4>
<p>and apply associativity</p>

<a name="126861177"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126861177" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126861177">Kevin Buzzard (May 21 2018 at 07:39)</a>:</h4>
<p>not sure that proof is mathlib-ready</p>

<a name="126861289"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126861289" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126861289">Mario Carneiro (May 21 2018 at 07:42)</a>:</h4>
<p>have you tried using <code>simp</code> instead of <code>rw</code>?</p>

<a name="126861295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126861295" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126861295">Kevin Buzzard (May 21 2018 at 07:43)</a>:</h4>
<p>simp insists on rewriting a+b+c as c+a+b</p>

<a name="126861296"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126861296" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126861296">Kevin Buzzard (May 21 2018 at 07:43)</a>:</h4>
<p>on exactly one side</p>

<a name="126861298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126861298" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126861298">Kevin Buzzard (May 21 2018 at 07:43)</a>:</h4>
<p>so I never got it to do anything useful</p>

<a name="126861347"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126861347" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126861347">Kevin Buzzard (May 21 2018 at 07:44)</a>:</h4>
<p>anyway, this is a breakthrough because if I can prove add_assoc I can prove all the ring axioms</p>

<a name="126861403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126861403" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126861403">Kevin Buzzard (May 21 2018 at 07:46)</a>:</h4>
<p>simp [add_assoc,more stuff] doesn't even do it when we're on the last line</p>

<a name="126861404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126861404" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126861404">Kevin Buzzard (May 21 2018 at 07:46)</a>:</h4>
<p>My goal is too messy for simp</p>

<a name="126861405"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126861405" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126861405">Kevin Buzzard (May 21 2018 at 07:46)</a>:</h4>
<p>I need comp</p>

<a name="126861413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126861413" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126861413">Kevin Buzzard (May 21 2018 at 07:47)</a>:</h4>
<p>lol</p>

<a name="126861419"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126861419" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126861419">Kevin Buzzard (May 21 2018 at 07:47)</a>:</h4>
<p><code>    simp [add_assoc,add_comm,(presheaf_of_rings_on_basis.res_is_ring_morphism FPRB _ _ _).map_add,presheaf_of_types_on_basis.Hcomp']</code> turns a goal which is closed by <code>rw add_assoc</code> to a goal which is closed by <code>rw add_comm</code></p>

<a name="126861421"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126861421" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126861421">Kevin Buzzard (May 21 2018 at 07:47)</a>:</h4>
<p>thanks simp</p>

<a name="126861481"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126861481" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126861481">Kevin Buzzard (May 21 2018 at 07:49)</a>:</h4>
<p>goal is <code>(FPRB.to_presheaf_of_types_on_basis).res _ _ _ sa + (FPRB.to_presheaf_of_types_on_basis).res _ _ _ sb +
      (FPRB.to_presheaf_of_types_on_basis).res _ _ _ sc =
    (FPRB.to_presheaf_of_types_on_basis).res _ _ _ sa +
      ((FPRB.to_presheaf_of_types_on_basis).res _ _ _ sb + (FPRB.to_presheaf_of_types_on_basis).res _ _ _ sc)</code></p>

<a name="126861483"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126861483" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126861483">Kevin Buzzard (May 21 2018 at 07:49)</a>:</h4>
<p><code>    simp [add_assoc,add_comm],</code></p>

<a name="126861525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126861525" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126861525">Kevin Buzzard (May 21 2018 at 07:50)</a>:</h4>
<p>goal becomes <code>(FPRB.to_presheaf_of_types_on_basis).res _ _ _ sc + (FPRB.to_presheaf_of_types_on_basis).res _ _ _ sb =
    (FPRB.to_presheaf_of_types_on_basis).res _ _ _ sb + (FPRB.to_presheaf_of_types_on_basis).res _ _ _ sc</code></p>

<a name="126861527"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126861527" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126861527">Kevin Buzzard (May 21 2018 at 07:50)</a>:</h4>
<p>Unless my eyes are deceiving me simp just turned add_assoc into add_comm</p>

<a name="126861532"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126861532" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126861532">Kevin Buzzard (May 21 2018 at 07:51)</a>:</h4>
<p>terms are in a comm_ring</p>

<a name="126861601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126861601" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126861601">Kevin Buzzard (May 21 2018 at 07:53)</a>:</h4>
<p>obviously-minimised version doesn't exhibit the problem</p>

<a name="126861645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126861645" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126861645">Kevin Buzzard (May 21 2018 at 07:54)</a>:</h4>
<p>sa,sb,sc all in different rings, the FPRB...res is mapping them down all into the same ring</p>

<a name="126861663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126861663" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126861663">Kevin Buzzard (May 21 2018 at 07:55)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">α</span> <span class="n">β</span> <span class="n">γ</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="n">β</span><span class="o">)</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">γ</span><span class="o">)</span>
<span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">R</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">β</span> <span class="bp">→</span> <span class="n">R</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">γ</span> <span class="bp">→</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="n">f</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">g</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">h</span> <span class="n">c</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">a</span> <span class="bp">+</span> <span class="o">(</span><span class="n">g</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">h</span> <span class="n">c</span><span class="o">)</span> <span class="o">:=</span> <span class="k">begin</span>
<span class="n">simp</span> <span class="o">[</span><span class="n">add_assoc</span><span class="o">,</span><span class="n">add_comm</span><span class="o">],</span>
<span class="kn">end</span>
</pre></div>

<a name="126861664"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126861664" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126861664">Kevin Buzzard (May 21 2018 at 07:55)</a>:</h4>
<p>works fine</p>

<a name="126861705"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126861705" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126861705">Kevin Buzzard (May 21 2018 at 07:56)</a>:</h4>
<p>so it's something in my <code>_</code>s</p>

<a name="126861768"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126861768" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126861768">Kevin Buzzard (May 21 2018 at 07:58)</a>:</h4>
<p>but at the end of the day I have a goal which can be cleared (without errors) either with <code>rw add_assoc</code> or <code>simp [add_assoc,add_comm],rw add_comm</code></p>

<a name="126861886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126861886" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126861886">Kevin Buzzard (May 21 2018 at 08:02)</a>:</h4>
<p>hey stupid comm_ring, why are you asking me to prove a+0=a and 0+a=a and a+b=b+a?</p>

<a name="126861889"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126861889" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126861889">Kevin Buzzard (May 21 2018 at 08:02)</a>:</h4>
<p>well, I know why</p>

<a name="126861891"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126861891" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126861891">Kevin Buzzard (May 21 2018 at 08:02)</a>:</h4>
<p>but wouldn't it be nice if you didn't</p>

<a name="126861896"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126861896" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126861896">Kevin Buzzard (May 21 2018 at 08:02)</a>:</h4>
<p>I need a better comm_ring constructor I guess</p>

<a name="126863336"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126863336" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126863336">Chris Hughes (May 21 2018 at 08:55)</a>:</h4>
<p><code>simp only</code> might help</p>

<a name="126863815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126863815" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126863815">Mario Carneiro (May 21 2018 at 09:10)</a>:</h4>
<p>you can always add <code>-add_comm</code> to your simp set to fix superfluous rewriting</p>

<a name="126863881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126863881" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126863881">Kevin Buzzard (May 21 2018 at 09:13)</a>:</h4>
<p><code>existsi (Ua ∩ Ua)</code></p>

<a name="126863882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126863882" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126863882">Kevin Buzzard (May 21 2018 at 09:13)</a>:</h4>
<p>I can't believe I just wrote that</p>

<a name="126863883"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126863883" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126863883">Kevin Buzzard (May 21 2018 at 09:13)</a>:</h4>
<p>proving add_neg</p>

<a name="126863923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126863923" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126863923">Kevin Buzzard (May 21 2018 at 09:14)</a>:</h4>
<p>just restrict everything down to there and it will be fine</p>

<a name="126864002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864002" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864002">Patrick Massot (May 21 2018 at 09:17)</a>:</h4>
<p>Just to be sure: Kevin, do you know you can write <code>repeat { rw (presheaf_of_rings_on_basis.res_is_ring_morphism FPRB _ _ _).map_add, },</code>?</p>

<a name="126864156"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864156" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864156">Kevin Buzzard (May 21 2018 at 09:22)</a>:</h4>
<p>yeah, but I like watching the goal slowly decay</p>

<a name="126864162"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864162" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864162">Kevin Buzzard (May 21 2018 at 09:22)</a>:</h4>
<p>I just had to write <code> rw is_ring_hom.map_neg (FPRB.res _ _ _);try {apply_instance},</code></p>

<a name="126864164"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864164" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864164">Kevin Buzzard (May 21 2018 at 09:22)</a>:</h4>
<p>that surprised me.</p>

<a name="126864168"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864168" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864168">Patrick Massot (May 21 2018 at 09:22)</a>:</h4>
<p>I'm still puzzled each time I need to write <code>apply_instance</code>.</p>

<a name="126864171"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864171" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864171">Patrick Massot (May 21 2018 at 09:23)</a>:</h4>
<p>I don't understand why Lean doesn't do that for me</p>

<a name="126864177"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864177" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864177">Patrick Massot (May 21 2018 at 09:23)</a>:</h4>
<p>sometimes</p>

<a name="126864179"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864179" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864179">Kevin Buzzard (May 21 2018 at 09:23)</a>:</h4>
<p>I applied map_neg (the statement that a morphism of rings satisfies f(-x)=-f(x))</p>

<a name="126864185"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864185" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864185">Kevin Buzzard (May 21 2018 at 09:23)</a>:</h4>
<p>and all of a sudden it asked me if f was a ring hom and was the source a ring?</p>

<a name="126864191"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864191" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864191">Kevin Buzzard (May 21 2018 at 09:23)</a>:</h4>
<p>and apply_instance said yes</p>

<a name="126864254"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864254" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864254">Patrick Massot (May 21 2018 at 09:25)</a>:</h4>
<p>Exactly the kind of situation where I'm puzzled</p>

<a name="126864257"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864257" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864257">Patrick Massot (May 21 2018 at 09:25)</a>:</h4>
<p>Why isn't this automatic?</p>

<a name="126864259"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864259" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864259">Kevin Buzzard (May 21 2018 at 09:26)</a>:</h4>
<p>I dunno</p>

<a name="126864298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864298" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864298">Kevin Buzzard (May 21 2018 at 09:26)</a>:</h4>
<p>I have two choices today</p>

<a name="126864301"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864301" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864301">Patrick Massot (May 21 2018 at 09:26)</a>:</h4>
<p>Is it a bug in the <code>apply</code> tactic?</p>

<a name="126864305"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864305" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864305">Kevin Buzzard (May 21 2018 at 09:26)</a>:</h4>
<p>I could spend a pleasant day verifying the axioms of a ring</p>

<a name="126864306"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864306" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864306">Patrick Massot (May 21 2018 at 09:26)</a>:</h4>
<p>(Or simp, refine,...)</p>

<a name="126864307"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864307" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864307">Kevin Buzzard (May 21 2018 at 09:26)</a>:</h4>
<p>or I could mark 100 proofs of various trivial lemmas about sup of a set of reals</p>

<a name="126864309"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864309" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864309">Kevin Buzzard (May 21 2018 at 09:26)</a>:</h4>
<p>and I am currently at home doing the former</p>

<a name="126864312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864312" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864312">Kevin Buzzard (May 21 2018 at 09:27)</a>:</h4>
<p>and I'm already on add_comm</p>

<a name="126864318"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864318" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864318">Kevin Buzzard (May 21 2018 at 09:27)</a>:</h4>
<p>but I really should be doing the latter...</p>

<a name="126864323"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864323" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864323">Patrick Massot (May 21 2018 at 09:27)</a>:</h4>
<p>Too bad you can't quite hire Kenny or Chris to mark these exams for you...</p>

<a name="126864324"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864324" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864324">Kevin Buzzard (May 21 2018 at 09:27)</a>:</h4>
<p>I knew that once I managed add_assoc the rest would be trivial</p>

<a name="126864326"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864326" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864326">Kevin Buzzard (May 21 2018 at 09:27)</a>:</h4>
<p>but it takes time</p>

<a name="126864327"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864327" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864327">Kevin Buzzard (May 21 2018 at 09:27)</a>:</h4>
<p>rofl</p>

<a name="126864330"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864330" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864330">Kevin Buzzard (May 21 2018 at 09:27)</a>:</h4>
<p>I'm not sure if the university would be keen on students marking their own scripts</p>

<a name="126864384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864384" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864384">Patrick Massot (May 21 2018 at 09:28)</a>:</h4>
<p>yep, universities tend to have all kind of stupid administrative rules like that</p>

<a name="126864386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864386" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864386">Kevin Buzzard (May 21 2018 at 09:28)</a>:</h4>
<p>I am much keener on Lean marking their scripts</p>

<a name="126864391"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864391" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864391">Kevin Buzzard (May 21 2018 at 09:28)</a>:</h4>
<p>When they're done I might well write a blog post about how Lean does the question</p>

<a name="126864393"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864393" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864393">Patrick Massot (May 21 2018 at 09:28)</a>:</h4>
<p>Do you know which ones are from Kenny and Chris or are there anonymous?</p>

<a name="126864395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864395" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864395">Kevin Buzzard (May 21 2018 at 09:28)</a>:</h4>
<p>yes and yes</p>

<a name="126864410"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864410" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864410">Patrick Massot (May 21 2018 at 09:29)</a>:</h4>
<p>Do you mean two out of 100 gave answer in Lean written on paper, and you guessed?</p>

<a name="126864414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864414" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864414">Kevin Buzzard (May 21 2018 at 09:29)</a>:</h4>
<p>I recognise their handwriting and I know enough about where they were sitting in the room to be able to work it out</p>

<a name="126864474"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864474" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864474">Kevin Buzzard (May 21 2018 at 09:30)</a>:</h4>
<p>In fact I missed Chris' script for Q1</p>

<a name="126864480"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864480" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864480">Kevin Buzzard (May 21 2018 at 09:30)</a>:</h4>
<p>so I don't really know</p>

<a name="126864487"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864487" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864487">Kevin Buzzard (May 21 2018 at 09:30)</a>:</h4>
<p>but I did notice Kenny's, a combination of the handwriting, the way he presented the arguments, and the fact that I did unfortunately know that his script would be "around this point in the pile"</p>

<a name="126864489"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864489" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864489">Kevin Buzzard (May 21 2018 at 09:31)</a>:</h4>
<p>I could be wrong though</p>

<a name="126864497"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864497" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864497">Kevin Buzzard (May 21 2018 at 09:31)</a>:</h4>
<p>I have no formal proof that it was Kenny's</p>

<a name="126864505"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864505" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864505">Kevin Buzzard (May 21 2018 at 09:31)</a>:</h4>
<p>In fact it was the fact that I recognised Kenny's handwriting that I realised I must have missed Chris' script</p>

<a name="126864552"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864552" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864552">Kenny Lau (May 21 2018 at 09:32)</a>:</h4>
<p>where did you get my handwriting sample from?</p>

<a name="126864557"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864557" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864557">Kevin Buzzard (May 21 2018 at 09:32)</a>:</h4>
<p>You have sent me lots of handwriting in private zulip chats</p>

<a name="126864558"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864558" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864558">Kevin Buzzard (May 21 2018 at 09:32)</a>:</h4>
<p>and I am sort of a bit weird about handwriting for some reason</p>

<a name="126864561"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864561" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864561">Kevin Buzzard (May 21 2018 at 09:32)</a>:</h4>
<p>I am quite good at recognising it</p>

<a name="126864564"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864564" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864564">Kenny Lau (May 21 2018 at 09:33)</a>:</h4>
<p>very interesting</p>

<a name="126864580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864580" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864580">Kevin Buzzard (May 21 2018 at 09:33)</a>:</h4>
<p>I guess I should be clear: I have no way of verifying that the script I strongly suspected was Kenny's, was Kenny's</p>

<a name="126864629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864629" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864629">Kevin Buzzard (May 21 2018 at 09:34)</a>:</h4>
<p>which of course is a good thing</p>

<a name="126864633"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864633" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864633">Kenny Lau (May 21 2018 at 09:34)</a>:</h4>
<p>how many questions have you marked?</p>

<a name="126864634"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864634" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864634">Kevin Buzzard (May 21 2018 at 09:34)</a>:</h4>
<p>1.3</p>

<a name="126864638"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864638" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864638">Kenny Lau (May 21 2018 at 09:34)</a>:</h4>
<p>did you mark the sup(A+B)=sup(A)+sup(B)?</p>

<a name="126864644"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864644" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864644">Kevin Buzzard (May 21 2018 at 09:35)</a>:</h4>
<p>doing that one today</p>

<a name="126864647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864647" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864647">Kevin Buzzard (May 21 2018 at 09:35)</a>:</h4>
<p>or more of it</p>

<a name="126864648"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864648" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864648">Kenny Lau (May 21 2018 at 09:35)</a>:</h4>
<p>I see</p>

<a name="126864650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864650" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864650">Kevin Buzzard (May 21 2018 at 09:35)</a>:</h4>
<p>Hope to get another 0.3 of it done</p>

<a name="126864661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864661" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864661">Kevin Buzzard (May 21 2018 at 09:35)</a>:</h4>
<p>indeed I am just off now</p>

<a name="126864704"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864704" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864704">Mario Carneiro (May 21 2018 at 09:36)</a>:</h4>
<p>Sometimes you get those <code>apply_instance</code> goals when you use <code>apply</code> with underscores, due to some strange elaboration order stuff. Essentially those goals are unknown at the time when instance resolution normally happens</p>

<a name="126864707"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126864707" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126864707">Mario Carneiro (May 21 2018 at 09:36)</a>:</h4>
<p>using <code>refine</code> instead may help</p>

<a name="126865634"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126865634" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126865634">Patrick Massot (May 21 2018 at 10:09)</a>:</h4>
<p>Do you get a student teacher collusion law suit if some other student realize Kenny answered "This function is continuous because it goes from R to R" as a signal to trigger special marking?</p>

<a name="126865906"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126865906" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126865906">Andrew Ashworth (May 21 2018 at 10:19)</a>:</h4>
<p>I always appreciated automated marking, which you can do for programming assignments (and Lean, too!). Instant feedback if the grader is set up correctly, less need to attend office hours in order to discover that "one special trick professors want you to know about"</p>

<a name="126865914"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126865914" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126865914">Patrick Massot (May 21 2018 at 10:19)</a>:</h4>
<p>What do you use for automated marking?</p>

<a name="126865978"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126865978" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126865978">Andrew Ashworth (May 21 2018 at 10:21)</a>:</h4>
<p>Our CS department cobbled together a web server and a bunch of Python scripts</p>

<a name="126865979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126865979" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126865979">Patrick Massot (May 21 2018 at 10:21)</a>:</h4>
<p>Is there anything public?</p>

<a name="126866043"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126866043" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126866043">Andrew Ashworth (May 21 2018 at 10:23)</a>:</h4>
<p>hmm, doubt it. shell scripts aren't the sort of thing that people would even think to release</p>

<a name="126866277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/126866277" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#126866277">Andrew Ashworth (May 21 2018 at 10:30)</a>:</h4>
<p>they all tend to be custom solutions based on whatever your institution's favorite content management system is... for example, this one links with Canvas: <a href="https://github.com/arthuraa/sf-grader" target="_blank" title="https://github.com/arthuraa/sf-grader">https://github.com/arthuraa/sf-grader</a></p>

<a name="127092646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/127092646" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#127092646">Kevin Buzzard (May 25 2018 at 17:40)</a>:</h4>
<blockquote>
<p>Do you know which ones are from Kenny and Chris or are there anonymous?</p>
</blockquote>
<p>OK so I asked some question about sups. I got about 80 correct solutions, of which 79 were a proof by contradiction, and one was constructive. And in Kenny's handwriting. And using the kind of pen he uses. But really -- it is anonymous!</p>

<a name="127092713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/127092713" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#127092713">Andrew Ashworth (May 25 2018 at 17:42)</a>:</h4>
<p>You can tell the difference between pens? Does he have a fountain pen?</p>

<a name="127092857"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/heq%20question/near/127092857" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44183heqquestion.html#127092857">Moses Schönfinkel (May 25 2018 at 17:46)</a>:</h4>
<p>Perhaps Kenny uses one of those rainbow pencils.</p>


{% endraw %}

{% include archive_update.html %}