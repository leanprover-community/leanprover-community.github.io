---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/59403printlistname.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/59403printlistname.html">print list name</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="131155695"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/print%20list%20name/near/131155695" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59403printlistname.html#131155695">Johan Commelin (Aug 09 2018 at 17:23)</a>:</h4>
<p>My first attempt at writing a tactic. I want a tactic that will <code>fail</code> by printing a list of tactics. I've copy-pasted code by Scott:</p>
<div class="codehilite"><pre><span></span><span class="n">meta</span> <span class="n">def</span> <span class="n">get_applicable_lemmas</span> <span class="o">:</span> <span class="n">tactic</span> <span class="n">name</span> <span class="o">:=</span>
<span class="n">do</span> <span class="n">cs</span> <span class="err">←</span> <span class="n">attribute</span><span class="bp">.</span><span class="n">get_instances</span> <span class="bp">`</span><span class="n">applicable</span><span class="o">,</span>
   <span class="n">fail</span> <span class="c1">-- &lt;what do I put here?&gt;</span>
</pre></div>


<p>(Whoops, there was still code that tried to apply the tactics, only failing if none applied. That's now gone.)</p>

<a name="131155709"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/print%20list%20name/near/131155709" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59403printlistname.html#131155709">Johan Commelin (Aug 09 2018 at 17:23)</a>:</h4>
<p>Oh, and maybe there is a far easier way to look up all the current applicable lemmas then by writing a failing tactic. If so, I'dd also like to learn that method (-;</p>

<a name="131155768"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/print%20list%20name/near/131155768" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59403printlistname.html#131155768">Mario Carneiro (Aug 09 2018 at 17:25)</a>:</h4>
<p>I don't quite get what you are tying to do</p>

<a name="131155771"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/print%20list%20name/near/131155771" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59403printlistname.html#131155771">Johan Commelin (Aug 09 2018 at 17:25)</a>:</h4>
<p>I want Lean to print me a list of all lemmas that are tagged with <code>applicable</code>.</p>

<a name="131155775"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/print%20list%20name/near/131155775" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59403printlistname.html#131155775">Johan Commelin (Aug 09 2018 at 17:25)</a>:</h4>
<p>Hmmm, can I do this with <code>#print attribute applicable</code> or something similar?</p>

<a name="131155837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/print%20list%20name/near/131155837" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59403printlistname.html#131155837">Johan Commelin (Aug 09 2018 at 17:27)</a>:</h4>
<p>Where do I what sorts of things I can <code>#print</code> anyways? So far I've learned two or three incantations by osmosis in this chat. Is this documented anywhere?</p>

<a name="131155843"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/print%20list%20name/near/131155843" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59403printlistname.html#131155843">Johan Commelin (Aug 09 2018 at 17:27)</a>:</h4>
<p><code>#print attribute</code> is not a valid print command )-;</p>

<a name="131156105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/print%20list%20name/near/131156105" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59403printlistname.html#131156105">Johan Commelin (Aug 09 2018 at 17:35)</a>:</h4>
<p>So, I need to fold <code>\lam n, n.to_string</code> over this list, right? And I can just use the regular fold. I don't need some <code>meta</code>-fold.</p>

<a name="131156112"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/print%20list%20name/near/131156112" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59403printlistname.html#131156112">Johan Commelin (Aug 09 2018 at 17:35)</a>:</h4>
<p>Because monads are just cool mathematical goodies.</p>

<a name="131156361"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/print%20list%20name/near/131156361" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59403printlistname.html#131156361">Johan Commelin (Aug 09 2018 at 17:42)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">meta</span> <span class="n">def</span> <span class="n">get_applicable_lemmas</span> <span class="o">:</span> <span class="n">tactic</span> <span class="n">unit</span> <span class="o">:=</span>
<span class="n">do</span> <span class="n">cs</span> <span class="err">←</span> <span class="n">attribute</span><span class="bp">.</span><span class="n">get_instances</span> <span class="bp">`</span><span class="n">applicable</span><span class="o">,</span>
   <span class="n">tactic</span><span class="bp">.</span><span class="n">trace</span> <span class="o">(</span><span class="n">list</span><span class="bp">.</span><span class="n">foldl</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">s</span> <span class="n">n</span><span class="o">,</span> <span class="n">name</span><span class="bp">.</span><span class="n">to_string</span> <span class="n">n</span> <span class="bp">++</span> <span class="s2">&quot;, &quot;</span> <span class="bp">++</span> <span class="n">s</span><span class="o">)</span> <span class="s2">&quot;&quot;</span> <span class="n">cs</span><span class="o">)</span>
</pre></div>

<a name="131156365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/print%20list%20name/near/131156365" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59403printlistname.html#131156365">Johan Commelin (Aug 09 2018 at 17:42)</a>:</h4>
<p>That seems to do what I want (-;</p>

<a name="131157813"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/print%20list%20name/near/131157813" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59403printlistname.html#131157813">Kevin Buzzard (Aug 09 2018 at 18:20)</a>:</h4>
<blockquote>
<p>So, I need to fold <code>\lam n, n.to_string</code> over this list, right? And I can just use the regular fold. I don't need some <code>meta</code>-fold.</p>
</blockquote>
<p>Whilst I'm kind-of out of my depth, I think that the fact that you can use regular fold is one thing that Lean has over Coq. I <em>think</em> that in Coq you have to learn one language to write proofs and then another language to write tactics.</p>

<a name="131158150"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/print%20list%20name/near/131158150" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59403printlistname.html#131158150">Mario Carneiro (Aug 09 2018 at 18:29)</a>:</h4>
<p>here's another way:</p>
<div class="codehilite"><pre><span></span>meta def get_applicable_lemmas : tactic unit :=
do cs ← attribute.get_instances `applicable,
   cs.mmap&#39; tactic.trace
</pre></div>

<a name="131158225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/print%20list%20name/near/131158225" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59403printlistname.html#131158225">Mario Carneiro (Aug 09 2018 at 18:30)</a>:</h4>
<p>or <code>attribute.get_instances `applicable &gt;&gt;= list.mmap' tactic.trace</code> if you want to be clever</p>

<a name="131158259"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/print%20list%20name/near/131158259" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59403printlistname.html#131158259">Johan Commelin (Aug 09 2018 at 18:31)</a>:</h4>
<p>Right! That's nice (-;</p>

<a name="131158315"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/print%20list%20name/near/131158315" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59403printlistname.html#131158315">Johan Commelin (Aug 09 2018 at 18:32)</a>:</h4>
<p>Of course I should have thought of looking for some <code>map</code>-like.</p>

<a name="131158319"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/print%20list%20name/near/131158319" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59403printlistname.html#131158319">Mario Carneiro (Aug 09 2018 at 18:32)</a>:</h4>
<p>here I am using a kind of "meta map" <code>mmap</code></p>

<a name="131158331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/print%20list%20name/near/131158331" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59403printlistname.html#131158331">Mario Carneiro (Aug 09 2018 at 18:32)</a>:</h4>
<p>although this is because I want to map from inside a monad</p>

<a name="131158372"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/print%20list%20name/near/131158372" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59403printlistname.html#131158372">Mario Carneiro (Aug 09 2018 at 18:33)</a>:</h4>
<p><code>mmap'</code> is more of a "for each" or "scan" type function than a map - it doesn't return any output</p>

<a name="131158948"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/print%20list%20name/near/131158948" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59403printlistname.html#131158948">Johan Commelin (Aug 09 2018 at 18:47)</a>:</h4>
<p>What is the difference between <code>tactic unit</code> vs <code>tactic name</code> vs <code>tactic string</code>?</p>

<a name="131159099"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/print%20list%20name/near/131159099" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59403printlistname.html#131159099">Kevin Buzzard (Aug 09 2018 at 18:51)</a>:</h4>
<p>that's like asking what the difference is between <code>option unit</code> and <code>option nat</code> and <code>option real</code></p>

<a name="131159156"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/print%20list%20name/near/131159156" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59403printlistname.html#131159156">Kevin Buzzard (Aug 09 2018 at 18:52)</a>:</h4>
<p>If you're passing information around between tactics then you might want to use <code>tactic blah</code> (which means "blah plus the extra option of failure"), but at the end of it all when you want to run the tactic you may as well return something of type "tactic unit" because no other tactic wants the output.</p>

<a name="131159165"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/print%20list%20name/near/131159165" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59403printlistname.html#131159165">Kevin Buzzard (Aug 09 2018 at 18:53)</a>:</h4>
<p>The changing of the state is not an output of the tactic, that all goes on within the monad</p>

<a name="131159173"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/print%20list%20name/near/131159173" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59403printlistname.html#131159173">Johan Commelin (Aug 09 2018 at 18:53)</a>:</h4>
<p>Right. That makes sense.</p>


{% endraw %}
