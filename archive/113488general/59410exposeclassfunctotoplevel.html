---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/59410exposeclassfunctotoplevel.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/59410exposeclassfunctotoplevel.html">expose class func to top-level</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="127674397"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/expose%20class%20func%20to%20top-level/near/127674397" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59410exposeclassfunctotoplevel.html#127674397">Zesen Qian (Jun 06 2018 at 19:50)</a>:</h4>
<p>Hi, how can I expose a function defined in type class to the top-level? i.e., the way to_string is exposed.</p>

<a name="127674462"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/expose%20class%20func%20to%20top-level/near/127674462" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59410exposeclassfunctotoplevel.html#127674462">Simon Hudon (Jun 06 2018 at 19:52)</a>:</h4>
<p>You can do <code>export has_to_string (to_string)</code></p>

<a name="127674583"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/expose%20class%20func%20to%20top-level/near/127674583" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59410exposeclassfunctotoplevel.html#127674583">Zesen Qian (Jun 06 2018 at 19:55)</a>:</h4>
<p>the function it exposes doesn't seem to the one I want. I have to provide the type parameter.</p>

<a name="127674595"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/expose%20class%20func%20to%20top-level/near/127674595" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59410exposeclassfunctotoplevel.html#127674595">Zesen Qian (Jun 06 2018 at 19:55)</a>:</h4>
<p>I hope I can write <code>to_string 5</code> instead of <code>to_string nat 5</code></p>

<a name="127674650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/expose%20class%20func%20to%20top-level/near/127674650" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59410exposeclassfunctotoplevel.html#127674650">Zesen Qian (Jun 06 2018 at 19:56)</a>:</h4>
<p>ahh sorry, seem in my case, the type inference doesn't work; in other case it works well.</p>

<a name="127674679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/expose%20class%20func%20to%20top-level/near/127674679" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59410exposeclassfunctotoplevel.html#127674679">Simon Hudon (Jun 06 2018 at 19:58)</a>:</h4>
<p>I think there are two ways of doing that. Either you write a definition in the global namespace where you have fine control over implicit / explicit parameters or you use the following:</p>
<div class="codehilite"><pre><span></span>class my_algebra (a : Type) :=
  (zero {} : a)
</pre></div>


<p>I haven't used it myself but I think it should work.</p>

<a name="127674742"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/expose%20class%20func%20to%20top-level/near/127674742" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59410exposeclassfunctotoplevel.html#127674742">Simon Hudon (Jun 06 2018 at 19:59)</a>:</h4>
<p>(I just tried it. It works)</p>

<a name="127674747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/expose%20class%20func%20to%20top-level/near/127674747" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59410exposeclassfunctotoplevel.html#127674747">Zesen Qian (Jun 06 2018 at 19:59)</a>:</h4>
<p>thanks! now it works.</p>

<a name="127674821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/expose%20class%20func%20to%20top-level/near/127674821" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59410exposeclassfunctotoplevel.html#127674821">Zesen Qian (Jun 06 2018 at 20:00)</a>:</h4>
<p>question: how to give the checker a hint for synthesis?</p>

<a name="127674837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/expose%20class%20func%20to%20top-level/near/127674837" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59410exposeclassfunctotoplevel.html#127674837">Simon Hudon (Jun 06 2018 at 20:00)</a>:</h4>
<p>Do you mean elaboration, i.e. inferring the type that are not explicitly required?</p>

<a name="127674850"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/expose%20class%20func%20to%20top-level/near/127674850" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59410exposeclassfunctotoplevel.html#127674850">Zesen Qian (Jun 06 2018 at 20:01)</a>:</h4>
<p>yes. But in my case it can't be inferred, so I want to give it a hint of the type.</p>

<a name="127674922"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/expose%20class%20func%20to%20top-level/near/127674922" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59410exposeclassfunctotoplevel.html#127674922">Simon Hudon (Jun 06 2018 at 20:02)</a>:</h4>
<p>If your function is <code>foo</code>, <code>@foo</code> makes every implicit parameters (types, type class instances and others) explicit. It's a bit of all or nothing but there are ways to simplify if that comes up too often.</p>

<a name="127675004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/expose%20class%20func%20to%20top-level/near/127675004" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59410exposeclassfunctotoplevel.html#127675004">Simon Hudon (Jun 06 2018 at 20:04)</a>:</h4>
<p>Sorry, my brain is currently working in Haskell. In Lean, if that comes up too often, you may have to make the parameter explicit. Before you get there, can give some type annotations in the form of <code>(expr : type)</code></p>

<a name="127675084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/expose%20class%20func%20to%20top-level/near/127675084" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59410exposeclassfunctotoplevel.html#127675084">Simon Hudon (Jun 06 2018 at 20:06)</a>:</h4>
<p>For example if your function infers a type from its list argument but you provide an empty list, you can write <code>foo ([] : list a)</code> or <code>foo (@nil a)</code></p>

<a name="127675179"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/expose%20class%20func%20to%20top-level/near/127675179" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/59410exposeclassfunctotoplevel.html#127675179">Zesen Qian (Jun 06 2018 at 20:08)</a>:</h4>
<p>yep! I just used annotation and it works well.</p>


{% endraw %}

{% include archive_update.html %}