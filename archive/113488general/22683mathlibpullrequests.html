---
layout: archive
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/22683mathlibpullrequests.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/22683mathlibpullrequests.html">mathlib pull requests</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="128290679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20pull%20requests/near/128290679" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22683mathlibpullrequests.html#128290679">Sean Leather (Jun 19 2018 at 07:10)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> and <span class="user-mention" data-user-id="110294">@Johannes Hölzl</span>: There are a lot of pending <a href="https://github.com/leanprover/mathlib/pulls" target="_blank" title="https://github.com/leanprover/mathlib/pulls">PRs</a>. What would you like to do with them?</p>
<p>I understand you were busy in Hanoi for a while. And perhaps you're still busy with other things. This is just a friendly ping to see what your status is.</p>
<p>Every now and then, something comes up that I want to contribute to mathlib, but then I see the list of pending PRs, and I get a bit discouraged, thinking that it might not be worth it. Some pretty simple PRs have not seen any response to indicate what will happen to them.</p>
<p>That said, if you need help managing contributions, I can volunteer some time. I can do commenting, labeling, and merging of simple PRs, while leaving the more interesting ones to you. (Of course, it's <code>git</code>, so things can always be changed later.)</p>

<a name="128301673"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20pull%20requests/near/128301673" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22683mathlibpullrequests.html#128301673">Sean Leather (Jun 19 2018 at 12:21)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> Thanks for all your recent PR merges and comments. Just so you know, if you'd like more help with mathlib maintenance, my offer stands.</p>

<a name="128301799"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20pull%20requests/near/128301799" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22683mathlibpullrequests.html#128301799">Mario Carneiro (Jun 19 2018 at 12:24)</a>:</h4>
<p>I did all the easy stuff. I'm still a bit busy with Tom Hales' conference this week, but some organization or prioritization of existing PRs would be a thing third parties could do to make it easier. Unfortunately in many of the remaining PRs there is something I see a problem with but I haven't found the time to write about it, so for those you may have to just wait or guess (or ask).</p>

<a name="128301866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20pull%20requests/near/128301866" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22683mathlibpullrequests.html#128301866">Simon Hudon (Jun 19 2018 at 12:26)</a>:</h4>
<p>Anything I should be doing for <code>refine_struct</code>?</p>

<a name="128301943"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20pull%20requests/near/128301943" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22683mathlibpullrequests.html#128301943">Mario Carneiro (Jun 19 2018 at 12:29)</a>:</h4>
<p>I'd rather not merge conflicts from github, could you do that? Otherwise it's okay (the conversation and travis failure made it look more complicated than it is, but I see it's ready for merge now.)</p>

<a name="128301948"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20pull%20requests/near/128301948" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22683mathlibpullrequests.html#128301948">Simon Hudon (Jun 19 2018 at 12:29)</a>:</h4>
<p>Cool, sure thing</p>

<a name="128302469"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20pull%20requests/near/128302469" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22683mathlibpullrequests.html#128302469">Sean Leather (Jun 19 2018 at 12:42)</a>:</h4>
<blockquote>
<p>some organization or prioritization of existing PRs would be a thing third parties could do to make it easier.</p>
</blockquote>
<p>Yeah, that's basically what I was thinking: triage with labels, assign issues and reviewers, ping the various parties every now and then, and update statuses. If it's an easy/obvious PR, merge it.</p>
<blockquote>
<p>Unfortunately in many of the remaining PRs there is something I see a problem with but I haven't found the time to write about it, so for those you may have to just wait or guess (or ask).</p>
</blockquote>
<p>Yep.</p>

<a name="128307611"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20pull%20requests/near/128307611" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22683mathlibpullrequests.html#128307611">Simon Hudon (Jun 19 2018 at 14:31)</a>:</h4>
<p>The build time for mathlib is truly incredible. I wonder if we could minimize the rebuild size on every change</p>

<a name="128307764"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20pull%20requests/near/128307764" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22683mathlibpullrequests.html#128307764">Simon Hudon (Jun 19 2018 at 14:34)</a>:</h4>
<p>This is where a lint tool would be very useful: we could find dead code and spurious dependencies</p>

<a name="128347867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20pull%20requests/near/128347867" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22683mathlibpullrequests.html#128347867">Scott Morrison (Jun 20 2018 at 06:27)</a>:</h4>
<p>The <code>refine_struct</code> in mathlib seems to be misbehaving. Here's my MWE:</p>
<div class="codehilite"><pre><span></span>import tactic.interactive

variable (α : Type)
def foo : semigroup α :=
begin
  refine_struct ({ .. } : semigroup α),
end
</pre></div>

<a name="128347907"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20pull%20requests/near/128347907" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22683mathlibpullrequests.html#128347907">Scott Morrison (Jun 20 2018 at 06:28)</a>:</h4>
<p>Which just says <code>failed</code> on the <code>refine_struct</code>. It seems that it's failing at the very first line <code>str ← e.get_structure_instance_info,</code> of <code>refine_struct</code>.</p>

<a name="128347909"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20pull%20requests/near/128347909" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22683mathlibpullrequests.html#128347909">Scott Morrison (Jun 20 2018 at 06:28)</a>:</h4>
<p>(<span class="user-mention" data-user-id="110026">@Simon Hudon</span>)</p>

<a name="128347969"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20pull%20requests/near/128347969" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22683mathlibpullrequests.html#128347969">Sean Leather (Jun 20 2018 at 06:30)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> Would you mind creating a <a href="https://github.com/leanprover/mathlib/issues/new" target="_blank" title="https://github.com/leanprover/mathlib/issues/new">new GitHub issue</a> with this information? It will make tracking the problem and its solution easier.</p>

<a name="128347984"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20pull%20requests/near/128347984" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22683mathlibpullrequests.html#128347984">Scott Morrison (Jun 20 2018 at 06:31)</a>:</h4>
<p>Can do! I thought that since it was such a basic thing I might be doing something stupid, and should ask here first. :-)</p>

<a name="128348032"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20pull%20requests/near/128348032" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22683mathlibpullrequests.html#128348032">Sean Leather (Jun 20 2018 at 06:32)</a>:</h4>
<blockquote>
<p>Can do! I thought that since it was such a basic thing I might be doing something stupid, and should ask here first. :-)</p>
</blockquote>
<p>Even if it is something stupid, others might run into it, too. And it's still easier to search GitHub than Zulip. <span class="emoji emoji-1f609" title="wink">:wink:</span></p>

<a name="128348046"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20pull%20requests/near/128348046" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22683mathlibpullrequests.html#128348046">Sean Leather (Jun 20 2018 at 06:33)</a>:</h4>
<p>(That's my personal experience, anyway. Others may have different thoughts.)</p>

<a name="128348091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20pull%20requests/near/128348091" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22683mathlibpullrequests.html#128348091">Sean Leather (Jun 20 2018 at 06:34)</a>:</h4>
<p>Of course, you can always check here first and put it there later, I suppose. But I think that creates extra work for you.</p>

<a name="128348372"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20pull%20requests/near/128348372" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22683mathlibpullrequests.html#128348372">Scott Morrison (Jun 20 2018 at 06:44)</a>:</h4>
<p><a href="https://github.com/leanprover/mathlib/issues/160" target="_blank" title="https://github.com/leanprover/mathlib/issues/160">https://github.com/leanprover/mathlib/issues/160</a></p>

<a name="128358661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20pull%20requests/near/128358661" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/22683mathlibpullrequests.html#128358661">Simon Hudon (Jun 20 2018 at 11:48)</a>:</h4>
<p>(deleted)</p>


{% endraw %}
