<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="https://leanprover-community.github.io//css/lean.css" >
  <link rel="shortcut icon" href="https://leanprover-community.github.io//img/favicon.ico">
  <link rel="search" type="application/opensearchdescription+xml" title="mathlib docs" href="https://leanprover-community.github.io//opensearch.xml">
  <link href="https://fonts.googleapis.com/css2?family=Merriweather&family=Open+Sans&family=Source+Code+Pro:wght@400;600&display=swap" rel="stylesheet">
    

	<script>
                function buildShortcutsForStructures(names) {
                        const o = {}
                        names.forEach(name => o[name] = `\\mathbb\{${name}\}`)
                        return o
                }
		MathJax = {
			  tex: {
                                  macros: {
                                          ...buildShortcutsForStructures(["R", "Q", "Z", "N", "C"]),
                                  },
				      inlineMath: [['$', '$'], ['\\(', '\\)']]
				    },
		};
	</script>
	<script type="text/javascript" id="MathJax-script" async
		  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
	</script>

	<title>Minimal working examples</title>
  </head>
  <body>
  <nav class="navbar navbar-expand-lg navbar-light bg-gradient-light d-md-none">
    <div class="d-flex flex-grow-1">
		<a class="navbar-brand" href="https://leanprover-community.github.io/index.html">Lean Community
    </a>
    </div>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
  </nav>

<div id="mainbox">

  <main>
    
<h1 id="minimal-working-examples" class="markdown-heading">Minimal working examples <a class="hover-link" href="#minimal-working-examples">#</a></h1>
<h2 id="tldr" class="markdown-heading">tl;dr <a class="hover-link" href="#tldr">#</a></h2>
<p>When posting code on Zulip, please include all <code>import</code>s, <code>open</code>s, <code>universe</code>s, and <code>variable</code>s, so others can simply just copy-paste what you post, and see the same issue that you are seeing.</p>
<p>The best way to ensure you have done this is to copy-paste the code snipped you are proposing to post into an empty Lean file, or into the <a href="https://live.lean-lang.org/">lean web editor</a>, and check it compiles.</p>
<h2 id="examples" class="markdown-heading">Examples <a class="hover-link" href="#examples">#</a></h2>
<h3 id="bad-example" class="markdown-heading">Bad example: <a class="hover-link" href="#bad-example">#</a></h3>
<div class="codehilite"><div class="codehilite"><pre><span></span><code><span class="k">#check</span><span class="w"> </span><span class="o">(</span><span class="n">univ</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">X</span><span class="o">)</span>
</code></pre></div>
</div>

<h3 id="good-example" class="markdown-heading">Good example: <a class="hover-link" href="#good-example">#</a></h3>
<div class="codehilite"><div class="codehilite"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="n">Mathlib</span>

<span class="kd">universe</span><span class="w"> </span><span class="n">u</span>

<span class="kd">variable</span><span class="w"> </span><span class="o">(</span><span class="n">X</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">Type</span><span class="w"> </span><span class="n">u</span><span class="o">)</span>

<span class="kn">open</span><span class="w"> </span><span class="n">Set</span>

<span class="k">#check</span><span class="w"> </span><span class="o">(</span><span class="n">univ</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">X</span><span class="o">)</span>
</code></pre></div>
</div>

<h3 id="bad-example" class="markdown-heading">Bad example: <a class="hover-link" href="#bad-example">#</a></h3>
<div class="codehilite"><div class="codehilite"><pre><span></span><code>Goal state:
/-
a b : blah,
h : a.fst &lt; b.fst,
h2 : a.fst &lt; b.snd
⊢ false
-/
</code></pre></div>
</div>

<h3 id="good-example" class="markdown-heading">Good example: <a class="hover-link" href="#good-example">#</a></h3>
<div class="codehilite"><div class="codehilite"><pre><span></span><code><span class="kd">def</span><span class="w"> </span><span class="n">blah</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">Type</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">Nat</span><span class="w"> </span><span class="bp">×</span><span class="w"> </span><span class="n">Nat</span>

<span class="kd">example</span><span class="w"> </span><span class="o">(</span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">blah</span><span class="o">)</span><span class="w"> </span><span class="o">(</span><span class="n">h</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">a.fst</span><span class="w"> </span><span class="bp">&lt;</span><span class="w"> </span><span class="n">b.fst</span><span class="o">)</span><span class="w"> </span><span class="o">(</span><span class="n">h2</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">a.fst</span><span class="w"> </span><span class="bp">&lt;</span><span class="w"> </span><span class="n">b.snd</span><span class="o">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">False</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="kd">by</span>
<span class="w">  </span><span class="c">/-</span>
<span class="cm">  a b : blah,</span>
<span class="cm">  h : a.fst &lt; b.fst,</span>
<span class="cm">  h2 : a.fst &lt; b.snd</span>
<span class="cm">  ⊢ False</span>
<span class="cm">  -/</span>
<span class="w">  </span><span class="n">done</span>
</code></pre></div>
</div>

<p>Tip: If you are using <a href="https://github.com/leanprover-community/mathlib4">mathlib</a> (e.g. with <code>import Mathlib</code>), there's a tactic called <a href="https://leanprover-community.github.io/mathlib4_docs/Mathlib/Tactic/ExtractGoal.html"><code>extract_goal</code></a> that can help you format the current goal as a stand-alone example. You can remove extraneous variables and hypotheses from the output of <code>extract_goal</code> to further minimize your example.</p>
<p>Note you still need to include the corresponding <code>import</code>s and <code>open</code>s and <code>universe</code>s and <code>variable</code>s as mentioned above.</p>
<h2 id="formal-definition" class="markdown-heading">Formal Definition <a class="hover-link" href="#formal-definition">#</a></h2>
<p>A <strong>minimal working example</strong> is a code snippet that can be copied-and-pasted into an empty Lean file and still have the same features (working) and that does not include unnecessary details (minimal).</p>
<p><a href="https://stackoverflow.com/help/minimal-reproducible-example">Here</a> is the StackOverflow guide to making MWEs.</p>
<p>Please make sure that your code snippet has:</p>
<ul>
<li>correct imports; and</li>
<li>all the relevant definitions / theorems.</li>
</ul>
<p>It is fine for your example to throw compiler errors or warnings. In particular, it is fine for your code to contain the keyword <code>sorry</code> (and indeed, replacing irrelevant proofs with <code>sorry</code> is a good way of minimizing your example). The point of MWE is that your code should <em>throw the same errors in a blank file as it does for you</em>, that way people can help you with exactly the error you are confused about.</p>
<h2 id="how-do-i-know-if-my-code-is-a-mwe" class="markdown-heading">How do I know if my code is a MWE? <a class="hover-link" href="#how-do-i-know-if-my-code-is-a-mwe">#</a></h2>
<p>You should <em>test</em> this by copy-pasting your code snippet into a new Lean file, or the <a href="https://live.lean-lang.org/">lean web editor</a>, and seeing if you get the expected behavior. This is exactly what people who try to help you will do!</p>
<h2 id="what-if-im-asking-about-games-like-the-natural-number-game" class="markdown-heading">What if I'm asking about games like the <a href="https://adam.math.hhu.de/#/g/hhu-adam/NNG4">Natural Number Game</a>? <a class="hover-link" href="#what-if-im-asking-about-games-like-the-natural-number-game">#</a></h2>
<p>If your example comes from the Natural Number Game or any such browser-based Lean demo, then you can add a link to the webpage instead of finding the correct imports. So for example it would be much more useful to say &quot;I am on <a href="https://adam.math.hhu.de/#/g/hhu-adam/NNG4/world/Addition/level/2">this level</a> of the Natural Number Game and my proof script is <em>blah</em>&quot;, rather than &quot;I am on Addition World Level 2 of the Natural Number Game and my proof script is <em>blah</em>&quot;.</p>
<p>If you post a code snippet on Zulip, please make sure it is surrounded in triple backticks.</p>
<div class="codehilite"><div class="codehilite"><pre><span></span><code>```
def myNat : Nat := 5
```
</code></pre></div>
</div>

<h2 id="tips-for-minimizing-code" class="markdown-heading">Tips for minimizing code <a class="hover-link" href="#tips-for-minimizing-code">#</a></h2>
<ul>
<li>
<p>A simple <code>import Mathlib</code> is a perfectly fine import in a MWE.</p>
</li>
<li>
<p>For the purposes of making a MWE, you can replace all proofs of <code>theorem</code>s and <code>lemma</code>s (outside of the one you're working on) with <code>sorry</code>. Lean will give you extra warnings, but these are harmless.</p>
</li>
<li>
<p>Remove all declarations (<code>def</code>s, <code>theorem</code>s, <code>lemma</code>s, <code>example</code>s, etc.) that are irrelevant to the issue you're seeing. In general, if you can comment out some code without throwing errors, then it can be removed.</p>
</li>
<li>
<p>After deleting some code, you can then delete all the declarations that were only referenced there. By repeating this process a few times, you may be able to shorten a long file to just a few lines.</p>
</li>
<li>
<p>Finally, you can add a comment into the code like <code>-- HERE</code>, <code>-- TODO</code>, <code>-- ERROR: yada yada</code>, or similar to guide the attention to a certain part in your MWE.</p>
</li>
</ul>

  </main>

    <nav id="navbar" class="d-md-block bg-light sidebar collapse navbar-light pb-4">
      <div class="d-none d-md-block mt-4"><a class="navbar-brand" href="https://leanprover-community.github.io/index.html">Lean Community</a></div>
      
        <h6 class="sidebar-heading mt-4">Community</h6>
        <ul class="nav">
          <li class="nav-item col-12"><a href="https://leanprover.zulipchat.com/">Zulip chat</a></li>
        
          <li class="nav-item col-12"><a href="https://github.com/leanprover-community/mathlib4">GitHub</a></li>
        
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/blog">Blog</a></li>
        
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/meet.html">Community information</a></li>
        
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/meet.html#community-guidelines">Community guidelines</a></li>
        
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/teams.html">Teams</a></li>
        
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/papers.html">Papers about Lean</a></li>
        
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/lean_projects.html">Projects using Lean</a></li>
        
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/teaching/index.html">Teaching using Lean</a></li>
        
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/events.html">Events</a></li>
        </ul>
      
        <h6 class="sidebar-heading mt-4">Use Lean</h6>
        <ul class="nav">
          <li class="nav-item col-12"><a href="https://live.lean-lang.org/">Online version (no installation)</a></li>
        
          <li class="nav-item col-12"><a href="https://docs.lean-lang.org/lean4/doc/quickstart.html">Install Lean</a></li>
        
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/get_started.html">More options</a></li>
        </ul>
      
        <h6 class="sidebar-heading mt-4">Documentation</h6>
        <ul class="nav">
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/learn.html">Learning resources (start here)</a></li>
        
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/mathlib4_docs">API documentation</a></li>
        
          <li class="nav-item col-12"><a href="https://loogle.lean-lang.org/">Declaration search (Loogle)</a></li>
        
          <li class="nav-item col-12"><a href="https://lean-lang.org/doc/reference/latest/">Language reference</a></li>
        
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/mathlib-manual/html-multi/">Tactic list</a></li>
        
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/extras/calc.html">Calc mode</a></li>
        
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/extras/conv.html">Conv mode</a></li>
        
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/extras/simp.html">Simplifier</a></li>
        
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/extras/well_founded_recursion.html">Well-founded recursion</a></li>
        
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/extras/speedup.html">Speeding up Lean files</a></li>
        
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/extras/pitfalls.html">Pitfalls and common mistakes</a></li>
        
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/mwe.html">About MWEs</a></li>
        
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/glossary.html">Glossary</a></li>
        </ul>
      
        <h6 class="sidebar-heading mt-4">Library overviews</h6>
        <ul class="nav">
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/mathlib-overview.html">Library overview</a></li>
        
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/undergrad.html">Undergraduate maths</a></li>
        
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/100.html">Wiedijk's 100 theorems</a></li>
        
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/1000.html">1000+ theorems</a></li>
        </ul>
      
        <h6 class="sidebar-heading mt-4">Theories</h6>
        <ul class="nav">
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/theories/naturals.html">Natural Numbers</a></li>
        
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/theories/linear_algebra.html">Linear Algebra</a></li>
        
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/theories/sets.html">Sets and finite sets</a></li>
        
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/theories/topology.html">Topology</a></li>
        
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/theories/category_theory.html">Category Theory</a></li>
        </ul>
      
        <h6 class="sidebar-heading mt-4">Contributing</h6>
        <ul class="nav">
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/contribute/index.html">Pull request lifecycle</a></li>
        
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/contribute/git.html">Git Guide for Mathlib4 Contributors</a></li>
        
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/contribute/naming.html">Naming conventions</a></li>
        
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/contribute/style.html">Code style guideline</a></li>
        
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/contribute/doc.html">Documentation style</a></li>
        
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/contribute/commit.html">Commit conventions</a></li>
        
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/contribute/pr-review.html">Pull request review guide</a></li>
        
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/mathlib_stats.html">Contribution statistics</a></li>
        
          <li class="nav-item col-12"><a href="https://leanprover-community.github.io/contribute/tags_and_branches.html">Tags and branches</a></li>
        </ul>
      
    </nav>

</div>


  <nav class="footer navbar navbar-expand-lg navbar-light bg-light justify-content-end">
  <ul class="nav">
    <li class="nav-item">
      <a class="nav-link active" href="https://github.com/leanprover-community/leanprover-community.github.io/blob/lean4/templates/mwe.md">Suggest edits to this page on GitHub</a>
    </li>
  </ul>
  </nav>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"></script>
    <script src="https://leanprover-community.github.io//js/bootstrap.min.js"></script>
    <script type="module">
      import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
      mermaid.initialize({ startOnLoad: true });
    </script>
    
  </body>
</html>